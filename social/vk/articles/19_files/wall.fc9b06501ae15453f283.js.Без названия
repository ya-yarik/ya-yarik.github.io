!function(e){function o(o){for(var r,l,i=o[0],s=o[1],c=o[2],d=0,u=[];d<i.length;d++)l=i[d],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&u.push(a[l][0]),a[l]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(p&&p(o);u.length;)u.shift()();return n.push.apply(n,c||[]),t()}function t(){for(var e,o=0;o<n.length;o++){for(var t=n[o],r=!0,i=1;i<t.length;i++){var s=t[i];0!==a[s]&&(r=!1)}r&&(n.splice(o--,1),e=l(l.s=t[0]))}return e}var r={},a={"web/wall":0},n=[];function l(o){if(r[o])return r[o].exports;var t=r[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=r,l.d=function(e,o,t){l.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,o){if(1&o&&(e=l(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var r in e)l.d(t,r,function(o){return e[o]}.bind(null,r));return t},l.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(o,"a",o),o},l.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},l.p="/js/cmodules/";var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=o,i=i.slice();for(var c=0;c<i.length;c++)o(i[c]);var p=s;n.push([289,"bundles/common"]),t()}({289:function(e,o,t){e.exports=t("jBxb")},jBxb:function(e,o,t){"use strict";t.r(o);t("pIFo"),t("Oyvg"),t("SRfc"),t("KKXr");var r=t("EasH"),a=t("o7bv"),n=t("XzvV"),l={failed:function(e){if(e)return setTimeout(Object(r.showFastBox)(getLang("global_error"),e).hide,2e3),!0},go:function(e,o){return nav.go(e,o,{onFail:l.failed})},scrollCheck:function(e,o){var t,r,a,n,i=lastWindowHeight,s=0,c=[];if(domPN(cur.topRow)!=cur.pgCont&&(cur.topRow=domFC(cur.pgCont)),vk.id&&cur.topRow&&!((window.curNotifier||{}).idle_manager||{}).is_idle){var p=[];for(r=domPS(cur.topRow);r;r=domPS(r))cur.topRow.offsetTop>o&&(cur.topRow=r),r.unseen||(r.unseen=!0,p.push(l.postsGetRaws(r)));for(Page.postsUnseen(p),r=cur.topRow;r&&!((t=s||r.offsetTop)>=o+i);r=a)(s=(a=domNS(r))?a.offsetTop:t+r.offsetHeight)<o&&a&&(cur.topRow=a),LongView&&LongView.register(r,"FullWall"),(n=r.bits||0)>=3||(n|=(t>=o&&t<o+i?1:0)|(s>=o&&s<o+i?2:0))&&(r.bits=n,3==n&&c.push(l.postsGetRaws(r)));LongView&&LongView.onScroll(o,i),Page.postsSeen(c)}},postsGetRaws:function(e){var o,t=indexOf(domPN(e).children,e),r={};if("block_"===e.id.substr(0,6)){r[e.id]=1,r.block=e.id.substr(6);var a=attr(e,"data-contain");a&&(a=a.split(",")).forEach((function(e){e=e.split(":"),r[e[0]]=intval(e[1])||1}))}else(o=e.id.match(new RegExp("^post("+cur.oid+"_\\d+)$","")))&&(r[o[1]]=1,(o=(e.getAttribute("data-copy")||"").match(/^(-?\d+_\d+)$/))&&(r[o[1]]=-1));r.index=t,r.module=cur.module;var n=e.getAttribute("post_view_hash");return n&&(r.hash=n),r},init:function(e,o){if(extend(cur,{options:e,module:"wall",pgStart:e.start,pgOffset:e.offset,pgCount:e.count,pgPerPage:e.per_page,pgCont:ge("page_wall_posts"),pgMore:ge("fw_load_more"),pgPages:ge("fw_pages"),pgMorePrg:ge("fw_more_progress"),pgPreload:o,pgUrl:e.url,pgOnScroll:l.scrollCheck,pgParams:e.params,pgHref:e.href,pgPostProcess:l.loadedPosts,pgNoArrowNav:l.noArrowNav,pgNoNavScroll:!0,articleConvert:e.article_convert_suggest,articleConvertThreshold:e.article_convert_threshold,oid:e.owner_id,postTo:e.owner_id}),Wall.init(e),e.wall_type&&("cards"==e.wall_type||"supp"==e.wall_type||"restore"==e.wall_type||"phone_info"==e.wall_type||nav.objLoc.postponed)||Pagination.init(),cur.destroy.push(Pagination.deinit),!e.with_id&&(Wall.initUpdates(e.add_queues),(!e.wall_type||"cards"!=e.wall_type&&"supp"!=e.wall_type&&"restore"!=e.wall_type&&"phone_info"!=e.wall_type)&&(cur.nav.push((function(e,o,t){var r=e.own;if(delete e.own,delete e.offset,isEmpty(e)&&void 0!==r)return ajax.post("al_wall.php",{act:"s",owner_id:cur.oid,own:t.own||void 0,q:t.q||void 0,lnav:1,offset:t.offset||void 0},{onDone:function(e,o,r,n,l,i,s,c,p,d){ge("fw_summary_wrap").innerHTML=e,Pagination.deinit(),extend(cur,{pgStart:l,pgOffset:i,pgCount:c,pgParams:!!t.own&&{own:1},pgHref:n,pgPages:ge("fw_pages"),pgPreload:p}),toggle(cur.pgMore,c>i+cur.pgPerPage),Wall.cancelEdit();var u=ge("page_wall_posts");u.innerHTML=o,each(geByTag("textarea",u),(function(){Object(a.placeholderSetup)(this,{fast:1})})),Pagination.init(),Wall.initUpdates(d),cur.options.reply_names=extend({},cur.options.reply_names,r),cur.wallType="full_"+(t.own?"own":"all"),nav.setLoc(t),scrollToTop()},showProgress:function(){hide("fw_search_toggler")},hideProgress:function(){show("fw_search_toggler"),window.uiRightMenu&&uiRightMenu.hideProgress(domFC(ge("narrow_column")))},onFail:l.failed}),!1})),ge("wall_search")&&nav.objLoc.q))){var t=cur.options&&cur.options.count;Object(n.saveSearchAttemptStats)(n.serviceWall,0,t,nav.objLoc.q)}},loadedPosts:function(e,o,t,r,n,i,s){if(i)each(geByTag("textarea",cur.pgCont),(function(){Object(a.placeholderSetup)(this,{fast:1})})),Wall.cancelEdit();else{for(var c=0,p=cur.pgCont.lastChild;p&&++c<=cur.pgPerPage;p=p.previousSibling)Object(a.placeholderSetup)(geByTag1("textarea",p),{fast:1});s=r}cur.options.reply_names=extend({},cur.options.reply_names,s),l.updateSummary(e)},updateSummary:function(e){ge("fw_summary").innerHTML=e?langNumeric(e,"%s",!0):""},noArrowNav:function(){return cur.__focused||(ge("own_reply_field")||{}).focused||cur.editingPost},initOnePost:function(e,o){var t=e.post_raw;e.view_hash&&!window._postsViewHash&&(window._postsViewHash=e.view_hash),Page.postsSeen(e.seen),extend(cur,{onepost:!0,options:e,module:"wall",docked:!1,pgStart:e.start,pgOffset:e.offset,pgCount:e.count,pgPerPage:e.per_page,pgCont:ge("replies"+t),pgMore:ge("fw_load_more"),pgPages:ge("fw_pages"),pgPreload:o,pgUrl:e.url,pgParams:e.params,pgHref:e.href,pgPostProcess:l.loadedReplies,pgOnScroll:l.onePostOnScroll,pgNoArrowNav:l.noArrowNav,pgNoNavScroll:!0,oid:e.owner_id,pid:e.post_id,nid:e.note_id,named:{replies:ge("fw_one_replies_wrap")},wallUploadOpts:e.upload,deepActive:hasClass(ge("post"+t),"deep_active")&&!e.note_id}),Wall.init(e),cur.deepActive?(e.scroll&&setTimeout((function(){scrollToY(e.scroll)}),0),addEvent(window,"scroll",l.onePostOnScroll),addEvent(window,"resize",l.onePostOnScroll),cur.destroy.push((function(){removeEvent(window,"scroll",l.onePostOnScroll),removeEvent(window,"resize",l.onePostOnScroll)}))):(Pagination.init(e.scroll),cur.destroy.push(Pagination.deinit)),l.onePostOnScroll(),Wall.initUpdates(e.add_queues)},scrollToEnd:function(){var e=cur.addBlockTop+cur.addBlockHeight+20-lastWindowHeight;scrollGetY()<e&&(cur.deepActive?scrollToY(e,0):Pagination.setScroll(e))},onePostOnScroll:function(e,o){var t=cur.options.post_raw||"",r=ge("reply_box_wrap"+t)||ge("reply_box_donut"+t),a=r&&domFC(r);if(a){if(!1!==o&&void 0!==o||(o=scrollGetY()),cur.addBlockTop=getXY(r)[1],cur.deepActive){var n=ge("reply_fakebox"+t);if(n){cur.addBlockHeight=getSize(n)[1];var l=getStyle(n,["marginTop","marginBottom"]);cur.addBlockHeight+=intval(l.marginTop)+intval(l.marginBottom)}else cur.addBlockHeight=getSize(a)[1]}else cur.addBlockHeight=getSize(a)[1];var i=o+lastWindowHeight<cur.addBlockTop+cur.addBlockHeight,s=i?Math.min(0,Math.max(-bodyNode.scrollLeft,bodyNode.clientWidth-getSize(ge("page_layout"))[0])):null,c=Math.min(0,o+lastWindowHeight-getXY("fw_replies_header")[1]-cur.addBlockHeight);if(setStyle(a,{marginLeft:s,bottom:c}),i?(e&&cur.docked||setStyle(r,"height",cur.addBlockHeight),cur.docked||(setStyle(a,"width",getSize(r)[0]),addClass(a,"fixed"),cur.docked=!0)):cur.docked&&(setStyle(a,{width:null,marginLeft:null}),setStyle(r,"height",""),removeClass(a,"fixed"),cur.docked=!1),cur.deepActive){var p=ge("replies"+t),d=domLC(p);if(d&&hasClass(d,"replies_next")&&isVisible(d))o+500>getXY(d,!0)[1]&&d.onclick()}}},onNewReplySent:function(e,o,t,r){var a=cur.oid+"_"+cur.pid;cur.wallMyReplied[a]=0;var n=ge("replies"+a);val(n,o);var i=ge("post"+a);Wall.incReplyCounter(i,1,e),Wall.isDescRepliesOrder(a)?scrollToY(getXY(n)[1]-30):setTimeout(l.scrollToEnd,0),extend(cur.options.reply_names,r),nav.setLoc(extend(nav.objLoc,{offset:t||null}))},onReplySent:function(e,o,t,r,a,n,i){cur.wallMyReplied[cur.oid+"_"+cur.pid]=0,Pagination.loaded.apply(window,arguments),setTimeout(l.scrollToEnd,0),a&&r&&nav.setLoc(extend(nav.objLoc,{offset:r}))},loadedReplies:function(e,o,t,r,a,n,i){n||(i=r),cur.options.reply_names=extend({},cur.options.reply_names,i),l.onePostOnScroll(),l.repliesSummary(e)},repliesSummary:function(e){var o=ge("fw_summary");o&&(o.innerHTML=e?getLang("wall_n_replies",e):getLang("wall_no_replies"),show(o.parentNode),Likes.update("wall"+cur.oid+"_"+cur.pid,{comment_num:e}))},addTetaTet:function(e,o){var t={own_reply_link:"",tet_a_tet:""};return o[9]&&o[9]!=o[2].split("_")[0]&&cur.wallTpl.tet_a_tet?t.tet_a_tet=cur.wallTpl.tet_a_tet.replace("%from_uid%",o[9]):t.own_reply_link=cur.wallTpl.own_reply_link.replace("%post_id%",o[2]),t},notePart:function(e,o){hide(e),show(o)},doSearch:function(e,o){uiSearch.showProgress(e),nav.objLoc[0].split("/").length>1?nav.change({0:"wall"+cur.oid,q:o||!1,search:!o&&1,offset:!1}):nav.change({q:o||!1,search:!o&&1,offset:!1,own:!1})},calendar:function(){stManager.add(["ui_controls.js",window.jsc("web/datepicker.js"),"datepicker.css"],(function(){cur.wallDP||(cur.wallSD=val("wall_datesearch"),cur.wallDP=new Datepicker(ge("wall_datesearch"),{width:140,resfmt:"plain",addRows:nav.objLoc.day?`<tr><td class="cal_clear" colspan="7"><a onclick="uiSearch.showProgress('wall_search'); nav.change({day: false, offset: false, search: nav.objLoc.q ? false : 1})" id="wall_cal_clear_lnk">${getLang("wall_clear_date_filter")}</a></td></tr>`:"",onUpdate:function(){if(cur.wallSD!=val("wall_datesearch")){var e=val("wall_datesearch").split(".");uiSearch.showProgress("wall_search"),nav.change({day:(e[0]<10?"0":"")+e[0]+(e[1]<10?"0":"")+e[1]+e[2],search:!1,offset:!1})}},pastActive:!0,noFuture:!0})),triggerEvent(geByClass1("datepicker_control",ge("wall_datesearch_cont")),"mousedown",!1,!0)}))}};window.FullWall=l;try{stManager.done(jsc("web/wall.js"))}catch(e){}}});