(()=>{"use strict";var e,o,i,t={708240:(e,o,i)=>{var t=i(895354);window.Verification=new t.default,stManager.done(jsc("web/verification.js"))},895354:(e,o,i)=>{i.d(o,{default:()=>_});i(991181),i(296253);var t=i(414914),a=i(705456),r=i(791563),s=i(907851),n=i(116886),l=i(442699),d=i(650174),c="verification_box",p=e=>"verification.php?act="+e,h=(e,o)=>{var i="button_save_step";if(e=(0,l.extend)(e,f()),o&&e.hasOwnProperty("id")){var r=(0,t.ge)(e.id),n=(0,t.val)(e.id);r&&r.classList.contains("checkbox")&&(n=(0,a.isChecked)(r)?1:0),void 0===n&&(n=(0,s.getDropdownValue)(e.id)),void 0!==n&&(e.value=n)}e.hasOwnProperty("value")?ajax.post(p("a_save_request_value"),e,{onDone(){hide((0,t.ge)("verification_errors_label"))},onFail:e=>(0,s.showErrorBox)(e),showProgress:()=>(0,a.lockButton)(i),hideProgress:()=>(0,a.unlockButton)(i)}):(0,a.unlockButton)(i)},f=()=>{var e=(0,t.ge)("verification_controls");if(!e)throw Error("Cant find verification_controls block");var o={},i=domData(e,"owner-id"),a=domData(e,"csrf-token"),r=domData(e,"current-step");return i&&(o.ownerId=i),a&&(o.csrfToken=a),r&&(o.currentStep=r),o};class _{showVerificationBox(e,o,i,a,n){var d=c;a&&(d+=" "+a),void 0!==n&&!0!==n||(this.closeVerificationBox(),(0,t.geByClass)(c).forEach((e=>(0,t.re)(e)))),(0,r.showBox)(p(e),o,(0,l.extend)(i,{params:{width:655},containerClass:d,onFail:e=>(boxQueue.hideLast(),(0,s.showErrorBox)(e))}))}closeVerificationBox(){boxQueue.hideLast()}deleteRequest(e){ajax.post(p("delete_request"),{ownerId:e},{onDone:e=>console.log("deleted"),onFail:e=>(0,s.showErrorBox)(e)})}openBox(e){ajax.post(p("open_box"),{ownerId:e},{onDone:e=>{this.openBoxByType(e.owner_id,e.box)},onFail:e=>(0,s.showErrorBox)(e)})}openBoxByType(e,o){var i=clone(window.nav.objLoc);switch(i.vbt&&(delete i.vbt,nav.setLoc(i)),o){case 1:this.infoBox(e);break;case 2:this.continueFillingBox(e);break;case 3:this.requestConsideredBox(e);break;case 4:this.requestRejectedBox(e);break;case 5:this.extendRequestBox(e);break;case 8:this.confirmBox(e);break;case 9:this.requestStepTwoBox(e,3);break;case 10:this.verifiedPageBox(e);break;case 11:this.timeExpiredBox(e);break;case 12:this.timeExpiringBox(e);break;case 13:this.oldVerifiedPageBox(e)}}infoBox(e){this.showVerificationBox("info",{ownerId:e})}oldVerifiedPageBox(e){this.showVerificationBox("old_verified_page",{ownerId:e})}continueFillingBox(e){this.showVerificationBox("continue_filling",{ownerId:e})}requestSentBox(e){this.showVerificationBox("request_sent",{ownerId:e})}requestConsideredBox(e){this.showVerificationBox("request_considered",{ownerId:e})}confirmBox(e){this.showVerificationBox("confirm",{ownerId:e})}confirmPhone(e){var o=f();ajax.post(p("a_confirm_phone"),o,{onDone:e=>{this.confirmBox(e)},onFail:e=>void 0!==e&&(0,s.showErrorBox)(e),showProgress:()=>(0,a.lockButton)(e),hideProgress:()=>(0,a.unlockButton)(e)})}confirmEmail(e,o){var i=(0,l.extend)({hash:o},f());ajax.post(p("a_confirm_email"),i,{onDone:o=>{hide(geByClass1("verification_send_title",e)),show(geByClass1("verification_sent_title",e)),e.classList.add("secondary"),e.classList.add("flat_btn_lock")},onFail:e=>(void 0===e&&(e=(0,n.getLang)("verification_mail_send_error")),(0,s.showErrorBox)(e)),showProgress:()=>(0,a.lockButton)(e),hideProgress:()=>(0,a.unlockButton)(e)})}confirmSentBox(e){this.showVerificationBox("confirm_sent_popup",{ownerId:e},{},"",!1)}extendRequestBox(e){this.showVerificationBox("extend_request",{ownerId:e})}requestRejectedBox(e){this.showVerificationBox("request_rejected",{ownerId:e})}timeExpiringBox(e){this.showVerificationBox("time_expires",{ownerId:e})}timeExpiredBox(e){this.showVerificationBox("time_expired",{ownerId:e})}verifiedPageBox(e){this.showVerificationBox("verified_page",{ownerId:e})}verifiedCommunityBox(e,o){this.showVerificationBox("verified_community",{ownerId:e,currentLevel:o})}requestStepOneBox(e){this.showVerificationBox("request_step_one",{ownerId:e})}requestStepOneSend(e,o){var i=intval((0,s.getDropdownValue)("verification_category")),t=intval((0,s.getDropdownValue)("verification_country")),r=intval((0,s.getDropdownValue)("verification_city")),n=intval(Radiobutton.val("verification_persona_type")),d=intval(Radiobutton.val("verification_star_agent")),c=intval((0,s.getDropdownValue)("verification_offline_office")),h=intval((0,s.getDropdownValue)("verification_subcategory")),_=(0,l.extend)({category:i,subCategory:h,country:t,city:r,offlineOffice:c,personaType:n,starAgent:d},f()),u=()=>this.requestStepTwoBox(o,2),v=this;ajax.post(p("a_request_step_one_send"),_,{onDone(e){u()},onFail:e=>v.showRequestInputErrors(e),showProgress:()=>(0,a.lockButton)(e),hideProgress:()=>(0,a.unlockButton)(e)})}requestStepTwoBox(e,o){this.showVerificationBox("request_step_two",{ownerId:e,currentStep:o},{},"no_overflow_box_body")}requestStepThreeBox(){this.showVerificationBox("request_step_three",{},{},"no_overflow_box_body")}showBoxTab(e,o){if((0,t.ge)(o)){var i=gpeByClass("verification_tab_pane",e),a=(0,t.geByClass)("verification_item",i),r=(0,t.geByClass)("verification_tab",i),s=(0,t.ge)(o);r.forEach((e=>e.classList.remove("active"))),a.forEach((e=>e.classList.remove("verification_active"))),e.classList.add("verification_active"),s.classList.add("active")}}confirmRequestSend(){boxQueue.hideLast(),this.requestStepTwoConfirm(0)}requestStepTwoConfirm(e){var o=(e,o)=>this.requestStepTwoBox(e,o),i=e=>this.requestSentBox(e),t=this,r=f(),s=r.ownerId,n=(e,n)=>{r.onlyValidate=parseInt(e),ajax.post(p("a_request_step_two_send"),r,{onDone(t){if(1===e&&void 0!==n)return n();t.next_step>0?o(s,t.next_step):1===t.finished&&i(s)},onFail:e=>t.showRequestInputErrors(e),showProgress:()=>(0,a.lockButton)("button_save_step"),hideProgress:()=>(0,a.unlockButton)("button_save_step")})};1===e?n(1,(()=>{this.showVerificationBox("confirm_sent_popup",{ownerId:s},{},"",!1)})):n(0)}sendSecondLevelRequest(e){var o=f(),i=(0,t.ge)("button_save_step");ajax.post(p("a_send_second_level_request_form"),o,{onDone(o){(0,t.val)(i,e),i.classList.add("secondary"),i.classList.add("flat_btn_lock")},onFail:e=>this.showRequestInputErrors(e),showProgress:()=>(0,a.lockButton)("button_save_step"),hideProgress:()=>(0,a.unlockButton)("button_save_step")})}showRequestInputErrors(e){if(!e)throw Error("Failed to show request input errors, undefined response");if((e=JSON.parse(e)).first_error.length>0)return(0,s.showErrorBox)(e.first_error);var o=e.errors,i=(0,t.ge)("verification_errors_label"),a=geByClass1("verification_errors_list",i),r="";return o.forEach((e=>{r+="<span>"+e.message+"</span>"})),(0,t.val)(a,r),show(i),!0}setStepOneOptions(e,o,i,t,a,r,s,n,l){this.subCategories=e,this.personaTypeRadioItems=o,this.categoryPersonaTypeOptions=i,this.subCategoryPersonaTypeOptions=t,this.offlineOfficeCategoryOptions=a,this.offlineOfficeSubCategoryOptions=r,this.offlineValuesList=s,this.categoriesDescription=n,this.starAgentList=l}categoryUpdated(e){var o=intval(e),i=geByClass1("verification_request_fields_step_one"),a=geByClass1("verification_charity_alert"),r=(0,t.ge)("step_one_next_button"),s=(0,t.ge)("verification_category_container");hide((0,t.ge)("verification_errors_label")),geByClass1("verification_small",s)||s.appendChild((0,t.se)(getTemplate("verification_small_info_template")));var n=geByClass1("verification_small",s);if(0===o)return hide(n),hide("verification_offline_office_container"),void hide("verification_persona_type_radio_container");this.categoriesDescription.hasOwnProperty(o)?((0,t.val)(n,this.categoriesDescription[o]),show(n)):hide(n),hide(a),show(i),r.classList.remove("button_disabled");var l=this.drawSubCategoriesSelect(o);return 6===o?(hide(i),show(a),r.classList.add("button_disabled"),!1):(this.drawPersonaTypeRadio(o,l),this.toggleStarAgentRadio(o,l),!0)}toggleStarAgentRadio(e,o){var i=(0,t.ge)("verification_star_agent_radio_container");0===e&&hide(i),(void 0===o?-1!==this.starAgentList.categories.indexOf(e):-1!==this.starAgentList.sub_categories.indexOf(o))?show(i):hide(i)}drawOfflineOfficeSelect(e,o,i){var a=parseInt(Radiobutton.val("verification_persona_type")),r=(0,t.ge)("verification_offline_office_container");void 0!==o&&(o=parseInt(o)),r.dropdown=void 0;var s=null,n=null;if(this.offlineOfficeCategoryOptions.hasOwnProperty(e)&&(s=this.offlineOfficeCategoryOptions[e]),this.offlineOfficeSubCategoryOptions.hasOwnProperty(e)&&this.offlineOfficeSubCategoryOptions[e].hasOwnProperty(o)&&(n=this.offlineOfficeSubCategoryOptions[e][o]),!s&&!n)throw Error("Undefined category or sub category value for draw offline office dropdown!");(0,t.geByClass)("dropdown_element_place",r).forEach((e=>(0,t.re)(e)));var l=s||n,d=1===a&&0===l.individual_enabled,c=2===a&&0===l.legal_enabled;if(d||c)return hide(r),!1;var p=(0,t.se)(getTemplate("verification_offline_office_template")),h=geByClass1("dropdown_control",r).appendChild(p),f=geByClass1("verification_insert_dropdown",h);void 0!==i&&(0,t.val)(f,i),r.dropdown=new Dropdown(f,this.offlineValuesList,{width:300,big:1}),show(r)}drawPersonaTypeRadio(e,o,i){var a=(0,t.se)(getTemplate("verification_persona_type_template")),r=(0,t.ge)("verification_persona_type_radio_container"),s=!1,n=null,l=null,d=0,c=!1,p=null,h=null;if(this.categoryPersonaTypeOptions.hasOwnProperty(e)&&(n=this.categoryPersonaTypeOptions[e]),this.subCategoryPersonaTypeOptions.hasOwnProperty(e)&&this.subCategoryPersonaTypeOptions[e].hasOwnProperty(o)&&(l=this.subCategoryPersonaTypeOptions[e][o]),!n&&!l)throw Error("Undefined category or sub category value for draw radio persona type");(0,t.geByClass)("checkboxes_list",r).forEach((e=>(0,t.re)(e))),r.appendChild(a);var f=0;Object.keys(this.personaTypeRadioItems).map(((a,r)=>{p=this.personaTypeRadioItems[a],d=0,c=!1,n&&(d=parseInt(n[p.persona_key])),l&&(d=parseInt(l[p.persona_key])),void 0!==i&&i===parseInt(a)&&(c=!0,s=!0),void 0!==i||s||1!==d||(c=!0,s=!0),1===d&&f++,h=new Radiobutton((0,t.ge)(p.id),{width:300,label:p.title,checked:c,onSelect:()=>this.drawOfflineOfficeSelect(e,o)}),0===d&&h.disable(a)})),2===f?show(r):hide(r),this.drawOfflineOfficeSelect(e,o),this.toggleStarAgentRadio(e,o)}drawSubCategoriesSelect(e,o){var i=(0,t.ge)("verification_subcategory_container");if(i.dropdown=void 0,(0,t.geByClass)("dropdown_element_place",i).forEach((e=>(0,t.re)(e))),hide(i),this.subCategories.hasOwnProperty(e)){var a=this.subCategories[e],r=(0,t.se)(getTemplate("verification_subcategory_template")),s=geByClass1("dropdown_control",i).appendChild(r),n=geByClass1("verification_insert_dropdown",s);void 0===o&&a.hasOwnProperty(0)&&a[0].hasOwnProperty(0)&&(o=a[0][0]),(0,t.val)(n,o);var l={width:300,big:1,onChange:o=>{var i=parseInt(o);this.drawPersonaTypeRadio(e,i),this.toggleStarAgentRadio(e,i)}};return i.dropdown=new Dropdown(n,a,l),a.length>1?show(i):hide(i),o}}insertSocial(e,o){var i=(0,t.se)(getTemplate("verification_social_template")),a=gpeByClass("verification_social_controls",e),r=geByClass1("verification_social_controls_container",a),s=(0,t.geByClass)("verification_social_control",r).length;if(!(s>=7)){var n=r.appendChild(i),l=geByClass1("verification_social_address",n);void 0!==o&&(0,t.val)(l,o),s+1>=7&&hide(e)}}socialChange(e){var o=gpeByClass("verification_social_controls",e),i=(0,t.geByClass)("verification_social_control",o),r=gpeByClass("socials_form_group",e).id,s=[];each(i,((e,o)=>{var i=geByClass1("verification_social_address",o),a=(0,t.val)(i);a.length>0&&s.push(a)})),this.currentTimeoutInputId===r&&clearTimeout(this.currentInputTimeout),(0,a.lockButton)("button_save_step");var n={id:r,value:JSON.stringify(s)};this.currentTimeoutInputId=r,this.currentInputTimeout=setTimeout((()=>h(n)),500)}removeSocial(e){var o=gpeByClass("verification_social_controls",e),i=gpeByClass("verification_social_controls_container",e),a=(0,t.geByClass)("verification_social_control",i),r=gpeByClass("verification_social_control",e),s=geByClass1("verification_social_insert_new",o);a.length<=1||((0,t.re)(r),show(s),this.socialChange(s))}imageUploader(e,o,i){new d.default("photo",e,o,this.successFileUpload,this.removeFile,i)}documentsUploader(e,o,i){new d.default("doc",e,o,this.successFileUpload,this.removeFile,i)}successFileUpload(e,o,i){i=void 0===i?"":i;var t=JSON.stringify({media:o,name:i});h({id:e,value:t})}removeFile(e,o){var i=JSON.stringify({media:o,remove:!0});h({id:e,value:i})}sendRequestValue(e){var o=(0,t.ge)("button_save_step");if(this.currentTimeoutInputId===e&&clearTimeout(this.currentInputTimeout),"verification_request_site"===e){var i=(0,t.val)(e),r=gpeByClass("verification_request_step_two_body",(0,t.ge)(e)),s=geByClass1("verification_widget_on_site_checkbox",r);s&&s.classList.toggle("verification_hidden_checkbox",0===i.length)}(0,a.lockButton)(o),this.currentTimeoutInputId=e,this.currentInputTimeout=setTimeout((()=>h({id:e},!0)),450)}removeVerify(e){var o="verification_remove_verify_info";e<0&&(o="verification_remove_verify_info_community"),(0,r.showFastBox)({title:(0,n.getLang)("verification_confirm_remove_verify_action")},(0,n.getLang)(o),(0,n.getLang)("verification_remove_verify_title"),(o=>(o=>{var i=(0,l.extend)({ownerId:e},f());ajax.post(p("a_remove_verify"),i,{onDone:()=>nav.reload(),onFail:e=>(0,s.showErrorBox)(e),showProgress:()=>(0,a.lockButton)(o),hideProgress:()=>(0,a.unlockButton)(o)})})(o)),(0,n.getLang)("global_cancel"))}}},650174:(e,o,i)=>{i.d(o,{default:()=>h});i(991181),i(296253),i(59357);var t=i(414914),a=i(116886),r=i(917685),s=i(705456),n=i(791563),l=i(182408),d="photo",c="doc",p=e=>setTimeout((0,n.showFastBox)({title:(0,a.getLang)("global_error")},e).hide,1e4);class h{constructor(e,o,i,a,r,s){if(e!==d&&e!==c)throw Error("Undefined uploader type: "+e);var n={hideOnStart:!1,target:"new"},l=o+"_browse_file";if(this.id=o,this.previewId=o+"_media_preview",this.successCallback=a,this.removeCallback=r,this.mediaSelector=new MediaSelector(l,this.previewId,[[e]]),this.uploadData=i,this.type=e,this.filesSendToUpload=0,this.uploadedFiles=0,this.startUploadTitle=(0,t.ce)("span"),this.browseContainer=(0,t.ge)(l),this.uploadedControl=(0,t.domPN)(this.browseContainer),this.uploadedItems=(0,t.geByClass1)("verification_uploaded_items",this.uploadedControl),this.maxFiles=i.options.max_files?i.options.max_files:1,!this.browseContainer)throw Error("Cant find browse file container: "+l);switch(e){case d:this.initPhotoUpload(n);break;case c:this.initDocUpload(n)}this.insertUploadedFiles(s,!0),this.customizeUploadButton(),(0,t.hide)(this.previewId)}insertUploadedFiles(e,o){each(e,((e,i)=>{if(i.hasOwnProperty("link")&&i.hasOwnProperty("name")&&i.hasOwnProperty("media_code")){var a="";a=i.link.length>0?'<a href="'+i.link+'" target="_blank">'+i.name+"</a>":i.name;var s=(0,t.se)(getTemplate("verification_uploaded_item_template"));if((0,t.val)((0,t.geByClass1)("verification_uploaded_name",s),a),(0,t.domData)(s,"media-code",i.media_code),(0,r.addEvent)((0,t.geByClass1)("verification_upload_delete_link",s),"click",(e=>this.removeUploadedFile(e,i.media_code))),this.uploadedItems.appendChild(s),o){var n=i.media_code.replace(this.type.toLowerCase(),"");this.mediaSelector.chooseMedia(this.type,n,[],void 0,!0)}}})),this.toggleUploadItemsContainer(),this.toggleBrowseContainer()}initPhotoUpload(e){var o=(this.uploadData||{}).options;return Upload.init(this.browseContainer,this.uploadData.url,this.uploadData.vars,{file_name:d,file_size_limit:5242880,file_types_description:"Image files (*.jpg, *.jpeg, *.png, *.gif)",file_types:o.file_types,accept:"image/jpeg,image/png,image/gif",file_match:".(gif|jpg|jpeg|png)$",lang:o.lang,multiple:0,multi_progress:1,max_files:1,max_files_hide_last:1,clear:1,type:d,max_attempts:3,file_input:cur.uploadInput,server:o.server,error:o.default_error,error_hash:o.error_hash,noCheck:!0,onUploadStart:(o,i)=>this.onUploadStart(o,i,d,e),onUploadComplete:(e,o)=>this.onUploadComplete(e,o,this.choosePhotoUploaded),onUploadProgress:(e,o,i)=>this.onUploadProgress(e,o,i,d),onUploadError:e=>this.chooseFail(e),onNoFilteredCallback:()=>this.onNoFilteredCallback(),onUploadCompleteAll:o=>this.onUploadCompleteAll(o,e),onMaxCount:()=>this.customizeUploadButton()})}initDocUpload(e){var o=(this.uploadData||{}).options;return Upload.init(this.browseContainer,this.uploadData.url,this.uploadData.vars,{file_name:"file",file_size_limit:1073741824,file_types_description:"Documents",file_types:o.file_types,accept:o.accept,file_disallowed_types:!1,lang:o.lang,multiple:1,multi_progress:1,max_files:o.max_files||1,max_files_hide_last:1,clear:1,type:c,max_attempts:3,file_input:cur.uploadInput,server:o.server,error:o.default_error,error_hash:o.error_hash,noCheck:!0,onCheckComplete:e&&e.onCheckComplete||!1,onUploadStart:(o,i)=>this.onUploadStart(o,i,c,e),onUploadComplete:(e,o)=>this.onUploadComplete(e,o,this.chooseDocUploaded),onUploadProgress:(e,o,i)=>this.onUploadProgress(e,o,i,c),onUploadError:e=>this.chooseFail(e),onNoFilteredCallback:()=>this.onNoFilteredCallback(),onUploadCompleteAll:o=>this.onUploadCompleteAll(o,e),onMaxCount:()=>this.customizeUploadButton()})}onUploadStart(e,o,i,a){(0,t.hide)(this.browseContainer),show(this.previewId),(0,s.lockButton)("button_save_step"),this.filesSendToUpload++;var r=void 0!==e.ind?e.ind:e,n=Upload.options[r];"form"===Upload.types[r]&&((0,t.geByClass1)("file",this.browseContainer).disabled=!0),"fileApi"===Upload.types[r]&&(cur.notStarted&&(a&&a.hideOnStart&&boxQueue.hideLast(),delete cur.notStarted),n.multi_progress&&this.onUploadProgress(e,0,0,i))}onUploadComplete(e,o,i){var t;try{t=JSON.parse(o)}catch(e){t=(0,l.fromQueryString)(o)}t.photos||t.file?i(this,e,t):Upload.onUploadError(e)}onUploadCompleteAll(e,o){var i=void 0!==e.ind?e.ind:e;"fileApi"!==Upload.types[i]&&(o.hideOnStart?boxQueue.hideLast():Upload.embed(i))}onUploadProgress(e,o,i,t){var a=void 0!==e.ind?e.ind:e;if("fileApi"===Upload.types[a]){var r=(cur.attachMediaIndexes||{})[a];if(void 0===r||r&&this.mediaSelector[r].chosenMedia){var s={loaded:o,total:i};e.fileName&&(s.fileName=e.fileName.replace(/[&<>"']/g,"")),this.mediaSelector.showMediaProgress(t,a,s)}}}chooseFail(e){var o=void 0!==e.ind?e.ind:e,i=(Upload.options[o]||{}).type||"",r="";if("fileApi"===Upload.types[o]&&!Upload.options[o].wiki_editor){var n=e.fileName?o+"_"+e.fileName:e;this.mediaSelector&&(0,t.re)("upload"+n+"_progress_wrap")}i===c?r=(0,a.getLang)("verification_upload_fail_doc"):i===d&&(r=(0,a.getLang)("verification_upload_fail_photo")),r&&p(r),show(this.browseContainer),Upload.embed(o),(0,s.unlockButton)("button_save_step"),this.customizeUploadButton(),this.uploadedFiles++,this.checkMediaPreviewVisibility()}checkMediaPreviewVisibility(){this.uploadedFiles===this.filesSendToUpload&&(0,t.hide)(this.previewId)}onNoFilteredCallback(){var e="";return this.type===c?e=(0,a.getLang)("verification_upload_fail_doc"):this.type===d&&(e=(0,a.getLang)("verification_upload_fail_photo")),!!e&&p(e)}choosePhotoUploaded(e,o,i){var a=void 0!==o.ind?o.ind:o,r=o.fileName?a+"_"+o.fileName:o,s=(0,t.ge)("upload"+r+"_progress_wrap");(0,t.hide)(e.browseContainer),ajax.post("al_photos.php?act=choose_uploaded_support",i,{onDone(i,a){var n=d+i,l="",c=-1;if(e.uploadedFiles++,e.checkMediaPreviewVisibility(),(0,t.re)(s),Object.keys(a.editable.sizes).map(((e,o)=>{var i=a.editable.sizes[e][1]*a.editable.sizes[e][2];i>c&&(c=i,l=a.editable.sizes[e][0])})),l.length<1)throw Error("Cant find src for uploaded photo from data: "+JSON.stringify(a));e.insertUploadedFiles([{name:o.fileName,link:l,media_code:n}]),e.successCallback&&e.successCallback(e.id,n,o.fileName),e.mediaSelector.chooseMedia(d,i,extend(a,{upload_ind:r}),void 0,!0)},onFail:o=>{e.chooseFail(o),e.toggleBrowseContainer()}})}removeUploadedFile(e,o){var i=e.currentTarget,a=(0,t.domPN)(i),r=this.mediaSelector.chosenMedias,s=void 0;each(r,((e,i)=>{if(i){var t=i[1];i[0]+t===o&&(s=e)}})),void 0!==s&&this.mediaSelector.unchooseMedia(s),a.remove(),this.removeCallback(this.id,o),this.toggleUploadItemsContainer(),show(this.browseContainer)}customizeUploadButton(){var e=geByTag1("button",this.browseContainer);this.startUploadTitle.classList.add("verification_upload_image_link"),(0,r.addEvent)(this.startUploadTitle,"click",e.onclick),(0,t.val)(this.startUploadTitle,attr(this.browseContainer,"data-title")),this.browseContainer.insertBefore(this.startUploadTitle,e),(0,t.re)(e)}toggleBrowseContainer(){geByClass("verification_uploaded_item",this.uploadedItems).length<this.maxFiles?show(this.browseContainer):(0,t.hide)(this.browseContainer)}toggleUploadItemsContainer(){geByClass("verification_uploaded_item",this.uploadedItems).length>0?show(this.uploadedItems):(0,t.hide)(this.uploadedItems)}chooseDocUploaded(e,o,i){var a=void 0!==o.ind?o.ind:o,r=o.fileName?a+"_"+o.fileName:o,s=(0,t.ge)("upload"+r+"_progress_wrap"),n=extend({from:"choose",type:0,blockPersonal:1},i);(0,t.hide)(e.browseContainer),ajax.post("docs.php?act=a_save_doc",n,{onDone(i,a,n){var l=i+"_"+a,d=c+l,p="";if(e.uploadedFiles++,e.checkMediaPreviewVisibility(),(0,t.re)(s),n.hasOwnProperty("href")?p=n.href:n.hasOwnProperty("editable")&&n.editable.hasOwnProperty("href")&&(p=n.editable.href),p.length<1)throw Error("Cant find src for uploaded doc from data: "+JSON.stringify(n));e.insertUploadedFiles([{link:p,name:o.fileName,media_code:d}]),e.successCallback&&e.successCallback(e.id,d),e.mediaSelector.chooseMedia(c,l,extend(n,{upload_ind:r}),void 0,!0)},onFail:o=>{e.chooseFail(o),e.toggleBrowseContainer()}})}}}},a={};function r(e){var o=a[e];if(void 0!==o)return o.exports;var i=a[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,e=[],r.O=(o,i,t,a)=>{if(!i){var s=1/0;for(c=0;c<e.length;c++){for(var[i,t,a]=e[c],n=!0,l=0;l<i.length;l++)(!1&a||s>=a)&&Object.keys(r.O).every((e=>r.O[e](i[l])))?i.splice(l--,1):(n=!1,a<s&&(s=a));if(n){e.splice(c--,1);var d=t();void 0!==d&&(o=d)}}return o}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[i,t,a]},r.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return r.d(o,{a:o}),o},i=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var a=Object.create(null);r.r(a);var s={};o=o||[null,i({}),i([]),i(i)];for(var n=2&t&&e;"object"==typeof n&&!~o.indexOf(n);n=i(n))Object.getOwnPropertyNames(n).forEach((o=>s[o]=()=>e[o]));return s.default=()=>e,r.d(a,s),a},r.d=(e,o)=>{for(var i in o)r.o(o,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:o[i]})},r.e=()=>Promise.resolve(),r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={3830:0};r.O.j=o=>0===e[o];var o=(o,i)=>{var t,a,[s,n,l]=i,d=0;for(t in n)r.o(n,t)&&(r.m[t]=n[t]);if(l)var c=l(r);for(o&&o(i);d<s.length;d++)a=s[d],r.o(e,a)&&e[a]&&e[a][0](),e[s[d]]=0;return r.O(c)},i=self.webpackChunkvk=self.webpackChunkvk||[];i.forEach(o.bind(null,0)),i.push=o.bind(null,i.push.bind(i))})();var s=r.O(void 0,[8592],(()=>r(708240)));s=r.O(s)})();