!function(e){function t(t){for(var n,a,c=t[0],_=t[1],s=t[2],l=0,d=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(n in _)Object.prototype.hasOwnProperty.call(_,n)&&(e[n]=_[n]);for(u&&u(t);d.length;)d.shift()();return i.push.apply(i,s||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,c=1;c<o.length;c++){var _=o[c];0!==r[_]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},r={"web/public":0},i=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.e=function(){return Promise.resolve()},a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/js/cmodules/";var c=window.webpackJsonp=window.webpackJsonp||[],_=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=_;i.push([276,"audioplayer","common","palette","d197914c22b46a78704724ab949103c6","9978013630b196e8f4269b3c84cf49a1","8edf2c454185247a33196226fe6ce370"]),o()}({276:function(e,t,o){e.exports=o("lA5T")},"3xsS":function(e,t,o){"use strict";o.r(t),o.d(t,"onGroupLeaveDonutConfirmation",(function(){return _})),o.d(t,"donutDebugGroupActions",(function(){return l})),o.d(t,"initGroupMenuDonut",(function(){return h}));var n=o("EasH"),r=o("4+be"),i=o("t7n3"),a=o("v+DW"),c=o("zxIV"),_=function(e,t,o,_){var s,u,l,d=Object(i.getTemplate)("groupLeaveConfirmationKeptSubscription"),p=Object(n.showFastBox)({title:Object(r.getLang)("global_warning")},d,Object(r.getLang)("group_leave_group"),(function(){var n,r=null===(n=p.bodyNode)||void 0===n?void 0:n.querySelector('[data-section-ref="donut_keep_subscription"]'),i=!(!r||Object(a.isChecked)(r))||void 0;e.leave(t,o,_,void 0,void 0,{donut_cancel_subscription:i}),p.hide()}),Object(r.getLang)("global_cancel")),b=null===(s=p.bodyNode)||void 0===s?void 0:s.querySelector('[data-section-ref="donut_keep_subscription"]'),g=null===(u=p.bodyNode)||void 0===u?void 0:u.querySelector('[data-section-ref="donut_cancellation_warning"]'),f=function(){Object(c.toggle)(g,!Object(a.isChecked)(b))};null===(l=null==b?void 0:b.addEventListener)||void 0===l||l.call(b,"click",(function(e){var t=e.target;Object(a.checkbox)(t),f()})),f()},s=o("Egk5"),u=o("3oLO"),l={toggleDntrStatus:function(e,t,o,n){var r,i,a,c,_,l;u.ajax.post("al_groups.php",{act:"a_toggle_dntr_status",status:o?1:0,oid:window.cur.oid,hash:t},{onDone:function(){window.nav.reload()},showProgress:null===(a=null===(i=null===(r=window.Page)||void 0===r?void 0:r.actionsDropdownLock)||void 0===i?void 0:i.pbind)||void 0===a?void 0:a.call(i,e),hideProgress:null===(l=null===(_=null===(c=window.Page)||void 0===c?void 0:c.actionsDropdownUnlock)||void 0===_?void 0:_.pbind)||void 0===l?void 0:l.call(_,e)}),Object(s.cancelEvent)(n)},donutResetSubscription:function(e,t,o){var n,r,i,a,c,_;u.ajax.post("al_groups.php",{act:"a_donut_reset_subscription",owner_id:window.cur.oid,hash:t},{onDone:function(){window.nav.reload()},showProgress:null===(i=null===(r=null===(n=window.Page)||void 0===n?void 0:n.actionsDropdownLock)||void 0===r?void 0:r.pbind)||void 0===i?void 0:i.call(r,e),hideProgress:null===(_=null===(c=null===(a=window.Page)||void 0===a?void 0:a.actionsDropdownUnlock)||void 0===c?void 0:c.pbind)||void 0===_?void 0:_.call(c,e)}),Object(s.cancelEvent)(o)},donutForcePayment:function(e,t,o){var n,r,i,a,c,_;u.ajax.post("al_groups.php",{act:"a_donut_force_payment",owner_id:window.cur.oid,hash:t},{onDone:function(){window.nav.reload()},showProgress:null===(i=null===(r=null===(n=window.Page)||void 0===n?void 0:n.actionsDropdownLock)||void 0===r?void 0:r.pbind)||void 0===i?void 0:i.call(r,e),hideProgress:null===(_=null===(c=null===(a=window.Page)||void 0===a?void 0:a.actionsDropdownUnlock)||void 0===c?void 0:c.pbind)||void 0===_?void 0:_.call(c,e)}),Object(s.cancelEvent)(o)}},d=o("BTjd"),p=o("aYHU"),b=o("vkK6"),g=function(){return(g=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},f=function(e){var t,o=e.target;if(Object(s.checkEvent)(e)||!(o instanceof HTMLElement))return!1;var _=null===(t=Object(b.getActionData)(o))||void 0===t?void 0:t.actionParams;if(_)var u=Object(i.getTemplate)("groupCancelSubscriptionBox"),l=Object(n.showFastBox)({title:Object(r.getLang)("groups_donut_cancel_subscription_dialog_title")},u,Object(r.getLang)("groups_donut_cancel_subscription_dialog_button_confirm"),(function(){var e,t,o;e=l.bodyNode,Object(c.hide)(e.querySelector('[data-section-ref="donut-cancel-subscription-error"]')),(t=_,o={showProgress:a.lockButton.bind(null,l.btns.ok[0]),hideProgress:a.unlockButton.bind(null,l.btns.ok[0])},Object(p.ajaxPostP)("/al_groups.php",g({act:"a_donut_cancel_subscription"},t),o)).then((function(){l.hide(),window.nav.reload()}),(function(e){!function(e,t){var o=e.querySelector('[data-section-ref="donut-cancel-subscription-error"]'),n=null==o?void 0:o.querySelector(".msg_text");o&&n&&t&&(n.innerHTML=t,Object(c.show)(o))}(l.bodyNode,function(e){return"string"==typeof(null==e?void 0:e.message)?null==e?void 0:e.message:"string"==typeof e?e:Object(r.getLang)("global_error_occured")}(e))}))}),Object(r.getLang)("groups_donut_cancel_subscription_dialog_button_discard"))},h=function(e){var t,o=null===(t=e.container)||void 0===t?void 0:t.parentElement;return o?Object(d.default)(o,'[data-onclick="showDonutUnsubBox"]',"click",f).destroy:function(){}}},BTjd:function(e,t,o){"use strict";o.r(t);const n=new WeakMap;function r(e,t,o,r){var i,a;if(!e&&!n.has(t))return!1;const c=null!==(i=n.get(t))&&void 0!==i?i:new WeakMap;if(n.set(t,c),!e&&!n.has(t))return!1;const _=null!==(a=c.get(o))&&void 0!==a?a:new Set;c.set(o,_);const s=_.has(r);return e?_.add(r):_.delete(r),s&&e}t.default=function e(t,o,n,i,a){if("string"==typeof t&&(t=document.querySelectorAll(t)),"function"!=typeof t.addEventListener){const r=Array.prototype.map.call(t,t=>e(t,o,n,i,a));return{destroy(){r.forEach(e=>e.destroy())}}}const c=t,_=Boolean("object"==typeof a?a.capture:a),s=e=>{const t=e.target.closest(o);t&&(e.delegateTarget=t,e.currentTarget.contains(e.delegateTarget)&&i.call(c,e))},u=JSON.stringify({selector:o,type:n,capture:_}),l={destroy(){c.removeEventListener(n,s,a),r(!1,c,i,u)}};return r(!0,c,i,u)||c.addEventListener(n,s,a),l}},CQka:function(e,t,o){"use strict";o.r(t),o.d(t,"initGroupLinksTracking",(function(){return a})),o.d(t,"trackGroupLink",(function(){return c})),o.d(t,"getGroupsTrackCodeAttr",(function(){return _}));o("rGqo"),o("Btvt");var n=o("Egk5"),r=o("zxIV"),i=o("v+DW");function a(){setTimeout((function(){var e=Object(r.domQuery)("a[data-group-track-type='link']",ge("page_body"));Object.keys(e).forEach(t=>{var o=e[t];Object(n.addEvent)(o,"click",c),cur.destroy.push(n.removeEvent.pbind(o,"click"))})}),3e3)}function c(e){var t=e.target;if(!t)return!0;if(Object(i.linkLocked)(t))return!0;var o=Object(r.domData)(t,"group-track-code"),n=Object(r.domData)(t,"group-track-type");if(!o||!n)return!0;var a={act:"track",group_id:-cur.oid,track_code:o,type:n};return ajax.post("al_groups.php",a,{onDone:function(){Object(i.unlockLink)(t)}}),!0}function _(e){return Object(r.domData)(e,"trackcode")}},FkYl:function(e,t,o){"use strict";o.r(t),o.d(t,"initPageActionsMenu",(function(){return p}));var n=o("3xsS"),r=o("BTjd"),i=o("3oLO"),a=o("4+be"),c=o("k487"),_="on",s="group_friends_wrap",u="page_action_menu_groups",l="page_menu_group_like",d=function(){var e,t,o=document.querySelector("."+u);if(o){var n,d=o.querySelector("."+l),p=null==d?void 0:d.dataset.tooltip_text;if(d&&p){var b={act:"help_hints_hide",hint_id:d.dataset.tooltip_id,hash:d.dataset.tooltip_hash};n=new c.default(d,{content:p,forceSide:"left",withCloseButton:!0,appendTo:o,autoShow:!1,noAutoHideOnWindowClick:!0,noHideOnClick:!0,width:200,offset:[30,0],cls:"feature_intro_tt",onCloseButtonClick:function(){return i.ajax.post("al_index.php",b)}});var g=new IntersectionObserver((function(e,t){e.every((function(e){return e.isIntersecting}))&&(null==n||n.show(),t.disconnect())}),{threshold:1});g.observe(d),null===(e=window.cur.destroy)||void 0===e||e.push((function(){return g.disconnect()}))}var f=Object(r.default)(o,"."+l,"click",function(e){return function(t){var o,n=t.target;if(n instanceof HTMLElement){var r=n.closest("."+l);if(r instanceof HTMLElement)if(null===(o=null==e?void 0:e._closeButton)||void 0===o||o.click(),!Boolean(null===window||void 0===window?void 0:window.Page.actionsDropdownLocked(r))){var c=r.classList.contains(_),u={act:"group_like_toggle",group_id:r.dataset.group_id,hash:r.dataset.hash,is_like:Number(!c),ref:window.cur.ref};i.ajax.post("al_groups.php",u,{onDone:function(e){c?(r.innerHTML=Object(a.getLang)("groups_action_menu_recommend"),r.classList.remove(_)):(r.innerHTML=Object(a.getLang)("groups_action_menu_you_recommend"),r.classList.add(_));var t=document.querySelector(".groups_friends_likes"),o=null==t?void 0:t.closest("."+s);o&&t&&e&&(o.innerHTML=e)},showProgress:function(){return null===window||void 0===window?void 0:window.Page.actionsDropdownLock(r)},hideProgress:function(){return null===window||void 0===window?void 0:window.Page.actionsDropdownUnlock(r)}})}}}}(n)).destroy;null===(t=window.cur.destroy)||void 0===t||t.push(f)}},p=function(){var e,t={container:document.querySelector("._page_actions_container")},o=Object(n.initGroupMenuDonut)(t);null===(e=window.cur.destroy)||void 0===e||e.push(o),d()}},X3vJ:function(e,t,o){"use strict";o.r(t),o.d(t,"initGroupsMenu",(function(){return p}));o("HEwt"),o("a1Th"),o("Btvt"),o("rGqo"),o("rE2o"),o("ioFf"),o("KKXr");var n=o("D1OX"),r=o("Egk5"),i=o("XzvV"),a=o("zxIV"),c=o("/PiP"),_=o("Ia1d"),s=o("pp2G"),u=o("XuKo");function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var o=[],n=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(o);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function p(e){window.onDomReady((function(){var t=ge("group_section_menu_gallery");if(t){var o=Object(a.geByClass)("ui_gallery_item",t),d={markOutside:!0};(!o||o.length<4)&&(d.scrollX=!1,d.scrollY=!1),Object(a.domQuery1)(".ui_gallery_item ._transparent",t)&&(d.scrollX=!1,d.scrollY=!1);var p=new n.UIGallery(t,d);(p?p.getItems():[]).forEach(t=>{var o=t.firstElementChild;if(o&&(Object(r.addEvent)(o,"click",t=>{var n=o.getAttribute("data-hash"),a=Number(o.getAttribute("data-id")),d=Number(o.getAttribute("data-type")),p=Number(o.getAttribute("data-pos")),b=o.getAttribute("data-object-id");if(n&&a&&d&&b&&(Object(i.statlogsValueEvent)("groups_menu_item_click",n,e,a,d,p),!Object(r.checkEvent)(t))){var g=null;switch(d){case 1:var f={w:"wall"+b};(g=o.getAttribute("data-click")?JSON.parse(o.getAttribute("data-click")):{}).reply&&(f.reply=g.reply),Object(c.showWiki)(f,!1,t);break;case 5:Object(_.showVideo)(""+b,"",{autoplay:1},t);break;case 16:-1===b.indexOf("_")?nav.change({z:"tag"+b},t):nav.change({z:"album"+b},t);break;case 4:Object(c.showPhoto)(""+b,"",{},t);break;case 3:Object(c.showWiki)({w:"product"+b,from:"group_module"},!1,t,{queue:1});break;case 8:case 17:g=o.getAttribute("data-click")?JSON.parse(o.getAttribute("data-click")):{};var h=l(b.split("_"),2),w=h[0],v=h[1],O=g.access_hash;s.AudioUtils.showAudioPlaylist(w,v,O,void 0,t);break;case 10:var m=l(b.split("_"),2),k=m[0],P=m[1],E=o.getAttribute("href"),y=new URLSearchParams(E).get("ref"),M={};if(y&&(M.app_ref=y),6441755===Number(k))window.Groups.inviteToChat(-Number(P));else{if((g=o.getAttribute("data-click")?JSON.parse(o.getAttribute("data-click")):{})&&g.forward){var D=g.forward.split("#");D=D?D[1]?D[1]:D[0]:"",M.w=`app${b}#${D}`}else M.w="app"+b;if(!g.show_wiki)return!0;Object(c.showWiki)(M)}break;case 25:Object(c.showPodcast)(null,b);break;case 26:var j=l(b.split("_"),2),L=j[0],C=j[1];Object(u.showNarrative)(L,C);break;default:return}Object(r.cancelEvent)(t)}}),10===Number(o.getAttribute("data-type")))){var n=l(o.getAttribute("data-object-id").split("_"),1)[0];6441755===Number(n)&&Object(r.addEvent)(o,"mouseover",()=>{window.Groups.inviteToChatPreload()})}})}}))}},aYHU:function(e,t,o){"use strict";o.r(t),o.d(t,"ajaxPostP",(function(){return i}));var n=o("3oLO"),r=function(){return(r=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=function(e,t,o){return void 0===t&&(t={}),void 0===o&&(o={}),new Promise((function(i,a){n.ajax.post(e,t,r(r({},o),{onDone:function(e){i(e)},onFail:function(e){return a(e),!0}}))}))}},gVOz:function(e,t,o){"use strict";o.r(t),o.d(t,"WarningNotification",(function(){return u})),o.d(t,"default",(function(){return l}));o("91GP");var n=o("q1tI"),r=(o("17x9"),o("dV62")),i=o("BiHW"),a=o("kHqu"),c=o("WfnU"),_=o("6krn");function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}class u extends n.Component{constructor(e){super(e),this.clickProceed=()=>{this.sendViewSignal(),this.props.onClose()},this.clickBack=()=>{this.setState({isLoading:!0}),window.history.length>1?window.history.back():window.nav.go("/")},this.state={isLoading:!1}}sendViewSignal(){var e=this.props,t={act:"hide_warning_notification",notification_id:e.notification_id,group_id:e.group_id,user_id:e.user_id,hash:e.hash};ajax.post("al_groups.php",t,{})}renderImage(){var e="/images/groups/warning_notification";return n.createElement("img",{alt:Object(_.getLang)("groups_warning_notification_web_img_alt"),src:e+".png",srcSet:e+"_2x.png 2x",className:"WarningNotification__image"})}render(){var e=this.props,t=this.state,o=this.renderImage();return n.createElement("div",{className:"WarningNotification__box"},n.createElement("div",{className:"WarningNotification__image-container"},o),n.createElement("div",{className:"WarningNotification__title WarningNotification__component--centered",dangerouslySetInnerHTML:{__html:e.title_html}}),n.createElement("div",{className:"WarningNotification__text WarningNotification__component--centered",dangerouslySetInnerHTML:{__html:e.text_html}}),n.createElement(c.default,{loading:t.isLoading,onClick:this.clickBack,className:"WarningNotification__button WarningNotification__button--back WarningNotification__component--centered"},Object(_.getLang)("global_back")),n.createElement(i.default,{onClick:this.clickProceed,appearance:"link",className:"WarningNotification__button WarningNotification__button--proceed WarningNotification__component--centered"},Object(_.getLang)("groups_warning_notification_proceed")))}}function l(e){var t=()=>{l(e)};cur._back.show.push(t),cur._back.onArticleNavBack=t;var o=()=>{Object(r.destroyComponentInBox)(!0)};cur.zNavInfo&&(o=()=>{Object(r.destroyComponentInBox)(!0),Object(a.zNav)(cur.zNavInfo.info,cur.zNavInfo.opts)});var i={containerClass:"WarningNotification",width:655,height:538,onHideAttempt:e=>Boolean(e)};Object(r.showComponentInBox)(n.createElement(u,s({onClose:o},e)),i)}},lA5T:function(e,t,o){"use strict";o.r(t);var n=o("xmNA");window.public=n.Public,window.Public=n.Public,window.showMapBox=n.Public.showMapBox,window.replaceChars=n.replaceChars;try{window.stManager.done(window.jsc("web/public.js"))}catch(e){}},oZDo:function(e,t,o){"use strict";o.r(t),o.d(t,"showEasyMarketPromoteTooltip",(function(){return l}));var n,r=o("k487"),i=o("12ku"),a=o("lXE5"),c=o("zxIV"),_=o("3oLO");!function(e){e.ONBOARDING="onboarding",e.ONBOARDING_WITH_HIGHLIGHT="onboarding_with_highlight",e.WARNING="warning"}(n||(n={}));var s=function(e,t,o){var n;void 0===o&&(o={threshold:.5});var r=new IntersectionObserver((function(e,o){e.every((function(e){return e.isIntersecting}))&&(t(),o.disconnect())}),o);r.observe(e),null===(n=window.cur.destroy)||void 0===n||n.push((function(){return r.disconnect()}))},u=function(e){return e.replace("{link}",'<a class="MarketPromotionGroupEntrypointTooltip__moreLink" href="/@business-avto-tovari">').replace("{/link}","</a>")},l=function(){var e=document.querySelector("#easy_promote_market_link");if(e){var t=e.dataset.tooltip_text;if(t){var o,l,d=e.dataset.tooltip_type,p=e.closest(".page_block"),b=Boolean(e.closest(".wide_column")),g=e.getAttribute("onclick");switch(d){case n.ONBOARDING_WITH_HIGHLIGHT:var f=new i.default(e,t,{highlight:!0,width:240,offset:[11,-13],shift:-11,border:[0,10,10,10],side:"bottom",align:"right",withCloseButton:!0,onBGClick:function(){f.hideTT(),Object(a.enableBodyScroll)()},onCloseButtonClick:function(){return Object(a.enableBodyScroll)()}});setTimeout((function(){var t=Object(c.getXY)(e)[1];Object(a.scrollToY)(t-100,250),f.showTT(),Object(a.disableBodyScroll)()}),2e3);break;case n.WARNING:var h={act:"help_hints_hide",hint_id:e.dataset.tooltip_id,hash:e.dataset.tooltip_hash},w=b?"right":"bottom",v=b?[0,0]:[0,5],O=e.querySelector(".MarketPromotionGroupEntrypoint"),m=new r.default(O,{content:(o=t,l=g||"",o.replace("{link}",'<a class="MarketPromotionGroupEntrypointTooltip__moreLink" onclick="'+l+'">').replace("{/link}","</a>")),forceSide:w,withCloseButton:!0,appendTo:p,autoShow:!1,noAutoHideOnWindowClick:!0,noHideOnClick:!0,width:250,offset:v,cls:"MarketPromotionGroupEntrypointTooltip feature_intro_tt",onCloseButtonClick:function(){return _.ajax.post("al_index.php",h)}});p&&s(p,(function(){return m.show()}));break;case n.ONBOARDING:var k={act:"help_hints_hide",hint_id:e.dataset.tooltip_id,hash:e.dataset.tooltip_hash},P=new r.default(e,{content:u(t),forceSide:"bottom",align:"right",withCloseButton:!0,appendTo:p,autoShow:!1,noAutoHideOnWindowClick:!0,noHideOnClick:!0,width:250,offset:[0,0],centerShift:-11,cls:"MarketPromotionGroupEntrypointTooltip feature_intro_tt",onCloseButtonClick:function(){return _.ajax.post("al_index.php",k)}});p&&s(p,(function(){return P.show()}))}}}}},vkK6:function(e,t,o){"use strict";o.r(t),o.d(t,"getActionData",(function(){return r}));var n=o("ZD4m"),r=function(e){var t=Object(n.getJsonDataValue)(e,"data-action-params");if("object"==typeof t||null===t)return{actionParams:t}}},xmNA:function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Public",(function(){return Public})),__webpack_require__.d(__webpack_exports__,"replaceChars",(function(){return replaceChars}));var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a1Th"),core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("Btvt"),core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("HEwt"),core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("OG14"),_web_lib_ui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("v+DW"),_web_lib_message_box__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("EasH"),_web_lib_lang__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("4+be"),_groups_track__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("CQka"),_web_groups_menu__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("X3vJ"),_groups_WarningNotification_WarningNotification__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("gVOz"),_web_groups_SimilarGroups__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("qJqe"),_web_groups_EasyMarketPromoteTooltip__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("oZDo"),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("98sY"),_web_lib_stats__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("XzvV"),_web_groups_actions_menu__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("FkYl"),Public={toggleFave:function(e,t,o,n){null!=cur.toggleFaveAct&&(o=cur.toggleFaveAct),ajax.post("fave.php",{act:o?"a_add_group":"a_delete_group",gid:-cur.oid,hash:t},{onDone:function(t){val(e,t),cur.toggleFaveAct=!o,toggleClass(e,"on")},showProgress:window.Page&&Page.actionsDropdownLock.pbind(e),hideProgress:window.Page&&Page.actionsDropdownUnlock.pbind(e)}),cancelEvent(n)},hideHelpStep:function(e,t,o,n){var r=domClosest("page_block",e);return e&&e.tt&&e.tt.hide&&e.tt.hide({fasthide:!0}),r&&slideUp(r,200,re.pbind(r)),ajax.post("/al_public.php",{act:"a_hide_help_step",pid:cur.options.public_id,step:t,hash:o}),n.cancelBubble=!0,cancelEvent(n)},showMapBox:function(e,t,o){if(!window.showZeroZoneBox||!window.showZeroZoneBox("places",(function(){Public.showMapBox()}))){if(!cur.boxForMap){var n={bodyStyle:"padding: 0;",width:597,title:e,onShow:function(){cur.boxMap&&cur.boxMap.redraw()}};cur.boxForMap=Object(_web_lib_message_box__WEBPACK_IMPORTED_MODULE_5__.showFastBox)(n,'<div class="box_loader"></div>'),cur.boxForMap.setControlsText('<a href="'+o+'">'+Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("events_goto_search")+"</a>")}cur.boxMap?cur.boxForMap.show():(cur.boxForMap.content('<div id="boxMap" style="width: 595px; height: 500px"></div>'),cur.boxMap=new window.VkMap(ge("boxMap"),{type:"yandex",key:cur.mapKey,onReady:function(){cur.boxMap.updateAddress({str:e,zoom:t}),cur.boxForMap.setOptions({title:cur.boxMap.getShowAddress()}),cur.boxMap.updateMap()}}))}},showLinks:function(e){showBox("/al_public.php",{act:"a_get_links",pid:cur.options.public_id,type:e},{params:{width:467}}).setOptions({onHideAttempt:function(){return cur.reloadAfterClose&&(nav.reload({noscroll:!0}),cur.reloadAfterClose=!1),!0}})},otherActs:function(e){if(clearTimeout(cur.hideOtherTimer),!e)return!1;e.blur();var t=ge("page_other_acts");return isVisible(t)||(t.style.marginLeft="-1px",t.style.marginTop="-21px",show(t)),!1},hideOther:function(e){if(e>0)cur.hideOtherTimer=setTimeout(cur.hideOther,e);else{var t=ge("page_other_acts");-1==e?hide(t):fadeOut(t,200)}},updateBlock:function(e,t){(e=ge(e))&&t&&domPN(e).replaceChild(se(t),e)},unSubscribe:function unSubscribe(el){var sp,hp;if(el=ge(el),el&&("button"==el.tagName.toLowerCase()||hasClass(el,"flat_button")))sp=_web_lib_ui__WEBPACK_IMPORTED_MODULE_4__.lockButton.pbind(el),hp=_web_lib_ui__WEBPACK_IMPORTED_MODULE_4__.unlockButton.pbind(el);else if(el&&window.Page){if(Page.actionsDropdownLocked(el))return;sp=Page.actionsDropdownLock.pbind(el),hp=Page.actionsDropdownUnlock.pbind(el),hasClass(el,"page_actions_btn")&&Page.actionsDropdownHide(domPS(el),1)}return ajax.post("al_public.php",{act:"a_leave",pid:cur.options.public_id,hash:cur.options.enterHash,ref:window.cur.ref},{onDone:function onDone(status,actions,followers,js){Object(_web_lib_stats__WEBPACK_IMPORTED_MODULE_13__.tryLogOutOfSerpClick)(_web_lib_stats__WEBPACK_IMPORTED_MODULE_13__.outOfSerpGroup,cur.oid,_web_lib_stats__WEBPACK_IMPORTED_MODULE_13__.clickTypeLeaveGroupOut),val("page_actions",status);var actionsEl=geByClass1("_page_actions_container");if(actionsEl&&actions&&(domPN(actionsEl).replaceChild(se(actions),actionsEl),SimilarGroups.initMenuItem()),Public.updateBlock("public_followers",followers),js)try{eval(js)}catch(e){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_12__.logEvalError)(e,js)}},showProgress:sp,hideProgress:hp}),!1},subscribe:function subscribe(el){var sp,hp;if(el=ge(el),el&&"button"==el.tagName.toLowerCase())sp=_web_lib_ui__WEBPACK_IMPORTED_MODULE_4__.lockButton.pbind(el),hp=_web_lib_ui__WEBPACK_IMPORTED_MODULE_4__.unlockButton.pbind(el);else if(el){if(el.firstChild&&"progress"==el.firstChild.className)return;sp=function(){el.oldhtml=el.innerHTML,el.innerHTML='<span class="progress" style="display: block"></span>'},hp=function(){el.innerHTML=el.oldhtml},window.Page&&hasClass(el,"page_actions_btn")&&Page.actionsDropdownHide(domPS(el),1)}var query={act:"a_enter",pid:cur.options.public_id,hash:cur.options.enterHash,ref:window.cur.ref},trackcode=domData(el,"trackcode");return trackcode&&(query.trackcode=trackcode),ajax.post("al_public.php",query,{onDone:function onDone(status,actions,followers,js,params){Object(_web_lib_stats__WEBPACK_IMPORTED_MODULE_13__.tryLogOutOfSerpClick)(_web_lib_stats__WEBPACK_IMPORTED_MODULE_13__.outOfSerpGroup,cur.oid,_web_lib_stats__WEBPACK_IMPORTED_MODULE_13__.clickTypeJoinGroupOut),val("page_actions",status);var actionsEl=geByClass1("_page_actions_container"),isAppWideScreenPage=!!document.querySelector(".WideScreenAppPage");if(actionsEl&&actions&&!isAppWideScreenPage&&(domPN(actionsEl).replaceChild(se(actions),actionsEl),SimilarGroups.initMenuItem()),Public.updateBlock("public_followers",followers),js)try{eval(js)}catch(e){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_12__.logEvalError)(e,js)}void 0!==params.hidden_similar_group||isVisible(SimilarGroups.block)||isAppWideScreenPage||SimilarGroups.show(_web_groups_SimilarGroups__WEBPACK_IMPORTED_MODULE_10__.OPEN_BLOCK_MODE_SUBSCRIBE)},onFail:function(e){if(e)return Object(_web_lib_message_box__WEBPACK_IMPORTED_MODULE_5__.showFastBox)({title:Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_error"),onHide:nav.reload,bodyStyle:"padding: 20px; line-height: 160%;"},e),!0},showProgress:sp,hideProgress:hp}),!1},searchApp:function(e,t){e!=cur.lastLink&&ajax.post("al_public.php",{act:"a_search_app",pid:cur.options.public_id,page:e},{onDone:function(e,o,n,r,i,a){if(e)return ge("public_app_error_msg").innerHTML=e,void(cur.appId=!1);cur.appHash=i,cur.appId=o,ge("public_app_error_msg").innerHTML="",ge("public_app_image").innerHTML=n,ge("public_app_info").innerHTML=r,void 0!==a&&(ge("public_app_address").value=a),t&&t(e)}})},rssImport:function(){var e=showBox("al_public.php",{act:"set_rss_import_box",pid:cur.oid},{params:{width:410}});e.removeButtons(),e.addButton(Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_cancel"),e.hide,"no"),e.addButton(Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_save"),(function(){ajax.post("al_public.php",{act:"a_set_rss_import",pid:cur.oid,url:ge("rss_import_url").value,hash:ge("rss_import_hash").value},{onDone:function(e){ge("public_import_rss_tag").innerHTML=e}}),e.hide()}),"yes")},init:function(e){extend(cur,{oid:-e.public_id,module:"public",options:e,postTo:-e.public_id,mid:-e.public_id,editing:!1,hideOther:Public.hideOther,otherActs:Public.otherActs,otherCount:e.otherCount,_back:{show:[],hide:[],text:e.back}});var t=new URLSearchParams(window.location.search);t.delete("ref");var o=Array.from(t).length>0?`${window.location.pathname}?${t.toString()}`:window.location.pathname;window.history.replaceState(null,"",o),SimilarGroups.delRefFromUrl(),cur.nav.push(e=>Object(_web_lib_stats__WEBPACK_IMPORTED_MODULE_13__.removeOutOfSerpClickLogging)(e,_web_lib_stats__WEBPACK_IMPORTED_MODULE_13__.outOfSerpGroup,cur.oid)),ge("public_wall")&&wall.init(extend(e,{automore:1})),e.age_disclaimer&&Groups&&Groups.showDisclaimer(e,"public"),e.enableLinkTracking&&Object(_groups_track__WEBPACK_IMPORTED_MODULE_7__.initGroupLinksTracking)(),e.gwn&&!Array.isArray(e.gwn)&&Object(_groups_WarningNotification_WarningNotification__WEBPACK_IMPORTED_MODULE_9__.default)(e.gwn),Object(_web_groups_menu__WEBPACK_IMPORTED_MODULE_8__.initGroupsMenu)(e.public_id),Object(_web_groups_EasyMarketPromoteTooltip__WEBPACK_IMPORTED_MODULE_11__.showEasyMarketPromoteTooltip)(),Object(_web_groups_actions_menu__WEBPACK_IMPORTED_MODULE_14__.initPageActionsMenu)()},toggleTop:function(e,t,o,n,r){ajax.post("al_groups.php",{act:"a_toggle_top",gid:t,hash:o,nocis:r},{onDone:function(t){e.innerHTML=t},showProgress:window.Page&&Page.actionsDropdownLock.pbind(e),hideProgress:window.Page&&Page.actionsDropdownUnlock.pbind(e)})},toggleStickers:function(e,t,o,n){ajax.post("al_groups.php",{act:"a_toggle_stickers",gid:t,hash:o},{onDone:function(t){e.innerHTML=t},showProgress:window.Page&&Page.actionsDropdownLock.pbind(e),hideProgress:window.Page&&Page.actionsDropdownUnlock.pbind(e)})},uploadPhotos:function(e,t){if(!t)return nav.go(e,t);if(checkEvent(t))return!0;cur.onPhotoInputChange=function(o){return window.filesToUpload=o,nav.go(e,t)};var o=ge("page_upload_photos_input");return o||(o=se('<input id="page_upload_photos_input" class="file page_upload_photos_input" type="file" onchange="cur.onPhotoInputChange(this.files);"\n            multiple="true" accept="image/jpeg,image/png,image/gif" name="photo" />')),o.click(t),!1}},replaceChars=function(e,t){for(var o="",n=0;n<e.length;n++){var r=e.charCodeAt(n);switch(r){case 38:o+="&amp;";break;case 60:o+="&lt;";break;case 62:o+="&gt;";break;case 34:o+="&quot;";break;case 13:o+="";break;case 10:o+=t?"\t":"<br>";break;case 33:o+="&#33;";break;case 39:o+="&#39;";break;default:o+=r>128&&r<192||r>1280?"&#"+r+";":e.charAt(n)}}return o}}});