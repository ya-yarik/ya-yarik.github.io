!function(e){function t(t){for(var i,s,n=t[0],l=t[1],c=t[2],p=0,h=[];p<n.length;p++)s=n[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&h.push(a[s][0]),a[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(d&&d(t);h.length;)h.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],i=!0,n=1;n<o.length;n++){var l=o[n];0!==a[l]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=o[0]))}return e}var i={},a={"web/verification":0},r=[];function s(t){if(i[t])return i[t].exports;var o=i[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.e=function(){return Promise.resolve()},s.m=e,s.c=i,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(o,i,function(t){return e[t]}.bind(null,i));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/js/cmodules/";var n=window.webpackJsonp=window.webpackJsonp||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var d=l;r.push([326,"common"]),o()}({326:function(e,t,o){e.exports=o("HBpD")},HBpD:function(e,t,o){"use strict";o.r(t);o("rGqo"),o("Btvt");var i=o("zxIV"),a=o("v+DW"),r=o("EasH"),s=o("aong"),n=o("4+be"),l=o("t7n3"),c=(o("pIFo"),o("Egk5")),d=o("cGUQ"),p=e=>setTimeout(Object(r.showFastBox)({title:Object(n.getLang)("global_error")},e).hide,1e4);class h{constructor(e,t,o,a,r,s){if("photo"!==e&&"doc"!==e)throw Error("Undefined uploader type: "+e);var n={hideOnStart:!1,target:"new"},l=t+"_browse_file";if(this.id=t,this.previewId=t+"_media_preview",this.successCallback=a,this.removeCallback=r,this.mediaSelector=new MediaSelector(l,this.previewId,[[e]]),this.uploadData=o,this.type=e,this.filesSendToUpload=0,this.uploadedFiles=0,this.startUploadTitle=Object(i.ce)("span"),this.browseContainer=Object(i.ge)(l),this.uploadedControl=Object(i.domPN)(this.browseContainer),this.uploadedItems=Object(i.geByClass1)("verification_uploaded_items",this.uploadedControl),this.maxFiles=o.options.max_files?o.options.max_files:1,!this.browseContainer)throw Error("Cant find browse file container: "+l);switch(e){case"photo":this.initPhotoUpload(n);break;case"doc":this.initDocUpload(n)}this.insertUploadedFiles(s,!0),this.customizeUploadButton(),Object(i.hide)(this.previewId)}insertUploadedFiles(e,t){each(e,(e,o)=>{if(o.hasOwnProperty("link")&&o.hasOwnProperty("name")&&o.hasOwnProperty("media_code")){var a="";a=o.link.length>0?'<a href="'+o.link+'" target="_blank">'+o.name+"</a>":o.name;var r=Object(i.se)(getTemplate("verification_uploaded_item_template"));if(Object(i.val)(Object(i.geByClass1)("verification_uploaded_name",r),a),Object(i.domData)(r,"media-code",o.media_code),Object(c.addEvent)(Object(i.geByClass1)("verification_upload_delete_link",r),"click",e=>this.removeUploadedFile(e,o.media_code)),this.uploadedItems.appendChild(r),t){var s=o.media_code.replace(this.type.toLowerCase(),"");this.mediaSelector.chooseMedia(this.type,s,[],void 0,!0)}}}),this.toggleUploadItemsContainer(),this.toggleBrowseContainer()}initPhotoUpload(e){var t=(this.uploadData||{}).options;return Upload.init(this.browseContainer,this.uploadData.url,this.uploadData.vars,{file_name:"photo",file_size_limit:5242880,file_types_description:"Image files (*.jpg, *.jpeg, *.png, *.gif)",file_types:t.file_types,accept:"image/jpeg,image/png,image/gif",file_match:".(gif|jpg|jpeg|png)$",lang:t.lang,multiple:0,multi_progress:1,max_files:1,max_files_hide_last:1,clear:1,type:"photo",max_attempts:3,file_input:cur.uploadInput,server:t.server,error:t.default_error,error_hash:t.error_hash,noCheck:!0,onUploadStart:(t,o)=>this.onUploadStart(t,o,"photo",e),onUploadComplete:(e,t)=>this.onUploadComplete(e,t,this.choosePhotoUploaded),onUploadProgress:(e,t,o)=>this.onUploadProgress(e,t,o,"photo"),onUploadError:e=>this.chooseFail(e),onNoFilteredCallback:()=>this.onNoFilteredCallback(),onUploadCompleteAll:t=>this.onUploadCompleteAll(t,e),onMaxCount:()=>this.customizeUploadButton()})}initDocUpload(e){var t=(this.uploadData||{}).options;return Upload.init(this.browseContainer,this.uploadData.url,this.uploadData.vars,{file_name:"file",file_size_limit:1073741824,file_types_description:"Documents",file_types:t.file_types,accept:t.accept,file_disallowed_types:!1,lang:t.lang,multiple:1,multi_progress:1,max_files:t.max_files||1,max_files_hide_last:1,clear:1,type:"doc",max_attempts:3,file_input:cur.uploadInput,server:t.server,error:t.default_error,error_hash:t.error_hash,noCheck:!0,onCheckComplete:e&&e.onCheckComplete||!1,onUploadStart:(t,o)=>this.onUploadStart(t,o,"doc",e),onUploadComplete:(e,t)=>this.onUploadComplete(e,t,this.chooseDocUploaded),onUploadProgress:(e,t,o)=>this.onUploadProgress(e,t,o,"doc"),onUploadError:e=>this.chooseFail(e),onNoFilteredCallback:()=>this.onNoFilteredCallback(),onUploadCompleteAll:t=>this.onUploadCompleteAll(t,e),onMaxCount:()=>this.customizeUploadButton()})}onUploadStart(e,t,o,r){Object(i.hide)(this.browseContainer),show(this.previewId),Object(a.lockButton)("button_save_step"),this.filesSendToUpload++;var s=void 0!==e.ind?e.ind:e,n=Upload.options[s];"form"===Upload.types[s]&&(Object(i.geByClass1)("file",this.browseContainer).disabled=!0),"fileApi"===Upload.types[s]&&(cur.notStarted&&(r&&r.hideOnStart&&boxQueue.hideLast(),delete cur.notStarted),n.multi_progress&&this.onUploadProgress(e,0,0,o))}onUploadComplete(e,t,o){var i;try{i=JSON.parse(t)}catch(e){i=Object(d.fromQueryString)(t)}i.photos||i.file?o(this,e,i):Upload.onUploadError(e)}onUploadCompleteAll(e,t){var o=void 0!==e.ind?e.ind:e;"fileApi"!==Upload.types[o]&&(t.hideOnStart?boxQueue.hideLast():Upload.embed(o))}onUploadProgress(e,t,o,i){var a=void 0!==e.ind?e.ind:e;if("fileApi"===Upload.types[a]){var r=(cur.attachMediaIndexes||{})[a];if(void 0===r||r&&this.mediaSelector[r].chosenMedia){var s={loaded:t,total:o};e.fileName&&(s.fileName=e.fileName.replace(/[&<>"']/g,"")),this.mediaSelector.showMediaProgress(i,a,s)}}}chooseFail(e){var t=void 0!==e.ind?e.ind:e,o=(Upload.options[t]||{}).type||"",r="";if("fileApi"===Upload.types[t]&&!Upload.options[t].wiki_editor){var s=e.fileName?t+"_"+e.fileName:e;this.mediaSelector&&Object(i.re)("upload"+s+"_progress_wrap")}"doc"===o?r=Object(n.getLang)("verification_upload_fail_doc"):"photo"===o&&(r=Object(n.getLang)("verification_upload_fail_photo")),r&&p(r),show(this.browseContainer),Upload.embed(t),Object(a.unlockButton)("button_save_step"),this.customizeUploadButton(),this.uploadedFiles++,this.checkMediaPreviewVisibility()}checkMediaPreviewVisibility(){this.uploadedFiles===this.filesSendToUpload&&Object(i.hide)(this.previewId)}onNoFilteredCallback(){var e="";return"doc"===this.type?e=Object(n.getLang)("verification_upload_fail_doc"):"photo"===this.type&&(e=Object(n.getLang)("verification_upload_fail_photo")),!!e&&p(e)}choosePhotoUploaded(e,t,o){var a=void 0!==t.ind?t.ind:t,r=t.fileName?a+"_"+t.fileName:t,s=Object(i.ge)("upload"+r+"_progress_wrap");Object(i.hide)(e.browseContainer),ajax.post("al_photos.php?act=choose_uploaded_support",o,{onDone(o,a){var n="photo"+o,l="",c=-1;if(e.uploadedFiles++,e.checkMediaPreviewVisibility(),Object(i.re)(s),Object.keys(a.editable.sizes).map((e,t)=>{var o=a.editable.sizes[e][1]*a.editable.sizes[e][2];o>c&&(c=o,l=a.editable.sizes[e][0])}),l.length<1)throw Error("Cant find src for uploaded photo from data: "+JSON.stringify(a));e.insertUploadedFiles([{name:t.fileName,link:l,media_code:n}]),e.successCallback&&e.successCallback(e.id,n,t.fileName),e.mediaSelector.chooseMedia("photo",o,extend(a,{upload_ind:r}),void 0,!0)},onFail:t=>{e.chooseFail(t),e.toggleBrowseContainer()}})}removeUploadedFile(e,t){var o=e.currentTarget,a=Object(i.domPN)(o),r=this.mediaSelector.chosenMedias,s=void 0;each(r,(e,o)=>{if(o){var i=o[1];o[0]+i===t&&(s=e)}}),void 0!==s&&this.mediaSelector.unchooseMedia(s),a.remove(),this.removeCallback(this.id,t),this.toggleUploadItemsContainer(),show(this.browseContainer)}customizeUploadButton(){var e=geByTag1("button",this.browseContainer);this.startUploadTitle.classList.add("verification_upload_image_link"),Object(c.addEvent)(this.startUploadTitle,"click",e.onclick),Object(i.val)(this.startUploadTitle,attr(this.browseContainer,"data-title")),this.browseContainer.insertBefore(this.startUploadTitle,e),Object(i.re)(e)}toggleBrowseContainer(){geByClass("verification_uploaded_item",this.uploadedItems).length<this.maxFiles?show(this.browseContainer):Object(i.hide)(this.browseContainer)}toggleUploadItemsContainer(){geByClass("verification_uploaded_item",this.uploadedItems).length>0?show(this.uploadedItems):Object(i.hide)(this.uploadedItems)}chooseDocUploaded(e,t,o){var a=void 0!==t.ind?t.ind:t,r=t.fileName?a+"_"+t.fileName:t,s=Object(i.ge)("upload"+r+"_progress_wrap"),n=extend({from:"choose",type:0,blockPersonal:1},o);Object(i.hide)(e.browseContainer),ajax.post("docs.php?act=a_save_doc",n,{onDone(o,a,n){var l=o+"_"+a,c="doc"+l,d="";if(e.uploadedFiles++,e.checkMediaPreviewVisibility(),Object(i.re)(s),n.hasOwnProperty("href")?d=n.href:n.hasOwnProperty("editable")&&n.editable.hasOwnProperty("href")&&(d=n.editable.href),d.length<1)throw Error("Cant find src for uploaded doc from data: "+JSON.stringify(n));e.insertUploadedFiles([{link:d,name:t.fileName,media_code:c}]),e.successCallback&&e.successCallback(e.id,c),e.mediaSelector.chooseMedia("doc",l,extend(n,{upload_ind:r}),void 0,!0)},onFail:t=>{e.chooseFail(t),e.toggleBrowseContainer()}})}}var f=e=>"verification.php?act="+e,_=(e,t)=>{var o="button_save_step";if(e=Object(l.extend)(e,u()),t&&e.hasOwnProperty("id")){var r=Object(i.ge)(e.id),n=Object(i.val)(e.id);r&&r.classList.contains("checkbox")&&(n=Object(a.isChecked)(r)?1:0),void 0===n&&(n=Object(s.getDropdownValue)(e.id)),void 0!==n&&(e.value=n)}e.hasOwnProperty("value")?ajax.post(f("a_save_request_value"),e,{onDone(){hide(Object(i.ge)("verification_errors_label"))},onFail:e=>Object(s.showErrorBox)(e),showProgress:()=>Object(a.lockButton)(o),hideProgress:()=>Object(a.unlockButton)(o)}):Object(a.unlockButton)(o)},u=()=>{var e=Object(i.ge)("verification_controls");if(!e)throw Error("Cant find verification_controls block");var t={},o=domData(e,"owner-id"),a=domData(e,"csrf-token"),r=domData(e,"current-step");return o&&(t.ownerId=o),a&&(t.csrfToken=a),r&&(t.currentStep=r),t};window.Verification=new class{showVerificationBox(e,t,o,a,n){var c="verification_box";a&&(c+=" "+a),void 0!==n&&!0!==n||(this.closeVerificationBox(),Object(i.geByClass)("verification_box").forEach(e=>Object(i.re)(e))),Object(r.showBox)(f(e),t,Object(l.extend)(o,{params:{width:655},containerClass:c,onFail:e=>(boxQueue.hideLast(),Object(s.showErrorBox)(e))}))}closeVerificationBox(){boxQueue.hideLast()}deleteRequest(e){ajax.post(f("delete_request"),{ownerId:e},{onDone:e=>console.log("deleted"),onFail:e=>Object(s.showErrorBox)(e)})}openBox(e){ajax.post(f("open_box"),{ownerId:e},{onDone:e=>{this.openBoxByType(e.owner_id,e.box)},onFail:e=>Object(s.showErrorBox)(e)})}openBoxByType(e,t){var o=clone(window.nav.objLoc);switch(o.vbt&&(delete o.vbt,nav.setLoc(o)),t){case 1:this.infoBox(e);break;case 2:this.continueFillingBox(e);break;case 3:this.requestConsideredBox(e);break;case 4:this.requestRejectedBox(e);break;case 5:this.extendRequestBox(e);break;case 8:this.confirmBox(e);break;case 9:this.requestStepTwoBox(e,3);break;case 10:this.verifiedPageBox(e);break;case 11:this.timeExpiredBox(e);break;case 12:this.timeExpiringBox(e);break;case 13:this.oldVerifiedPageBox(e)}}infoBox(e){this.showVerificationBox("info",{ownerId:e})}oldVerifiedPageBox(e){this.showVerificationBox("old_verified_page",{ownerId:e})}continueFillingBox(e){this.showVerificationBox("continue_filling",{ownerId:e})}requestSentBox(e){this.showVerificationBox("request_sent",{ownerId:e})}requestConsideredBox(e){this.showVerificationBox("request_considered",{ownerId:e})}confirmBox(e){this.showVerificationBox("confirm",{ownerId:e})}confirmPhone(e){var t=u();ajax.post(f("a_confirm_phone"),t,{onDone:e=>{this.confirmBox(e)},onFail:e=>void 0!==e&&Object(s.showErrorBox)(e),showProgress:()=>Object(a.lockButton)(e),hideProgress:()=>Object(a.unlockButton)(e)})}confirmEmail(e,t){var o=Object(l.extend)({hash:t},u());ajax.post(f("a_confirm_email"),o,{onDone:t=>{hide(geByClass1("verification_send_title",e)),show(geByClass1("verification_sent_title",e)),e.classList.add("secondary"),e.classList.add("flat_btn_lock")},onFail:e=>(void 0===e&&(e=Object(n.getLang)("verification_mail_send_error")),Object(s.showErrorBox)(e)),showProgress:()=>Object(a.lockButton)(e),hideProgress:()=>Object(a.unlockButton)(e)})}confirmSentBox(e){this.showVerificationBox("confirm_sent_popup",{ownerId:e},{},"",!1)}extendRequestBox(e){this.showVerificationBox("extend_request",{ownerId:e})}requestRejectedBox(e){this.showVerificationBox("request_rejected",{ownerId:e})}timeExpiringBox(e){this.showVerificationBox("time_expires",{ownerId:e})}timeExpiredBox(e){this.showVerificationBox("time_expired",{ownerId:e})}verifiedPageBox(e){this.showVerificationBox("verified_page",{ownerId:e})}verifiedCommunityBox(e,t){this.showVerificationBox("verified_community",{ownerId:e,currentLevel:t})}requestStepOneBox(e){this.showVerificationBox("request_step_one",{ownerId:e})}requestStepOneSend(e,t){var o=intval(Object(s.getDropdownValue)("verification_category")),i=intval(Object(s.getDropdownValue)("verification_country")),r=intval(Object(s.getDropdownValue)("verification_city")),n=intval(Radiobutton.val("verification_persona_type")),c=intval(Radiobutton.val("verification_star_agent")),d=intval(Object(s.getDropdownValue)("verification_offline_office")),p=intval(Object(s.getDropdownValue)("verification_subcategory")),h=Object(l.extend)({category:o,subCategory:p,country:i,city:r,offlineOffice:d,personaType:n,starAgent:c},u()),_=()=>this.requestStepTwoBox(t,2),v=this;ajax.post(f("a_request_step_one_send"),h,{onDone(e){_()},onFail:e=>v.showRequestInputErrors(e),showProgress:()=>Object(a.lockButton)(e),hideProgress:()=>Object(a.unlockButton)(e)})}requestStepTwoBox(e,t){this.showVerificationBox("request_step_two",{ownerId:e,currentStep:t},{},"no_overflow_box_body")}requestStepThreeBox(){this.showVerificationBox("request_step_three",{},{},"no_overflow_box_body")}showBoxTab(e,t){if(Object(i.ge)(t)){var o=gpeByClass("verification_tab_pane",e),a=Object(i.geByClass)("verification_item",o),r=Object(i.geByClass)("verification_tab",o),s=Object(i.ge)(t);r.forEach(e=>e.classList.remove("active")),a.forEach(e=>e.classList.remove("verification_active")),e.classList.add("verification_active"),s.classList.add("active")}}confirmRequestSend(){boxQueue.hideLast(),this.requestStepTwoConfirm(0)}requestStepTwoConfirm(e){var t=(e,t)=>this.requestStepTwoBox(e,t),o=e=>this.requestSentBox(e),i=this,r=u(),s=r.ownerId,n=(e,n)=>{r.onlyValidate=parseInt(e),ajax.post(f("a_request_step_two_send"),r,{onDone(i){if(1===e&&void 0!==n)return n();i.next_step>0?t(s,i.next_step):1===i.finished&&o(s)},onFail:e=>i.showRequestInputErrors(e),showProgress:()=>Object(a.lockButton)("button_save_step"),hideProgress:()=>Object(a.unlockButton)("button_save_step")})};1===e?n(1,()=>{this.showVerificationBox("confirm_sent_popup",{ownerId:s},{},"",!1)}):n(0)}sendSecondLevelRequest(e){var t=u(),o=Object(i.ge)("button_save_step");ajax.post(f("a_send_second_level_request_form"),t,{onDone(t){Object(i.val)(o,e),o.classList.add("secondary"),o.classList.add("flat_btn_lock")},onFail:e=>this.showRequestInputErrors(e),showProgress:()=>Object(a.lockButton)("button_save_step"),hideProgress:()=>Object(a.unlockButton)("button_save_step")})}showRequestInputErrors(e){if(!e)throw Error("Failed to show request input errors, undefined response");if((e=JSON.parse(e)).first_error.length>0)return Object(s.showErrorBox)(e.first_error);var t=e.errors,o=Object(i.ge)("verification_errors_label"),a=geByClass1("verification_errors_list",o),r="";return t.forEach(e=>{r+="<span>"+e.message+"</span>"}),Object(i.val)(a,r),show(o),!0}setStepOneOptions(e,t,o,i,a,r,s,n,l){this.subCategories=e,this.personaTypeRadioItems=t,this.categoryPersonaTypeOptions=o,this.subCategoryPersonaTypeOptions=i,this.offlineOfficeCategoryOptions=a,this.offlineOfficeSubCategoryOptions=r,this.offlineValuesList=s,this.categoriesDescription=n,this.starAgentList=l}categoryUpdated(e){var t=intval(e),o=geByClass1("verification_request_fields_step_one"),a=geByClass1("verification_charity_alert"),r=Object(i.ge)("step_one_next_button"),s=Object(i.ge)("verification_category_container");hide(Object(i.ge)("verification_errors_label")),geByClass1("verification_small",s)||s.appendChild(Object(i.se)(getTemplate("verification_small_info_template")));var n=geByClass1("verification_small",s);if(0===t)return hide(n),hide("verification_offline_office_container"),void hide("verification_persona_type_radio_container");this.categoriesDescription.hasOwnProperty(t)?(Object(i.val)(n,this.categoriesDescription[t]),show(n)):hide(n),hide(a),show(o),r.classList.remove("button_disabled");var l=this.drawSubCategoriesSelect(t);return 6===t?(hide(o),show(a),r.classList.add("button_disabled"),!1):(this.drawPersonaTypeRadio(t,l),this.toggleStarAgentRadio(t,l),!0)}toggleStarAgentRadio(e,t){var o=Object(i.ge)("verification_star_agent_radio_container");0===e&&hide(o),(void 0===t?-1!==this.starAgentList.categories.indexOf(e):-1!==this.starAgentList.sub_categories.indexOf(t))?show(o):hide(o)}drawOfflineOfficeSelect(e,t,o){var a=parseInt(Radiobutton.val("verification_persona_type")),r=Object(i.ge)("verification_offline_office_container");void 0!==t&&(t=parseInt(t)),r.dropdown=void 0;var s=null,n=null;if(this.offlineOfficeCategoryOptions.hasOwnProperty(e)&&(s=this.offlineOfficeCategoryOptions[e]),this.offlineOfficeSubCategoryOptions.hasOwnProperty(e)&&this.offlineOfficeSubCategoryOptions[e].hasOwnProperty(t)&&(n=this.offlineOfficeSubCategoryOptions[e][t]),!s&&!n)throw Error("Undefined category or sub category value for draw offline office dropdown!");Object(i.geByClass)("dropdown_element_place",r).forEach(e=>Object(i.re)(e));var l=s||n,c=1===a&&0===l.individual_enabled,d=2===a&&0===l.legal_enabled;if(c||d)return hide(r),!1;var p=Object(i.se)(getTemplate("verification_offline_office_template")),h=geByClass1("dropdown_control",r).appendChild(p),f=geByClass1("verification_insert_dropdown",h);void 0!==o&&Object(i.val)(f,o),r.dropdown=new Dropdown(f,this.offlineValuesList,{width:300,big:1}),show(r)}drawPersonaTypeRadio(e,t,o){var a=Object(i.se)(getTemplate("verification_persona_type_template")),r=Object(i.ge)("verification_persona_type_radio_container"),s=!1,n=null,l=null,c=0,d=!1,p=null,h=null;if(this.categoryPersonaTypeOptions.hasOwnProperty(e)&&(n=this.categoryPersonaTypeOptions[e]),this.subCategoryPersonaTypeOptions.hasOwnProperty(e)&&this.subCategoryPersonaTypeOptions[e].hasOwnProperty(t)&&(l=this.subCategoryPersonaTypeOptions[e][t]),!n&&!l)throw Error("Undefined category or sub category value for draw radio persona type");Object(i.geByClass)("checkboxes_list",r).forEach(e=>Object(i.re)(e)),r.appendChild(a);var f=0;Object.keys(this.personaTypeRadioItems).map((a,r)=>{p=this.personaTypeRadioItems[a],c=0,d=!1,n&&(c=parseInt(n[p.persona_key])),l&&(c=parseInt(l[p.persona_key])),void 0!==o&&o===parseInt(a)&&(d=!0,s=!0),void 0!==o||s||1!==c||(d=!0,s=!0),1===c&&f++,h=new Radiobutton(Object(i.ge)(p.id),{width:300,label:p.title,checked:d,onSelect:()=>this.drawOfflineOfficeSelect(e,t)}),0===c&&h.disable(a)}),2===f?show(r):hide(r),this.drawOfflineOfficeSelect(e,t),this.toggleStarAgentRadio(e,t)}drawSubCategoriesSelect(e,t){var o=Object(i.ge)("verification_subcategory_container");if(o.dropdown=void 0,Object(i.geByClass)("dropdown_element_place",o).forEach(e=>Object(i.re)(e)),hide(o),this.subCategories.hasOwnProperty(e)){var a=this.subCategories[e],r=Object(i.se)(getTemplate("verification_subcategory_template")),s=geByClass1("dropdown_control",o).appendChild(r),n=geByClass1("verification_insert_dropdown",s);void 0===t&&a.hasOwnProperty(0)&&a[0].hasOwnProperty(0)&&(t=a[0][0]),Object(i.val)(n,t);var l={width:300,big:1,onChange:t=>{var o=parseInt(t);this.drawPersonaTypeRadio(e,o),this.toggleStarAgentRadio(e,o)}};return o.dropdown=new Dropdown(n,a,l),a.length>1?show(o):hide(o),t}}insertSocial(e,t){var o=Object(i.se)(getTemplate("verification_social_template")),a=gpeByClass("verification_social_controls",e),r=geByClass1("verification_social_controls_container",a),s=Object(i.geByClass)("verification_social_control",r).length;if(!(s>=7)){var n=r.appendChild(o),l=geByClass1("verification_social_address",n);void 0!==t&&Object(i.val)(l,t),s+1>=7&&hide(e)}}socialChange(e){var t=gpeByClass("verification_social_controls",e),o=Object(i.geByClass)("verification_social_control",t),r=gpeByClass("socials_form_group",e).id,s=[];each(o,(e,t)=>{var o=geByClass1("verification_social_address",t),a=Object(i.val)(o);a.length>0&&s.push(a)}),this.currentTimeoutInputId===r&&clearTimeout(this.currentInputTimeout),Object(a.lockButton)("button_save_step");var n={id:r,value:JSON.stringify(s)};this.currentTimeoutInputId=r,this.currentInputTimeout=setTimeout(()=>_(n),500)}removeSocial(e){var t=gpeByClass("verification_social_controls",e),o=gpeByClass("verification_social_controls_container",e),a=Object(i.geByClass)("verification_social_control",o),r=gpeByClass("verification_social_control",e),s=geByClass1("verification_social_insert_new",t);a.length<=1||(Object(i.re)(r),show(s),this.socialChange(s))}imageUploader(e,t,o){new h("photo",e,t,this.successFileUpload,this.removeFile,o)}documentsUploader(e,t,o){new h("doc",e,t,this.successFileUpload,this.removeFile,o)}successFileUpload(e,t,o){o=void 0===o?"":o;var i=JSON.stringify({media:t,name:o});_({id:e,value:i})}removeFile(e,t){var o=JSON.stringify({media:t,remove:!0});_({id:e,value:o})}sendRequestValue(e){var t=Object(i.ge)("button_save_step");if(this.currentTimeoutInputId===e&&clearTimeout(this.currentInputTimeout),"verification_request_site"===e){var o=Object(i.val)(e),r=gpeByClass("verification_request_step_two_body",Object(i.ge)(e)),s=geByClass1("verification_widget_on_site_checkbox",r);s&&s.classList.toggle("verification_hidden_checkbox",0===o.length)}Object(a.lockButton)(t),this.currentTimeoutInputId=e,this.currentInputTimeout=setTimeout(()=>_({id:e},!0),450)}removeVerify(e){var t="verification_remove_verify_info";e<0&&(t="verification_remove_verify_info_community"),Object(r.showFastBox)({title:Object(n.getLang)("verification_confirm_remove_verify_action")},Object(n.getLang)(t),Object(n.getLang)("verification_remove_verify_title"),t=>(t=>{var o=Object(l.extend)({ownerId:e},u());ajax.post(f("a_remove_verify"),o,{onDone:()=>nav.reload(),onFail:e=>Object(s.showErrorBox)(e),showProgress:()=>Object(a.lockButton)(t),hideProgress:()=>Object(a.unlockButton)(t)})})(t),Object(n.getLang)("global_cancel"))}},stManager.done(jsc("web/verification.js"))}});