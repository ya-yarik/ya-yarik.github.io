(()=>{"use strict";var n,o,r,e={249970:(n,o,r)=>{var e=r(606767);window.FansBox=e.default;try{stManager.done(jsc("web/fansbox.js"))}catch(n){}},606767:(n,o,r)=>{r.d(o,{default:()=>t});r(21466),r(820075),r(976142),r(283946),r(59357);var e=r(705456),s=r(719016),a=r(116886),c={init:function(n,o){extend(cur,{fnbxOffsets:cur.fnbxOffsets||{},fnbxPhCache:cur.fnbxPhCache||{},fnbxPhShown:cur.fnbxPhShown||{},fnbxIdolsList:cur.fnbxIdolsList||{},fnbxIdolsCache:cur.fnbxIdolsCache||{},fnbxIdolsIndex:cur.fnbxIdolsIndex||{},fnbxIdolsProcessed:cur.fnbxIdolsProcessed||{},fnbxIdolsQuery:cur.fnbxIdolsQuery||"",fnbxAutoload:!0,fnbxWasScroll:!1,fnbxHash:o.hash,fnbxOwnerId:o.ownerId,fnbxObjectId:o.objectId||"",fnbxId:n.tbId,fnbxSearchLink:o.searchLink||"",fnbxPage:o.address||"al_fans.php",fnbxVars:o.getVars||c.fnbxVars}),cur.fnbxOffsets[o.tab]=o.offset,ajax.preload(cur.fnbxPage,extend(cur.fnbxVars(o.tab),{offset:o.offset}),o.preload);var r="padding: 0;";isVisible(n.titleWrap)||(r+="margin-top: 50px;"),n.setOptions({width:o.intro?630:642,bodyStyle:r,noRefreshCoords:!0});var e=boxLayerWrap.scrollTop;elfocus(geByClass1("_scroll_node",n.bodyNode)),boxLayerWrap.scrollTop=e,window.uiScrollBox&&uiScrollBox.init(n,{onShow:function(){cur.fnbxWasScroll&&(boxLayerWrap.scrollTop=cur.fnbxWasScroll,cur.fnbxWasScroll=!1),setTimeout(c.onScroll,0)},onHide:function(){o.onHide&&o.onHide()}}),n.tbDeinit||(extend(n,{tbDeinit:function(){cur.fnbxOwnerId=cur.fnbxOffsets=cur.fnbxPhShown=!1,re(cur.lSTL),removeEvent(boxLayerWrap,"scroll",c.onScroll)},tbcShowProgress:function(){hide("fans_idol_search"),cur.fnbxSearchLink&&hide(cur.fnbxSearchLink)},tbcOnLoad:function(){if("idols"==curBox().tbVis){if(ge("fans_rowsidols")){show("fans_idol_search");var n=cur.fnbxOwnerId;cur.fnbxIdolsList[n]?cur.fnbxIdolsQuery&&c.moreIdols(!0):(cur.fnbxIdolsList[n]="loading",ajax.post("/al_fans.php",{act:"load_idols",oid:n},{onDone:function(o){if(cur.fnbxIdolsList){var r="update"==cur.fnbxIdolsList[n],e=r||"more"==cur.fnbxIdolsList[n];cur.fnbxIdolsCache[n]={all:[]};for(var s=cur.fnbxIdolsProcessed,a=0,t=o.length;a<t;++a)void 0!==s[o[a][0]]&&(o[a][1]=s[o[a][0]]),cur.fnbxIdolsCache[n].all.push(a);cur.fnbxIdolsList[n]=o,cur.fnbxIdolsIndex[n]=new vkIndexer(cur.fnbxIdolsCache[n].all,(function(o){return cur.fnbxIdolsList[n][o][2]}),e?function(){cur.fnbxOwnerId==n&&curBox().tbId==cur.fnbxId&&"idols"==curBox().tbVis&&c.moreIdols(r)}:function(){})}}}))}}else hide("fans_idol_search"),cur.fnbxSearchLink&&show(cur.fnbxSearchLink)}}),addEvent(boxLayerWrap,"scroll",c.onScroll)),n.tbcOnLoad(),cur.fnbxLoaded&&cur.fnbxLoaded(),onBodyResize(),setTimeout(c.onScroll,0)},fnbxVars:function(n){return{act:cur.fnbxAct||"box",oid:cur.fnbxOwnerId,tab:n}},getHighlight:function(n){var o=cur.fnbxIdolsIndex[cur.fnbxOwnerId],r=o.delimiter,e=o.trimmer;return n+=" "+((0,a.parseLatin)(n)||""),n=(n=escapeRE(n).replace(/&/g,"&amp;")).replace(e,"").replace(r,"|"),{re:new RegExp("("+n+")","gi"),val:'<span class="highlight">$1</span>'}},moreIdols:function(n){var o=cur.fnbxOwnerId,r=cur.fnbxIdolsList[o];if(o&&curBox().tbId==cur.fnbxId)if(r&&"loading"!=r&&"update"!=r&&"more"!=r){r=cur.fnbxIdolsCache[o].all;var e=ge("sb_search_"+cur.fnbxId),s=trim(val(e));isVisible(curBox().tbSearch)||(s="");var a=n||s!=cur.fnbxIdolsQuery,t=!1;if(cur.fnbxIdolsQuery=s,s){if(void 0===(r=cur.fnbxIdolsCache[o]["_"+s])){var f=cur.fnbxIdolsIndex[o].search(s),i={};r=[];for(var l=0,u=f.length;l<u;++l)i[f[l]]||(i[f[l]]=!0,r.push(f[l]));r.sort((function(n,o){return n-o})),cur.fnbxIdolsCache[o]["_"+s]=r}t=c.getHighlight(s)}var d=r.length,b=ge("fans_rowsidols"),x=ge("fans_more_linkidols");if(!d)return hide(x),void val(b,c.genIdolEmpty(val(e)));for(var h=a?0:b.childNodes.length,p=Math.min(d,h+32),_=[],v=h;v<p;++v){var g=cur.fnbxIdolsList[o][r[v]],I=g[2];g&&(g=c.genIdolRow(g,t?I.replace(t.re,t.val):I),a?_.push(g):b.appendChild(se(g)))}a&&(val(b,_.join("")),curBox().tbToTop()),toggle(x,p<d)}else"loading"==r&&(cur.fnbxIdolsList[o]="more")},genIdolEmpty:function(n){var o='<a href="/search?c[section]=communities&c[q]='+encodeURIComponent(n)+'">';return'<div class="no_rows">'+(trim(n)?getLang("fans_idols_not_found")+"<br>"+getLang("groups_you_can_find").replace("{term}",o+clean(n)+"</a>").replace("{link}",o).replace("{/link}","</a>"):getLang("fans_no_idols"))+"</div>"},genIdolRow:function(n,o){var r=n[0],e=n[6]?' onmouseover="uiPhotoZoom.over(this, '+r+', {onBeforeShow: FansBox.beforePhotoShow, showOpts: {onHide: FansBox.backToBox}});"':"",s="/"+(n[4]?n[4]:r>0?"id"+r:"public"+-r),a=n[3],c=getLang("public_N_followers",n[5],!0),t=' style="display: none"',f=n[7].length?n[7]:getLang(r>0?"profile_own_profile":"groups_type_public"),i=vk.id&&vk.id!=r;return`\n<div class="fans_idol_row inl_bl">\n  <div class="fans_idolph_wrap fl_l" ${e}>\n    <a class="fans_idol_ph" href="${s}">\n      <img class="fans_idol_img" src="${a}" />\n    </a>\n  </div>\n  <div class="fans_idol_info">\n    <div class="fans_idol_name"><a class="fans_idol_lnk" href="${s}">${o}</a></div>\n    <div class="fans_idol_status">${f}</div><div class="fans_idol_size">${c}</div>\n    <div id="fans_idol_sub${r}" class="button_blue fans_idol_sub" ${n[1]||!i?t:""}>\n      <button class="flat_button button_small" onclick="FansBox.subscribe(this, ${r})">${getLang("public_subscribe")}</button>\n    </div>\n    <div id="fans_idol_unsub${r}" class="fans_idol_unsub" ${n[1]&&i?"":t}>\n      <button class="flat_button button_small secondary" onclick="FansBox.unsubscribe(this, ${r})">${getLang("public_unsubscribe")}</button>\n    </div>\n  </div>\n</div>`},resetSearch:function(){val("fans_idol_search_inp",""),c.moreIdols(!0),setTimeout(elfocus.pbind("fans_idol_search_inp"),0)},more:function(){var n=curBox().tbCur;if("idols"===n)return c.moreIdols();var o=ge("fans_more_link"+n);(0,e.isButtonLocked)(o)||(ajax.post(cur.fnbxPage,extend(cur.fnbxVars(n),{offset:cur.fnbxOffsets[n]}),{onDone:function(r,e,s){var a=ce("div",{innerHTML:r}),t=ge("fans_rows"+n);if(t){var f=geByClass1("no_rows",t);r&&f&&re(f);for(var i=domFC(a);i;i=domFC(a))t.appendChild(i);cur.fnbxOffsets[n]=e,s?c.preload():hide(o)}},showProgress:e.lockButton.pbind(o),hideProgress:e.unlockButton.pbind(o),cache:1}),cur.fnbxAutoload=!0)},preload:function(){var n=curBox().tbCur;ajax.post(cur.fnbxPage,extend(cur.fnbxVars(n),{offset:cur.fnbxOffsets[n]}),{cache:1})},markSubsc:function(n,o){cur.fnbxIdolsProcessed[n]=o;var r=cur.fnbxIdolsList[cur.fnbxOwnerId];if(r&&r.length)for(var e=0,s=r.length;e<s;++e)if(r[e][0]==n){cur.fnbxIdolsList[cur.fnbxOwnerId][e][1]=o;break}},subscribe:function(n,o){ajax.post("al_feed.php",{act:"subscr",oid:o,hash:cur.fnbxHash,from:"feed"},{onDone:function(){hide("fans_idol_sub"+o),show("fans_idol_unsub"+o),show("fans_idol_feedact"+o),cur.fnbxOwnerId==vk.id&&c.recache(1),c.markSubsc(o,1)},showProgress:e.lockButton.pbind(n),hideProgress:e.unlockButton.pbind(n)})},blacklistTip:function(n){(0,s.showTooltip)(n,{text:getLang("fans_block_fan"),shift:[8,5,5],black:1})},blacklist:function(n,o,r){return n.tt&&n.tt.destroy&&n.tt.destroy(),cur.fnbxWasScroll=boxLayerWrap.scrollTop,showBox("/al_fans.php",{act:"block",oid:o},{params:{width:440}}),cancelEvent(r)},unsubscribe:function(n,o){ajax.post("/al_fans.php",{act:"unsub",oid:o,hash:cur.fnbxHash,from:"box"},{onDone:function(){show("fans_idol_sub"+o),hide("fans_idol_unsub"+o),hide("fans_idol_feedact"+o),cur.fnbxOwnerId==vk.id&&c.recache(-1),c.markSubsc(o,0)},showProgress:e.lockButton.pbind(n),hideProgress:e.unlockButton.pbind(n)})},feedToggle:function(n,o){ajax.post("/al_fans.php",{act:"feedtgl",oid:o,hash:cur.fnbxHash,from:"box"},{onDone:function(r,e){n.innerHTML=e,cur.fnbxOwnerId==vk.id&&c.recache(-1);var s=cur.fnbxIdolsList[cur.fnbxOwnerId];if(s&&s.length)for(var a=0,t=s.length;a<t;++a)if(s[a][0]==o){cur.fnbxIdolsList[cur.fnbxOwnerId][a][0]=r;break}},showProgress:function(){n.innerHTML='<span class="progress_inline"></span>'}})},onScroll:function(){var n=curBox();if(cur.fnbxAutoload&&n){var o=lastWindowHeight,r=ge("fans_more_link"+n.tbCur);isVisible(r)&&o>getXY(r,!0)[1]&&r.click()}},recache:function(n){for(var o in cur.fnbxOffsets[curBox().tbCur]+=n,ajaxCache)o.match(new RegExp("^\\/"+cur.fnbxPage+"\\#act="+(cur.fnbxAct||"box"),""))&&delete ajaxCache[o]},remove:function(n){re("fans_fan_row"+n),c.recache(-1),c.onScroll();var o=curBox().tbCur;domFC(ge("fans_rows"+o))||(curBox().hide(),nav.reload())},backToBox:function(){if(cur.fnbxLoaded=function(){var n=curBox().tbVis,o=ge("fans_rows"+n),r=cur.fnbxBack.scroll;n==cur.fnbxBack.tab?(extend(cur,{fnbxOffsets:cur.fnbxBack.offsets,fnbxIdolsQuery:cur.fnbxBack.query}),domPN(o).replaceChild(cur.fnbxBack.cont,o),toggle("fans_more_link"+n,!!cur.fnbxBack.vis),(0,e.unlockButton)("fans_more_link"+n),cur.fnbxLoaded=cur.fnbxBack=!1,boxLayerWrap.scrollTop=r,val("fans_idol_search_inp",cur.fnbxIdolsQuery),"idols"==n&&cur.fnbxIdolsQuery&&(elfocus("fans_idol_search_inp"),show("fans_reset_search")),setTimeout((function(){boxLayerWrap.scrollTop=r,onBodyResize(),c.onScroll()}),0)):curBox().tbTab(cur.fnbxBack.tab)},cur.fnbxBack){cur.fnbxOwnerId=cur.fnbxBack.oid,cur.fnbxObjectId=cur.fnbxBack.objectId;var n=cur.fnbxVars(cur.fnbxBack.initial);if(n.w)nav.change({w:n.w});else{var o=cur.audioListenersOnDone?cur.audioListenersOnDone:{};showBox(cur.fnbxPage,n,extend({cache:1},o))}}},beforePhotoShow:function(){var n=curBox();if(n){var o=n.tbCur;cur.fnbxPhShown=!1,extend(cur,{fnbxBack:{tab:o,initial:n.tbInitial,oid:cur.fnbxOwnerId,objectId:cur.fnbxObjectId,offsets:cur.fnbxOffsets,scroll:boxLayerWrap.scrollTop,query:cur.fnbxIdolsQuery,vis:isVisible("fans_more_link"+o),cont:ge("fans_rows"+o),instance:n.tbInstance}})}}};const t=c}},s={};function a(n){var o=s[n];if(void 0!==o)return o.exports;var r=s[n]={exports:{}};return e[n].call(r.exports,r,r.exports,a),r.exports}a.m=e,n=[],a.O=(o,r,e,s)=>{if(!r){var c=1/0;for(l=0;l<n.length;l++){for(var[r,e,s]=n[l],t=!0,f=0;f<r.length;f++)(!1&s||c>=s)&&Object.keys(a.O).every((n=>a.O[n](r[f])))?r.splice(f--,1):(t=!1,s<c&&(c=s));if(t){n.splice(l--,1);var i=e();void 0!==i&&(o=i)}}return o}s=s||0;for(var l=n.length;l>0&&n[l-1][2]>s;l--)n[l]=n[l-1];n[l]=[r,e,s]},a.n=n=>{var o=n&&n.__esModule?()=>n.default:()=>n;return a.d(o,{a:o}),o},r=Object.getPrototypeOf?n=>Object.getPrototypeOf(n):n=>n.__proto__,a.t=function(n,e){if(1&e&&(n=this(n)),8&e)return n;if("object"==typeof n&&n){if(4&e&&n.__esModule)return n;if(16&e&&"function"==typeof n.then)return n}var s=Object.create(null);a.r(s);var c={};o=o||[null,r({}),r([]),r(r)];for(var t=2&e&&n;"object"==typeof t&&!~o.indexOf(t);t=r(t))Object.getOwnPropertyNames(t).forEach((o=>c[o]=()=>n[o]));return c.default=()=>n,a.d(s,c),s},a.d=(n,o)=>{for(var r in o)a.o(o,r)&&!a.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:o[r]})},a.e=()=>Promise.resolve(),a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),a.o=(n,o)=>Object.prototype.hasOwnProperty.call(n,o),a.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},(()=>{var n={6581:0};a.O.j=o=>0===n[o];var o=(o,r)=>{var e,s,[c,t,f]=r,i=0;for(e in t)a.o(t,e)&&(a.m[e]=t[e]);if(f)var l=f(a);for(o&&o(r);i<c.length;i++)s=c[i],a.o(n,s)&&n[s]&&n[s][0](),n[c[i]]=0;return a.O(l)},r=self.webpackChunkvk=self.webpackChunkvk||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))})();var c=a.O(void 0,[8592],(()=>a(249970)));c=a.O(c)})();