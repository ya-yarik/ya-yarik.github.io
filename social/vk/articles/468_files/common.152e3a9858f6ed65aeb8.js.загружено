/*! For license information please see common.152e3a9858f6ed65aeb8.js.LICENSE.txt */
(self.webpackChunkvk=self.webpackChunkvk||[]).push([[8592],{306610:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{default:()=>r})},5991:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,{default:()=>o})},896156:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{default:()=>r})},190484:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{default:()=>r})},130360:(e,t,n)=>{"use strict";n.d(t,{getFunctionName:()=>o});var r="<anonymous>";function o(e){try{return e&&"function"==typeof e&&e.name||r}catch(e){return r}}},790914:(e,t,n)=>{"use strict";n.d(t,{api:()=>s,setApiConfig:()=>i,upload:()=>u});var r=n(62409),o={domain:"api.vk.com",maxRetries:10},a=new Map;function i(e){e=Object.assign({},o,e),o=e}function s(e,t,n,u){void 0===u&&(u={});var l=o;n&&(l=Object.assign({},o,n));var c,_,d=l.domain,p=(0,r.m)((_={v:(c=l).version||"5.123"},c.appId&&(_.client_id=c.appId),_)),f=function(e){return{access_token:e.accessToken}}(l),h="https://"+d+"/method/"+e+"?"+p,m=Object.assign({},t,f),v=function(e,t){return e+"-"+(0,r.m)(t)}(h,m),g=a.get(v)||0;return new Promise((function(e){var t=function(e){if(0===e)return 0;var t=Math.random(),n=100*Math.pow(2,e)/2;return n+n*t}(g);setTimeout((function(){return e()}),t)})).then((function(){return(0,r.c)(h,m,u)})).then((function(r){if(r.response)return g&&a.delete(v),r.response;var o=r.error;if(!o)return Promise.reject({type:"api_error",error:{error_code:0,error_msg:"Unknown"}});if(l.onCaptcha&&14===o.error_code){var u=o,c=u.captcha_sid,_=u.captcha_img;return l.onCaptcha({captcha_sid:c,captcha_img:_}).then((function(r){var o=Object.assign({},t,r);return s(e,o,n)}))}return l.maxRetries&&g>=l.maxRetries?(g&&a.delete(v),Promise.reject({type:"api_error",error:{error_code:0,error_msg:"Maximum of api retries exceeded"}})):!l.onTokenExpired||n&&n.accessToken||5!==o.error_code?Promise.reject({type:"api_error",error:r.error}):l.onTokenExpired().then((function(r){return a.set(v,g+1),i({accessToken:r}),s(e,t,n)}))}),(function(e){return Promise.reject({type:"network_error",error:e})}))}function u(e,t){return fetch(e,{method:"POST",body:t,mode:"cors"}).then((function(e){return e.json()}))}},624823:(e,t,n)=>{"use strict";n.d(t,{Embedded:()=>r});var r=function(){function e(e){var t=this;this.receiver=!1,this._requestId=1,this._requests={},this._onMessage=function(e){if(e.origin===t.origin&&e.data&&e.data.embeddedName===t.name){t.target=e.source;var n=e.data,r=n.response;if(r){var o=t._requests[r];o&&o(n.data),t._requests[r]=null}else n.request&&n.action&&Promise.resolve(t.onMessage(n.action,n.data)).then((function(e){t._sendResponse(n.request,n.action,e)}))}},this.name=e.name,this.target=e.target,this.origin=e.origin||"https://"+e.host,this.receiver=e.receiver||!1,this.onMessage=e.onMessage,window.addEventListener("message",this._onMessage,!1)}return e.prototype._sendResponse=function(e,t,n){this.target&&this.target.postMessage({embeddedName:this.name,action:t,response:e,data:n},this.origin)},e.prototype.sendMessage=function(e,t){var n=this;if(void 0===t&&(t={}),!this.target)return Promise.reject();var r=this._requestId,o=new Promise((function(e){n._requestId++,n._requests[r]=e}));return this.target.postMessage({embeddedName:this.name,action:e,data:t,request:r},this.origin),o},e.prototype.destroy=function(){window.removeEventListener("message",this._onMessage,!1),this.target=void 0},e}()},34004:(e,t,n)=>{"use strict";n.d(t,{login:()=>_,removeLoginCache:()=>d,setLoginConfig:()=>i});var r=n(62409),o=/\d+:[a-zA-Z_]+:login:auth/,a={domain:"login.vk.com"};function i(e){e=Object.assign({},a,e),a=e}var s,u,l={},c={};function _(e,t,n,o,i){var s;void 0===i&&(i={});var u=a;n&&(u=Object.assign({},a,n));var p,f=u.appId+":"+e+":login:auth",h=!c[f]||o;try{p=JSON.parse(localStorage.getItem(f))}catch(g){p={}}if(l[f])return l[f];if(h)try{d(e,n)}catch(g){}else{var m=void 0;try{m=localStorage.getItem(f)}catch(g){console.error(g)}if(m)try{var v=JSON.parse(m);if(1e3*Number(v.expires)-Date.now()>=6e4)return Promise.resolve(v);d(e,n)}catch(g){}}var g,y=u.domain,E=u.onCaptcha,w="https://"+y+"/?act="+e,b={version:(g=u).version||"1",app_id:g.appId},D=Object.assign({},t,b,{access_token:null==p?void 0:p.access_token});return s=(0,r.c)(w,D,i).then((function(o){if(delete l[f],"error"===o.type)return Promise.reject({type:"login_error",error:o.error_info});if("captcha"===o.type){if(!E)return Promise.reject({type:"login_error",error:"captcha"});var a=o.captcha_sid,i=o.captcha_img,s=o.captcha_type;return E({captcha_sid:a,captcha_img:i,captcha_type:s}).then((function(r){var o=Object.assign({},t,r);return _(e,o,n)}))}var u=o.data.expires||1/0;try{localStorage.setItem(f,JSON.stringify((0,r._)((0,r._)({},o.data),{expires:u})))}catch(o){console.error(o)}return c[f]=!0,o.data}),(function(e){return delete l[f],{type:"network_error",error:e}})),l[f]=s,s}function d(e,t){if(e){var n=a;t&&(n=Object.assign({},a,t));var r=n.appId+":"+e+":login:auth";try{localStorage.removeItem(r)}catch(e){}}else try{Object.keys(localStorage).forEach((function(e){o.test(e)&&localStorage.removeItem(e)}))}catch(e){}}(u=s||(s={})).PASSWORD_CONFIRMATION_REQUIRED="password_confirmation_required",u.PHONE_VALIDATION_REQUIRED="phone_validation_required",u.USER_ALREADY_HAS_EXTERNAL_BINDING="user_already_has_external_binding"},62409:(e,t,n)=>{"use strict";n.d(t,{_:()=>r,c:()=>a,m:()=>o});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e){return Object.keys(e).map((function(t){var n=e[t];return(t=encodeURIComponent(t||""))+"="+encodeURIComponent(n||"")})).join("&")}function a(e,t,n){void 0===n&&(n={});var a=o(t);return fetch(e,r({method:"POST",body:a,mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"}},n)).then((function(e){return e.json()}))}},733024:(e,t,n)=>{"use strict";n.d(t,{default:()=>f});var r=n(667294),o=n(887854),a=n.n(o),i=n(408091),s=n(634777),u=n(379333),l="0 0 24 24",c="cancel_24",_=!1;function d(){_||((0,s.addSpriteSymbol)(new(a())({id:c,viewBox:l,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="cancel_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M18.3 5.7a.99.99 0 00-1.4 0L12 10.6 7.1 5.7a.99.99 0 00-1.4 1.4l4.9 4.9-4.9 4.9a.99.99 0 001.4 1.4l4.9-4.9 4.9 4.9a.99.99 0 001.4-1.4L13.4 12l4.9-4.9a.99.99 0 000-1.4z" fill="currentColor" /></g></symbol>'})),_=!0)}var p=function(e){return(0,s.useIsomorphicLayoutEffect)((function(){d()}),[]),r.createElement(u.SvgIcon,(0,i.assign)({},e,{viewBox:l,id:c,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};p.mountIcon=d;const f=p},76854:(e,t,n)=>{"use strict";n.d(t,{IconSettingsContext:()=>a,IconSettingsProvider:()=>i});var r=n(667294);function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var a=(0,r.createContext)({}),i=function(e){var t=e.children,n=o(e,["children"]),i=(0,r.useMemo)((function(){return n}),[n.classPrefix,n.globalClasses]);return r.createElement(a.Provider,{value:i},t)}},379333:(e,t,n)=>{"use strict";n.d(t,{SvgIcon:()=>_});var r=n(667294),o=n(76854);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c={display:"block"};var _=function(e){var t=e.width,n=e.height,i=e.viewBox,u=e.id,_=e.className,d=e.style,p=e.fill,f=e.getRootRef,h=e.Component,m=l(e,["width","height","viewBox","id","className","style","fill","getRootRef","Component"]),v=Math.max(t,n),g=(0,r.useContext)(o.IconSettingsContext),y=function(e,t){for(var n=t.classPrefix,r=t.globalClasses,o="",a=0;a<e.length;a++)n&&(o+=" "+(n+e[a])),n&&!r||(o+=" "+e[a]);return o}(["Icon","Icon--".concat(v),"Icon--w-".concat(t),"Icon--h-".concat(n),"Icon--".concat(u)],g);return r.createElement(h,a({role:"presentation"},m,{ref:f,className:"".concat(y," ").concat(_),style:s(s({},d),{},{width:t,height:n})}),r.createElement("svg",{viewBox:i,width:t,height:n,style:c},r.createElement("use",{xlinkHref:"#".concat(u),style:{fill:"currentColor",color:p}})))};_.defaultProps={Component:"div",className:"",style:{}}},634777:(e,t,n)=>{"use strict";n.d(t,{addSpriteSymbol:()=>c,useIsomorphicLayoutEffect:()=>_});var r,o=n(362548),a=n.n(o),i=n(667294),s=!("undefined"==typeof window||!window.document||!window.document.createElement);if(s){var u="__SVG_SPRITE_NODE__";r=new(a())({attrs:{id:u}});var l=function(){var e=document.getElementById(u);e?r.attach(e):r.mount()};document.querySelector("body")?l():document.addEventListener("DOMContentLoaded",l)}else r=null;function c(e){r&&r.add(e)}var _=s?i.useLayoutEffect:i.useEffect},376624:function(e){e.exports=function(){"use strict";var e=function(){return(e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},t=1,n=7,r=96*t,o=96*t,a=25,i=function(e,t,r,o,i){if(e<n&&t<n)return!1;if(e>=r-n&&t<n)return!1;if(e<n&&t>=r-n)return!1;if(i){var s=n+2;r<=a&&s--;var u=(r-2*n-s)/2-1;return r<=a&&u++,!(e>n+u&&e<r-n-u-1&&t>n+u&&t<r-n-u-1)&&0<=e&&e<r&&0<=t&&t<r&&o[t][e]}return o[t]&&o[t][e]},s=function(e,t,n,r,o){return void 0===o&&(o=!0),{l:i(e-1,t,n,r,o),r:i(e+1,t,n,r,o),t:i(e,t-1,n,r,o),b:i(e,t+1,n,r,o),current:i(e,t,n,r,o)}},u=function(e,u){if("number"!=typeof u.qrSize)throw new Error("Size should be a number");if("string"!=typeof u.className)throw new Error("Classname should be a string");for(var l=2*t,c=12.7*t,_=12.8*t,d=14.7*t,p=14.8*t,f=15.9*t,h=28.6*t,m=30.5*t,v=84.7776815*t,g=87.3*t,y=71.4*t,E=42.9*t,w=87.2*t,b=85.2*t,D=85.3*t,C=69.5*t,P=98*t,T=100*t,O=[],A=0,k=0,S=0,M=0,I=0;I<e.size;I++){A=0;for(var x=0;x<e.size;x++){S=x+A,A+=r,M=I+k;var L=s(x,I,e.size,e.modules,u.isShowLogo),B="",R="";L.current?(R=!(R=R||L.l||L.r||L.t||L.b?"":"empty")&&L.l&&L.r||L.t&&L.b?"rect":"")||(R+=L.l?"l":L.r?"r":"",(R+=L.t?"t":L.b?"b":"")||(R="empty")):R=!(R=!(R=!(R=!R&&L.l&&L.t&&i(x-1,I-1,e.size,e.modules,u.isShowLogo)?"n_lt":"")&&L.l&&L.b&&i(x-1,I+1,e.size,e.modules,u.isShowLogo)?"n_lb":"")&&L.r&&L.t&&i(x+1,I-1,e.size,e.modules,u.isShowLogo)?"n_rt":"")&&L.r&&L.b&&i(x+1,I+1,e.size,e.modules,u.isShowLogo)?"n_rb":"",R&&(B='<use xlink:href="#'+R+"-"+u.suffix+'"/>',O.push('<g transform="translate('+S+","+M+')">'+B+"</g>"))}k+=r}var N="",U=(e.size-3*n)/2*r+r*n-10;e.size<=a&&(N="scale(0.85)",U+=50);var F=(e.size-n)*o;O.push('<use fill-rule="evenodd" transform="translate(0,0)" xlink:href="#point-'+u.suffix+'"/>'),O.push('<use fill-rule="evenodd" transform="translate('+F+',0)" xlink:href="#point-'+u.suffix+'"/>'),O.push('<use fill-rule="evenodd" transform="translate(0,'+F+')" xlink:href="#point-'+u.suffix+'"/>'),u.isShowLogo&&(u.logoData?O.push('\n        <image \n          preserveAspectRatio="xMidYMid slice" clip-path="url(#logo-mask-'+u.suffix+')"\n          style="width: 750px; height: 750px;" width="750" height="750" \n          transform="translate('+U+","+U+") "+N+'" \n          xlink:href="'+u.logoData+'" \n        />\n      '):O.push('\n        <use style="width: 750px; height: 750px;" width="750" height="750" \n          fill="none" \n          fill-rule="evenodd" \n          transform="translate('+U+","+U+") "+N+'" xlink:href="#vk_logo-'+u.suffix+'"\n        />\n      '));var W=99*e.size,j="",K="translate(0,0)";if(u.isShowBackground){var H=(u.qrSize-40)/u.qrSize,V=W/u.qrSize*21;j='\n      <rect \n        x="0" \n        width="'+W+'" \n        height="'+W+'" \n        rx="'+Math.ceil(W/(u.qrSize/36))+'" \n        fill="'+u.backgroundColor+'"\n      />',K="translate("+V+", "+V+") scale("+H+")"}var q="M0,0 L66,0 C"+v+",-3.44940413e-15 "+T+",15.2223185 "+T+",34 L"+T+",66 C"+T+","+v+" "+v+","+T+" 66,"+T+" L0,"+T+" L0,0 Z",z="M0,0 L"+T+",0 L"+T+",66 C"+T+","+v+" "+v+","+T+" 66,"+T+" L0,"+T+" L0,0 Z";return'\n  <svg \n    version="1.1" \n    viewBox="0 0 '+W+" "+W+'" \n    width="'+u.qrSize+'px" \n    height="'+u.qrSize+'px"\n    '+(u.className?'class="'+u.className+'"':"")+' \n    xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n  >\n    <defs>\n      <rect id="rect-'+u.suffix+'" width="100" height="100" fill="'+u.foregroundColor+'"/>\n      <path \n        id="empty-'+u.suffix+'" \n        d="M0,'+h+"v"+E+"C0,"+g+","+_+","+T+","+h+","+T+"h"+E+"c"+f+",0,"+h+"-"+_+","+h+"-"+h+"V"+h+"C"+T+","+c+","+w+",0,"+y+",0H"+h+" C"+_+",0,0,"+_+",0,"+h+'z"\n        fill="'+u.foregroundColor+'"\n      />\n      <path id="b-'+u.suffix+'" d="'+q+'" transform="rotate(-90 50 50)" fill="'+u.foregroundColor+'"/>\n      <path id="r-'+u.suffix+'" d="'+q+'" transform="rotate(-180 50 50)" fill="'+u.foregroundColor+'"/>\n      <path id="l-'+u.suffix+'" d="'+q+'" fill="'+u.foregroundColor+'"/>\n      <path id="t-'+u.suffix+'" d="'+q+'" transform="rotate(90 50 50)" fill="'+u.foregroundColor+'"/>\n      <path id="l-'+u.suffix+'" d="'+z+'" transform="rotate(-90 50 50)" fill="'+u.foregroundColor+'"/>\n      <path id="lt-'+u.suffix+'" d="'+z+'" fill="'+u.foregroundColor+'"/>\n      <path id="lb-'+u.suffix+'" d="'+z+'" transform="rotate(-90 50 50)" fill="'+u.foregroundColor+'"/>\n      <path id="rb-'+u.suffix+'" d="'+z+'" transform="rotate(-180 50 50)" fill="'+u.foregroundColor+'"/>\n      <path id="rt-'+u.suffix+'" d="'+z+'" transform="rotate(90 50 50)" fill="'+u.foregroundColor+'"/>\n      <path \n        id="n_lt-'+u.suffix+'" \n        d="M'+m+","+l+"V0H0v"+m+"h"+l+"C"+l+","+d+","+p+","+l+","+m+","+l+'z" \n        fill="'+u.foregroundColor+'"\n      />\n      <path \n        id="n_lb-'+u.suffix+'"\n        d="M'+l+","+C+"H0V"+T+"h"+m+"v-"+l+"C"+d+","+P+","+l+","+b+","+l+","+C+'z" \n        fill="'+u.foregroundColor+'"\n      />\n      <path \n        id="n_rt-'+u.suffix+'" \n        d="M'+P+","+m+"h"+l+"V0H"+C+"v"+l+"C"+D+","+l+","+P+","+p+","+P+","+m+'z" \n        fill="'+u.foregroundColor+'"\n      />\n      <path id="n_rb-'+u.suffix+'" \n        d="M'+C+","+P+"v"+l+"H"+T+"V"+C+"h-"+l+"C"+P+","+D+","+b+","+P+","+C+","+P+'z" \n        fill="'+u.foregroundColor+'"\n      />\n      <path \n        id="point-'+u.suffix+'" \n        fill="'+u.foregroundColor+'"\n        d="M600.001786,457.329333 L600.001786,242.658167 C600.001786,147.372368 587.039517,124.122784 581.464617,118.535383 C575.877216,112.960483 552.627632,99.9982143 457.329333,99.9982143 L242.670667,99.9982143 C147.372368,99.9982143 124.122784,112.960483 118.547883,118.535383 C112.972983,124.122784 99.9982143,147.372368 99.9982143,242.658167 L99.9982143,457.329333 C99.9982143,552.627632 112.972983,575.877216 118.547883,581.464617 C124.122784,587.027017 147.372368,600.001786 242.670667,600.001786 L457.329333,600.001786 C552.627632,600.001786 575.877216,587.027017 581.464617,581.464617 C587.039517,575.877216 600.001786,552.627632 600.001786,457.329333 Z M457.329333,0 C653.338333,0 700,46.6616668 700,242.658167 C700,438.667167 700,261.332833 700,457.329333 C700,653.338333 653.338333,700 457.329333,700 C261.332833,700 438.667167,700 242.670667,700 C46.6616668,700 0,653.338333 0,457.329333 C0,261.332833 0,352.118712 0,242.658167 C0,46.6616668 46.6616668,0 242.670667,0 C438.667167,0 261.332833,0 457.329333,0 Z M395.996667,200 C480.004166,200 500,220.008332 500,303.990835 C500,387.998334 500,312.001666 500,395.996667 C500,479.991668 480.004166,500 395.996667,500 C312.001666,500 387.998334,500 304.003333,500 C220.008332,500 200,479.991668 200,395.996667 C200,312.001666 200,350.906061 200,303.990835 C200,220.008332 220.008332,200 304.003333,200 C387.998334,200 312.001666,200 395.996667,200 Z" \n      />\n      <g id="vk_logo-'+u.suffix+'">\n        <path \n          fill="'+u.logoColor+'" \n          d="M253.066667,0 C457.466667,0 272.533333,0 476.933333,0 C681.333333,0 730,48.6666667 730,253.066667 C730,457.466667 730,272.533333 730,476.933333 C730,681.333333 681.333333,730 476.933333,730 C272.533333,730 457.466667,730 253.066667,730 C48.6666667,730 0,681.333333 0,476.933333 C0,272.533333 0,367.206459 0,253.066667 C0,48.6666667 48.6666667,0 253.066667,0 Z"/><path fill="#FFF" d="M597.816744,251.493445 C601.198942,240.214758 597.816746,231.927083 581.719678,231.927083 L528.490512,231.927083 C514.956087,231.927083 508.716524,239.08642 505.332448,246.981031 C505.332448,246.981031 478.263599,312.960647 439.917002,355.818719 C427.510915,368.224806 421.871102,372.172112 415.10389,372.172112 C411.720753,372.172112 406.822917,368.224806 406.822917,356.947057 L406.822917,251.493445 C406.822917,237.95902 402.895137,231.927083 391.615512,231.927083 L307.969678,231.927083 C299.511836,231.927083 294.425223,238.208719 294.425223,244.162063 C294.425223,256.99245 313.597583,259.951287 315.573845,296.043086 L315.573845,374.428788 C315.573845,391.614583 312.470184,394.730425 305.702972,394.730425 C287.658011,394.730425 243.763595,328.456052 217.730151,252.620844 C212.628223,237.881107 207.511068,231.927083 193.907178,231.927083 L140.678012,231.927083 C125.469678,231.927083 122.427826,239.08642 122.427826,246.981031 C122.427826,261.079625 140.473725,331.006546 206.452402,423.489903 C250.437874,486.648674 312.410515,520.885417 368.803012,520.885417 C402.638134,520.885417 406.823845,513.28125 406.823845,500.183098 L406.823845,452.447917 C406.823845,437.239583 410.029185,434.204421 420.743703,434.204421 C428.638315,434.204421 442.172739,438.151727 473.753063,468.603713 C509.843923,504.694573 515.79398,520.885417 536.094678,520.885417 L589.323845,520.885417 C604.532178,520.885417 612.136345,513.28125 607.749619,498.274853 C602.949226,483.318593 585.717788,461.619053 562.853283,435.89599 C550.446258,421.234166 531.837128,405.444943 526.197316,397.548454 C518.302704,387.399043 520.558441,382.88663 526.197316,373.864619 C526.197316,373.864619 591.049532,282.508661 597.816744,251.493445 Z"\n        />\n      </g>\n      <clipPath id="logo-mask-'+u.suffix+'">\n        <rect x="0" y="0" width="750" height="750" />\n      </clipPath>\n    </defs>\n\n    '+j+'\n\n    <g transform="'+K+'">\n      '+O.join("\n")+"\n    </g>\n  </svg>"},l=function(){function e(t,n,r,o){if(this.version=t,this.errorCorrectionLevel=n,this.mask=o,this.modules=[],this.isFunction=[],t<e.MIN_VERSION||t>e.MAX_VERSION)throw"Version value out of range";if(o<-1||o>7)throw"Mask value out of range";this.size=4*t+17;for(var a=[],i=0;i<this.size;i++)a.push(!1);for(i=0;i<this.size;i++)this.modules.push(a.slice()),this.isFunction.push(a.slice());this.drawFunctionPatterns();var s=this.addEccAndInterleave(r);if(this.drawCodewords(s),-1==o){var u=1e9;for(i=0;i<8;i++){this.applyMask(i),this.drawFormatBits(i);var l=this.getPenaltyScore();l<u&&(o=i,u=l),this.applyMask(i)}}if(o<0||o>7)throw"Assertion error";this.mask=o,this.applyMask(o),this.drawFormatBits(o),this.isFunction=[]}return e.encodeText=function(t,n){var r=_.makeSegments(t);return e.encodeSegments(r,n)},e.encodeBinary=function(t,n){var r=_.makeBytes(t);return e.encodeSegments([r],n)},e.encodeSegments=function(t,n,r,o,a,i){if(void 0===r&&(r=1),void 0===o&&(o=40),void 0===a&&(a=-1),void 0===i&&(i=!0),!(e.MIN_VERSION<=r&&r<=o&&o<=e.MAX_VERSION)||a<-1||a>7)throw"Invalid value";var s,u;for(s=r;;s++){var l=8*e.getNumDataCodewords(s,n),c=_.getTotalBits(t,s);if(c<=l){u=c;break}if(s>=o)throw"Data too long"}for(var d=0,f=[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH];d<f.length;d++){var h=f[d];i&&u<=8*e.getNumDataCodewords(s,h)&&(n=h)}for(var m=new p,v=0,g=t;v<g.length;v++){var y=g[v];m.appendBits(y.mode.modeBits,4),m.appendBits(y.numChars,y.mode.numCharCountBits(s));for(var E=0,w=y.getData();E<w.length;E++){var b=w[E];m.array.push(b)}}if(m.array.length!=u)throw"Assertion error";var D=8*e.getNumDataCodewords(s,n);if(m.array.length>D)throw"Assertion error";if(m.appendBits(0,Math.min(4,D-m.array.length)),m.appendBits(0,(8-m.array.length%8)%8),m.array.length%8!=0)throw"Assertion error";for(var C=236;m.array.length<D;C^=253)m.appendBits(C,8);for(var P=[];8*P.length<m.array.length;)P.push(0);return m.array.forEach((function(e,t){return P[t>>>3]|=e<<7-(7&t)})),new e(s,n,P,a)},e.prototype.getModule=function(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]},e.prototype.drawCanvas=function(e,t,n){if(e<=0||t<0)throw"Value out of range";var r=(this.size+2*t)*e;n.width=r,n.height=r;for(var o=n.getContext("2d"),a=-t;a<this.size+t;a++)for(var i=-t;i<this.size+t;i++)o.fillStyle=this.getModule(i,a)?"#000000":"#FFFFFF",o.fillRect((i+t)*e,(a+t)*e,e,e)},e.prototype.toSvgString=function(e){if(e<0)throw"Border must be non-negative";for(var t=[],n=0;n<this.size;n++)for(var r=0;r<this.size;r++)this.getModule(r,n)&&t.push("M"+(r+e)+","+(n+e)+"h1v1h-1z");return'<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+(this.size+2*e)+" "+(this.size+2*e)+'" stroke="none">\n\t<rect width="100%" height="100%" fill="#FFFFFF"/>\n\t<path d="'+t.join(" ")+'" fill="#000000"/>\n</svg>\n'},e.prototype.drawFunctionPatterns=function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);var t=this.getAlignmentPatternPositions(),n=t.length;for(e=0;e<n;e++)for(var r=0;r<n;r++)0==e&&0==r||0==e&&r==n-1||e==n-1&&0==r||this.drawAlignmentPattern(t[e],t[r]);this.drawFormatBits(0),this.drawVersion()},e.prototype.drawFormatBits=function(e){for(var t=this.errorCorrectionLevel.formatBits<<3|e,n=t,r=0;r<10;r++)n=n<<1^1335*(n>>>9);var o=21522^(t<<10|n);if(o>>>15!=0)throw"Assertion error";for(r=0;r<=5;r++)this.setFunctionModule(8,r,c(o,r));for(this.setFunctionModule(8,7,c(o,6)),this.setFunctionModule(8,8,c(o,7)),this.setFunctionModule(7,8,c(o,8)),r=9;r<15;r++)this.setFunctionModule(14-r,8,c(o,r));for(r=0;r<8;r++)this.setFunctionModule(this.size-1-r,8,c(o,r));for(r=8;r<15;r++)this.setFunctionModule(8,this.size-15+r,c(o,r));this.setFunctionModule(8,this.size-8,!0)},e.prototype.drawVersion=function(){if(!(this.version<7)){for(var e=this.version,t=0;t<12;t++)e=e<<1^7973*(e>>>11);var n=this.version<<12|e;if(n>>>18!=0)throw"Assertion error";for(t=0;t<18;t++){var r=c(n,t),o=this.size-11+t%3,a=Math.floor(t/3);this.setFunctionModule(o,a,r),this.setFunctionModule(a,o,r)}}},e.prototype.drawFinderPattern=function(e,t){for(var n=-4;n<=4;n++)for(var r=-4;r<=4;r++){var o=Math.max(Math.abs(r),Math.abs(n)),a=e+r,i=t+n;0<=a&&a<this.size&&0<=i&&i<this.size&&this.setFunctionModule(a,i,2!=o&&4!=o)}},e.prototype.drawAlignmentPattern=function(e,t){for(var n=-2;n<=2;n++)for(var r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,1!=Math.max(Math.abs(r),Math.abs(n)))},e.prototype.setFunctionModule=function(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0},e.prototype.addEccAndInterleave=function(t){var n=this.version,r=this.errorCorrectionLevel;if(t.length!=e.getNumDataCodewords(n,r))throw"Invalid argument";for(var o=e.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],a=e.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],i=Math.floor(e.getNumRawDataModules(n)/8),s=o-i%o,u=Math.floor(i/o),l=[],c=new d(a),_=0,p=0;_<o;_++){var f=t.slice(p,p+u-a+(_<s?0:1));p+=f.length;var h=c.getRemainder(f);_<s&&f.push(0),l.push(f.concat(h))}var m=[];for(_=0;_<l[0].length;_++)for(var v=0;v<l.length;v++)(_!=u-a||v>=s)&&m.push(l[v][_]);if(m.length!=i)throw"Assertion error";return m},e.prototype.drawCodewords=function(t){if(t.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw"Invalid argument";for(var n=0,r=this.size-1;r>=1;r-=2){6==r&&(r=5);for(var o=0;o<this.size;o++)for(var a=0;a<2;a++){var i=r-a,s=0==(r+1&2)?this.size-1-o:o;!this.isFunction[s][i]&&n<8*t.length&&(this.modules[s][i]=c(t[n>>>3],7-(7&n)),n++)}}if(n!=8*t.length)throw"Assertion error"},e.prototype.applyMask=function(e){if(e<0||e>7)throw"Mask value out of range";for(var t=0;t<this.size;t++)for(var n=0;n<this.size;n++){var r=void 0;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw"Assertion error"}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}},e.prototype.getPenaltyScore=function(){for(var t=0,n=0;n<this.size;n++){for(var r=[0,0,0,0,0,0,0],o=!1,a=0,i=0;i<this.size;i++)this.modules[n][i]==o?5==++a?t+=e.PENALTY_N1:a>5&&t++:(e.addRunToHistory(a,r),!o&&e.hasFinderLikePattern(r)&&(t+=e.PENALTY_N3),o=this.modules[n][i],a=1);e.addRunToHistory(a,r),o&&e.addRunToHistory(0,r),e.hasFinderLikePattern(r)&&(t+=e.PENALTY_N3)}for(i=0;i<this.size;i++){r=[0,0,0,0,0,0,0],o=!1;var s=0;for(n=0;n<this.size;n++)this.modules[n][i]==o?5==++s?t+=e.PENALTY_N1:s>5&&t++:(e.addRunToHistory(s,r),!o&&e.hasFinderLikePattern(r)&&(t+=e.PENALTY_N3),o=this.modules[n][i],s=1);e.addRunToHistory(s,r),o&&e.addRunToHistory(0,r),e.hasFinderLikePattern(r)&&(t+=e.PENALTY_N3)}for(n=0;n<this.size-1;n++)for(i=0;i<this.size-1;i++)(o=this.modules[n][i])==this.modules[n][i+1]&&o==this.modules[n+1][i]&&o==this.modules[n+1][i+1]&&(t+=e.PENALTY_N2);for(var u=0,l=0,c=this.modules;l<c.length;l++)for(var _=0,d=c[l];_<d.length;_++)(o=d[_])&&u++;var p=this.size*this.size;return t+=(Math.ceil(Math.abs(20*u-10*p)/p)-1)*e.PENALTY_N4},e.prototype.getAlignmentPatternPositions=function(){if(1==this.version)return[];for(var e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((this.size-13)/(2*e-2)),n=[6],r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n},e.getNumRawDataModules=function(t){if(t<e.MIN_VERSION||t>e.MAX_VERSION)throw"Version number out of range";var n=(16*t+128)*t+64;if(t>=2){var r=Math.floor(t/7)+2;n-=(25*r-10)*r-55,t>=7&&(n-=36)}return n},e.getNumDataCodewords=function(t,n){return Math.floor(e.getNumRawDataModules(t)/8)-e.ECC_CODEWORDS_PER_BLOCK[n.ordinal][t]*e.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][t]},e.addRunToHistory=function(e,t){t.pop(),t.unshift(e)},e.hasFinderLikePattern=function(e){var t=e[1];return t>0&&e[2]==t&&e[4]==t&&e[5]==t&&e[3]==3*t&&Math.max(e[0],e[6])>=4*t},e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e}();function c(e,t){return 0!=(e>>>t&1)}var _=function(){function e(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw"Invalid argument";this.bitData=n.slice()}return e.makeBytes=function(t){for(var n=new p,r=0,o=t;r<o.length;r++){var a=o[r];n.appendBits(a,8)}return new e(e.Mode.BYTE,t.length,n.array)},e.makeNumeric=function(t){if(!this.NUMERIC_REGEX.test(t))throw"String contains non-numeric characters";for(var n=new p,r=0;r<t.length;){var o=Math.min(t.length-r,3);n.appendBits(parseInt(t.substr(r,o),10),3*o+1),r+=o}return new e(e.Mode.NUMERIC,t.length,n.array)},e.makeAlphanumeric=function(t){if(!this.ALPHANUMERIC_REGEX.test(t))throw"String contains unencodable characters in alphanumeric mode";var n,r=new p;for(n=0;n+2<=t.length;n+=2){var o=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n));o+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n+1)),r.appendBits(o,11)}return n<t.length&&r.appendBits(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n)),6),new e(e.Mode.ALPHANUMERIC,t.length,r.array)},e.makeSegments=function(t){return""==t?[]:this.NUMERIC_REGEX.test(t)?[e.makeNumeric(t)]:this.ALPHANUMERIC_REGEX.test(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]},e.makeEci=function(t){var n=new p;if(t<0)throw"ECI assignment value out of range";if(t<128)n.appendBits(t,8);else if(t<16384)n.appendBits(2,2),n.appendBits(t,14);else{if(!(t<1e6))throw"ECI assignment value out of range";n.appendBits(6,3),n.appendBits(t,21)}return new e(e.Mode.ECI,0,n.array)},e.prototype.getData=function(){return this.bitData.slice()},e.getTotalBits=function(e,t){for(var n=0,r=0,o=e;r<o.length;r++){var a=o[r],i=a.mode.numCharCountBits(t);if(a.numChars>=1<<i)return 1/0;n+=4+i+a.bitData.length}return n},e.toUtf8ByteArray=function(e){e=encodeURI(e);for(var t=[],n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substr(n+1,2),16)),n+=2);return t},e.NUMERIC_REGEX=/^[0-9]*$/,e.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,e.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e}(),d=function(){function e(t){if(this.coefficients=[],t<1||t>255)throw"Degree out of range";for(var n=this.coefficients,r=0;r<t-1;r++)n.push(0);n.push(1);var o=1;for(r=0;r<t;r++){for(var a=0;a<n.length;a++)n[a]=e.multiply(n[a],o),a+1<n.length&&(n[a]^=n[a+1]);o=e.multiply(o,2)}}return e.prototype.getRemainder=function(t){for(var n=this.coefficients.map((function(e){return 0})),r=function(t){var r=t^n.shift();n.push(0),o.coefficients.forEach((function(t,o){return n[o]^=e.multiply(t,r)}))},o=this,a=0,i=t;a<i.length;a++)r(i[a]);return n},e.multiply=function(e,t){if(e>>>8!=0||t>>>8!=0)throw"Byte out of range";for(var n=0,r=7;r>=0;r--)n=n<<1^285*(n>>>7),n^=(t>>>r&1)*e;if(n>>>8!=0)throw"Assertion error";return n},e}(),p=function(){function e(){this.array=[]}return e.prototype.appendBits=function(e,t){if(t<0||t>31||e>>>t!=0)throw"Value out of range";for(var n=t-1;n>=0;n--)this.array.push(e>>>n&1)},e}();(function(e){var t=function(){function e(e,t){this.ordinal=e,this.formatBits=t}return e.LOW=new e(0,1),e.MEDIUM=new e(1,0),e.QUARTILE=new e(2,3),e.HIGH=new e(3,2),e}();e.Ecc=t})(l||(l={})),function(e){var t=function(){function e(e,t){this.modeBits=e,this.numBitsCharCount=t}return e.prototype.numCharCountBits=function(e){return this.numBitsCharCount[Math.floor((e+7)/17)]},e.NUMERIC=new e(1,[10,12,14]),e.ALPHANUMERIC=new e(2,[9,11,13]),e.BYTE=new e(4,[8,16,16]),e.KANJI=new e(8,[8,10,12]),e.ECI=new e(7,[0,0,0]),e}();e.Mode=t}(_||(_={}));var f=128,h="#ffffff",m="#000000",v="#4680c2";function g(t,n,r,o){if("string"!=typeof t)throw new TypeError("Enter text for encoding");var a=e(e(e({},"object"==typeof n&&null!==n?n:{}),"object"==typeof o&&null!==o?o:{}),{qrSize:"object"==typeof n&&null!==n&&"number"==typeof n.qrSize?n.qrSize:n,className:"object"==typeof n&&null!==n&&"string"==typeof n.className?n.className:r}),i=[l.Ecc.LOW,l.Ecc.MEDIUM,l.Ecc.QUARTILE,l.Ecc.HIGH],s={qrSize:"number"==typeof a.qrSize?a.qrSize:f,className:"string"==typeof a.className?a.className:r||"",isShowLogo:!!a.isShowLogo||!1,isShowBackground:!!a.isShowBackground||!1,foregroundColor:"string"==typeof a.foregroundColor?a.foregroundColor:m,backgroundColor:"string"==typeof a.backgroundColor?a.backgroundColor:h,logoColor:"string"==typeof a.logoColor?a.logoColor:v,suffix:a.suffix?a.suffix.toString():"0",logoData:"string"==typeof a.logoData?a.logoData:null,ecc:"number"==typeof a.ecc&&i[a.ecc]?a.ecc:3},c=_.makeSegments(t),d=l.encodeSegments(c,i[s.ecc],1,40,-1,!0);return u(d,s)}return{createQR:g}}()},349598:(e,t,n)=>{"use strict";n.d(t,{classNames:()=>o});var r=n(190484);function o(){for(var e=[],t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach((function(t){if(t)switch((0,r.default)(t)){case"string":e.push(t);break;case"object":Object.keys(t).forEach((function(n){t[n]&&e.push(n)}));break;default:e.push("".concat(t))}})),e.join(" ")}},812226:(e,t,n)=>{"use strict";function r(e){return navigator.clipboard?function(e){return navigator.clipboard.writeText(e).then((function(){return!0}))}(e):function(e){return new Promise((function(t,n){var r=document.createElement("textarea"),o=document.createRange();r.value=e,r.style.position="fixed",r.contentEditable="true",document.body.appendChild(r),r.focus(),r.select(),o.selectNodeContents(r);var a=window.getSelection();a&&(a.removeAllRanges(),a.addRange(o)),r.setSelectionRange(0,999999);try{document.execCommand("copy")?t(!0):n(new Error("copy failed"))}catch(e){n(e)}a&&a.removeAllRanges(),document.body.removeChild(r)}))}(e)}n.d(t,{copyTextToClipboard:()=>r})},898520:(e,t,n)=>{"use strict";function r(e){return!isNaN(parseFloat(e))&&isFinite(e)&&!Array.isArray(e)}n.d(t,{isNumeric:()=>r})},992888:(e,t,n)=>{"use strict";n.d(t,{getLastDayOfMonth:()=>r});n(221058);function r(e,t){return 2==+t?function(e){return e%4==0&&e%100!=0||e%400==0}(e)?29:28:t>0&&(t<8&&t%2==0||t>7&&t%2==1)?30:31}},936212:(e,t,n)=>{"use strict";n.d(t,{formatDuration:()=>o});var r=n(221058);function o(e){if(!e)return"";var t=Math.floor(e/3600),n=Math.floor(e/60)%60,o=e%60;return e>=3600?[t,(0,r.leadingZero)(n),(0,r.leadingZero)(o)].join(":"):[n,(0,r.leadingZero)(o)].join(":")}},229327:(e,t,n)=>{"use strict";n.d(t,{isEqual:()=>o});var r=n(677270);function o(e,t){if(e===t)return!0;if(null==e||null==t||!(0,r.isObjectLike)(e)&&!(0,r.isObjectLike)(t))return e!=e&&t!=t;if((0,r.isObjectLike)(e)&&(0,r.isObjectLike)(t)){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!e.hasOwnProperty(n)||!t.hasOwnProperty(n))return!1;if(!o(e[n],t[n]))return!1}return!0}return!1}},610628:(e,t,n)=>{"use strict";function r(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];var u=o,l=Date.now();t&&l<t+r?(clearTimeout(n),n=setTimeout((function(){t=l,e.apply(u,i)}),r)):(t=l,e.apply(u,i))}}function o(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,a=function(){return e.apply(o,r)};return function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];r=o,clearTimeout(n),n=setTimeout(a,t)}}n.d(t,{throttle:()=>r,debounce:()=>o})},677453:(e,t,n)=>{"use strict";function r(e){var t=e instanceof HTMLElement;if("undefined"==typeof window||!t)return{top:0,left:0,width:0,height:0};var n=e,r=n.getBoundingClientRect(),o=document.body,a=document.documentElement,i=window.pageYOffset||a.scrollTop||o.scrollTop,s=window.pageXOffset||a.scrollLeft||o.scrollLeft,u=a.clientTop||o.clientTop||0,l=a.clientLeft||o.clientLeft||0;return{top:Math.round(r.top+i-u),left:Math.round(r.left+s-l),width:n.offsetWidth,height:n.offsetHeight}}n.d(t,{getOffsetRect:()=>r})},659397:(e,t,n)=>{"use strict";n.d(t,{classNames:()=>r.classNames,copyTextToClipboard:()=>o.copyTextToClipboard,isNumeric:()=>a.isNumeric,isEqual:()=>i.isEqual,getLastDayOfMonth:()=>s.getLastDayOfMonth,formatDuration:()=>u.formatDuration,throttle:()=>l.throttle,debounce:()=>l.debounce,getOffsetRect:()=>c.getOffsetRect,isObject:()=>_.isObject,localStorage:()=>d.localStorage});var r=n(349598),o=n(812226),a=n(898520),i=n(229327),s=n(992888),u=n(936212),l=n(610628),c=n(677453),_=n(677270),d=n(933656)},221058:(e,t,n)=>{"use strict";function r(e){return e>=10?String(e):"0"+String(e)}n.d(t,{leadingZero:()=>r})},933656:(e,t,n)=>{"use strict";n.d(t,{localStorage:()=>_});var r,o=n(306610),a=n(5991),i=n(896156),s=function(){function e(){var t=this;(0,o.default)(this,e),(0,i.default)(this,"data",{}),(0,i.default)(this,"getItem",(function(e){return t.data.hasOwnProperty(e)?t.data[e]:null})),(0,i.default)(this,"keys",(function(){return Object.keys(t.data)}))}return(0,a.default)(e,[{key:"setItem",value:function(e,t){this.data[e]=String(t)}},{key:"removeItem",value:function(e){delete this.data[e]}},{key:"clear",value:function(){this.data={}}},{key:"key",value:function(e){return Object.keys(this.data)[e]}},{key:"length",get:function(){return Object.keys(this.data).length}}]),e}(),u="vk-ls-dummy",l="test";function c(){if(r)return r;try{if(window.localStorage.setItem(u,l),l!==window.localStorage.getItem(u))throw new Error("localStorage is broken");window.localStorage.removeItem(u),r=window.localStorage}catch(e){r=new s}return r}var _={setItem:function(e,t){return c().setItem(e,t)},getItem:function(e){return c().getItem(e)},removeItem:function(e){return c().removeItem(e)},clear:function(){return c().clear()},length:function(){return c().length},key:function(e){return c().key(e)},keys:function(){var e=c();return e instanceof s?e.keys():Object.keys(e)},getPrefixedKeys:function(e){return _.keys().filter((function(t){return t.startsWith(e)}))}}},677270:(e,t,n)=>{"use strict";n.d(t,{isObjectLike:()=>o,isObject:()=>a});var r=n(190484);function o(e){return"object"===(0,r.default)(e)&&null!==e}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}},717874:(e,t,n)=>{"use strict";function r(){return{icon:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g id="spinner_16__Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="spinner_16__Kit-Item" transform="translate(-198 -2)" fill="currentColor" fill-rule="nonzero"><g id="spinner_16__Circular-Loader-16pt-@Controls_Loaders" transform="translate(64 2)"><path d="M142 16a1 1 0 110-2 6 6 0 10-5.7-4.12 1 1 0 11-1.9.63A8 8 0 11142 16z" id="spinner_16__spinner_small"/></g></g></g></svg>',name:"spinner_16"}}n.d(t,{getIcon16Spinner:()=>r})},217770:(e,t,n)=>{"use strict";function r(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="browser_back_24__Master" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="browser_back_24__browser_back_24"><path id="browser_back_24__body" d="M0 0h24v24H0z"/><path d="M8.66 12l7.12 7.12a1.1 1.1 0 11-1.56 1.56l-7.9-7.9a1.1 1.1 0 010-1.56l7.9-7.9a1.1 1.1 0 011.56 1.56L8.66 12z" id="browser_back_24__Path" fill="currentColor" fill-rule="nonzero"/></g></g></svg>',name:"browser_back_24"}}n.d(t,{getIcon24BrowserBack:()=>r})},978787:(e,t,n)=>{"use strict";function r(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="cancel_24__Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="cancel_24__cancel_24"><path id="cancel_24__Bounds" d="M0 0h24v24H0z"/><path d="M18.3 5.7a.99.99 0 00-1.4 0L12 10.6 7.1 5.7a.99.99 0 00-1.4 1.4l4.9 4.9-4.9 4.9a.99.99 0 001.4 1.4l4.9-4.9 4.9 4.9a.99.99 0 001.4-1.4L13.4 12l4.9-4.9a.99.99 0 000-1.4z" id="cancel_24__Mask" fill="currentColor"/></g></g></svg>',name:"cancel_24"}}n.d(t,{getIcon24Cancel:()=>r})},369455:(e,t,n)=>{"use strict";function r(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="favorite_24__Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="favorite_24__favorite_24"><path id="favorite_24__Bounds" d="M0 0h24v24H0z"/><path d="M15.34 8.48l4.43.43c1.54.15 2.02 1.65.83 2.64l-3.47 2.88 1.29 4.7c.42 1.54-.9 2.48-2.2 1.55L12 17.7l-4.21 2.98c-1.31.92-2.63 0-2.2-1.55l1.28-4.7-3.47-2.88c-1.2-1-.72-2.5.83-2.64l4.43-.43 1.95-4.5c.6-1.4 2.17-1.4 2.78 0l1.95 4.5z" id="favorite_24__Mask" fill="currentColor" fill-rule="nonzero"/></g></g></svg>',name:"favorite_24"}}n.d(t,{getIcon24Favorite:()=>r})},126934:(e,t,n)=>{"use strict";function r(){return{icon:'<svg fill="none" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M12.55 4.7a.6.6 0 00-1.1 0L9.83 8.6a.9.9 0 01-.77.55l-4.13.26a.6.6 0 00-.35 1.05l3.26 2.86a.9.9 0 01.29.9l-.94 3.84a.6.6 0 00.89.66l3.47-2a.9.9 0 01.9 0l3.47 2a.6.6 0 00.88-.66l-.93-3.85a.9.9 0 01.29-.89l3.26-2.85a.6.6 0 00-.35-1.06l-4.13-.26a.9.9 0 01-.77-.56zM9.78 4a2.4 2.4 0 014.44 0l1.4 3.39 3.56.23a2.4 2.4 0 011.43 4.2l-2.86 2.5.8 3.32a2.4 2.4 0 01-3.53 2.64L12 18.54l-3.02 1.74a2.4 2.4 0 01-3.54-2.64l.8-3.32-2.85-2.5a2.4 2.4 0 011.43-4.2l3.56-.23z" fill="currentColor" fill-rule="evenodd"/></svg>',name:"favorite_outline_24"}}n.d(t,{getIcon24FavoriteOutline:()=>r})},335696:(e,t,n)=>{"use strict";function r(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="pause_24__Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="pause_24__pause_24"><path id="pause_24__Rectangle-737" d="M0 0h24v24H0z"/><path d="M6.79 5H8.7c.45 0 .61.05.78.13.16.1.29.22.38.38.08.17.13.33.13.78V17.7c0 .45-.05.61-.13.78a.91.91 0 01-.38.38c-.17.08-.33.13-.78.13H6.8c-.45 0-.61-.05-.78-.13a.91.91 0 01-.38-.38c-.08-.17-.13-.33-.13-.78V6.3c0-.45.05-.61.13-.78.1-.16.22-.29.38-.38.17-.08.33-.13.78-.13zm8 0h1.92c.45 0 .61.05.78.13.16.1.29.22.38.38.08.17.13.33.13.78V17.7c0 .45-.05.61-.13.78a.91.91 0 01-.38.38c-.17.08-.33.13-.78.13H14.8c-.45 0-.61-.05-.78-.13a.91.91 0 01-.38-.38c-.08-.17-.13-.33-.13-.78V6.3c0-.45.05-.61.13-.78.1-.16.22-.29.38-.38.17-.08.33-.13.78-.13z" id="pause_24__Mask" fill="currentColor"/></g></g></svg>',name:"pause_24"}}n.d(t,{getIcon24Pause:()=>r})},525610:(e,t,n)=>{"use strict";function r(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.67 10.92c.82.49.82 1.67 0 2.16l-8.79 5.17c-.83.5-1.88-.1-1.88-1.08V6.83c0-.97 1.05-1.57 1.88-1.08l8.8 5.17z" fill="currentColor"/></svg>',name:"play_24"}}n.d(t,{getIcon24Play:()=>r})},15410:(e,t,n)=>{"use strict";function r(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="spinner_24__Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="spinner_24__Kit-Item" transform="translate(-198 -44)" fill="currentColor" fill-rule="nonzero"><g id="spinner_24__Circular-Loader-16pt-@Controls_Loaders" transform="translate(64 2)"><path d="M146 66a1.25 1.25 0 110-2.5 9.5 9.5 0 10-8.95-6.31 1.25 1.25 0 01-2.36.84A12 12 0 11146 66z" id="spinner_24__spinner_regular"/></g></g></g></svg>',name:"spinner_24"}}n.d(t,{getIcon24Spinner:()=>r})},879059:(e,t,n)=>{"use strict";n.d(t,{default:()=>o});n(751876);var r=n(667294);n(45697);class o extends r.Component{static mapFilterOptionsToDropdownOptions(e){return e?e.map((e=>[e.constant,e.name])):[]}constructor(e){super(e),this.state={filterWrapElementId:this.props.config.id+"_filter_wrap",filterElementId:this.props.config.id+"_filter"}}componentDidMount(){var e=this.props.config.placeholder||"",t=this.onChange.bind(this);this.state.input=new Dropdown(ge(this.state.filterElementId),o.mapFilterOptionsToDropdownOptions(this.props.config.options),{selectedItems:this.props.config.selected,onChange:t,placeholder:e,multiselect:!this.props.singleSelectCrutch,autocomplete:!0,width:this.props.width,big:!0,maxItems:this.props.maxItems})}componentDidUpdate(e,t,n){if(this.props.config.selected!==e.config.selected&&Array.isArray(this.props.config.selected)&&0===this.props.config.selected.length)this.state.input.clear();else if(this.props.singleSelectCrutch){var r=this.state.input.selectedItems(),o=r&&r[0]&&r[0][0]?r[0][0]:null;if(!o)return;this.props.config.selected!==e.config.selected&&o!=this.props.config.selected&&this.state.input.selectItem(this.props.config.selected[0])}}onChange(e){var t=o.convertOldValueToJson(e);this.props.onFilterChange(this.props.config.id,t)}static convertOldValueToJson(e){return e?e.split(","):null}render(){var e=this.props.config.header?r.createElement("div",{className:"search_filter_main"},this.props.config.header):"";return r.createElement("div",{className:"filter"},e,r.createElement("div",{id:this.state.filterWrapElementId,className:"search_control"},r.createElement("input",{id:this.state.filterElementId,type:"text",className:"dark"})))}}o.defaultProps={width:200,maxItems:50,singleSelectCrutch:!1}},927273:(e,t,n)=>{"use strict";n.d(t,{SECOND:()=>r,MINUTE:()=>o,HOUR:()=>a,DAY:()=>i,WEEK:()=>s,MONTH:()=>u,ruLocale:()=>l,EVENTS:()=>c});var r=1e3,o=60*r,a=60*o,i=24*a,s=7*i,u=30*i,l="ru-RU",c={MOUSE_DOWN:"mousedown",KEY_DOWN:"keydown",SCROLL:"scroll",CLICK:"click"}},581020:(e,t,n)=>{"use strict";n.d(t,{AudioAds:()=>i});n(66108),n(296253);var r=n(663197),o=n(709961),a=n(479322);class i{constructor(e,t,n){this._isPlaying=!1,this._adsCurrentProgress=0,this._adman=null,this._admanLoaded=!1,this._adEvents=[],this.player=e||{},this.playerVersion=t||null,this._startAdsTO=null,this._adsConfig=null,this._duration=0,this.isMvk=Boolean(n),this.adsStatUrl=this.isMvk?"audio":"al_audio.php"}isPlaying(){return this._isPlaying}setAdsConfig(e){this._adsConfig=e}getCurrentProgress(){return this._adsCurrentProgress}getDuration(){return this._duration}loadAdman(e){var t=t=>e&&e(t);if(this._admanLoaded)t();else{var n=0;(0,r.loadScript)(i.ADMAN_SRC,{onLoad:()=>{this._admanLoaded=!0,t()},onError:()=>{window.abp?(this._admanLoaded=!0,t()):(3===(n+=1)&&(this._admanLoaded=!0),t("script_load_fail"))}})}}_fetchAd(e,t,n,r,a){this.loadAdman((u=>{if(!window.AdmanHTML)return this._sendEvent("no_adman",t,i.AD_TYPE,u),r&&r();this._adman=new AdmanHTML;var l=this._adsConfig||vk.audioAdsConfig||window.audioAdsConfig,c={_SITEID:276,ver:251116,vk_id:vk.id,duration:e.duration,content_id:s(e.ownerId,e.id),vk_catid:i.CAT_IDS[t]||i.CAT_IDS.other,sign:l.sign||""};extend(c,e.ads||{}),nav.objLoc&&nav.objLoc.preview&&(c.preview=intval(nav.objLoc.preview)),cur.adsPreview&&(c.preview=1,c.vk_id=398724832),this._adman.setDebug(!!c.preview),this._adman.onError((()=>r&&r())),this._adman.onReady((()=>{if(this._adman){var e=this._adman.getBannersForSection(i.AD_TYPE);e&&e.length?"statistics"===e[0].type?(this._play(!0,t),r&&r()):(this._sendEvent("received",t),n?(this._sendEvent("rejected",t,i.AD_TYPE,a),this.deinit(),r&&r()):(this._sendEvent("ready",t),this.player.notify(o.events.AD_READY),this._play(!1,t,r))):(n||this._sendEvent("not_received",t),r&&r())}})),this._adman.init({slot:3514,wrapper:this.isMvk?ce("div"):se("<div></div>"),params:c,browser:{adBlock:!!window.abp,mobile:!1}}),this._sendEvent("requested",t)}))}_sendEvent(e,t,n,r){var o=n?"/"+n:"",a=r?"/"+r:"";this._adEvents.push(e+"/"+t+o+a),clearTimeout(this._adEventDelay),this._adEventDelay=setTimeout((()=>{ajax.post(this.adsStatUrl,{act:"ad_event",events:this._adEvents.join(","),v:this.playerVersion,abp:intval(window.abp)},{onFail:()=>!0}),this._adEvents=[]}),500)}_play(e,t,n){this._adman.onCompleted((()=>{this.deinit(!0),e?this._sendEvent("statistics",t):(this.player.notify(o.events.PROGRESS,0),this.player.notify(o.events.AD_COMPLETED),this._isPlaying=!1,this._adsCurrentProgress=0,this._sendEvent("completed",t),window.setDocumentTitle&&window.setDocumentTitle(this._adsPrevTitle),n&&n())})),this._adman.onStarted((()=>{e||(this.player.setIsPlaying(!0),this.player.notify(o.events.PLAY),this.player.notify(o.events.PROGRESS,0),this.player.notify(o.events.AD_STARTED),this.updateVolume(),this._sendEvent("started",t),window.statlogsValueEvent&&statlogsValueEvent("audio_web_ad_link","show"))})),this._adman.onPaused((()=>{this.player.setIsPlaying(!1),this.player.notify(o.events.PAUSE)})),this._adman.onPlayed((()=>{this.player.setIsPlaying(!0),this.player.notify(o.events.PLAY)}));var r=[.25,.5,.75];if(this._adman.onTimeRemained((e=>{this._duration=isNaN(e.duration)?0:e.duration,this._adsCurrentProgress=(isNaN(e.percent)?0:e.percent)/100,this.player.notify(o.events.PROGRESS,this._adsCurrentProgress,this._duration),each(r,((e,n)=>{if(this._adsCurrentProgress>=n)return r.shift(),this._sendEvent("progress_"+intval(100*n),t),!1}))})),this._adman.start(i.AD_TYPE),e)return n&&n();this._isPlaying=!0,this._adsPrevTitle=document.title,this.isMvk||setDocumentTitle(getLang("global_audio_ad"))}updateVolume(){this._adman&&this._adman.setVolume(.7*this.player.getVolume())}deinit(e){this._adman=null,!e&&this.player.notify(o.events.AD_DEINITED)}pause(){this._adman&&(this.player.setIsPlaying(!1),this._adman.pause())}stop(){this._adman&&(this.player.setIsPlaying(!1),this._adman.stop())}resume(){this._adman&&(this.player.setIsPlaying(!0),this._adman.resume(),this.player.notify(o.events.PLAY))}checkPlay(e,t){var n=this.player._getPlayingContextSection(),r=this._isAllowed(e),o=r.type,a=r.reason,s=()=>t&&t();switch(o){case i.ALLOW_ALLOWED:this._fetchAd(e,n,!1,s);break;case i.ALLOW_DISABLED:s();break;case i.ALLOW_REJECT:this._fetchAd(e,n,!0,!1,a),s()}}_isAllowed(e){if(vk.widget)return{type:i.ALLOW_DISABLED};if((0,a.isPodcast)(e))return{type:i.ALLOW_DISABLED};if(window.browser&&window.browser.safari)return{type:i.ALLOW_DISABLED};var t=this._adsConfig||vk.audioAdsConfig||window.audioAdsConfig;if(t){if(!t.enabled)return{type:i.ALLOW_DISABLED};if(cur.adsPreview)return{type:i.ALLOW_ALLOWED};if(t.day_limit_reached)return{type:i.ALLOW_REJECT,reason:i.REJECT_REASON_LIMIT};var n=this.player._getPlayingContextSection();return t.sections.indexOf(n)>-1?{type:i.ALLOW_ALLOWED}:{type:i.ALLOW_REJECT,reason:i.REJECT_REASON_SECTION}}return{type:i.ALLOW_REJECT,reason:i.REJECT_REASON_UNKNOWN}}startPlay(e,t){this.checkPlay(e,t)}}function s(e,t){for(var n=e.toString(16),r=t.toString(16);r.length<8;)r="0"+r;return n+r}i.ADMAN_SRC="//ad.mail.ru/static/admanhtml/rbadman-html5.min.js",i.CAT_IDS={my:101,my_playlists:101,audio_feed:109,recent:113,user_wall:104,group_wall:104,user_list:102,group_list:103,user_playlists:102,group_playlists:103,feed:105,search:110,global_search:110,replies:104,im:106,group_status:104,user_status:104,recs:107,recs_audio:107,recs_album:107,other:114},i.AD_TYPE="preroll",i.ALLOW_DISABLED=1,i.ALLOW_ALLOWED=2,i.ALLOW_REJECT=3,i.REJECT_REASON_UNKNOWN="unknown",i.REJECT_REASON_LIMIT="track_limit_exceeded",i.REJECT_REASON_SECTION="section_not_allowed"},709961:(e,t,n)=>{"use strict";n.d(t,{events:()=>r});var r={CURRENT_CHANGED:"curr",PLAY:"start",PLAY_REQUESTED:"request_play",PAUSE:"pause",STOP:"stop",UPDATE:"update",LOADED:"loaded",ENDED:"ended",FAILED:"failed",BUFFERED:"buffered",PROGRESS:"progress",VOLUME:"volume",PLAYLIST_CHANGED:"plchange",ADDED:"added",REMOVED:"removed",FREQ_UPDATE:"freq",SEEK:"seek",PLAY_NEXT:"play_next",AD_READY:"ad_ready",AD_DEINITED:"ad_deinit",AD_STARTED:"ad_started",AD_COMPLETED:"ad_completed",START_LOADING:"start_load",CAN_PLAY:"actual_start",SELECT:"select",DESELECT:"deselect",EMPTY_PLAYLIST:"empty_playlist",NOT_FOUND_PLAYLIST:"not_found_playlist",INIT:"init",REQUEST_EXPANDED:"request_expanded",MUSIC_AUDIOS_ADD:"music_audios_add",MUSIC_PLAYLISTS_ADD:"music_playlists_add"}},974873:(e,t,n)=>{"use strict";n.d(t,{AudioPlayerHTML5:()=>i});n(940851),n(296253);var r=n(176663),o=n(588241),a=n(434220);class i{constructor(e){this.type="html5",this.opts=e||{},this._audioNodes=[],this._currentAudioEl=this._createAudioNode(),this._prefetchAudioEl=this._createAudioNode()}destroy(){}getPlayedTime(){for(var e=this._currentAudioEl.played,t=0,n=0;n<e.length;n++)t+=e.end(n)-e.start(n);return t}getCurrentTime(){return this._currentAudioEl.currentTime}clearAudioNode(){this._currentAudioEl=this._createAudioNode(o.SILENCE)}isCurrent(e){return e===this._currentAudioEl}_createAudioNode(e){var t=new a.AudioHlsNode({onBufferUpdate:()=>{this.isCurrent(t)&&this.opts.onBufferUpdate(this.getCurrentBuffered())},onProgressUpdate:()=>{this.isCurrent(t)&&this.opts.onProgressUpdate(this.getCurrentProgress(),this.getPlayedTime(),this.getCurrentTime())},onEnd:()=>{this.isCurrent(t)&&t.src!==o.SILENCE&&this.opts.onEnd()},onSeeked:()=>{this.isCurrent(t)&&this.opts.onSeeked()},onSeek:()=>{this.isCurrent(t)&&this.opts.onSeek()},onFail:e=>{this._prefetchAudioEl===t?this._prefetchAudioEl=this._createAudioNode():this.isCurrent(t)&&t.src!==o.SILENCE&&(this._hlsError=e,this.opts.onFail&&this.opts.onFail())},onDurationChange:()=>{this.isCurrent(t)&&this._seekOnReady&&t.duration>0&&(this.seek(this._seekOnReady),this._seekOnReady=!1)},onCanPlay:()=>{this.isCurrent(t)&&this.opts.onCanPlay&&this.opts.onCanPlay()},onPause:this.opts.onPause,onPlay:this.opts.onPlay,volume:this.hasOwnProperty("_volume")?this._volume:this.opts.defaultVolume},e);return t}onReady(e){e()}prefetch(e){this._prefetchAudioEl&&this._prefetchAudioEl.url===(0,r.audioUnmaskSource)(e)||(this._prefetchAudioEl=this._createAudioNode(e))}seek(e){var t=this._currentAudioEl;t.duration>0&&t.src&&t.src!==o.SILENCE?t.currentTime=t.duration*e:this._seekOnReady=e}setVolume(e){void 0===e&&(e=this._currentAudioEl.volume),this._currentAudioEl.volume=e,this._prefetchAudioEl&&(this._prefetchAudioEl.volume=e),this._volume=e}setPlaybackRate(e){this._currentAudioEl.playbackRate=e}getCurrentProgress(){return this._currentAudioEl.currentProgress}getCurrentBuffered(){return this._currentAudioEl&&this._currentAudioEl.currentBuffered}getDuration(){return this._currentAudioEl&&this._currentAudioEl.duration}isFullyLoaded(){return this._currentAudioEl.isFullyLoaded}setUrl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};if(!e)return n&&n(!1);var a=(0,r.audioUnmaskSource)(e),i=this._currentAudioEl;if(this._currentAudioEl.src&&this._currentAudioEl.src!==o.SILENCE&&(this._seekOnReady=!1),this._currentAudioEl.src===a)return this.opts.onCanPlay&&this.opts.onCanPlay(),void(n&&n(!0));if(this._prefetchAudioEl){if(this._prefetchAudioEl.src===a)return this._currentAudioEl.pause(),this._currentAudioEl.setUrl(o.SILENCE),this._prefetchAudioEl.readyState>=3&&setTimeout((()=>this.opts.onCanPlay&&this.opts.onCanPlay())),this._currentAudioEl=this._prefetchAudioEl,this._prefetchAudioEl=null,void(n&&n(!0));a!==o.SILENCE&&this._prefetchAudioEl.setUrl(o.SILENCE)}i.src!==a&&(t=i.setUrl(a).then((()=>this._stopFrequencyAnalise()))),t?t.then((()=>n(!0))).catch((()=>n(!1))):n(!0)}play(){this._stopFrequencyAnalise();var e=this._currentAudioEl;if(e.src){var t=e.play();return this._startFrequencyAnalise(),t}return Promise.resolve()}preparePlay(){if(browser.safari)return this._currentAudioEl.play()}_startFrequencyAnalise(){function e(e,t,n,r){return(n-t)*e/r+t}function t(e,t){return Math.random()*(t-e)+e}this._stopFrequencyAnalise();var n=999,r=null,o=null;this._freqUpdateInterval=setInterval((()=>{var a;this._currentAudioEl.paused?a=[0,0,0,0]:(++n>3&&(n=0,r=o,o=[t(.7,1),t(.55,.8),t(.3,.55),t(.03,.45)],r||(r=[t(.7,1),t(.55,.8),t(.3,.55),t(.03,.45)])),a=[e(n,r[0],o[0],3),e(n,r[1],o[1],3),e(n,r[2],o[2],3),e(n,r[3],o[3],3)]),this.opts.onFrequency&&this.opts.onFrequency(a)}),50)}_stopFrequencyAnalise(){clearInterval(this._freqUpdateInterval),this.opts.onFrequency&&this.opts.onFrequency([0,0,0,0])}pause(){this._currentAudioEl.pause(),this._stopFrequencyAnalise()}stop(){this._currentAudioEl.pause(),this.seek(0),this._stopFrequencyAnalise()}_setFadeVolumeInterval(e){if(e){if(!this._fadeVolumeWorker&&window.Worker&&window.Blob){var t=new Blob(["\n          var interval;\n          onmessage = function(e) {\n            clearInterval(interval);\n            if (e.data == 'start') {\n              interval = setInterval(function() { postMessage({}); }, 20);\n            }\n          }\n        "]);try{this._fadeVolumeWorker=new Worker(window.URL.createObjectURL(t))}catch(e){this._fadeVolumeWorker=!1}}this._fadeVolumeWorker?(this._fadeVolumeWorker.onmessage=e,this._fadeVolumeWorker.postMessage("start")):this._fadeVolumeInterval=setInterval(e,60)}else this._fadeVolumeWorker&&(this._fadeVolumeWorker.terminate(),this._fadeVolumeWorker=null),this._fadeVolumeInterval&&clearInterval(this._fadeVolumeInterval)}fadeVolume(e,t,n){e=Math.max(0,Math.min(1,e));var r=this._currentAudioEl,o=0;if(t){var a=e-r.volume;o=a/(t/20||1)}else o=e<r.volume?-.06:.001;if(Math.abs(e-r.volume)<=.001)return this._setFadeVolumeInterval(),n&&n();var i=r.volume;this._setFadeVolumeInterval((()=>{!t&&o>0&&(o*=1.35),i+=o;if(o<0?i<=e:i>=e)return this.setVolume(e),this._setFadeVolumeInterval(),n&&n();this.setVolume(i)}))}getErrorData(){var e=this._currentAudioEl.error||{};return{is_hls:this._currentAudioEl.hls?1:0,url:this._currentAudioEl.src,error_code:e.code,error_message:e.message,hls_error:this._hlsError?JSON.stringify(this._hlsError):null}}}},443946:(e,t,n)=>{"use strict";n.d(t,{TYPE_ADDED:()=>_,TYPE_REMOVED:()=>d,TYPE_RECOMMENDATION_REMOVED:()=>p,TYPE_SHOW_ALBUM:()=>f,TYPE_SHARE_AUDIO:()=>h,TYPE_BROADCASTING:()=>w,SUBTYPE_UPLOAD:()=>I,SUBTYPE_ON:()=>x,SUBTYPE_OFF:()=>L,AudioStats:()=>F});n(175115),n(530522),n(66108),n(296253),n(991181),n(579665),n(95767),n(751876);var r=n(814786),o=n(503369),a=n(986900),i=n(171171),s=n(651988);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _="added",d="removed",p="recommendation_removed",f="show_album",h="share_audio",m="start",v="stop",g="volume",y="rewind",E="play_further",w="broadcast",b="default",D="next_track",C="prev_track",P="auto",T="interruption",O="pause",A="new",k="close_app",S="queue",M="pause",I="upload",x="on",L="off",B="session_end",R={[m]:1,[v]:2,[g]:3,[y]:4,[E]:5,[_]:6,[d]:7,[p]:8,[f]:9,[h]:10,[w]:11,curator:12},N={[b]:1,[D]:2,[C]:3,[P]:4,[T]:5,[O]:6,[A]:7,[k]:8,[S]:9,[M]:10,[I]:11,[x]:12,[L]:13,follow:14,unfollow:15},U="audio_unique_unauth_id";class F{constructor(e){if(this.playerAdapter=e,this.listenedData=null,this.sendTimeout=null,this.currentAudioId=null,this.currentAudio=null,this.currentAudioTrackCode=null,this.pausedAudioId=null,this.playlistChanged=!1,this.currentPosition=0,this.currentListened=0,this.playedTime=0,this.adsCompleted=!1,this.wasEnded=!1,vk.id)this.uniqueUserId=null;else{var t=s.default.get(U);t?this.uniqueUserId=t:(this.uniqueUserId=i(),s.default.set(U,this.uniqueUserId))}this.debug=e.isDebug(),this.onVolume=(0,o.debounce)(this.onVolume.bind(this),300),this.playerAdapter.listenPlay(this.onPlay,this),this.playerAdapter.listenPause(this.onPause,this),this.playerAdapter.listenStop(this.onPause,this),this.playerAdapter.listenProgress(this.onProgress,this),this.playerAdapter.listenVolume(this.onVolume,this),this.playerAdapter.listenSeek(this.onSeek,this),this.playerAdapter.listenPlaylistChanged(this.onPlaylistChanged,this),this.playerAdapter.listenEnded(this.onEnded,this),this.playerAdapter.listenPlayNext(this.onPlayNext,this),this.playerAdapter.listenAdCompleted(this.onAdCompleted,this),this.onPageClose=this.onPageClose.bind(this),addEvent(window,"beforeunload",this.onPageClose)}canOperate(){return!this.playerAdapter.isPodcast()&&!this.playerAdapter.isAdPlaying()}getCurrentAudioParams(){var e=this.currentAudioId||this.playerAdapter.getAudioId();if(e){var t=l(e.split("_"),2);return{ownerId:t[0],audioId:t[1],trackCode:this.currentAudioTrackCode||this.playerAdapter.getAudioTrackCode()}}return{}}getEnvParams(){return{state:this.playerAdapter.getState(),context:this.playerAdapter.getContext(),ref:window.cur&&vk.widget?String(cur.widgetReferrer||"").substring(0,20):""}}getListenedTime(){return Math.round(this.playerAdapter.getListenedTime())||0}getPlaySubtype(){if(this.playerAdapter.isAutoPlayed())return P;var e=this.playerAdapter.getSequence();if(e)return e>0?D:C;var t=this.pausedAudioId,n=this.playerAdapter.getAudioId();return t&&n===t?O:A}onPlay(){if(this.canOperate()){var e=this.playerAdapter.getAudio(),t=e.fullId,n=this.currentAudioId===t||!this.currentAudioId,r=this.currentAudioId!==this.pausedAudioId,o=this.playerAdapter.getListenedTime();!n&&r&&this.onTrackSwitch(this.currentAudio,this.currentPlaylistId),this.playedTime=vkNow(),this.currentAudioId=t,this.currentAudio=e,this.currentAudioTrackCode=this.playerAdapter.getAudioTrackCode(),this.currentPlaylistId=this.playerAdapter.getPlaylistId(),this.wasEnded||this.playerAdapter.hasPrevAudio()&&(!this.pausedAudioId||this.playerAdapter.isAutoPlayed())?(this.currentPosition=0,o=0):this.currentPosition=this.playerAdapter.getProgressInSeconds(),this.currentListened=o,this.sendCurrentAudioEvent({type:m,subtype:this.getPlaySubtype(),position:this.currentPosition,listened:o}),this.pausedAudioId=null,this.playlistChanged=!1,this.wasEnded=!1}}onPause(){var e=this.playerAdapter.getAudioId();if(this.canOperate()&&e){var t=this.collectListenedData();this.sendListenedDataDelayed(1e3,t),setTimeout((()=>{if(!(this.currentAudio&&e!==this.currentAudio.fullId||vkNow()-this.playedTime<150)){this.pausedAudioId=e;var t=this.playerAdapter.getPausedBy(this.playedTime);this.sendCurrentAudioEvent({type:v,subtype:t?t===S?S:T:M})}}),100)}}onProgress(){this.playerAdapter.getProgress()<.01||!this.playerAdapter.isPlaying()||(this.currentPosition=this.playerAdapter.getProgressInSeconds(),this.currentListened=this.playerAdapter.getListenedTime(),!this.pausedAudioId&&vkNow()-this.playedTime>150&&this.collectListenedData(),this.adsCompleted&&(this.sendCurrentAudioEvent({type:m,subtype:this.getPlaySubtype(),position:this.currentPosition}),this.adsCompleted=!1))}onVolume(){this.canOperate()&&this.sendCurrentAudioEvent({type:g,subtype:b})}onSeek(){if(this.canOperate()){var e={position:this.currentPosition,positionTo:this.playerAdapter.getProgressInSeconds()};e.position!==e.positionTo&&this.sendCurrentAudioEvent(u({type:y,subtype:b},e))}}onPlaylistChanged(){this.canOperate()&&(this.playlistChanged=!0)}onEnded(){this.listenedData&&this.playerAdapter.isLastTrack()&&(this.listenedData.end_stream_reason=B),this.wasEnded=!0,this.playerAdapter.isRepeatCurrentAudio()?(this.sendCurrentAudioEvent({type:v,subtype:P}),this.collectListenedData(),this.sendListenedData()):this.sendListenedDataDelayed(150)}onPlayNext(e,t){if(this.canOperate()){var n=l(t.split("_"),2),r=n[0],o=n[1];this.sendAudioEvent({type:E,subtype:b,ownerId:r,audioId:o})}}onAdCompleted(){this.adsCompleted=!0}onTrackSwitch(e,t){if(e){var n=A,r=this.playerAdapter.getSequence(),o=l(e.fullId.split("_"),2),a=o[0],i=o[1];this.playerAdapter.isAutoPlayed()?n=P:r&&(n=r>0?D:C),this.sendCurrentAudioEvent({type:v,subtype:n,position:this.currentPosition,listened:this.currentListened,trackCode:e.trackCode,playlistId:t,ownerId:a,audioId:i}),this.wasEnded=!0,this.collectListenedData(e),this.collectListenedDataSwitch();var s=this.listenedData;this.listenedData=null,this.sendListenedData(s)}}onPageClose(){this.playerAdapter.isPlaying()&&(this.sendCurrentAudioEvent({type:v,subtype:k}),this.sendListenedData())}collectListenedDataSwitch(){if(this.listenedData){if(this.listenedData.end_stream_reason===B)return;var e=this.playerAdapter.isAutoPlayed(),t=this.getListenedTime(),n=this.playerAdapter.getSequence(),r=null;n&&!e?r=n>0?"next_btn":"prev":this.playlistChanged&&(r="playlist_change"),!r&&e&&(r="playlist_next"),this.listenedData.end_stream_reason=r||"new",t&&(this.listenedData.listened=t)}}collectListenedData(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.currentAudio;if(this.canOperate()&&e){var t=e.fullId,n=e.trackCode||this.playerAdapter.getAudioTrackCode(),r=this.getListenedTime(),o=e.urlHash;if(o||console.log("no url hash"),r&&o){var a={audio_id:t,listened:r,context:this.playerAdapter.getContext(),hash:o};return window.cur&&vk.widget&&(a.ref=cur.widgetReferrer||""),this.playerAdapter.hasSearchParams()&&(a.search_params=JSON.stringify(this.playerAdapter.getSearchParams())),this.playerAdapter.hasPlaylist()&&(this.playerAdapter.isRealPlaylist()&&(a.playlist_id=this.playerAdapter.getPlaylistId()),this.playerAdapter.isShuffledPlaylist()&&(a.shuffled=1)),n&&(a.track_code=n),this.playerAdapter.isRepeatCurrentAudio()?a.repeat="one":this.playerAdapter.isRepeatAll()&&(a.repeat="all"),this.playerAdapter.isAutoPlayed()&&(a.auto=1),this.playerAdapter.hasPrevAudio()&&(a.prev_audio_id=this.playerAdapter.getPrevAudioId()),this.playerAdapter.hasPrevPlaylist()&&this.playerAdapter.isRealPrevPlaylist()&&(a.prev_playlist_id=this.playerAdapter.getPrevPlaylistId()),this.playerAdapter.isPlaying()||(a.end_stream_reason="stop_btn"),a.state=document.hidden?"background":"app",this.listenedData=a,this.sendListenedDataDelayed(1e4,a),a}}}sendListenedData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;clearTimeout(this.sendTimeout);var t=e||this.listenedData;this.listenedData=null,t&&t.listened&&(this.uniqueUserId&&(t.unique_id=this.uniqueUserId),this.playerAdapter.sendListenedData(t))}sendListenedDataDelayed(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;clearTimeout(this.sendTimeout),this.sendTimeout=setTimeout((()=>this.sendListenedData(t)),e)}serializeEvent(e){var t=[R[e.type],N[e.subtype],1];return e.audioId?t.push(e.ownerId+"_"+e.audioId):t.push(0),e.trackCode?t.push(e.trackCode):t.push(0),e.state?t.push(e.state):t.push(r.UNKNOWN_STATE),e.ref?t.push(e.ref):t.push(""),e.context?t.push(e.context):t.push("other"),e.volume||0===e.volume?t.push(e.volume):t.push(this.playerAdapter.getVolume()),e.position||0===e.position?t.push(e.position):t.push(this.playerAdapter.getProgressInSeconds()),e.shuffle?t.push(e.shuffle?1:0):t.push(0),e.repeat?t.push(e.repeat):t.push(0),e.listened?t.push(Math.max(e.listened,0)):t.push(0),e.playlistId?t.push(e.playlistId):t.push(""),e.targetOwnerId?t.push(e.targetOwnerId):t.push(0),this.uniqueUserId?t.push(this.uniqueUserId):t.push(""),e.positionTo?t.push(e.positionTo):t.push(null),t}sendEvent(e){this.debug&&(console.log("audio stats event",e.type,e.subtype,e),window._statForTest||(window._statForTest=[]),window._statForTest.push(e)),(0,a.statlogsValueEvent)("audio_sts",...this.serializeEvent(e))}sendCurrentAudioEvent(e){this.sendEvent(u({shuffle:this.playerAdapter.isShuffledPlaylist(),repeat:this.playerAdapter.isRepeatCurrentAudio()?1:this.playerAdapter.isRepeatAll()?2:0,volume:this.playerAdapter.getVolume(),position:this.playerAdapter.getProgressInSeconds(),listened:this.getListenedTime(),playlistId:this.playerAdapter.getPlaylistId()},this.getEnvParams(),{},this.getCurrentAudioParams(),{},e))}sendAudioEvent(e){var t=u({},e,{},this.getEnvParams());!vk.id&&this.uniqueUserId&&(t.uniqueUnauthId=this.uniqueUserId),this.sendEvent(t)}destroy(){this.playerAdapter.unListenAll(),removeEvent(window,"beforeunload",this.onPageClose),this.playerAdapter=null,this.listenedData=null,clearTimeout(this.sendTimeout)}}},814786:(e,t,n)=>{"use strict";n.d(t,{UNKNOWN_STATE:()=>o,FULL_SCREEN_STATE:()=>a,AudioStatsPlayerAdapter:()=>i});var r=n(709961),o=0,a=2;class i{constructor(e){this.player=e,this.listeners=[]}listen(e,t,n){var r=t.bind(n||this);this.listeners.push({event:e,fn:t,listener:r}),this.playerListen(e,r)}unListen(e,t){var n=-1;if(each(this.listeners,((r,o)=>{if(o.event===e&&o.listener===t)return n=r,!1})),!(n<0)){var r=this.listeners[n];this.playerUnListen(e,r.listener),this.listeners.splice(n,1)}}unListenAll(){for(var e;e=this.listeners[0];)this.unListen(e.event,e.listener)}listenPlay(e,t){this.listen(r.events.PLAY,e,t)}listenPause(e,t){this.listen(r.events.PAUSE,e,t)}listenStop(e,t){this.listen("stop",e,t)}listenProgress(e,t){this.listen(r.events.PROGRESS,e,t)}listenVolume(e,t){this.listen(r.events.VOLUME,e,t)}listenSeek(e,t){this.listen(r.events.SEEK,e,t)}listenPlaylistChanged(e,t){this.listen(r.events.PLAYLIST_CHANGED,e,t)}listenEnded(e,t){this.listen(r.events.ENDED,e,t)}listenPlayNext(e,t){this.listen(r.events.PLAY_NEXT,e,t)}listenAdCompleted(e,t){this.listen(r.events.AD_COMPLETED,e,t)}playerListen(e,t){this.player.subscribe(e,t)}playerUnListen(e,t){this.player.unsubscribe(e,t)}getPausedBy(){return null}getState(){return document.hidden?1:3}getProgress(){return this.player.playerGetProgress()}getProgressInSeconds(){return this.player.getProgressInSeconds()}getVolume(){return this.player.getVolume()}getAudioId(){return this.player.getAudioId()}getAudio(){return this.player.getAudio()}getAudioTrackCode(){return this.player.getAudioTrackCode()}getPrevAudioId(){return this.player.getPrevAudioId()}getPrevPlaylistId(){return this.player.getPrevPlaylistId()}getPlaylistId(){return this.player.getPlaylistId()}getContext(){return this.player.getContext()}getSequence(){return this.player.getSequence()}getType(){return this.player.getType()}getListenedTime(){return isNaN(this.player.getListenedTime())?0:Math.round(this.player.getListenedTime())}getSearchParams(){return this.player.getSearchParams()}isPlaying(){return this.player.isPlaying()}isAutoPlayed(){return this.player.isAutoPlayed()}isRepeatCurrentAudio(){return this.player.isRepeatCurrentAudio()}isRepeatAll(){return this.player.isRepeatAll()}isShuffledPlaylist(){return this.player.isShuffledPlaylist()}isRealPlaylist(){return this.player.isRealPlaylist()}isRealPrevPlaylist(){return this.player.isRealPrevPlaylist()}isPodcast(){return this.player.isPodcast()}isAdPlaying(){return this.player.ads.isPlaying()}isLastTrack(){return this.player.isLastTrack()}hasPrevAudio(){return this.player.hasPrevAudio()}hasPrevPlaylist(){return this.player.hasPrevPlaylist()}hasPlaylist(){return this.player.hasPlaylist()}hasSearchParams(){return this.player.hasSearchParams()}isDebug(){return!1}sendListenedData(e){return this.player.sendListenedData(e)}}},588241:(e,t,n)=>{"use strict";n.d(t,{SILENCE:()=>r,DEFAULT_VOLUME:()=>o});var r="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA",o=.4761515102104643},541650:(e,t,n)=>{"use strict";n.d(t,{AUDIO_PLAYER_ENUMS:()=>r});var r={AUDIO_ITEM_INDEX_ID:0,AUDIO_ITEM_INDEX_OWNER_ID:1,AUDIO_ITEM_INDEX_URL:2,AUDIO_ITEM_INDEX_TITLE:3,AUDIO_ITEM_INDEX_PERFORMER:4,AUDIO_ITEM_INDEX_DURATION:5,AUDIO_ITEM_INDEX_ALBUM_ID:6,AUDIO_ITEM_INDEX_AUTHOR_LINK:8,AUDIO_ITEM_INDEX_LYRICS:9,AUDIO_ITEM_INDEX_FLAGS:10,AUDIO_ITEM_INDEX_CONTEXT:11,AUDIO_ITEM_INDEX_EXTRA:12,AUDIO_ITEM_INDEX_HASHES:13,AUDIO_ITEM_INDEX_COVER_URL:14,AUDIO_ITEM_INDEX_ADS:15,AUDIO_ITEM_INDEX_SUBTITLE:16,AUDIO_ITEM_INDEX_MAIN_ARTISTS:17,AUDIO_ITEM_INDEX_FEAT_ARTISTS:18,AUDIO_ITEM_INDEX_ALBUM:19,AUDIO_ITEM_INDEX_TRACK_CODE:20,AUDIO_ITEM_INDEX_RESTRICTION:21,AUDIO_ITEM_INDEX_ALBUM_PART:22,AUDIO_ITEM_ACCESS_KEY:24,AUDIO_ITEM_CHART_INFO_INDEX:25,AUDIO_ITEM_HAS_LYRICS_BIT:1,AUDIO_ITEM_CAN_ADD_BIT:2,AUDIO_ITEM_CLAIMED_BIT:4,AUDIO_ITEM_QUEUE_BIT:8,AUDIO_ITEM_HQ_BIT:16,AUDIO_ITEM_LONG_PERFORMER_BIT:32,AUDIO_ITEM_UMA_BIT:128,AUDIO_ITEM_REPLACEABLE:512,AUDIO_ITEM_EXPLICIT_BIT:1024,AUDIO_ENOUGH_LOCAL_SEARCH_RESULTS:500,AUDIO_RECOMS_TYPE_LISTENED:"recoms6",AUDIO_PLAYING_CLS:"audio_row__playing",AUDIO_CURRENT_CLS:"audio_row__current",AUDIO_DURATION_CLS:"audio_row__duration",AUDIO_LAYER_HEIGHT:550,AUDIO_LAYER_MIN_WIDTH:400,AUDIO_LAYER_MAX_WIDTH:1e3,AUDIO_HQ_LABEL_CLS:"audio_hq_label_show",AUDIO_MAX_AUDIOS_IN_SNIPPET:5,AUDIO_ROW_COVER_SIZE:40,AUDIO_ROW_PLAY_SIZE:24,AUDIO_ROW_ACTION_ROW_ITEM:'<button class="audio_row__more_action audio_row__more_action_%0% _audio_row__more_action_%0% %3%">%2%</button>',LOG_LS_KEY:"audiolog"}},278869:(e,t,n)=>{"use strict";n.d(t,{asObject:()=>a});n(751876);var r=n(541650),o=n(951478);function a(e){if(!e)return null;if(isObject(e))return e;if("string"==typeof e)return{id:e};var t=(e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_HASHES]||"").split("/"),n=(e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_COVER_URL]||"").split(","),a=(0,o.getAudioPerformers)(e,!1);return{id:intval(e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ID]),owner_id:intval(e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_OWNER_ID]),ownerId:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_OWNER_ID],fullId:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_OWNER_ID]+"_"+e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ID],title:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_TITLE]||"",subTitle:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_SUBTITLE],performer:a,mainArtists:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_MAIN_ARTISTS],featArtists:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FEAT_ARTISTS],authorLink:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_AUTHOR_LINK],duration:intval(e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_DURATION]),lyrics:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_LYRICS]||"",url:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_URL],flags:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FLAGS],context:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_CONTEXT],extra:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_EXTRA],accessKey:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_ACCESS_KEY],addHash:t[0]||"",editHash:t[1]||"",actionHash:t[2]||"",deleteHash:t[3]||"",replaceHash:t[4]||"",urlHash:t[5]||"",restoreHash:t[6]||"",canEdit:!!t[1],canDelete:!!t[3],isLongPerformer:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FLAGS]&r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_LONG_PERFORMER_BIT,canAdd:!!(e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FLAGS]&r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_CAN_ADD_BIT),coverUrl_s:n[0],coverUrl_p:n[1],isClaimed:!!(e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FLAGS]&r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_CLAIMED_BIT),isFromQueue:!!(e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FLAGS]&r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_QUEUE_BIT),isExplicit:!!(e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FLAGS]&r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_EXPLICIT_BIT),isUMA:!!(e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FLAGS]&r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_UMA_BIT),isReplaceable:!!(e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FLAGS]&r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_REPLACEABLE),ads:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ADS],album:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ALBUM],albumId:intval(e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ALBUM_ID]),albumPart:intval(e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ALBUM_PART]),trackCode:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_TRACK_CODE],restrictionStatus:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_RESTRICTION],chartInfo:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_CHART_INFO_INDEX]}}},176663:(e,t,n)=>{"use strict";n.d(t,{audioUnmaskSource:()=>a});n(751876);var r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMN0PQRSTUVWXYZO123456789+/=",o={v:function(e){return e.split("").reverse().join("")},r:function(e,t){var n;e=e.split("");for(var o=r+r,a=e.length;a--;)~(n=o.indexOf(e[a]))&&(e[a]=o.substr(n-t,1));return e.join("")},s:function(e,t){var n=e.length;if(n){var r=function(e,t){var n=e.length,r=[];if(n){var o=n;for(t=Math.abs(t);o--;)t=(n*(o+1)^t+o)%n,r[o]=t}return r}(e,t),o=0;for(e=e.split("");++o<n;)e[o]=e.splice(r[n-1-o],1,e[o])[0];e=e.join("")}return e},i:function(e,t){return o.s(e,t^vk.id)},x:function(e,t){var n=[];return t=t.charCodeAt(0),each(e.split(""),(function(e,r){n.push(String.fromCharCode(r.charCodeAt(0)^t))})),n.join("")}};function a(e){if((!window.wbopen||!~(window.open+"").indexOf("wbopen"))&&~e.indexOf("audio_api_unavailable")){var t,n,r=e.split("?extra=")[1].split("#"),a=""===r[1]?"":i(r[1]);if(r=i(r[0]),"string"!=typeof a||!r)return e;for(var s=(a=a?a.split(String.fromCharCode(9)):[]).length;s--;){if(t=(n=a[s].split(String.fromCharCode(11))).splice(0,1,r)[0],!o[t])return e;r=o[t].apply(null,n)}if(r&&"http"===r.substr(0,4))return r}return e}function i(e){if(!e||e.length%4==1)return!1;for(var t,n,o=0,a=0,i="";n=e.charAt(a++);)~(n=r.indexOf(n))&&(t=o%4?64*t+n:n,o++%4)&&(i+=String.fromCharCode(255&t>>(-2*o&6)));return i}},833464:(e,t,n)=>{"use strict";function r(e,t){var n="";return e.forEach((function(r,o){var a="/audio?performer=1&q="+encodeURIComponent(r.name),i=window.getWebHost?window.getWebHost():"";r.id&&(a=`/artist/${r.id}`),n+=t?`<a class="artist_link" href="${i}${a}">${r.name}</a>`:r.name,o<e.length-1&&(n+=", ")})),n}n.d(t,{getAudioArtistsString:()=>r})},951478:(e,t,n)=>{"use strict";n.d(t,{getAudioPerformers:()=>i});n(59357);var r=n(479322),o=n(833464),a=n(541650);function i(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="",i=!(0,r.isPodcast)(e)&&t;if(isArray(e[a.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_MAIN_ARTISTS])&&(n=(0,o.getAudioArtistsString)(e[a.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_MAIN_ARTISTS],i)),isArray(e[a.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FEAT_ARTISTS])&&(n+=" feat. ",n+=(0,o.getAudioArtistsString)(e[a.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FEAT_ARTISTS],i)),!n){var s=e[a.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_PERFORMER]?e[a.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_PERFORMER].replace(/<\/?em>/g,""):"";if(i){var u="/audio?performer=1&q="+encodeURIComponent(s);n=`<a class="artist_link" data-performer="${s}" href="${u}">${s}</a>`}else n=s}return n}},282312:(e,t,n)=>{"use strict";n.d(t,{getCurrentAudio:()=>o});var r=n(278869);function o(){try{return window.isMVK?window.audio.getCurrent():(0,r.asObject)(window.getAudioPlayer().getCurrentAudio())}catch(e){return{id:0,ownerId:0}}}},479322:(e,t,n)=>{"use strict";n.d(t,{isPodcast:()=>o});var r=n(541650);function o(e){if(!e)return!1;var t=isObject(e)?e.extra:e[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_EXTRA];return isObject(t)||(t=JSON.parse(t||"{}")),!!t.podcast}},330538:(e,t,n)=>{"use strict";n.d(t,{serializeAudio:()=>o});n(176774);var r=n(541650);function o(e){if(!e)return null;if(Array.isArray(e))return e;var t=[e.addHash,e.editHash,e.actionHash,e.deleteHash,e.replaceHash,e.urlHash,e.restoreHash].join("/"),n=[e.coverUrl_s,e.coverUrl_p].join(","),o=[];return o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ID]=e.id,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_OWNER_ID]=e.owner_id,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_URL]=e.url,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_TITLE]=e.title,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_PERFORMER]=e.performer,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_DURATION]=e.duration,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ALBUM_ID]=e.albumId,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_AUTHOR_LINK]=e.authorLink,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_LYRICS]=e.lyrics,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FLAGS]=e.flags,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_CONTEXT]=e.context,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_EXTRA]=e.extra,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_HASHES]=t,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_COVER_URL]=n,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ADS]=e.ads,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_SUBTITLE]=e.subTitle,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_MAIN_ARTISTS]=e.mainArtists,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FEAT_ARTISTS]=e.featArtists,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ALBUM]=e.album,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_TRACK_CODE]=e.trackCode,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_RESTRICTION]=e.restrictionStatus,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ALBUM_PART]=e.albumPart,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_ACCESS_KEY]=e.accessKey,o[r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_CHART_INFO_INDEX]=e.chartInfo,o}},767334:(e,t,n)=>{"use strict";function r(e,t){if(!window.Worker||!window.Blob)return setTimeout(e,t);var n=new Blob([`\n      var timeout;\n      onmessage = function(e) {\n        clearTimeout(timeout);\n        if (e.data == 'start') {\n          timeout = setTimeout(function() { postMessage({}); }, ${t});\n        }\n      }\n    `]);try{var r=new Worker(window.URL.createObjectURL(n));return r.onmessage=function(){r.terminate(),e()},r.postMessage("start"),r}catch(n){return setTimeout(e,t)}}n.d(t,{setWorkerTimeout:()=>r})},422124:(e,t,n)=>{"use strict";n.d(t,{wrapAudioPlay:()=>r});n(940851),n(296253);function r(e){try{return e.play()||Promise.resolve()}catch(e){return Promise.reject(e)}}},160396:(e,t,n)=>{"use strict";n.d(t,{GROUPS_ADMIN_LEVEL_USER:()=>r,GROUPS_ADMIN_LEVEL_ADMINISTRATOR:()=>o,USER_META_FIELD_IS_DONUT_PAID_MEMBER:()=>a,default:()=>i,GROUPS_CLASS_EVENT:()=>s});var r=0,o=3,a="is_donut_paid_member";const i={GROUPS_ADMIN_LEVEL_USER:r,GROUPS_ADMIN_LEVEL_MODERATOR:1,GROUPS_ADMIN_LEVEL_EDITOR:2,GROUPS_ADMIN_LEVEL_ADMINISTRATOR:o,GROUPS_ADMIN_LEVEL_HOST:4,GROUPS_ADMIN_LEVEL_EVENT_CREATOR:5,GROUPS_ADMIN_LEVEL_CREATOR:6,GROUPS_ADMIN_PSEUDO_LEVEL_ADVERTISER:100,GROUPS_ADMIN_FLAG_ADS:8};var s=2},613482:(e,t,n)=>{"use strict";n.d(t,{gemiusTrackPage:()=>o});var r=n(486353);function o(){if((0,r.partConfigEnabled)("geminus_counter")){var e="pzBAVLtpzyiyDVIwmwjmX5a2zSVdA6eUI7mpf0ufDFf.57";if(window.pp_gemius_identifier)window.pp_gemius_hit(e);else{window.pp_gemius_identifier=e;var t=function(e){window[e]=window[e]||function(){var t=window[e+"_pdata"]=window[e+"_pdata"]||[];t[t.length]=arguments}};t("gemius_hit"),t("gemius_event"),t("pp_gemius_hit"),t("pp_gemius_event"),function(e,t){try{var n=e.createElement(t),r=e.getElementsByTagName(t)[0],o="http"+("https:"==location.protocol?"s":""),a="vkgalv";if(window.vk&&window.vk.countryISO)switch(window.vk.countryISO){case"BY":a="vkgaby";break;case"MD":a="vkgamd";break;case"EE":a="vkgaee"}n.setAttribute("async","async"),n.setAttribute("defer","defer"),n.src=o+"://"+a+".hit.gemius.pl/xgemius.js",r.parentNode.insertBefore(n,r)}catch(e){}}(document,"script")}}}},841001:(e,t,n)=>{"use strict";n.d(t,{mediascopeTrackPage:()=>i});n(59357),n(751876);var r=n(917999),o=n(986900),a=n(486353);function i(e,t){var n=location.protocol,i=window._tns&&(window._tns.tnsPixelSocdem||"83"),s=t.replace(/\*/g,"%2a").split("#")[0],u=window._tns&&window._tns.tnsPixelType;if((0,r.vkImage)().src=`${n}//www.tns-counter.ru/V13a**clid:${i}*${s}*vk_com/ru/UTF-8/tmsec=vksite_total/${Math.round(1e9*Math.random())}`,(0,a.partConfigEnabled)("tns_track_sections")){var l="content",c="photo",_="music",d="video",p="clips",f="ecomm",h="games",m="docs",v=[[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\b.*?\bw=story-?\d+_\d+/,l,"story"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\b.*?\bz=video-?\d+_\d+/,d,"videoview"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\b.*?\bz=(photo(_tag)?-?\d+_\d+|albums?-?\d+)/,c,"photoview"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\b.*?\bz=audio_playlist-?\d+_\d+/,_,"playlistview"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\b.*?\bz=podcast-?\d+_\d+/,_,"podcastview"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\b.*?\bz=clip-?\d+_\d+/,p,"clipsview"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\b.*?\bw=app\d+/,h,"gamesappview"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\b.*?\bw=product-?\d+_\d+/,f,"product"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/feed\?section=likes(\/|\&|$)/,l,"likes"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/feed(\/|\?|$)/,l,"feed"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/friends(\/|\?|$)/,l,"friends"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/groups(\/|\?|$)/,l,"groups"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/(id|public|club)\d+(\/|\?|$)/,l,"idpublicclub"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/@[\w-\.]+(\/|\?|$)/,l,"longread"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/bookmarks(\/|\?|$)/,l,"bookmarks"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/stickers(\/|\?|$)/,l,"stickers"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/im(\/|\?|$)/,"messenger","messenger"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/(photos|tag\d+|(albums|photos)-?\d+|(album|photo)-?\d+_\d+)(\/|\?|$)/,c,"photo"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/(audio(s-?\d+)?|music)(\/|\?|$)/,_,"music"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/podcasts(-?\d+)(\/|\?|$)/,"podcasts","podcasts"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/(videos-?\d+|video(-?\d+_\d+)?)(\/|\?|$)/,d,"video"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/(clips(-?\d+)?|clip-?\d+_\d+)(\/|\?|$)/,p,"clips"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/services(\/|\?|$)/,"services","services"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/taxi(\/|\?|$)/,"taxi","taxi"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/eda(\/|\?|$)/,"eda","eda"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/worki(\/|\?|$)/,"worki","worki"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/market(-?\d+)?(\/|\?|$)/,f,"ecomm"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/apps(\/|\?|$)/,h,"gamesapp"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/app\d+(_-?\d+)(\/|\?|$)/,h,"gamesapppage"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/docs(\/|\?|$)/,m,"docs"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/doc-?\d+_\d+(\/|\?|$)/,m,"docdoc"]],g=window.cur&&window.cur.module||"other",y="other",E="other";v.some((t=>{if(t[0].test(e))return y=t[1],E=t[2],!0})),(0,o.statlogsValueEvent)("counters_check_tns",y,E,g)}"unauth"===u?(0,r.vkImage)().src=n+"//www.tns-counter.ru/V13a****vk_ad/ru/UTF-8/tmsec=vkad_cid1015708-posid1184674/"+Math.round(1e9*Math.random()):"has_rough"===u?(0,r.vkImage)().src=n+"//www.tns-counter.ru/V13a****vk_ad/ru/UTF-8/tmsec=vkad_cid1015708-posid1184675/"+Math.round(1e9*Math.random()):"not_has_rough"===u&&((0,r.vkImage)().src=n+"//www.tns-counter.ru/V13a****vk_ad/ru/UTF-8/tmsec=vkad_cid1015708-posid1184677/"+Math.round(1e9*Math.random()))}},506362:(e,t,n)=>{"use strict";n.d(t,{tmrTrackPage:()=>p,tmrTrackRegistration:()=>f,tmrTrackCustomGoal:()=>h,tmrTrackMiniAppOpen:()=>b,tmrTrackMiniAppClose:()=>D,tmrTrackMiniAppLogin:()=>C,tmrTrackMiniAppRegistration:()=>P,tmrTrackMiniAppCustom:()=>T});n(175115);var r=n(427813),o=n(486353),a=n(986900);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s="2579437",u="remixtmr_login",l="miniAppEvent",c=["mt_registration","mt_login"];function _(){return window.vk&&window.vk.id?window.vk.id:0}function d(e){if(!(window.vk&&window.vk.zero||window.__dev)){if(e&&e.goal&&c.includes(e.goal)){if((0,o.partConfigEnabled)("mt_log_disable"))return;(0,a.statlogsValueEvent)("counters_check_tmr",e.goal)}window._tmr=window._tmr||[],window._tmr.push(e)}}function p(e,t){d({id:s,url:e,referrer:t,type:"pageView",start:(new Date).getTime(),pid:_(),userid:_()}),(0,r.getCookie)(u)&&((0,r.setCookie)(u,"",-1),d({id:s,type:"reachGoal",goal:"mt_login",userid:_()}))}function f(){d({id:s,type:"reachGoal",goal:"mt_registration",userid:_()})}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d({id:s,type:"reachGoal",goal:e,userid:_(),params:t})}function m(e){var t=_();_&&d({id:s,type:l,params:i({},e,{platformUserId:String(t)})})}var v="open",g="close",y="login",E="registration",w="custom";function b(e,t){m({eventType:v,miniAppId:e,queryParams:t})}function D(e){m({eventType:g,miniAppId:e})}function C(e,t){m({eventType:y,miniAppId:e,customUserId:t})}function P(e,t){m({eventType:E,miniAppId:e,customUserId:t})}function T(e,t){m(i({eventType:w,miniAppId:e},t))}},901659:(e,t,n)=>{"use strict";n.d(t,{updateCounters:()=>l});n(530522),n(66108),n(296253),n(991181),n(579665),n(95767),n(59357);var r=n(613482),o=n(841001),a=n(506362),i=n(986900);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!(window.__dev||window.vk&&(window.vk.zero||window.vk.__dev))){t=t||document.referrer||"";[[/(hash|dl)=\w+/g,"$1="],[/(\/(?:write|mail|im|al_im.php))(?:\?[a-z0-9&=_-]*)?$/,"$1"],[/(\/write)\d*(?:\?[a-zA-Z0-9&=_-]*)?$/,"$1"]].forEach((n=>{var r=s(n,2),o=r[0],a=r[1];e=e.replace(o,a),t=t.replace(o,a)})),(0,a.tmrTrackPage)(e,t);var n=[/\/login\?.*$/];n.some((t=>t.test(e)))||n.some((e=>e.test(t)))||((0,o.mediascopeTrackPage)(e,t),(0,r.gemiusTrackPage)(),(0,i.statlogsValueEvent)("counters_check",1))}}},433912:(e,t,n)=>{"use strict";n.d(t,{emojiRegex:()=>r,skinToneModifierRegex:()=>o,EMOJI_PREFIXED_REPLACES:()=>a,EMOJI_REPLACES:()=>i,EMOJI_HINTS:()=>s});var r=()=>/(?:\uD83C\uDFF4)(?:(?:\uDB40\uDC67)(?:\uDB40\uDC62)(?:(?:\uDB40\uDC65)(?:\uDB40\uDC6E)(?:\uDB40\uDC67)|(?:\uDB40\uDC77)(?:\uDB40\uDC6C)(?:\uDB40\uDC73)|(?:\uDB40\uDC73)(?:\uDB40\uDC63)(?:\uDB40\uDC74))(?:\uDB40\uDC7F)|\u200D\u2620\uFE0F?)|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC69)\u200D(?:(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83D\uDC68)(?:\u200D(?:\u2764\uFE0F?\u200D(?:(?:\uD83D\uDC8B)\u200D)?(?:\uD83D\uDC68)|(?:\uD83D[\uDC68\uDC69])\u200D(?:(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83D\uDC69)\u200D(?:\u2764\uFE0F?\u200D(?:(?:\uD83D\uDC8B)\u200D(?:\uD83D[\uDC68\uDC69])|(?:\uD83D[\uDC68\uDC69]))|(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:(?:\uD83D\uDC41)\uFE0F?\u200D(?:\uD83D\uDDE8)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|(?:\uD83D\uDC68)(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F?|(?:\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]))\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|(?:\uD83D\uDC69)\u200D[\u2695\u2696\u2708])\uFE0F?|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC69)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC68)(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC66\uDC67]))|(?:\uD83C[\uDFFB-\uDFFF]))|(?:\uD83C\uDFF3)\uFE0F?\u200D(?:\uD83C\uDF08)|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC67)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC66)|(?:\uD83C\uDDF6)(?:\uD83C\uDDE6)|(?:\uD83C\uDDFD)(?:\uD83C\uDDF0)|(?:\uD83C\uDDF4)(?:\uD83C\uDDF2)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C\uDDED)(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|(?:\uD83C\uDDEC)(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|(?:\uD83C\uDDEA)(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|(?:\uD83C\uDDE8)(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\uD83C\uDDF2)(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|(?:\uD83C\uDDF3)(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|(?:\uD83C\uDDFC)(?:\uD83C[\uDDEB\uDDF8])|(?:\uD83C\uDDFA)(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|(?:\uD83C\uDDF0)(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|(?:\uD83C\uDDEF)(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C\uDDF8)(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|(?:\uD83C\uDDEE)(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|(?:\uD83C\uDDFF)(?:\uD83C[\uDDE6\uDDF2\uDDFC])|(?:\uD83C\uDDEB)(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|(?:\uD83C\uDDF5)(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|(?:\uD83C\uDDE9)(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|(?:\uD83C\uDDF9)(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|(?:\uD83C\uDDE7)(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|[#\*0-9]\uFE0F?\u20E3|(?:\uD83C\uDDF1)(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|(?:\uD83C\uDDE6)(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|(?:\uD83C\uDDF7)(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|(?:\uD83C\uDDFB)(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|(?:\uD83C\uDDFE)(?:\uD83C[\uDDEA\uDDF9])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])|(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])\uFE0F?|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDD1-\uDDDD])/g,o=/\uFE0F?\uD83C[\uDFFB-\uDFFF]/,a={e29da4:/(\s|^)([0OО]:\))([\s\.,]|$)/g,f09f9887:/(\s|^)(;-\)+)([\s\.,]|$)/g,f09f9889:/(\s|^)([XХxх]-?D)([\s\.,]|$)/g,f09f9886:/(\s|^)(B-\))([\s\.,]|$)/g,f09f988e:/(\s|^)(3-\))([\s\.,]|$)/g,f09f988c:/(\s|^)(&gt;\()([\s\.,]|$)/g,f09f98a0:/(\s|^)(;[oоOО])([\s\.,]|$)/g,f09f98b0:/(\s|^)(8\|)([\s\.,]|$)/g,f09f98b3:/(\s|^)(8-?[oоOО])([\s\.,]|$)/g,f09f98b2:/(\s|^)(8-\))([\s\.,]|$)/g,f09f988d:/(\s|^)(:[XХ])([\s\.,]|$)/g,f09f98b7:/(\s|^)(:[oоOО])([\s\.,]|$)/g,f09f98a8:/(\s|^)(&lt;3)([\s\.,]|$)/g},i={f09f988a:/(:-\))([\s\.,]|$)/g,f09f9883:/(:-D)([\s\.,]|$)/g,f09f989c:/(;-[PР])([\s\.,]|$)/g,f09f988b:/(:-[pр])([\s\.,]|$)/g,f09f9892:/(:-\()([\s\.,]|$)/g,e298ba:/(:-?\])([\s\.,]|$)/g,f09f988f:/(;-\])([\s\.,]|$)/g,f09f9894:/(3-?\()([\s\.,]|$)/g,f09f98a2:/(:&#039;\()([\s\.,]|$)/g,f09f98ad:/(:_\()([\s\.,]|$)/g,f09f98a9:/(:\(\()([\s\.,]|$)/g,f09f9890:/(:\|)([\s\.,]|$)/g,f09f98a1:/(&gt;\(\()([\s\.,]|$)/g,f09f989a:/(:-\*)([\s\.,]|$)/g,f09f9888:/(\}:\))([\s\.,]|$)/g,f09f918d:/(:like:)([\s\.,]|$)/g,f09f918e:/(:dislike:)([\s\.,]|$)/g,e2989d:/(:up:)([\s\.,]|$)/g,e29c8c:/(:v:)([\s\.,]|$)/g,f09f918c:/(:ok:|:ок:)([\s\.,]|$)/g},s={e29da4:[0,"<3"],f09f988a:[1,":-)"],f09f9883:[2,":-D"],f09f9889:[3,";-)"],f09f9886:[4,"xD"],f09f989c:[5,";-P"],f09f988b:[6,":-p"],f09f988d:[7,"8-)"],f09f988e:[8,"B-)"],f09f9892:[9,":-("],f09f988f:[10,";-]"],f09f9894:[11,"3("],f09f98a2:[12,":'("],f09f98ad:[13,":_("],f09f98a9:[14,":(("],f09f98a8:[15,":o"],f09f9890:[16,":|"],f09f988c:[17,"3-)"],f09f98a0:[18,">("],f09f98a1:[19,">(("],f09f9887:[20,"O:)"],f09f98b0:[21,";o"],f09f98b3:[22,"8|"],f09f98b2:[23,"8o"],f09f98b7:[24,":X"],f09f989a:[25,":-*"],f09f9888:[26,"}:)"],f09f918d:[27,":like:"],f09f918e:[28,":dislike:"],e2989d:[29,":up:"],e29c8c:[30,":v:"],f09f918c:[31,":ok:"]}},419018:(e,t,n)=>{"use strict";n.d(t,{emojiToHTML:()=>i,getEmojiHTML:()=>s,emojiReplace:()=>u});n(991181),n(296253),n(59357);var r=n(433912),o=n(276653),a=n(358862);function i(e,t){if(browser.ipad||browser.iphone)return e;e=(e+"").replace(/&nbsp;/g," ").replace(/<br>/g,"\n");for(var n=0;n<2;n++)Object.keys(r.EMOJI_PREFIXED_REPLACES).forEach((t=>{e.replace(r.EMOJI_PREFIXED_REPLACES[t],((e,n,r,o)=>(n||"")+s(t)+(o||"")))}));return Object.keys(r.EMOJI_REPLACES).forEach((t=>{e=e.replace(r.EMOJI_REPLACES[t],((e,n,r)=>s(t)+(r||"")))})),e=e.replace(/\n/g,"<br>"),t&&(e=e.replace(/\uFE0F/g,"").replace((0,r.emojiRegex)(),u)),e}function s(e,t,n,r){return!n&&t?t:r?`<i class="emoji @${e}" emoji="${e}"${t?` title="${t}"`:""}></i>`:`<img class="emoji" src="/emoji/e/${e}${window.devicePixelRatio>=2?"_2x":""}.png"${t?` alt="${t}"`:""}${browser.msie&&Number(browser.version)>8?' contenteditable="false"':""}>`}function u(e){return s((0,o.emojiSymbolToByteHex)(e),(0,a.encodeHTMLEntities)(e),!0)}},276653:(e,t,n)=>{"use strict";n.d(t,{emojiSymbolToByteHex:()=>o,emojiByteHexToSymbol:()=>a,emojiRemoveSkinToneModifiers:()=>i});n(751876),n(59357);var r=n(433912);function o(e){return encodeURIComponent(e.replace(/\uFE0F/gi,"")).replace(/%/gi,"").toLowerCase()}function a(e){var t,n=e.length%2==1,r=n?e.slice(0,1):"",o=n?e.slice(1):e,a="";try{a=decodeURIComponent("%"+(t=o,t.split("").reduce(((e,t,n)=>e+t+((n+1)%2==0?" ":"")),"").trim().split(/\s+/)).join("%"))}catch(e){}return r+a}function i(e){return e.replace((0,r.emojiRegex)(),s)}function s(e){return e.replace(r.skinToneModifierRegex,"")}},358862:(e,t,n)=>{"use strict";n.d(t,{symbols:()=>a,escape:()=>i,encodeHTMLEntities:()=>s,decodeHTMLEntities:()=>u});n(530522),n(66108),n(296253),n(991181),n(579665),n(95767),n(283946),n(59357);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=[["&amp;","&"],["&lt;","<"],["&gt;",">"],["&quot;",'"']];function i(e){return a.reduce(((e,t)=>{var n=r(t,2),o=n[0],a=n[1];return e.replace(new RegExp(a,"ig"),o)}),e)}function s(e){return i(e).replace(/[\u00A0-\u9999<>\&]/gim,(e=>`&#${e.charCodeAt(0)};`))}function u(e){return a.reduce(((e,t)=>{var n=r(t,2),o=n[0],a=n[1];return e.replace(new RegExp(o,"ig"),a)}),e).replace(/&#(\d+);/g,((e,t)=>String.fromCodePoint(t)))}},917999:(e,t,n)=>{"use strict";n.d(t,{rand:()=>o,replaceEntities:()=>v,isArray:()=>l,isEmpty:()=>_,isFunction:()=>i,isFormData:()=>s,isHttpHref:()=>D,isNumeric:()=>d,isObject:()=>c,isString:()=>u,isUndefined:()=>a,irand:()=>w,escapeAttr:()=>h,escapeRE:()=>p,escapeStr:()=>g,each:()=>T,htsc:()=>f,copy:()=>O,vkNow:()=>C,locBase:()=>r,unescapeAttr:()=>m,utf2win:()=>b,srand:()=>E,stripTags:()=>y,defaults:()=>A,intval:()=>P,vkImage:()=>k});n(175115),n(751876),n(66108),n(296253),n(59357);var r=()=>location.toString().replace(/#.+$/,""),o=(e,t)=>Math.random()*(t-e+1)+e,a=e=>void 0===e,i=e=>e&&"[object Function]"===Object.prototype.toString.call(e),s=e=>e&&"[object FormData]"===Object.prototype.toString.call(e),u=e=>"string"==typeof e,l=e=>"[object Array]"===Object.prototype.toString.call(e),c=e=>"[object Object]"===Object.prototype.toString.call(e),_=e=>{if(!c(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},d=e=>!isNaN(parseFloat(e))&&isFinite(e)&&!Array.isArray(e),p=e=>e?e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"):"",f=e=>e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;").replace(/%/g,"&#37;"),h=e=>e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;"),m=e=>e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'"),v=e=>ce("textarea",{innerHTML:(e||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}).value,g=e=>e.replace(/\'/g,"\\'"),y=e=>e.replace(/<[^>]+>/g,""),E=()=>Math.random().toString(36).substr(2),w=(e,t)=>Math.floor(o(e,t)),b=e=>unescape(encodeURIComponent(e));function D(e){var t=(e+"").split(":"),n=t[1]&&t[0]?t[0]+":":location.protocol;return"http:"===n||"https:"===n}var C=()=>+new Date;function P(e){return!0===e?1:parseInt(e)||0}function T(e,t){if(!e)return e;if(c(e)||void 0===e.length){for(var n in e)if(e.hasOwnProperty(n)&&!1===t.call(e[n],n,e[n]))break}else for(var r=0,o=e.length;r<o;r++){var a=e[r];if(!1===t.call(a,r,a))break}return e}function O(e){return l(e)?e.concat([]):c(e)?extend({},e):e}var A=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign({},e,...n.reverse(),e)},k=()=>window.Image?new Image:ce("img")},828397:(e,t,n)=>{"use strict";n.d(t,{log:()=>a,error:()=>i});var r=n(486353);function o(){return window.console&&(0,r.partConfigEnabled)("js_console_logs")}function a(){o()&&window.console.log&&window.console.log(...arguments)}function i(){o()&&(window.console.error?window.console.error(...arguments):a(...arguments))}},182408:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromQueryString:()=>u,toQueryString:()=>s});n(751876),n(820075);var r=n(917999),o={},a=function(e){if(o[e])return e;try{return encodeURIComponent(e)}catch(e){return""}},i=function(e){try{return decodeURIComponent(e)}catch(t){return o[e]=1,e}};function s(e,t){var n=[];for(var o in e)if(e.hasOwnProperty(o)&&null!=e[o]&&!(0,r.isFunction)(e[o]))if((0,r.isArray)(e[o]))for(var i=0,s=0,u=e[o].length;i<u;++i)null==e[o][i]||(0,r.isFunction)(e[o][i])||(n.push(a(o)+"["+s+"]="+a(e[o][i])),++s);else n.push(a(o)+"="+a(e[o]));return t||n.sort(),n.join("&")}function u(e){if(!e)return{};var t={};return e=e.split("&"),(0,r.each)(e,(function(e,n){var r=n.split("=");if(r[0]){var o=i(r[1]+"");if("[]"===r[0].substr(r.length-2)){var a=i(r[0].substr(0,r.length-2));t[a]||(t[a]=[]),t[a].push(o)}else t[i(r[0])]=o}})),t}},427813:(e,t,n)=>{"use strict";n.d(t,{getCookie:()=>i,setCookie:()=>s,initCookies:()=>u});n(21466),n(751876);var r=n(486353),o=n(986900);function a(){return browser.chrome&&parseInt(browser.version)>=71}function i(e){return function(){window._cookies={};for(var e=document.cookie.split(";"),t=/^[\s]*([^\s]+?)$/i,n=0,r=e.length;n<r;n++){var o=e[n].split("=");2===o.length&&(_cookies[o[0].match(t)[1]]=unescape(o[1].match(t)?o[1].match(t)[1]:""))}}(),"https:"!==location.protocol&&(0,o.statlogsValueEvent)("read_unsecure_cookie",e,location.href),_cookies[e]}function s(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"None",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:window.locDomain,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},l=e+"="+escape(t),c=u.withoutSubdomains?".":"",_="; path=/"+(s?"; domain="+c+s:""),d="https:"===location.protocol,p=!!o;(0,r.partConfigEnabled)("cookie_secure_default_true")&&(p=!1!==o);var f=d&&p?"; secure":"",h=p&&a()&&(0,r.partConfigEnabled)("cookie_class_samesite")?`; SameSite=${i}`:"",m="";if(n){var v=new Date;v.setTime(v.getTime()+24*n*60*60*1e3),m="; expires="+v.toGMTString()}document.cookie=l+m+_+h+f}function u(){window._cookies={}}},764077:(e,t,n)=>{"use strict";n.d(t,{crc32:()=>s});n(183318);for(var r=new Uint32Array(256),o=256;o--;){for(var a=o,i=8;i--;)a=1&a?3988292384^a>>>1:a>>>1;r[o]=a}function s(e){for(var t=-1,n=0,o=e.length;n<o;n++)t=t>>>8^r[255&t^e[n]];return(-1^t)>>>0}},503369:(e,t,n)=>{"use strict";function r(e,t,n){var r;return function(){var o=arguments,a=()=>{r=null,n||e.apply(this,o)},i=n&&!r;clearTimeout(r),r=setTimeout(a,t),i&&e.apply(this,o)}}n.d(t,{debounce:()=>r})},420848:(e,t,n)=>{"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.browser;return!(!e.mac||e.iphone||e.ipad||e.ipod||!(navigator.maxTouchPoints>1))}n.d(t,{isIPadOS:()=>r,isDarkTheme:()=>o,isLightTheme:()=>a,isCSSVariablesSupported:()=>i,isAutoSchemesSupported:()=>s,isSupportsSupported:()=>u,isIntersectionObserverSupported:()=>l});var o=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches),a=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches),i=()=>Boolean(window.CSS&&CSS.supports&&CSS.supports("color","var(--custom-property)")),s=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme)").matches),u=()=>Boolean(window.CSS&&CSS.supports),l=()=>"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype},970793:(e,t,n)=>{"use strict";n.d(t,{default:()=>o});var r=n(194795);window.EventEmitter=r;const o=r},40897:(e,t,n)=>{"use strict";n.d(t,{rootId:()=>a,registerReactApplication:()=>i,showComponentInBox:()=>s,updateCurrentComponentInBox:()=>u,destroyComponentInBox:()=>l,renderCommonBox:()=>_});var r=n(973935),o=n(667294),a="react_root";function i(e,t){window.applicationInitFunctions[e]=t,window.reactInitQueue[e]&&window.reactInitQueue[e].length&&(window.reactInitQueue[e].forEach((t=>{window.initReactApplication(e,t)})),window.reactInitQueue[e]=[])}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.onDestroy||(t.onDestroy=l);var n=window.showFastBox(t),o=document.querySelectorAll(".box_layout"),a=o[o.length-1];return r.render(e,a),c(),n}function u(e){var t=document.querySelectorAll(".box_layout"),n=t[t.length-1];r.render(e,n)}function l(e){var t=document.querySelectorAll(".box_layout"),n=t[t.length-1];n&&r.unmountComponentAtNode(n);var o=window.curBox();o&&o.hide(e)}function c(){var e=document.querySelectorAll(".popup_box_container"),t=e[e.length-1];boxRefreshCoords(t)}function _(e,t,n){var r=n?o.createElement("div",{className:"box_controls ta_r"},n):null,a=n?"":" box_no_buttons";return o.createElement(o.Fragment,null,o.createElement("div",{className:"box_title_wrap"},o.createElement("div",{className:"box_x_button",role:"button",onClick:l}),o.createElement("div",{className:"box_title"},e)),o.createElement("div",{className:`box_body${a}`},t),r)}window.applicationInitFunctions||(window.applicationInitFunctions={}),window.reactInitQueue||(window.reactInitQueue={}),window.initReactApplication=(e,t)=>{window.applicationInitFunctions[e]?window.applicationInitFunctions[e](t):(window.reactInitQueue[e]||(window.reactInitQueue[e]=[]),window.reactInitQueue[e].push(t))}},651988:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});var r=n(190302);function o(e){try{r.vkLocalStorage.removeItem(e)}catch(e){}}const a={checkVersion:function(){try{return void 0!==window.localStorage&&null!==window.localStorage&&void 0!==window.JSON}catch(e){return!1}},remove:o,get:function(e){try{return JSON.parse(r.vkLocalStorage.getItem(e))}catch(e){return!1}},set:function(e,t){o(e);try{return r.vkLocalStorage.setItem(e,JSON.stringify(t))}catch(e){return!1}}}},163705:(e,t,n)=>{"use strict";function r(){return navigator.connection||navigator.mozConnection||navigator.webkitConnection}function o(){var e=r();return e&&e.type||"unknown"}function a(){var e=r();return e&&e.effectiveType||"unknown"}n.d(t,{default:()=>i});const i={getConnection:r,getConnectionType:o,getConnectionEffectiveType:a,getConnectionTypeID:function(){return{unknown:0,bluetooth:1,cellular:2,ethernet:3,none:4,wifi:5,wimax:6,other:7}[o()]||0},getConnectionEffectiveTypeID:function(){return{unknown:0,"slow-2g":1,"2g":2,"3g":3,"4g":4}[a()]||0}}},227192:(e,t,n)=>{"use strict";n.d(t,{pause:()=>r,retryFn:()=>o,debouncedPromise:()=>a,throttledPromise:()=>i,abortablePause:()=>s,promisify:()=>u});n(940851),n(296253);function r(e,t){return new Promise((n=>{setTimeout(n.bind(null,t),1e3*e)}))}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=0;return function a(){for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return Promise.resolve().then((()=>e(...s))).catch((e=>{if(++o<=t){var i="function"==typeof n?n(o):0;return 0===i?a(...s):r(i).then((()=>a(...s)))}throw e}))}}function a(e,t,n){var r,o;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return new Promise(((e,a)=>{var s=n&&!r;clearTimeout(r),o&&o.reject("debounce"),r=setTimeout((function(){r=null,o=null,n||e(i)}),t),s?e(i):n&&a("debounce"),o={resolve:e,reject:a}})).then((t=>e(...t)))}}function i(e,t){var n,r,o;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return new Promise(((e,a)=>{var s=Date.now(),u=()=>{e(i),n=s};!n||n+t<s?u():(o&&(o.reject(),clearTimeout(r)),o={resolve:e,reject:a},r=setTimeout(u,t-(s-n)))})).then((t=>e(...t)))}}function s(e,t){var n,r=new Promise((r=>{n=r,setTimeout(r.bind(null,t),1e3*e)}));return{pause:()=>r,abort(){n(t)}}}function u(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new Promise((t=>e(...n,t)))}}},324037:(e,t,n)=>{"use strict";n.d(t,{CSS_LOAD_ERROR_TEXT:()=>r,loadStyle:()=>o,JS_LOAD_ERROR_TEXT:()=>a,loadScript:()=>i});n(940851),n(296253);var r="Stylesheet load error for";function o(e){return new Promise(((t,n)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=e,o.onload=()=>t(o),o.onerror=()=>n(new Error(`${r} ${e}`)),document.head.appendChild(o)}))}var a="Script load error for";function i(e,t){var n=document.createElement("script");n.src=e,n.onload=()=>t(null,n),n.onerror=()=>t(new Error(`${a} ${e}`)),document.head.appendChild(n)}},986900:(e,t,n)=>{"use strict";n.d(t,{statlogsValueEvent:()=>l});var r,o,a=n(427813),i=n(736557),s=n(917999),u=n(651988);function l(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var u;void 0!==e&&void 0!==t&&c((()=>{try{u=(u=JSON.parse((0,a.getCookie)(o))).data}catch(e){u=[]}u.push([Math.round(Date.now()/1e3),e,t].concat(r)),u=u.slice(u.length-100);var n=Math.round((0,s.rand)(0,1e9));(0,a.setCookie)(o,JSON.stringify({data:u,uniqueId:n}),.01)}))}function c(e,t){if(u.default.checkVersion()){if(!0!==u.default.get(r)){u.default.set(r,!0);try{e()}catch(e){}return void u.default.set(r,!1)}t||setTimeout((()=>c(e,!0)),100)}else e()}(0,i.isMvk)()?(r="lock_m_stats_cookie_lock",o="remixmsts"):(r="lockkk_stats_cookie_lock",o="remixsts")},643369:(e,t,n)=>{"use strict";function r(e,t){var n,r,o=!1;return function a(){if(o)return n=arguments,void(r=this);e.apply(this,arguments),o=!0,setTimeout((function(){o=!1,n&&(a.apply(r,n),n=r=null)}),t)}}n.d(t,{throttle:()=>r})},393263:(e,t,n)=>{"use strict";n.d(t,{HAS_MEDIA_SESSION:()=>a,clear:()=>i,updateMediaSessionMetadata:()=>s});var r,o=n(588241),a=window&&window.navigator&&"mediaSession"in window.navigator&&"MediaMetadata"in window;function i(){a&&((r=r||document.createElement("audio")).src=o.SILENCE,r.play().then((()=>{})).catch((()=>{})))}function s(e){if(a){(location.hostname+e.album).length>30&&(e.album=e.album.substring(0,30-location.hostname.length)+"…");var t=navigator.mediaSession.metadata;t?(t.title=e.title,t.artist=e.artist,t.album=e.album,t.artwork=e.artwork):navigator.mediaSession.metadata=new MediaMetadata(e)}}},835217:(e,t,n)=>{"use strict";n.d(t,{urlBase64ToUint8Array:()=>r});n(446964),n(59357);function r(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}},486353:(e,t,n)=>{"use strict";n.d(t,{randEnabled:()=>o,partConfigEnabled:()=>a,calculateTimeOffsets:()=>i});var r=n(427813);function o(e){return Math.random()<e}function a(e){var t=(window.vk||{}).pe;return!!(void 0===t?{}:t)[e]}function i(){var e=window.vk.ts;if(e&&!window.browser.opera_mobile){var t=new Date,n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())/1e3-e;n-=10800,n=(n/=60).toFixed(0),(n*=60)<-55800?n+=86400:n>37800&&(n-=86400);var o=0,a=Math.abs(n);[-12,-11,-10,-9.5,-9,-8,-7,-6,-5,-4.5,-4,-3.5,-3,-2,-1,0,1,2,3,3.5,4,4.5,5,5.5,5.75,6,6.5,7,8,8.75,9,9.5,10,10.5,11,12,12.75,13,14].forEach((e=>{var t=Math.round(3600*(e-3)),r=Math.abs(n-t);r<a&&(a=r,o=t)}));var i=(0,r.getCookie)("remixdt");return void 0!==i&&intval(i)===o||(0,r.setCookie)("remixdt",o,365),o}return 0}},602872:(e,t,n)=>{"use strict";n.d(t,{default:()=>u});n(751876);var r="idle",o="pend_rows",a="pend_prefetch",i="done_prefetch",s="done";class u{constructor(e,t){if(this.constructor!==u)throw new Error("AutoList: AutoList was called without 'new' operator");if(u._counter=u._counter||0,this._id=u._counter++,this.setListEl(e,t.scrollNode),this._opts=extend({threshold:0,renderImmediate:!1,fetchImmediate:!0},t),!this._containerEl)throw new Error("AutoList: container not found");this._rowClasses=!!this._opts.rowClass&&this._opts.rowClass.split(" "),delete this._opts.rowClass,this._initialRender=this._opts.renderImmediate,this._isProgressShown=!1,this._prefetched=[],this._initialRender?this._offset=0:this._opts.offset?this._offset=this._opts.offset:this._opts.rowClasses?this._offset=this._countRows(this._containerEl.children):this._offset=this._containerEl.children.length,this._page=this._offset>0?1:0,addEvent(this._scrollNode,"scroll",this._ev_scroll=this._onScroll.bind(this)),addEvent(window,"resize",this._ev_window_resize=this._onScroll.bind(this)),this._setState(this._opts.renderImmediate?o:a),this._opts.fetchImmediate?this._requestRows():(this._setState(r),this._onScroll())}getListEl(){return this._containerEl}setListEl(e,t){var n;this._containerEl=ge(e),this._scrollNode=t||u.closestOverflowParent(this._containerEl),n=this._scrollNode===window?0:getXY(this._scrollNode)[1],this._contentYOffset=getXY(this._containerEl)[1]-n}options(e){extend(this._opts,e)}_countRows(e){var t=this,n=0;return each(e,(function(e,r){"string"==typeof r&&(r=se(r)),t._rowClasses?each(t._rowClasses,(function(e,t){if(hasClass(r,t))return n++,!1})):n++})),n}_drawRows(e){var t=this;this._opts.drawRows?this._opts.drawRows(t._containerEl,e):each(e,(function(e,n){"string"==typeof n&&(n=se(trim(n))),n&&t._containerEl.appendChild(n)})),this.toggleProgress(this._state!==s),!this._forceDrawCalled&&this._opts.onRendered&&this._opts.onRendered(this._offset)}toggleProgress(e){e?!this._isProgressShown&&this._opts.showProgress&&this._opts.showProgress():this._isProgressShown&&this._opts.hideProgress&&this._opts.hideProgress(),this._isProgressShown=e}drawMore(){inArray(this._state,[r,i])?(this._forceDrawCalled=!0,this._drawRows(this._prefetched),this._setState(a),this._prefetched=[],this._requestRows(),this._forceDrawCalled=!1):this._state===s&&this._opts.onNoMore&&this._opts.onNoMore(this._containerEl.childElementCount)}destroy(){this._ev_scroll&&(removeEvent(this._scrollNode,"scroll",this._ev_scroll),this._ev_scroll=!1),this._ev_window_resize&&removeEvent(window,"resize",this._ev_window_resize),this._setState(s),this.toggleProgress(!1)}getOffset(){return this._offset}_requestRows(){if(!this.isDone()&&this._state!==i){this._initialRender=!1,function(){this._opts.onNeedRows(this._onRowsProvided.bind(this),this._offset,this._page++,this._state===a,this)}.apply(this)}}_onRowsProvided(e,t){if(!this.isDone()){if(!1===e)return this._requestRows();e=e||[],this._offset+=void 0===t?this._countRows(e):t;var n=this._containerEl.childElementCount;switch(this._state){case a:0===e.length?(this._setState(i),this._opts.onNoMore&&this._opts.onNoMore(n),0===this._prefetched.length&&this._setState(s)):(this._setState(r),this._prefetched=this._prefetched.concat(e),this._opts.onHasMore&&this._opts.onHasMore(),this._onScroll());break;case o:this._drawRows(e),0===e.length?(this._setState(s),this._opts.onNoMore&&this._opts.onNoMore(n)):(this._setState(a),this._requestRows()),this.toggleProgress(!1);break;case r:this._prefetched=this._prefetched.concat(e)}}}_setState(e){this._state=e}isDone(){return this._state===s}static closestOverflowParent(e){for(var t=e;t&&t.tagName&&("visible"===getStyle(t,"overflow")||"page_wrap"===t.id);)t=domPN(t);return t!==window.document&&t!==bodyNode&&t||(t=window),t}_onScroll(){if(!this._forceDrawCalled&&this._state!==o){var e,t,n=this._scrollNode;n===window?(t=Math.max(document.documentElement.clientHeight,window.innerHeight||0),e=scrollGetY()):(t=getSize(n)[1],e=this._scroll?this._scroll.data.scrollTop:n.scrollTop),t<10||this._containerEl.scrollHeight-t-e+this._contentYOffset<10&&(this._state===o||!this._prefetched.length&&this._state===a?(this.toggleProgress(!0),this._setState(o)):this._state===a||this._state===r?(this._drawRows(this._prefetched),this._prefetched=[],this._setState(a),this._requestRows()):this._state===i&&(this._drawRows(this._prefetched),this._prefetched=[],this._setState(s),this._opts.onNoMore&&this._opts.onNoMore(),this.destroy()))}}}},255528:(e,t,n)=>{"use strict";n.d(t,{Gifts:()=>s});n(175115);var r=n(705456),o=n(322952),a=n(742808);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s={deleteGift:function(e,t,n,r){r=r||{},ajax.post("al_gifts.php",{act:"delete",mid:r.mid,gift:n,hash:r.hash},{onDone:function(e){var n=ge("gift"+t);n&&(domNS(domFC(n))?domNS(domFC(n)).innerHTML=e:(n.appendChild(ce("div",{className:"gift_deleted",innerHTML:e})),hide(domFC(n)),window.Pagination&&!curBox()&&window.Pagination.recache(-1)))},showProgress:addClass.pbind(e,"gift_progress"),hideProgress:removeClass.pbind(e,"gift_progress")})},restoreGift:function(e,t,n,r){r=r||{},ajax.post("al_gifts.php",{act:"restore",mid:r.mid,gift:n,hash:r.hash},{onDone:function(){var e=ge("gift"+t);e&&domNS(domFC(e))&&(re(domNS(domFC(e))),show(domFC(e)))}})},markSpamGift:function(e,t,n,r){r=r||{},ajax.post("al_gifts.php",{act:"mark_spam",mid:r.mid,gift:n,hash:r.hash},{onDone:function(e){ge("gift_mark_spam"+t).innerHTML=e}})},initGiftsBox:function(e,t){e.setOptions({width:638,bodyStyle:"padding: 0",grey:!0,hideButtons:!0,onShow:function(){cur.gftbxWasScroll&&(boxLayerWrap.scrollTop=cur.gftbxWasScroll,cur.gftbxWasScroll=!1)}}),t.lang&&(cur.lang=extend(cur.lang||{},t.lang)),extend(cur,{gftbxOffset:t.offset,gftbxAutoload:!0,gftbxWasScroll:!1,gftbxMid:t.mid}),ajax.preload("al_gifts.php",{act:"box",mid:t.mid,offset:t.offset},t.preload),window.uiScrollBox&&window.uiScrollBox.init(e,{onShow:function(){addEvent(boxLayerWrap,"scroll",s.onGiftsScroll),setTimeout(cur.chooseAudioScroll,0)},onHide:function(){removeEvent(boxLayerWrap,"scroll",s.onGiftsScroll)}}),addEvent(boxLayerWrap,"scroll",s.onGiftsScroll);var n=boxLayerWrap.scrollTop;elfocus(geByClass1("_scroll_node",e.bodyNode)),boxLayerWrap.scrollTop=n,onBodyResize(),s.onGiftsScroll()},moreGifts:function(){var e=ge("gifts_more_link");(0,r.buttonLocked)(e)||(ajax.post("al_gifts.php",{act:"box",mid:cur.gftbxMid,offset:cur.gftbxOffset},{onDone:function(t,n,r){var o=ce("div",{innerHTML:t}),a=ge("gifts_rows");if(a){for(var i=domFC(o);i;i=domFC(o))a.appendChild(i);cur.gftbxOffset=n,r?s.preloadGifts():hide(e)}},showProgress:r.lockButton.pbind(e),hideProgress:r.unlockButton.pbind(e),cache:1}),cur.gftbxAutoload=!0)},preloadGifts:function(){ajax.post("al_gifts.php",{act:"box",mid:cur.gftbxMid,offset:cur.gftbxOffset},{cache:1})},onGiftsScroll:function(){if(cur.gftbxAutoload){var e=lastWindowHeight,t=ge("gifts_more_link");isVisible(t)&&e>getXY(t,!0)[1]&&t.click()}},showGiftBox:function(e,t,n){return window.Profile?window.Profile.showGiftBox(e,t,n):(cur.gftbxWasScroll=boxLayerWrap.scrollTop,boxLayerWrap.scrollTop=0,cur.viewAsBox?cur.viewAsBox():!showBox("al_gifts.php",{act:"get_gift_box",mid:e,fr:e==vk.id?1:0,ref:n},{stat:["gifts.css","wide_dd.js","wide_dd.css"],cache:1},t))},processBoxOptions(e,t){-1e3!=t&&t&&(extend(cur,{forcedPaymentMethod:t.forcedPaymentMethod,paymentsOfferPreview:t.paymentsOfferPreview,paymentsPreload:t.paymentsPreload,paymentsAppOrder:t.paymentsAppOrder,paymentsOfferPreload:t.paymentsOfferPreload}),t.orderData&&a.AppOrderBox.initialize(t.orderData.orderId,t.orderData.appId,t.orderData.testMode,t.orderData.hash,t.orderData.votes,t.orderData.discount,t.orderData.billPeriod,t.orderData.salesRef),extend(cur,{paymentsAuthPayment:t.paymentsAuthPayment,paymentsOrderNotice:t.paymentsOrderNotice,paymentsTryCompleteOrder:t.paymentsTryCompleteOrder,isPaymentsAppOrder:t.isPaymentsAppOrder,paymentsOfferApp:t.paymentsOfferApp,checkoutEnabled:t.checkoutEnabled}),t.showProgress&&o.PaymentsBox.showProgress(""),extend(cur,{votesAmountsData:t.votesAmountsData,paymentsPreferVotes:t.paymentsPreferVotes,votesTypeInit:t.votesTypeInit,psList:t.psList,paymentsWideBox:t.paymentsWideBox,paymentsTooltips:t.paymentsTooltips,paymentsChangeType:0===t.paymentsWideBox?getLang("payments_go_change_pay_type"):"",payments_get_votes:getLang("payments_get_votes_new"),getVotesDoneHide:!0,paymentsWaitingCache:{},isPaymentComplete:!1,isPaymentAttemted:!1,usdRate:t.usdRate,paymentsHash:t.paymentsHash,paymentComplete:o.PaymentsBox.complete,paymentCanceled:o.PaymentsBox.paymentCanceled,paymentsShowProgress:o.PaymentsBox.showProgress,statSessionId:t.statSessionId}),o.PaymentsBox.initialize(e),cur.checkoutEnabled||(o.PaymentsBox.initPhoneCountry(t.countries,t.country),o.PaymentsBox.initPhoneNumber(ge("phone"))),extend(cur,{paymentsTypesSum:t.paymentsTypesSum,instantNeedCVV:t.instantNeedCVV,votesType:t.votesType,paymentsWPreload:t.paymentsWPreload}),t.getVotesAmountsOnDone&&o.PaymentsBox.getVotesAmountsOnDone.apply(this,cur.paymentsWPreload))},showGetMoneyBox(){return showBox("al_gifts.php",i({act:"get_money"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),{onDone:this.processBoxOptions})}}},163131:(e,t,n)=>{"use strict";function r(e){var t=e.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,a=window.pageXOffset||r.scrollLeft||n.scrollLeft,i=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0;return{top:Math.round(t.top+o-i),left:Math.round(t.left+a-s),width:e.offsetWidth,height:e.offsetHeight}}n.d(t,{default:()=>r})},618775:(e,t,n)=>{"use strict";n.d(t,{showQuickLoginBox:()=>d,showJoinBox:()=>p,Index:()=>f});n(59357);var r=n(829327),o=n(705456),a=n(791563),i=n(719016),s=n(116886),u=n(442699),l=n(414914),c=n(919369),_=n(443158);function d(){return showBox("al_login.php",{act:"box"}),!1}function p(){return showBox("join.php",{act:"box",from:window.nav.strLoc}),!1}var f={initNew:function(){(0,l.$$)(".index_login .big_text").forEach((e=>{placeholderInit(e)})),setTimeout((()=>elfocus("index_email")),0);var e=ge("index_login_form"),t=ge("index_email"),n=ge("index_pass");e.onsubmit=function(){return!window.submitQuickLoginForm||(trim(t.value)?trim(n.value)?(submitQuickLoginForm(t.value,n.value,{prg:"index_login_button",params:{expire_input:val("index_expire_input")}}),!1):((0,o.notaBene)(n),!1):((0,o.notaBene)(t),!1))},t.oninput=function(){f.isLoginInputDirty||(c.registrationItemStat.logEvent(c.RegistrationItemEventTypes.LOGIN_TAP,c.EventScreens.START,void 0,{force:!0}),f.isLoginInputDirty=!0)},n.oninput=function(){f.isPasswordInputDirty||(c.registrationItemStat.logEvent(c.RegistrationItemEventTypes.PASSWORD_TAP,c.EventScreens.START,void 0,{force:!0}),f.isPasswordInputDirty=!0)},window.loginByCredential&&(t.onclick=loginByCredential,n.onclick=loginByCredential),window.onReLoginDone=function(e){location.href=e},window.onReLoginFailed=function(e){-1===e&&(location.href=location.href.replace(/^http:/,"https:"))},(0,_.initVKComboIndexPromo)()},showRegTT:function(e,t){var n,r="INPUT"===e.tagName,a=e;(!r&&(n=geByClass1("selector_table",e))||!r&&(n=geByClass1("radiobtn",e)))&&(a=n);var s=function(){(0,i.showTooltip)(a,{text:t,dir:"right",width:320,typeClass:"ij_tt",shift:[335,-getSize(a)[1]/2],hasover:1,nohideover:1,onCreate:function(){removeEvent(a,"mouseout"),r&&(a.onblur=function(){a.tt&&a.tt.hide&&a.tt.hide()})}})};r?(e.onfocus=s,(0,o.notaBene)(e)):(s(),each(geByClass("selector_table",e),(function(e,t){(0,o.notaBene)(t)})))},showLoginBox:e=>(showBox("al_login.php",{act:"auth_box",ul:e},{params:{dark:!0,hideButtons:!0,bodyStyle:"padding: 44px 25px;"}}),!1),showQuickLoginBox:d,showJoinBox:p,deleteRecentAccount:function(e,t,n,r){return window.tooltips&&tooltips.hideAll(),ajax.post("/al_login.php?act=a_delete_recent_account",{mid:t,hash:n},{onDone:function(){re(gpeByClass("_row",e))}}),cancelEvent(r)},generateDays:function(e,t){for(var n=[[0,(0,s.getLang)("index_sel_bday")]],o=(0,r.getLastDay)(e,t),a=1;a<=o;++a)n.push([a,a+""]);return n},updateDays:function(e,t,n){n||(n=cur.uiBday),n.val()>(0,r.getLastDay)(e,t)&&n.clear(),n.setData(f.generateDays(e,t).slice((0,u.intval)(cur.options.bday)?1:0))},fbCheck:function(e,t,n){var r,o,a,i,s;window.fbAsyncInit=function(){FB.init({appId:e,xfbml:!0,version:"v2.7"});var r="_box"===t;n||(n=ge("index_fbcontinuewithsign"+(t||""))),setStyle(n,{opacity:0,height:0,overflow:"hidden"}),show(n),FB.Event.subscribe("xfbml.render",(()=>{animate(n,{height:r?79:55,opacity:1},200)}))},window.FB&&window.FB.init?window.fbAsyncInit():(r=document,o="script",a="facebook-jssdk",s=r.getElementsByTagName(o)[0],r.getElementById(a)||((i=r.createElement(o)).id=a,i.src="//connect.facebook.net/"+cur.fbLocale+"/sdk.js",s.parentNode.insertBefore(i,s)))},fbJoin:function(e,t){cur.fbContext=e,cur.fbLoginButton=t,c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.FACEBOOK_REGISTRATION,c.EventFieldValues.REGISTERED_VIA_FB),c.registrationItemStat.logEvent(c.RegistrationItemEventTypes.SCREEN_PROCEED,c.EventScreens.START,c.EventScreens.OAUTH_FB,{force:!0}),setCookie("remixfbstate",cur.fbState,30,null,"None",!1);var n=location.protocol+"//"+location.host+"/join?act=fb_sign",r=encodeURIComponent(n),o="https://graph.facebook.com/v3.3/oauth/authorize?client_id="+cur.fbApp+"&redirect_uri="+r+"&scope=email,user_birthday&display=popup&state="+cur.fbState,a=void 0!==window.screenX?window.screenX:window.screenLeft,i=void 0!==window.screenY?window.screenY:window.screenTop,s=void 0!==window.outerWidth?window.outerWidth:document.body.clientWidth,u=void 0!==window.outerHeight?window.outerHeight:document.body.clientHeight-22,l=parseInt(a+(s-640)/2,10),_=parseInt(i+(u-340)/2.5,10);return window.open(o,"fb_sign","width=640,height=340,left="+l+",top="+_),!1},fbFinish:function(e){e.error?(c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.FACEBOOK_REGISTRATION,c.EventFieldValues.REGISTERED_VIA_FB),c.registrationItemStat.logEvent(c.RegistrationItemEventTypes.SCREEN_PROCEED,c.EventScreens.OAUTH_FB,c.EventScreens.FACEBOOK_REGISTRATION_FAILED,{force:!0}),setTimeout((0,a.showFastBox)((0,s.getLang)("global_error"),e.error).hide,2e3)):e.date&&((0,o.lockButton)(cur.fbLoginButton||ge("index_fb"+(cur.fbContext||""))),nav.go("/join?act=fb_start"))}}},653439:(e,t,n)=>{"use strict";n.d(t,{hasAccessibilityMode:()=>l,updateOnlineText:()=>c,updateAriaCheckboxes:()=>_,updateAriaElements:()=>p,makeInteractiveMVKA11yProposal:()=>f});var r=n(705456),o=n(442699),a=n(414914),i=n(116886),s=n(206566),u=n(986900);function l(){return!(!window.vk||!vk.a11y)}function c(){clearTimeout(cur.updateOnlineTO),cur.updateOnlineTO=setTimeout((function(){(0,o.each)((0,a.geByClass)("_online"),(function(){var e=(0,a.geByClass1)("_online_reader",this)||this,t=(0,a.hasClass)(this,"online"),n=(0,a.hasClass)(this,"mobile"),r=(0,a.geByTag)("img",e),s=function(e){var t=(0,a.domClosest)("_post",e),n=t&&(0,a.domByClass)(t,"author");return n?n.innerText||n.textContent:""};if(t){var u="";(0,o.each)(r,(function(){var e=(0,a.attr)(this,"alt")||(0,a.attr)(this,"data-alt")||s(this);e&&(u=(0,o.trim)(u+" "+e),this.setAttribute("data-alt",e),this.removeAttribute("alt"))})),u=(0,o.trim)(u+" "+(n?(0,i.getLang)("global_user_is_online_mobile"):(0,i.getLang)("global_user_is_online"))),e.setAttribute("aria-label",u)}else(0,o.each)(r,(function(){var e=(0,a.attr)(this,"data-alt")||s(this);e&&(this.setAttribute("alt",e),this.removeAttribute("data-alt"))})),e.removeAttribute("aria-label")}))}),100)}function _(){clearTimeout(cur.updateChkBoxTO),cur.updateChkBoxTO=setTimeout((function(){var e=[];(0,o.each)(["checkbox","checkbox_pic"],(function(){e=e.concat((0,a.geByClass)(this))})),(0,o.each)(e,(function(){"DIV"!==this.tagName||this.getAttribute("role")||(this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",(0,r.isChecked)(this)?"true":"false"),this.setAttribute("tabindex",0))}))}),100)}function d(){clearTimeout(cur.updateRadioBtnsTO),cur.updateRadioBtnsTO=setTimeout((function(){var e=[],t=(0,a.geByClass)("radiobtn");(0,o.each)(t,(function(){if("DIV"===this.tagName&&!this.getAttribute("role")){var t=(0,r.isChecked)(this);this.setAttribute("role","radio"),this.setAttribute("aria-checked",t?"true":"false"),this.setAttribute("tabindex",t?0:-1);var n=function(e){var t=5,n=0,r=e;for(;n<t&&r!==document;){if(r=(0,a.domPN)(r),(0,a.geByClass)("radiobtn",r).length>1)break;n++}return r}(this);~e.indexOf(n)||e.push(n)}})),(0,o.each)(e,(function(){if(!(0,a.geByClass)("on",this).length){var e=(0,a.geByClass)("radiobtn",this);e.length&&e[0].setAttribute("tabindex",0)}}))}),100)}function p(){c(),_(),d()}function f(){var e=document.getElementById("a11y_mvk_proposal");e&&e.getAttribute("aria-label")&&!e.getAttribute("role")&&(e.setAttribute("role","link"),e.style.display="block",e.classList.add("visually-hidden"),e.addEventListener("click",(e=>{var t;(0,u.statlogsValueEvent)("accessibility","is_mvk_proposal_clicked",null===(t=cur)||void 0===t?void 0:t.module),setTimeout((()=>{(0,s.redirectToMVK)()}),100)}),{passive:!0}))}},427551:(e,t,n)=>{"use strict";n.d(t,{updSeenAdsInfo:()=>i,__adsUpdate:()=>u,initAds:()=>_});var r=n(427813),o=n(442699),a=n(414914);function i(){if(((0,a.getXY)("ads_left",!0)||{})[1]&&vk.id){var e=(0,a.getXYRect)((0,a.geByTag1)("ol",(0,a.ge)("side_bar_inner")),!0),t=e?e.height:0,n=(0,a.getXYRect)((0,a.ge)("left_blocks"),!0),i=n?n.height:0,s=Math.max(Math.floor(((window.lastWindowHeight||0)-t-i-42-10)/260),0),u=(0,r.getCookie)("remixseenads");window.__seenAds=(0,o.intval)(u),u&&__seenAds===s||(window.__seenAds=s,(0,r.setCookie)("remixseenads",s,30))}}function s(e,t){return!window.noAdsAtAll&&(s=function(){return window.AdsLight&&AdsLight.getAjaxParams.apply(AdsLight.getAjaxParams,arguments)||{al_ad:null}},window.AdsLight?n=s(e,t):(n={al_ad:null},stManager.add([jsc("web/ads_light.js")],s.pbind(e,t))),n);var n}function u(e){if(window.noAdsAtAll)return!1;u=function(){window.AdsLight&&AdsLight.updateBlock.apply(AdsLight.updateBlock,arguments)},stManager.add([jsc("web/ads_light.js")],u.pbind(e))}function l(e,t,n,r,o,a){if(window.noAdsAtAll)return!1;l=function(){var e="";arguments&&arguments[0]&&(e=arguments[0]),"\x3c!--criteo"===e.slice(0,"\x3c!--criteo".length)&&Math.random()<.05&&(window.AdsLight&&AdsLight.setNewBlock?ajax.post("/wkview.php?act=mlet&mt=750",{},{onFail:()=>!0}):ajax.post("/wkview.php?act=mlet&mt=751",{},{onFail:()=>!0})),window.AdsLight&&AdsLight.setNewBlock.apply(AdsLight.setNewBlock,arguments)},stManager.add([jsc("web/ads_light.js")],l.pbind(e,t,n,r,o,a))}function c(e){if(window.noAdsAtAll)return!1;c=function(){window.AdsLight&&AdsLight.updateExternalStats.apply(AdsLight.updateExternalStats,arguments)},stManager.add([jsc("web/ads_light.js")],c.pbind(e))}function _(){window.__seenAds=(0,o.intval)((0,r.getCookie)("remixseenads")),window.__adsUpdate=u,window.__adsSet=l,window.__adsGetAjaxParams=s,window.__adsUpdateExternalStats=c}window.__adsLoaded=(0,o.vkNow)()},267660:(e,t,n)=>{"use strict";n.d(t,{AjaxCacheClient:()=>i});n(175115),n(991181),n(296253);var r=n(442699),o=n(182408);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class i{static getInstance(e,t){var n=i.makeCacheKey(e,t);return i._instances[n]||(i._instances[n]=new i(n)),i._instances[n]}constructor(e){i.ensureCachesInitialized(),this._cacheKey=e}getFromCache(e,t,n){var o=n.cacheLevel,a=void 0===o?0:o,i=n.forceGlobalCache,s=void 0!==i&&i,u=n.onAnswerProcessed,l=void 0===u?()=>{}:u;if(a>0||s){var c=window.ajaxCache[this._cacheKey];if(c&&c._loading)return c._callbacks.push(e),!1;if(c&&!s)return e(0,c),3===a&&delete window.ajaxCache[this._cacheKey],!1;if(c=window.globalAjaxCache[this._cacheKey])return-1===c||(0,r.isFunction)(c)?window.globalAjaxCache[this._cacheKey]=t:t.apply(window,c),l&&l(),!1}return window.ajaxCache[this._cacheKey]={_loading:1,_callbacks:[]},!0}processExistingCache(e,t){var n=window.ajaxCache[this._cacheKey];n&&n._loading&&(setTimeout((function(){for(var r in n._callbacks)n._callbacks.hasOwnProperty(r)&&n._callbacks[r](e,t)}),0),delete window.ajaxCache[this._cacheKey])}cacheResponse(e){window.ajaxCache[this._cacheKey]=e}static ensureCachesInitialized(){window.ajaxCache||(window.ajaxCache={}),window.globalAjaxCache||(window.globalAjaxCache={})}static makeCacheKey(e,t){var n=a({},t);return["al","al_ad","ads_section","ads_showed","captcha_sid","captcha_key","_smt","_preload"].forEach((e=>delete n[e])),e+"#"+(0,o.toQueryString)(n)}static preload(e,t,n){i.ensureCachesInitialized(),e&&"/"!==e.substr(0,1)&&(e="/"+e),window.ajaxCache[i.makeCacheKey(e,t)]=n}static invalidate(e,t){i.ensureCachesInitialized(),void 0===e?window.ajaxCache={}:delete window.ajaxCache[i.makeCacheKey(e,t)]}static invalidateFor(e){Object.keys(window.ajaxCache).forEach((t=>{e(t)&&delete window.ajaxCache[t]}))}}i._instances={}},309361:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FrameTransport:()=>FrameTransport});var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(175115),_shared_lib_convert__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(182408),_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(442699),_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(960139),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(519921),_web_lib_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(414914);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _queueStartMarker={type:"start"},_queueEndMarker={type:"end"};class FrameTransport{constructor(){this.frameDataQueue=[],this.frameTimeout=null,this.frame=null,this.queueReady=!1,this.fulfilled=!1,this.execInline=()=>{},this._debug=()=>{}}setHandlers(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};this._onEnd=e,this._onModuleEvaluated=t,this._debug=n}setInlineHandler(e){this.execInline=e}run(e,t){return this._debug("Run ",e,this.frameDataQueue),this.frameUrl=e,this.onReady=t,this.fulfilled=!1,this.queueReady=!1,this.frameDataQueue=[_queueStartMarker],clearTimeout(this.frameTimeout),this.frameTimeout=!1,this.frame&&this._cleanup(),this.frame=ce("div",{innerHTML:"<iframe></iframe>"}),utilsNode.appendChild(this.frame),this.frame.firstChild.src=this.frameUrl,this}useMeta(e){this._debug("Metainfo: ",e),this.onReady(e)}useAjaxBlock(e,t,n){this._debug("Ajax block: ",e,t,n,this.fulfilled,this.frameDataQueue),this.fulfilled||(this.frameDataQueue.push(FrameTransport._makeQueueBlock(e,t,n)),1===this.frameDataQueue.length&&this._nextQueueItem())}finalize(e,t){this._debug("Finalize: ",e),this._cleanup(),e&&this.frameDataQueue.push(FrameTransport._makeQueueBlock(!1,!1,e,t)),this.queueReady=!0,this.frameDataQueue.push(_queueEndMarker),window.cur.onFrameBlocksDone&&window.cur.onFrameBlocksDone(),this._onEnd&&this._onEnd((new Date).getTime())}_nextQueueItem(){if(this.frameTimeout&&clearTimeout(this.frameTimeout),this.queueReady)if(this._debug("Next queue item: ",this.fulfilled,this.frameDataQueue),this.fulfilled||0===this.frameDataQueue.length)this.frameTimeout=!1;else{var e=this.frameDataQueue.shift();switch(e.type){case _queueStartMarker.type:this._nextQueueItem();break;case _queueEndMarker.type:this.fulfilled=!0;break;default:this.frameTimeout=setTimeout((()=>this._onReceived(e)),0)}}else this.frameTimeout=setTimeout((()=>this._nextQueueItem()),100)}_onReceived(e){var t=e.container&&ge(e.container);t&&e.html&&(t.firstChild?t.appendChild((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_5__.cf)(e.html)):val(t,e.html)),e.js&&(_runJs(e.js,((t,n)=>{(0,_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_3__.topError)(t,{dt:15,type:8,url:this.frameUrl,js:n,answer:JSON.stringify(e)}),(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_4__.logEvalError)(t,n)})),this._onModuleEvaluated&&this._onModuleEvaluated(cur.module)),e.params&&"leftads"in e.params&&window.__adsSet&&__adsSet(e.params.leftads,e.params.ads_section||"",e.params.ads_can_show,e.params.ads_showed),this._nextQueueItem()}_cleanup(){this._debug("Cleanup: ",this.frameDataQueue),this.frame&&(this.frame.innerHTML="",utilsNode.removeChild(this.frame),this.frame=null)}abort(){clearTimeout(this.frameTimeout),this.frameTimeout=!1,this._cleanup()}static get frame(){return FrameTransport.__frame||(FrameTransport.__frame=new FrameTransport),FrameTransport.__frame}static request(e,t,n,r,o){var a=FrameTransport.frame;return a.setInlineHandler(o),a.run(FrameTransport.makeUrl(e,t,!(r&&r.noSort)),n)}static _makeQueueBlock(e,t,n,r){return{type:"block",container:e,html:t,js:n,params:r}}static makeUrl(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t;return"string"==typeof t&&(r=(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_1__.fromQueryString)(t)),e+"?"+(r=(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_1__.toQueryString)(_extends({},r,{_rndVer:(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_2__.irand)(0,99999)}),!n))}}function _runJs(js,onError){var script="(function(){"+js+";})()";if(__debugMode)eval(script);else try{eval(script)}catch(e){onError&&onError(e,script)}}},543339:(e,t,n)=>{"use strict";n.d(t,{requestBox:()=>o,activateMobileBox:()=>a,validateMobileBox:()=>i,validatePassBox:()=>s,validateOtpBox:()=>u});var r=n(791563);function o(e,t,n){return e.setOptions({onDestroy:n}),e.onDone=function(){t&&t.apply(null,arguments)},e}function a(e){return o((0,r.showBox)("activation.php",{act:"activate_mobile_box",hash:e.hash}),(function(){vk.nophone=0,e.onDone()}),e.onFail)}function i(e){return o((0,r.showBox)("activation.php",{act:"validate_box",captcha:e.acceptCaptcha?1:"",skip_push:e.skip_push?e.skip_push:"",from:e.from||"",hash:e.hash,ahash:e.ahash},{stat:["uncommon.css"]}),e.onDone,e.onFail)}function s(e){return o((0,r.showBox)("activation.php",{act:"pass_validate_box",hash:e.hash},{stat:["uncommon.css"]}),e.onDone,e.onFail)}function u(e){return o((0,r.showBox)("activation.php",{act:"otp_validate_box",hash:e.hash},{stat:["uncommon.css"]}),e.onDone,e.onFail)}},368045:(e,t,n)=>{"use strict";n.d(t,{AjaxProtoJson:()=>o});var r=n(442699);class o{parseResponse(e){var t=this.parseStaticPayload(e);return{navVersion:(0,r.intval)(t.loaderVersion),newStatic:t.static,statsMeta:t.statsMeta,langId:(0,r.intval)(t.langPack),langVer:(0,r.intval)(t.langVersion),langKeys:t.langKeys,templates:t.templates,code:(0,r.intval)(t.payload[0]),payload:t.payload[1],debugLog:t.debugLog,env:t.env,extra:t.extra,execInline:t.execInline}}parseStaticPayload(e,t){var n=e;return e&&"string"==typeof e&&(n=JSON.parse(e)),n.payload&&n.payload[0]>0&&(n.payload[1]=n.payload[1].map((e=>"string"==typeof e?JSON.parse(e):e))),n}}},64385:(e,t,n)=>{"use strict";n.d(t,{ajax:()=>A});n(175115),n(751876),n(59357);var r,o,a,i,s,u=n(182408),l=n(917999),c=n(486353),_=n(442699),d=n(414914),p=n(960139),f=n(309361),h=n(267660),m=n(883011),v=n(300502),g=n(368045),y=n(611386),E=n(116886),w=n(594632),b=n(541575);function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class C{static post(e,t,n){C._protoAdapter=new g.AjaxProtoJson,e&&"/"!==e.substr(0,1)&&"http"!==e.substr(0,4)&&(e="/"+e);var r=D({},n||{},{_captcha:!1,_box:!1,no_ads_params:!1}),o=D({},t,{al:r.frame?-1:1}),a=(0,_.vkNow)(),i=vk.spentLastSendTS?Math.round((a-vk.spentLastSendTS)/1e3):0;if(vk.sampleUser>=0&&window.cur&&cur.module&&i>=1&&(window.curNotifier&&curNotifier.idle_manager&&!curNotifier.idle_manager.is_idle&&(o._smt=cur.module+":"+i),vk.spentLastSendTS=a),r.progress&&(r.showProgress||(r.showProgress=function(){var e=(0,d.ge)(r.progress);(0,d.hasClass)(e,"pr")&&(0,d.setStyle)(e,"opacity",1),(0,d.show)(e)}),r.hideProgress||(r.hideProgress=function(){var e=(0,d.ge)(r.progress);(0,d.hasClass)(e,"pr")&&(0,d.setStyle)(e,"opacity",0),(0,d.hide)(e)})),r.loader){var s=(0,d.isVisible)(window.boxLayerWrap);r.showProgress=function(){boxRefreshCoords(window.boxLoader),(0,d.show)(window.boxLoader),s||(0,d.show)(window.boxLayerWrap)},r.hideProgress=function(){(0,d.hide)(window.boxLoader),s||(0,d.hide)(window.boxLayerWrap)}}return new C(e,o,r)._post()}constructor(e,t,n){this._url=e,this._options=D({},n),this._query=t,this._additionalStaticLoader=null,this._cacheClient=null,n.local&&(this.onDone=(0,_.vkLocal)(this.onDone),this.onFail=(0,_.vkLocal)(this.onFail),this.processResponse=(0,_.vkLocal)(this.processResponse)),this._options.cache&&(this._cacheClient=h.AjaxCacheClient.getInstance(this._url,this._query)),this.onDone=this.onDone.bind(this),this.onFail=this.onFail.bind(this),this.processResponse=this.processResponse.bind(this)}_post(){if(!this._query.captcha_sid&&this._options.showProgress&&this._options.showProgress(),window.__adsGetAjaxParams&&!this._options.no_ads_params&&(this._query=D({},this._query,{},window.__adsGetAjaxParams(this._query,this._options))),this._options.stat&&(this._additionalStaticLoader=null,stManager.add(this._options.stat,(()=>{this._additionalStaticLoader&&this._additionalStaticLoader(),this._options.stat=!1}))),!this._cacheClient||this._cacheClient.getFromCache(this.processResponse,this._options.onDone,{cacheLevel:this._options.cache,forceGlobalCache:this._options.forceGlobalCache,onAnswerProcessed:this._options.hideProgress})){this._options.resend=(e,t)=>new C(this._url,e,t)._post(),window.debuglogSent?(this._reqid=window.debuglogSent(this._url+(this._query?": "+(0,u.toQueryString)(this._query,this._options.noSort).replace(/&/g,"&amp;"):"")),this._options.frame&&(window._lfrid=this._reqid)):this._reqid=0;var e={};return this._options.timeout&&(e.timeout=this._options.timeout),this._options.frame?f.FrameTransport.request(this._url,this._query,this.onDone,this._options,this._runInlineScript.bind(this)):(0,m.plainpost)(this._url,this._query,this.onDone,this.onFail,!1,e,this._options,!1,(0,c.partConfigEnabled)("extended_ajax_logging")?e=>console.log("+ XHR Transport: "+e):null)}}processResponse(e,t,n){if(this._options.cache&&this._cacheClient&&this._cacheClient.processExistingCache(e,t),this._options.stat)return this._options.stat=!1,void(this._additionalStaticLoader=this.processResponse.pbind(e,t));this._options.cache&&!this._options.forceGlobalCache&&!e&&this._cacheClient&&this._cacheClient.cacheResponse(t),this._options.hideProgress&&this._options.hideProgress(),2!==e&&(this._options._captcha&&(this._options._suggest&&(0,d.cleanElems)(this._options._suggest),this._options._captcha=O(this._options._captcha),this._options._suggest=this._options._captcha),this._options._box=O(this._options._box)),n&&this._runInlineScript(n),function(e){switch(e){case 1:return v.emailNotConfirmed;case 2:return v.showCaptcha;case 3:return v.authFailed;case 4:return v.makeRedirect;case 5:return v.reload;case 6:return v.mobileActivationRequired;case 7:return v.showMessage;case 8:return v.showError;case 9:return v.votesPayment;case 10:return v.zeroZone;case 11:case 12:return(0,v.mobileValidationRequired)(e);case 13:return v.evalCode;case 14:return v.otpBox;case 15:return v.passwordValidationRequired;default:return(0,v.defaultHandler)(e)}}(e)(this._options,t,this._query,this._url),window.LazyLoad&&window.LazyLoad.scanDelayed()}onFail(e,t){this._options.hideProgress&&this._options.hideProgress(),this._options._suggest&&(0,d.cleanElems)(this._options._suggest);var n=t instanceof XMLHttpRequest?t.status:t;if(this._options._box=O(this._options._captcha,this._options._box),this._options._captcha=this._options._box,this._options._suggest=this._options._captcha,"string"==typeof e&&-1!==e.indexOf("The page is temporarily unavailable")&&__dev&&(0,_.inArray)(vk.id,[100]))this._post();else if(!this._options.onFail||!0!==this._options.onFail(e)){var r=(JSON.stringify(e)||"No error details").substr(0,300),o=this._query.act,a=this._query&&(0,u.toQueryString)(this._query,this._options.noSort),i=this._url,s={message:"Uncaught ajax error",status:n,data:{url:i,query:a}},l=[`url: ${i}`,o&&`act: ${o}`,r&&`text: ${r}`].filter((e=>e)).join(", ");0===s.status&&(0,c.partConfigEnabled)("js_errors_no_write_uncaught_errors")||(0,y.logError)(l,{environment:"uncaughtAjaxRequestError",breadcrumb:s}),__debugMode?console.error("Uncaught Ajax request error:",r,s):console.log("Uncaught Ajax request error:",r,s)}}doReload(e){nav.reload({force:!0,from:e,url:this._url,query:this._query&&(0,u.toQueryString)(this._query)})}onDone(e,t){this._options.bench&&(o=(new Date).getTime()),this._options.frame&&P("OnDone Req:",e);var n,r=t instanceof XMLHttpRequest?t.status:t;try{n=C._protoAdapter.parseResponse(e)}catch(t){return void this.onFail(e,r)}var a,i=n,s=i.navVersion,c=i.newStatic,f=i.statsMeta,h=i.langId,m=i.langVer,v=i.langKeys,g=i.templates,w=i.code,D=i.payload,O=i.debugLog,A=i.env,k=i.extra,S=i.execInline;if(s)if(vk.version&&vk.version!==s)s&&D.length>4?this.doReload(2):nav.strLoc?location.replace(l.locBase):(0,p.topError)("Server error.",{type:100});else if(vk.version=!1,this._options.frame&&(a=D),vk.lang!==h&&this._options.canReload)this.doReload(3);else{if(f&&(window.vk.statsMeta=f),v){var M=v.local,I=v.global;(0,E.addLangKeys)(M),(0,E.addLangKeys)(I,!0)}A&&A.pe&&(window.vk.pe=A.pe),g&&(0,_.addTemplates)(g),function(e,t,n,r,o){if(!window.stVersions||(0,l.isEmpty)(window.stVersions))return void o();var a=()=>{if(e===window.stVersions.nav)return function(e,t,n,r){var o=["common.css"];if(e)for(var a=0,i=(e=e.split(",")).length;a<i;++a)o.push(e[a]);if(stVersions.lang<n)for(var s in stVersions.lang=n,StaticFiles)StaticFiles.hasOwnProperty(s)&&/^lang\d/i.test(s)&&o.push(s);stManager.add(o,r,!0)}(t,0,r,o);setTimeout(a,100)};if(e!==window.stVersions.nav){var i="";window.navMapSection&&(i=`?section=${window.navMapSection}`);var s=vk.navPostfix||"";headNode.appendChild((0,d.ce)("script",{type:"text/javascript",src:`/js/loader_nav${s}${e}_${vk.lang}.js${i}`}))}setTimeout(a,0)}(s,c,0,m,(()=>{if(!this._options.frame)try{a=C._protoAdapter.parseStaticPayload(D,this._reqid),O&&T(O,this._reqid)}catch(t){var e={message:"JSON error",data:{answer:D,url:this._url,query:this._query&&(0,u.toQueryString)(this._query)}};(0,y.logError)(t,{environment:"ajax_request",breadcrumb:e}),console.error(t)}this.processResponse(w,a,S),(0,b._handleResponseExtraPayloads)(k)}))}else this.onFail(`<pre>${e}</pre>`,{status:-1})}_runInlineScript(e){var t="__exec_container",n=document.getElementById(t);n&&document.body.removeChild(n);var r=document.createElement("script");r.id=t,r.innerHTML=e,document.body.appendChild(r)}}function P(){if((0,c.partConfigEnabled)("extended_ajax_logging")){var e;try{throw new Error}catch(t){e=t.stack}var t="+ Frame transport: "+arguments[0];console.groupCollapsed(t),[].slice.call(arguments,1).forEach((e=>console.log(JSON.stringify(e)))),console.log(e),console.groupEnd()}}function T(e,t){window.debuglogGot&&window.debuglogGot(t,e)}function O(){for(var e=0,t=arguments.length;e<t;++e){var n=arguments[e];n&&n.isVisible()&&(n.setOptions({onHide:!1,onDestroy:!1}),n.hide())}return!1}f.FrameTransport.frame.setHandlers((e=>s=e),(e=>{(0,w.triggerSubscribersOnModuleEvaluated)(),i=e}),P);var A={enabled:function(){try{return!!new XMLHttpRequest}catch(e){return!1}}(),set tStart(e){r=e},set tProcess(e){a=e},plainpost:m.plainpost,post:C.post,framepost:f.FrameTransport.request,_getreq:function(){return new XMLHttpRequest},request:m.request,preload:h.AjaxCacheClient.preload,invalidate:h.AjaxCacheClient.invalidate,tGetParam:function(){if(r&&i){var e=[o-r,a-o,undefined-a,s-r,i];for(var t in e)if(e.hasOwnProperty(t)){if(e[t]<0)return!1;if(!e[t]&&0!==e[t])return!1}return r=!1,e.join(",")}},AjaxRequest:C,AjaxCancellationToken:m.AjaxCancellationToken,frame:f.FrameTransport.frame,_framenext:()=>f.FrameTransport.frame._nextQueueItem(),framegot:(e,t,n)=>f.FrameTransport.frame.useAjaxBlock(e,t,n),_frameover:(e,t)=>f.FrameTransport.frame.finalize(e,t),_framedone:(e,t)=>f.FrameTransport.frame.onReady([e,t]),_debugLog:T}},300502:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{emailNotConfirmed:()=>emailNotConfirmed,showCaptcha:()=>showCaptcha,mobileValidationRequired:()=>mobileValidationRequired,passwordValidationRequired:()=>passwordValidationRequired,authFailed:()=>authFailed,makeRedirect:()=>makeRedirect,reload:()=>reload,mobileActivationRequired:()=>mobileActivationRequired,showMessage:()=>showMessage,showError:()=>showError,votesPayment:()=>votesPayment,otpBox:()=>otpBox,zeroZone:()=>zeroZone,evalCode:()=>evalCode,defaultHandler:()=>defaultHandler});var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(175115),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(59357),_shared_lib_convert__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(182408),_web_auth_auth__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(594353),_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(442699),_web_lib_message_box__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(791563),_web_lib_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(414914),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(519921),_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(960139),_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(621260),_web_gifts_gifts__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(255528),_modal_box__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(543339),_web_lib_environment__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(641142);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function resetOptionsCache(e){return e.cache?_extends({},e,{cache:-1}):e}function emailNotConfirmed(e,t){(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_4__.showFastBox)({width:520,title:t[0],onDestroy:e.onFail},t[1])}function showCaptcha(e,t,n){2===(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__.intval)(t[1])?e._captcha=(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_4__.showReCaptchaBox)(t[0],t[2],e._captcha,{onSubmit:function(t){var r=_extends({},n,{recaptcha:t,captcha_sid:null,captcha_key:null});e.resend(r,resetOptionsCache(e))},onDestroy:function(){e.onFail&&e.onFail()}}):e._captcha=(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_4__.showCaptchaBox)(t[0],(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__.intval)(t[1]),e._captcha,{onSubmit:function(t,r){var o=_extends({},n,{captcha_sid:t,captcha_key:r});e.resend(o,resetOptionsCache(e))},onDestroy:function(){e.onFail&&e.onFail()}}),e._suggest=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_5__.geByClass1)("phone_validation_link",e._captcha.bodyNode),e._suggest&&addEvent(e._suggest,"click",(function(){e._box=(0,_modal_box__WEBPACK_IMPORTED_MODULE_10__.validateMobileBox)({onDone:e._captcha.submit})}))}var mobileValidationRequired=e=>(t,n,r)=>{t._box=(0,_modal_box__WEBPACK_IMPORTED_MODULE_10__.validateMobileBox)({acceptCaptcha:11===e,onDone:function(e,n){vk.nophone=0,e&&(t._captcha=(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_8__.curBox)());var o=e?_extends({},r,{captcha_sid:e,captcha_key:n}):r;t.resend(o,resetOptionsCache(t))},onFail:t.onFail,hash:n[0],ahash:n[1]})};function passwordValidationRequired(e,t,n){e._box=(0,_modal_box__WEBPACK_IMPORTED_MODULE_10__.validatePassBox)({onDone:()=>e.resend(n,resetOptionsCache(e)),onFail:e.onFail,hash:t[0]})}function authFailed(e,t,n){window.onReLoginDone=()=>e.resend(n,resetOptionsCache(e)),window.onReLoginFailed=function(e,t){(0,_web_auth_auth__WEBPACK_IMPORTED_MODULE_11__.logout)(),t?nav.go(t,null,{hard:!0}):-1===e?location.href=location.href.replace(/^http:/,"https:"):e?nav.go("/"):window.onReLoginDone()},window.utilsNode.appendChild((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_5__.ce)("iframe",{src:(0,_web_lib_environment__WEBPACK_IMPORTED_MODULE_12__.getLoginDomain)()+"?"+(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_2__.toQueryString)({role:"al_frame",_origin:window.locProtocol+"//"+window.locHost,ip_h:t[0]||window.vk.ip_h,to:t[1]||""})}))}function makeRedirect(e,t){(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__.intval)(t[1])?nav.go(t[0],!1,{nocur:"2"===t[1],noback:!0===t[1],showProgress:e.showProgress,hideProgress:e.hideProgress}):(hab.stop(),location.href=t[0])}function reload(e,t,n,r){nav.reload({force:(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__.intval)(t[0]),from:1,url:r,query:n&&(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_2__.toQueryString)(n)})}function mobileActivationRequired(e,t,n){e._box=(0,_modal_box__WEBPACK_IMPORTED_MODULE_10__.activateMobileBox)({onDone:e.resend(n,resetOptionsCache(e)),onFail:e.onFail,hash:t[0]})}function showMessage(e,t){e.onFail&&e.onFail(),(0,_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_7__.topMsg)(t[0],10)}function showError(e,t,n,r){e.onFail&&e.onFail(t[0])||(0,_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_7__.topError)(t[0]+(t[2]?" #"+t[2]:""),{dt:t[1]?0:10,type:4,url:r,query:n&&(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_2__.toQueryString)(n)})}function votesPayment(e,t,n){var r;if(!e.fromBox&&!e.forceDone||(e.onDone&&e.onDone.apply(window,t),!e.fromBox)){e._box=(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_4__.showFastBox)({title:(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__.trim)(t[0])},t[1]),(null===(r=t[3])||void 0===r?void 0:r.countries)&&!cur.votesBoxOptions&&(cur.votesBoxOptions=t[3]),cur.votesBoxOptions&&(_web_gifts_gifts__WEBPACK_IMPORTED_MODULE_9__.Gifts.processBoxOptions(e._box,cur.votesBoxOptions),cur.votesBoxOptions=null);var o=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__.extend)((0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__.clone)(e),{showProgress:e._box.showProgress,hideProgress:e._box.hideProgress});e.cache&&(o.cache=-1),e._box=(0,_modal_box__WEBPACK_IMPORTED_MODULE_10__.requestBox)(e._box,(function(t){(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_5__.isVisible)(e._box.progress)||(t||(t={_votes_ok:1}),e.resend((0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__.extend)(n,t),o))}),e.onFail),e._box.evalBox(t[2])}}function otpBox(e,t,n){e._box=(0,_modal_box__WEBPACK_IMPORTED_MODULE_10__.validateOtpBox)({onDone:()=>e.resend(n,resetOptionsCache(e)),onFail:e.onFail,hash:t[0]})}function zeroZone(e,t,n){e._box=(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_4__.showFastBox)({title:t[0]||getLang("global_charged_zone_title"),onHide:e.onFail},t[1],getLang("global_charged_zone_continue"),(function(){e.resend(_extends({},n,{charged_confirm:t[3]}),e)}),getLang("global_cancel"))}function evalCode(options,answer){var evalString=`(function(){${answer[0]};})()`;if(__debugMode)eval(evalString);else try{eval(evalString)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_6__.logEvalError)(e,evalString)}}var defaultHandler=e=>(t,n)=>{if(-1===e||-2===e||-3===e){var r,o=n.pop(),a=n.pop(),i=n.pop();-3===e&&(r=n.pop()),window.__adsSet&&__adsSet(i,null,a,o,null,r)}t.onDone&&t.onDone.apply(window,n)}},883011:(e,t,n)=>{"use strict";n.d(t,{plainpost:()=>c,request:()=>_,AjaxCancellationToken:()=>l});n(530522),n(66108),n(579665),n(95767),n(991181),n(940851),n(296253),n(751876);var r=n(182408),o=n(764077),a=n(442699),i=n(486353);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}class l{_setCancelCb(e){this._cancel=e}cancel(){this._cancel&&this._cancel()}}function c(e,t,n,o,a,u,l){var c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;if(t.act&&(0,i.partConfigEnabled)("force_act_in_get_params")){var p={},f=e,h="";if(e.includes("?")){var m=e.split("?"),v=s(m,2);f=v[0],h=v[1],p=(0,r.fromQueryString)(h)}p.act=t.act,e=`${f}?${(0,r.toQueryString)(p,!0)}`}var g=_(e,t,{xhrOptions:u,sortQueryStringParams:l&&!l.noSort,headers:l&&l.headers,noExtraHeaders:c,urlOnly:a,cancellationToken:l&&l.cancellationToken,logger:d}),y=g._getXhr();return g.then((e=>n&&n(e.data,y.status))).catch((e=>o&&o(e,y.status))),y}function _(e,t,n){var i,s=n.xhrOptions,u=n.headers,l=void 0===u?null:u,c=n.urlOnly,_=void 0!==c&&c,d=n.sortQueryStringParams,p=void 0===d||d,f=n.noExtraHeaders,h=void 0!==f&&f,m=n.cancellationToken,v=void 0===m?null:m,g=n.logger,y=void 0===g?null:g;y&&(i=(0,o.crc32)(e+JSON.stringify(t)),y(`Initialized request #${i} with URL ${e} and query ${JSON.stringify(t)}`));var E=new XMLHttpRequest;v&&v._setCancelCb((()=>{y&&y(`Aborting request #${i}`),E.abort()}));var w=new Promise((function(n,o){var u="string"!=typeof t?(0,r.toQueryString)(t,!p):t;E.onreadystatechange=function(){if(E.readyState===XMLHttpRequest.DONE)if(y&&y(`Request readyState -> DONE with status ${E.status} #${i}`),E.status>=200&&E.status<300)try{n({data:E.responseText,code:E.status}),y&&y(`Success handler finished for request #${i}`)}catch(e){y&&y(`Success handler failed for request #${i}`),o({data:E.responseText,code:-1}),y&&y(`Failure handler finished for request #${i} [1]`)}else o({data:E.responseText,url:e,act:t.act,code:E.status}),y&&y(`Failure handler finished for request #${i} [2]`)};try{y&&y(`Starting request #${i}`),E.open("POST",e,!0)}catch(e){y&&y(`Request #${i} failed`),o({data:e,code:-1}),y&&y(`Failure handler finished for request #${i} [3]`)}l&&Object.keys(l).forEach((e=>{E.setRequestHeader(e,l[e])})),s&&(0,a.each)(s,(function(e,t){E[e]=t})),_||(E.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h||E.setRequestHeader("X-Requested-With","XMLHttpRequest")),y&&y(`Sending data for request #${i}`),E.send(u)}));return w._getXhr=()=>E,w}},621260:(e,t,n)=>{"use strict";n.d(t,{curBox:()=>l,initBoxQueue:()=>c,boxRefreshCoords:()=>_,showDoneBox:()=>d,showDoneBoxFull:()=>p,getAndCleanBoxQueueData:()=>h,restoreBoxQueue:()=>m});n(175115);var r=n(917685),o=n(442699),a=n(414914),i=n(206566);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u={hideAll:function(e,t){if(e)for(;u.count();)u.hideLast();else{if(u.count()){var n=_message_boxes[u._boxes.pop()];n&&(n._in_queue=!1,n._hide(!1,!1,t))}for(;u.count();){_message_boxes[u._boxes.pop()]._in_queue=!1}}},hideLast:function(e,t){if(u.count()){var n=window._message_boxes[u._boxes[u.count()-1]];if(!0===e&&(n.changed||n.preventHideLastWithCheck||u.skip||t&&t.target&&t.target.tagName&&"input"!==t.target.tagName.toLowerCase()&&cur.__mdEvent&&t.target!==cur.__mdEvent.target))return void(u.skip=!1);n.hide()}if(t&&"click"===t.type)return(0,r.cancelEvent)(t)},hideBGClick:function(e){e&&e.target&&/^box_layer/.test(e.target.id)&&u.hideLast()},count:function(){return u._boxes.length},_show:function(e){var t=_message_boxes[e];if(t&&!t._in_queue){u.count()?_message_boxes[u._boxes[u.count()-1]]._hide(!0,!0):window.tooltips&&tooltips.hideAll(),t._in_queue=!0;var n=!!u.count();n&&(n=u._boxes.every((e=>!!_message_boxes[e]&&!_message_boxes[e].forceHide))),u.curBox=e,t._show(n||u.currHiding,n),u._boxes.push(e)}},_hide:function(e){var t=_message_boxes[e];if(t&&t._in_queue&&u._boxes[u.count()-1]===e&&t.isVisible()&&(t._in_queue=!1,u._boxes.pop(),t._hide(!!u.count()),u.count())){var n=u._boxes[u.count()-1];u.curBox=n,_message_boxes[n]._show(!0,!0,!0)}},_boxes:[],curBox:0};function l(){var e=window._message_boxes[window.boxQueue.curBox];return e&&e.isVisible()?e:null}function c(){window.boxQueue=u,window.__bq=u,window.curBox=l,window.boxQueue.hideLastCheck=window.boxQueue.hideLast.pbind(!0),window._message_box_guid=0,window._message_boxes=[]}function _(e){var t=window.innerHeight||document.documentElement.clientHeight||boxLayerBG.offsetHeight,n=i.browser.mobile?(0,o.intval)(window.pageYOffset):0,r=(0,a.getSize)(e);e.style.marginTop=Math.max(10,n+(t-r[1])/3)+"px"}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window.Notifier?f(e,t,n):window.stManager.add(["notifier.js","notifier.css"],(()=>{f(e,t,n)}))}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=s({},n,{type:"done_box_full"});d(e,t,r)}function f(e,t,n){window.curNotifier&&window.curNotifier.version||window.Notifier.init({version:-1,instance_id:-1});var r=void 0!==t.onHide?t.onHide:t.callback,o=void 0!==t.timeout?t.timeout:void 0!==t.out?t.out:null,a=null!==t.id&&void 0!==t.id?t.id:++window.curNotifier.showDoneBoxLastId,i=s({version:window.curNotifier.version,type:"done_box",text:e,onclick:t.onClick,top_count:-1,id:a,timeout:o,onHide:r,preventHideByClick:!0,link:t.link},n);t.tooltipHandler&&(i.tooltipHandler=t.tooltipHandler),Notifier.pushEvent(i)}function h(){var e={boxes:window._message_boxes,boxQueueIds:window.boxQueue._boxes,curBoxId:window.boxQueue.curBox};return window.boxQueue._boxes=[],window._message_boxes=[],window.boxQueue.curBox=0,e}function m(e){window._message_boxes=e.boxes,window.boxQueue._boxes=e.boxQueueIds,window.boxQueue.curBox=e.curBoxId}},206566:(e,t,n)=>{"use strict";n.d(t,{browser:()=>_,mobPlatforms:()=>d,browserFeatures:()=>p,redirectToMVK:()=>f,initBrowserUtils:()=>h});n(530522),n(991181),n(579665),n(95767),n(66108),n(296253),n(59357),n(751876),n(21466);var r=n(442699),o=n(420848),a=n(427813),i=n(182408);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=navigator.userAgent.toLowerCase(),_={version:(c.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[\/: ]([\d.]+)/)||[0,"0"])[1],opera:/opera/i.test(c)||/opr/i.test(c),vivaldi:/vivaldi/i.test(c),amigo:/amigo.*mrchrome soc/i.test(c),msie:/msie/i.test(c)&&!/opera/i.test(c)||/trident\//i.test(c)||/edge/i.test(c),msie6:/msie 6/i.test(c)&&!/opera/i.test(c),msie7:/msie 7/i.test(c)&&!/opera/i.test(c),msie8:/msie 8/i.test(c)&&!/opera/i.test(c),msie9:/msie 9/i.test(c)&&!/opera/i.test(c),msie_edge:/edge/i.test(c)&&!/opera/i.test(c),mozilla:/firefox/i.test(c),yabrowser:/yabrowser/i.test(c),whale:/whale/i.test(c),chrome:/chrome/i.test(c)&&!/edge/i.test(c),safari:!/chrome/i.test(c)&&/webkit|safari|khtml/i.test(c),iphone:/iphone/i.test(c),ipod:/ipod/i.test(c),iphone4:/iphone.*OS 4/i.test(c),ipod4:/ipod.*OS 4/i.test(c),ipad:/ipad/i.test(c),android:/android/i.test(c),bada:/bada/i.test(c),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(c),msie_mobile:/iemobile/i.test(c),safari_mobile:/iphone|ipod|ipad/i.test(c),opera_mobile:/opera mini|opera mobi/i.test(c),opera_mini:/opera mini/i.test(c),mac:/mac/i.test(c),windows7:/windows nt 6.1/i.test(c),windowsVista:/windows nt 6.0/i.test(c),windowsXp:/windows nt (5.2|5.1)/i.test(c),search_bot:/(yandex|google|stackrambler|aport|slurp|msnbot|bingbot|twitterbot|ia_archiver|facebookexternalhit)/i.test(c),smart_tv:/smart-tv|smarttv/i.test(c)},d={1:1,2:1,3:1,4:1,5:1,8:1},p={wheelEvent:"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":_.mozilla?"MozMousePixelScroll":"DOMMouseScroll",hasBoundingClientRect:"getBoundingClientRect"in document.createElement("div"),cmaEnabled:navigator.credentials&&navigator.credentials.preventSilentAccess&&window.vk&&vk.cma};function f(){var e,t=s(location.href.split("?"),2),n=t[0],o=t[1],a={},l=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=u(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(new URLSearchParams(o));try{for(l.s();!(e=l.n()).done;){var c=e.value;a[c[0]]=c[1]}}catch(e){l.e(e)}finally{l.f()}if(a){if("1"===a.m)return;if(a.force_redirect_to_mvk){delete a.force_redirect_to_mvk;var _=(0,i.toQueryString)(a);return void(window.location=n.replace(/vk\.com/,"m.vk.com")+(_?"?"+_:""))}}if(/vk\.com/.test(n)&&!/vk\.com\/@/.test(n)){var d=(0,r.extend)(a,{force_redirect_to_mvk:1}),p=n+"?"+(0,i.toQueryString)(d);window.location=p}}function h(){(0,o.isIPadOS)(_)&&!(0,a.getCookie)("remixforce_full")&&f(),window._ua||(window._ua=navigator.userAgent.toLowerCase()),window.locDomain||(window.locDomain=location.host.toString().match(/[a-zA-Z]+\.[a-zA-Z]+\.?$/)[0]),window.locHost=location.host,window.locProtocol=location.protocol,window.locHash=location.hash.replace("#/","").replace("#!","")}},344624:(e,t,n)=>{"use strict";n.d(t,{cancelStackFilter:()=>o,cancelStackPush:()=>a,cancelStackPop:()=>i});var r=n(377806);function o(e,t){var n=window.cancelStack||[];return t&&(0,r.topHeaderClearClose)(),window.cancelStack=n.filter((t=>t.name!==e)),window.cancelStack}function a(e,t,n){return n&&(0,r.topHeaderClose)((function(){t(),o(e)})),window.cancelStack=o(e).concat([{func:t,name:e,dclick:n}]),window.cancelStack}function i(e){var t=window.cancelStack||[];(0,r.topHeaderClearClose)(),t.length>0&&t.pop().func(e);var n=t[t.length-1];return n&&n.dclick&&(0,r.topHeaderClose)((function(){n.func(e),o(n.name)})),window.cancelStack=t,window.cancelStack}},505714:(e,t,n)=>{"use strict";n.d(t,{getFiles:()=>s,clipboardProcessPaste:()=>c,copyToClipboard:()=>o._copyWithFakeElement});n(530522),n(66108),n(991181),n(579665),n(95767),n(940851),n(296253);var r=n(699046),o=n(947992);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t=function(e){return e&&e.clipboardData?e.clipboardData:e&&e.originalEvent&&e.originalEvent.clipboardData?e.originalEvent.clipboardData:window.clipboardData}(e);if(!t)return[];var n=t.items;if(!n)return[];for(var r=[],o=0;o<n.length;o++)0==n[o].type.indexOf("image")&&r.push(n[o].getAsFile());return r}var u=!1,l=null;function c(e){return new Promise(((t,n)=>{if(u)return cancelEvent(e),n();var o=a((0,r.rangeGet)(),5),i=o[0],s=o[1],c=o[2],_=o[3],d=o[4];if(i){if("paste"===e.type){var p=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;if(p&&p.types&&p.getData){cancelEvent(e),u=!0;var f=p.getData("text/html")||clean(p.getData("text/plain"))||"";return t([f,e=>{(0,r.rangeInsert)(i,e),u=!1}])}for(var h=cf(),m=e.target||window.event.srcElement;m.firstChild;)h.appendChild(m.firstChild);return new Promise((e=>setTimeout((()=>{var t=m.innerHTML||"";m.innerHTML="",m.appendChild(h),e([t,e=>{i=(0,r.rangeCreate)(s,c,_,d),(0,r.rangeInsert)(i,e),u=!1}])}),0)))}if("beforepaste"===e.type)return u=!0,function(){if(!l){var e=ge("utils");l=ce("div",{},{width:"10px",height:"10px",overflow:"hidden"}),attr(l,"contenteditable","true"),e.appendChild(l)}}(),l.focus(),void(l.onpaste=()=>{setTimeout((()=>{var e=l.innerHTML||"";l.innerHTML="",delete l.onpaste,t([e,e=>{i=(0,r.rangeCreate)(s,c,_,d),(0,r.rangeInsert)(i,e),u=!1}])}),0)})}return n()}))}},829327:(e,t,n)=>{"use strict";n.d(t,{isToday:()=>a,isYesterday:()=>i,isTomorrow:()=>s,isSameDate:()=>u,leadingZero:()=>l,formatTime:()=>c,getServerTime:()=>_,getBeginningOfDay:()=>d,isLeapYear:()=>p,getLastDay:()=>f,getFormattedDiffTimeText:()=>h,getUnixTimestampFromDate:()=>m});var r=n(116886),o=n(442699);function a(e){var t=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function i(e){return a(new Date(e.getTime()+864e5))}function s(e){return a(new Date(e.getTime()-864e5))}function u(e,t){var n=new Date(e),r=new Date(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()}function l(e){return e>=10?e:"0"+e}function c(e,t){var n;e=Math.max(e,0);var r=Math.floor(e%60);n=r<10?"0"+r:r;var o=(e=Math.floor(e/60))%60;return n=o+":"+n,((e=Math.floor(e/60))>0||t)&&(o<10&&(n="0"+n),n=e+":"+n),n}function _(){return vk.ts+Math.floor(((new Date).getTime()-vk.started)/1e3)}function d(e){var t=e.getFullYear(),n=e.getMonth(),r=e.getDate();return new Date(t,n,r,0,0,0,0)}function p(e){return(e=parseInt(e))%4==0&&e%100!=0||e%400==0}function f(e,t){return 2==+t?p(e)?29:28:t>0&&(t<8&&t%2==0||t>7&&t%2==1)?30:31}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e<5?(0,r.getLang)("global_just_now"):e<60?(0,r.langWordNumeric)(e,(0,r.getLang)("global_word_secs_ago","raw"),(0,r.getLang)("global_secs_ago","raw")):e<3600?(0,r.langWordNumeric)((0,o.intval)(e/60),(0,r.getLang)("global_word_mins_ago","raw"),(0,r.getLang)("global_mins_ago","raw")):e<14400?(0,r.langWordNumeric)((0,o.intval)(e/3600),(0,r.getLang)("global_word_hours_ago","raw"),(0,r.getLang)("global_hours_ago","raw")):t}function m(e){return Math.floor(e.getTime()/1e3)}},519921:(e,t,n)=>{"use strict";n.d(t,{initDebugTools:()=>s,logEvalError:()=>u,debugLog:()=>l,debugEl:()=>c});n(66108),n(296253),n(59357);var r=n(206566),o=n(486353),a=n(611386);function i(){if((0,o.partConfigEnabled)("log_fetch_requests")){var e=(e,t)=>{try{if(~e.indexOf("/al_audio")||~e.indexOf("/like.php"))throw new Error(t)}catch(e){(0,a.debugBufferLog)(e)}};!function(e){var t=window.XMLHttpRequest;window.XMLHttpRequest=function(){var n,r,a=new t,i=a.open,s=a.send;return a.open=function(){var e=Array.prototype.slice.call(arguments);return r=e[0],n=e[1],i.apply(a,arguments)},a.send=function(){var t=arguments[0];return("POST"===(r=(r||"").toUpperCase())||"GET"===r&&(0,o.partConfigEnabled)("log_fetch_requests_get"))&&e(n,[r,n,t].join(":")),s.apply(a,arguments)},a},["DONE","HEADERS_RECEIVED","LOADING","OPENED","UNSENT"].forEach((e=>{Object.defineProperty(window.XMLHttpRequest,e,{enumerable:!1,configurable:!1,writable:!1,value:t[e]})}))}(e),window.fetch&&function(e){var t=window.fetch;window.fetch=function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var o,a=n[0],i="GET";"string"==typeof a?o=a:"Request"in window&&a instanceof window.Request?(o=a.url,a.method&&(i=a.method)):o=""+a,n[1]&&n[1].method&&(i=n[1].method);var s={method:i,url:o,status_code:null};return e(o,o),t.apply(this,n).then((function(e){return s.status_code=e.status,e})).catch((function(e){throw e}))}}(e)}}function s(){window._logTimer=(new Date).getTime(),i()}function u(e,t){if(window.Raven){if(t&&t.length>2e3){var n=t.indexOf("; window.TimeSpent && TimeSpent.setTimers && TimeSpent.setTimers(");~n&&(t=t.slice(0,n)),t=`${t.slice(0,1e3)}...${t.slice(-1e3)}`}e.message+=`: ${t}`,(0,a.logError)(e)}}function l(e){try{window.debuglogClient&&debuglogClient(e);var t="["+((new Date).getTime()-window._logTimer)/1e3+"] ";if(window.console&&console.log){var n=Array.prototype.slice.call(arguments);n.unshift(t),r.browser.msie||r.browser.mobile?console.log(n.join(" ")):console.log.apply(console,n)}}catch(e){}}function c(e){if(!e)return!1;var t=e.tagName,n=e.id,r=e.className,o=(t||"").toLowerCase();return r&&(o+="."+e.className.replace(/\s+/g,".")),n&&!/^__vk/.test(n)&&(o+=`#${e.id}`),o||(e.toString()||"[NULL]")}},414914:(e,t,n)=>{"use strict";n.d(t,{geById:()=>s,$:()=>u,$$:()=>l,setInnerText:()=>c,emptyNode:()=>_,ge:()=>d,geByTag:()=>p,geByTag1:()=>f,geByClass:()=>h,geByClass1:()=>m,gpeByClass:()=>v,domQuery:()=>g,domQuery1:()=>y,domClosest:()=>E,domClosestByTag:()=>w,gpeByTag:()=>b,ce:()=>D,cf:()=>A,re:()=>k,se:()=>S,sech:()=>M,rs:()=>I,psr:()=>x,domReplaceEl:()=>L,domEL:()=>B,domNS:()=>R,domPS:()=>N,domFC:()=>U,domLC:()=>F,domPN:()=>W,domChildren:()=>j,domInsertBefore:()=>K,domInsertAfter:()=>H,domByClass:()=>V,domData:()=>q,domChildIndex:()=>z,domCA:()=>Y,domClosestSibling:()=>$,matchesSelector:()=>G,isHover:()=>X,isAncestor:()=>Q,getScroll:()=>J,domClosestPositioned:()=>Z,domClosestOverflowHidden:()=>ee,show:()=>te,hide:()=>ne,isVisible:()=>re,clientHeight:()=>oe,getClientRectOffsetY:()=>ae,toggle:()=>ie,boundingRectEnabled:()=>se,getXYRect:()=>ue,getXY:()=>le,isWindow:()=>ce,getSize:()=>_e,getW:()=>de,getH:()=>pe,hasClass:()=>fe,addClass:()=>he,addClassDelayed:()=>me,removeClass:()=>ve,removeClassDelayed:()=>ge,toggleClass:()=>ye,toggleClassDelayed:()=>Ee,replaceClass:()=>we,getStyle:()=>be,setStyle:()=>De,data:()=>Ce,attr:()=>Pe,removeAttr:()=>Te,removeData:()=>Oe,cleanElems:()=>Ae,setTitle:()=>ke,getZoom:()=>Se,val:()=>Me,elfocus:()=>Ie,traverseParent:()=>xe,setDocumentTitle:()=>Be,lockDocumentTitle:()=>Re,initDomScripts:()=>Ne,createElement:()=>Ue});n(751876),n(21466),n(66108),n(296253),n(283946),n(59357);var r=n(442699),o=n(917685),a=n(206566),i=n(519921);function s(e){return document.getElementById(e)}function u(e,t){return(t||document).querySelector(e)}function l(e,t){return(t||document).querySelectorAll(e)}function c(e,t){e&&(e.innerText=t)}function _(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}var d=e=>"string"==typeof e||"number"==typeof e?document.getElementById(e):e;function p(e,t){return(t=d(t)||document).getElementsByTagName(e)}function f(e,t){return(t=d(t)||document).querySelector&&t.querySelector(e)||p(e,t)[0]}function h(e,t,n){return t=d(t)||document,n=n||"*",e=("."+e).replace(/\s+/gm,"."),Array.prototype.slice.call(t.querySelectorAll(n+e))}function m(e,t,n){return n=n||"*",(t=d(t)||document).querySelector&&t.querySelector(n+("."+e).replace(/\s+/gm,"."))||h(e,t,n)[0]}function v(e,t,n){if(!(t=d(t)))return null;for(;n!==t&&(t=t.parentNode);)if(fe(t,e))return t;return null}function g(e,t){return(t||document).querySelectorAll(e)}function y(e,t){return(t||document).querySelector(e)}function E(e,t){return fe(t,e)?t:v(e,t)}function w(e,t){return e=e.toUpperCase(),t.nodeType===Node.ELEMENT_NODE&&t.tagName.toUpperCase()===e?t:b(e,t)}function b(e,t){if(!(t=d(t)))return null;for(e=e.toUpperCase();t=t.parentNode;)if(t.tagName&&t.tagName.toUpperCase()===e)return t;return null}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=document.createElement(e);return t&&(0,r.extend)(o,t),n&&De(o,n),o}var C,P,T,O,A=(C=document,P=C.createDocumentFragment(),T=C.createElement("div"),O=C.createRange&&C.createRange(),P.appendChild(T),O&&O.selectNodeContents(T),O&&O.createContextualFragment?e=>e?O.createContextualFragment(e):C.createDocumentFragment():e=>{if(!e)return C.createDocumentFragment();T.innerHTML=e;for(var t=C.createDocumentFragment();T.firstChild;)t.appendChild(T.firstChild);return t});function k(e){return(e=d(e))&&e.parentNode&&e.parentNode.removeChild(e),e}var S=e=>U(D("div",{innerHTML:e})),M=e=>j(D("div",{innerHTML:e}));function I(e,t){return(0,r.each)(t,(function(t,n){e=e.replace(new RegExp("%"+t+"%","g"),(void 0===n?"":n).toString().replace(/\$/g,"&#036;"))})),e}function x(e){return"https:"!==locProtocol?e:e=(e=(e=(e=(e=e.replace(/http:\/\/(cs(\d+)\.vk\.me\/c(\d+)\/)/gi,"https://$1")).replace(/http:\/\/cs(\d+)\.(userapi\.com|vk\.com|vk\.me|vkontakte\.ru)\/c(\d+)\/(v\d+\/|[a-z0-9\/_:\-]+\.jpg)/gi,"https://pp.vk.me/c$3/$4")).replace(/http:\/\/cs(\d+)\.(userapi\.com|vk\.com|vk\.me|vkontakte\.ru)\/([a-z0-9\/_:\-]+\.jpg)/gi,"https://pp.vk.me/c$1/$3")).replace(/http:\/\/cs(\d+)\.(userapi\.com|vk\.com|vk\.me|vkontakte\.ru)\//gi,"https://ps.vk.me/c$1/")).replace(/http:\/\/video(\d+)\.vkadre\.ru\//gi,"https://ps.vk.me/v$1/")}function L(e,t){return(0,r.isString)(t)&&(t=S(t)),W(e).replaceChild(t,e),t}function B(e,t){for(t=t?"previousSibling":"nextSibling";e&&!e.tagName;)e=e[t];return e}var R=e=>B((e||{}).nextSibling),N=e=>B((e||{}).previousSibling,1),U=e=>B((e||{}).firstChild),F=e=>B((e||{}).lastChild,1),W=e=>(e||{}).parentNode;function j(e){for(var t=[],n=e.childNodes,r=0;r<n.length;r++)n[r].tagName&&t.push(n[r]);return t}function K(e,t){var n=W(t);return n&&n.insertBefore(e,t)}function H(e,t){var n=W(t);return n&&n.insertBefore(e,R(t))}function V(e,t){return e?m(t,e):e}function q(e,t,n){return e?void 0!==n?(null===n?e.removeAttribute("data-"+t):e.setAttribute("data-"+t,n),n):e.getAttribute("data-"+t):null}function z(e){for(var t=0;null!=(e=N(e));)t++;return t}function Y(e,t){do{e=W(e)}while(e&&!G(e,t));return e}function $(e,t,n){for(var r=null;null===r&&e;)(e=-1===n?N(e):R(e))&&G(e,t)&&(r=e);return r}function G(e,t){return!(!(e=d(e))||e===document)&&(e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}).call(e,t)}function X(e){return G(e,":hover")}function Q(e,t){var n=d(e);if(t=d(t),!e||!t)return!1;for(;n=n.parentNode;)if(n===t)return!0;return!1}function J(){var e=a.browser.msie6?d("PageContainer"):document.body,t=document.documentElement;return[e.scrollLeft||t.scrollLeft||window.pageXOffset||0,e.scrollTop||t.scrollTop||window.pageYOffset||0,t.clientWidth||e.clientWidth||0,t.clientHeight||e.clientHeight||0]}function Z(e,t){for(var n=(t=t||{}).fromEl||W(e),o=t.positions||["relative","absolute","fixed"];n&&n!==bodyNode;){var a=be(n,"position");if((0,r.inArray)(a,o)&&(!t.noOverflow||"hidden"!==be(n,"overflow")))break;n=W(n)}return n}function ee(e,t){for(var n,r,o,i=e=d(e),s=!1;i&&i.tagName&&i!==bodyNode;){if(n=be(i,"position"),r=be(i,"overflow"),o=be(i,"transform"),t&&a.browser.mozilla){if("page_wrap"!=i.id&&i!==e&&"visible"!==r&&("static"===n?!s||"relative"===s:"fixed"!==s))break}else if(i!==e&&"visible"!==r&&("static"===n?!s||"relative"===s:"fixed"!==s))break;"none"!==o?s=void 0:"static"!==n&&"fixed"!==s&&(s=n),i=W(i)}return i}function te(e){var t=arguments.length;if(t>1)for(var n=0;n<t;n++)te(arguments[n]);else if((e=d(e))&&e.style){var r=e.olddisplay,o=e.tagName.toLowerCase(),i="block";e.style.display=r||"","none"===be(e,"display")&&(i=fe(e,"inline")||fe(e,"_inline")?"inline":fe(e,"_inline_block")?"inline-block":"tr"!==o||a.browser.msie?"table"!==o||a.browser.msie?"block":"table":"table-row",e.style.display=e.olddisplay=i)}}function ne(e){var t=arguments.length;if(t>1)for(var n=0;n<t;n++)ne(arguments[n]);else if((e=d(e))&&e.style){var r=be(e,"display");e.olddisplay="none"!==r?r:"",e.style.display="none"}}function re(e){return!(!(e=d(e))||!e.style)&&"none"!==be(e,"display")}function oe(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function ae(e,t,n){n=n||0;var o=le(e=d(e))[1],a=_e(e)[1],i=window,s=document.documentElement,u=Math.max((0,r.intval)(i.innerHeight),(0,r.intval)(s.clientHeight)),l=d("page_header_cont"),c=s.scrollTop||bodyNode.scrollTop||window.scrollY||0,_=vk.staticheader?Math.max(0,_e(l)[1]-c):_e(l)[1];if(t){if(o+a<c+_+n)return o+a-c-_-n;if(o>c+u-n)return o-c-u+n}else{if(o<c+_+n)return o-c-_-n;if(o+a>c+u-n)return o+a-c-u+n}return 0}function ie(e,t){return void 0===t&&(t=!re(e)),t?te(e):ne(e),t}function se(e){return void 0!==e.getBoundingClientRect}function ue(e,t){var n;if(t&&"inline"===be(e,"display")){var r=e.getClientRects();n=r&&r[0]||e.getBoundingClientRect()}else n=e.getBoundingClientRect();return n}function le(e,t){if(!(e=d(e)))return[0,0];var n=e.ownerDocument,r={top:0,left:0};if(!n)return[0,0];var o=n.documentElement;se(e)&&(r=ue(e,!0));var a=n===n.window?n:9===n.nodeType&&(n.defaultView||n.parentWindow);return[r.left+(t?0:a.pageXOffset||o.scrollLeft)-(o.clientLeft||0),r.top+(t?0:a.pageYOffset||o.scrollTop)-(o.clientTop||0)]}function ce(e){return null!=e&&e===e.window}function _e(e,t,n){e=d(e);var o,a=document.documentElement,i=[0,0];if(t&&"border-box"===be(e,"boxSizing")&&(t=!1),e===document)i=[Math.max(a.clientWidth,bodyNode.scrollWidth,a.scrollWidth,bodyNode.offsetWidth,a.offsetWidth),Math.max(a.clientHeight,bodyNode.scrollHeight,a.scrollHeight,bodyNode.offsetHeight,a.offsetHeight)];else if(e){function s(){i=se(e)&&(o=ue(e,n))&&void 0!==o.width?[o.width,o.height]:[e.offsetWidth,e.offsetHeight],t&&(0,r.each)(i,(function(t,n){var o=t?["Top","Bottom"]:["Left","Right"];(0,r.each)(o,(function(){i[t]-=parseFloat(be(e,"padding"+this))||0,i[t]-=parseFloat(be(e,"border"+this+"Width"))||0}))}))}if(re(e))s();else{var u={position:"absolute",visibility:"hidden",display:"block"},l={},c=!1;e.style.cssText.indexOf("!important")>-1&&(c=e.style.cssText),(0,r.each)(u,(function(t,n){l[t]=e.style[t],e.style[t]=n})),s(),(0,r.each)(u,(function(t,n){e.style[t]=l[t]})),c&&(e.style.cssText=c)}}return i}function de(e){return _e(e)[0]}function pe(e){return _e(e)[1]}function fe(e,t){var n=d(e);return n&&n.classList&&n.classList.contains(t)}function he(e,t){var n=d(e);n&&n.classList&&(t.includes(" ")?` ${n.className} `.includes(` ${t} `)||(n.className=(n.className?`${n.className} `:"")+t):t.length&&!n.classList.contains(t)&&n.classList.add(t))}var me=(e,t,n)=>{n=(0,r.positive)(n),setTimeout(he.pbind(e,t),n)};function ve(e,t){var n=d(e);t.length&&n&&n.classList&&n.classList.contains(t)&&n.classList.remove(t)}var ge=(e,t,n)=>{n=(0,r.positive)(n),setTimeout(ve.pbind(e,t),n)};function ye(e,t,n){var r=d(e);if(!t.length||!r||!r.classList)return!1;if(void 0===n)return r.classList.toggle(t);var o=r.classList.contains(t);return n&&!o?r.classList.add(t):!n&&o&&r.classList.remove(t),n}function Ee(e,t,n,o){return o=(0,r.positive)(o),void 0===n&&(n=!fe(e,t)),(n?me:ge)(e,t,o),n}function we(e,t,n){ve(e,t),he(e,n)}function be(e,t,n){if(e=d(e),(0,r.isArray)(t)){var o={};return(0,r.each)(t,((t,n)=>o[n]=be(e,n))),o}if(!e)return"";if(void 0===n&&(n=!0),!n&&"opacity"===t&&a.browser.msie){var i=e.style.filter;return i?i.indexOf("opacity=")>=0?parseFloat(i.match(/opacity=([^)]*)/)[1])/100+"":"1":""}if(!n&&e.style&&(e.style[t]||"height"===t))return e.style[t];var s,u=document.defaultView||window;if(u.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1").toLowerCase();var l=u.getComputedStyle(e,null);l&&(s=l.getPropertyValue(t))}else if(e.currentStyle){if("opacity"===t&&a.browser.msie){var c=e.currentStyle.filter;return c&&c.indexOf("opacity=")>=0?parseFloat(c.match(/opacity=([^)]*)/)[1])/100+"":"1"}var _=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()}));"auto"===(s=e.currentStyle[t]||e.currentStyle[_])&&(s=0),s=(s+"").split(" "),(0,r.each)(s,(function(t,n){if(!/^\d+(px)?$/i.test(n)&&/^\d/.test(n)){var r=e.style,o=r.left,a=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left=n||0,s[t]=r.pixelLeft+"px",r.left=o,e.runtimeStyle.left=a}})),s=s.join(" ")}if(n&&("width"===t||"height"===t)){var p=_e(e,!0)[{width:0,height:1}[t]];s=((0,r.intval)(s)?Math.max((0,r.floatval)(s),p):p)+"px"}return s}function De(e,t,n){if(e=d(e))if((0,r.isObject)(t))(0,r.each)(t,((t,n)=>De(e,t,n)));else if("opacity"===t)a.browser.msie&&((n+"").length?e.style.filter=1!==n?"alpha(opacity="+100*n+")":"":e.style.cssText=e.style.cssText.replace(/filter\s*:[^;]*/gi,""),e.style.zoom=1),e.style.opacity!==n&&(e.style.opacity=n);else try{var o="number"==typeof n;o&&/height|width/i.test(t)&&(n=Math.abs(n)),n=o&&!/z-?index|font-?weight|opacity|zoom|line-?height/i.test(t)?n+"px":n,e.style[t]!==n&&(e.style[t]=n)}catch(e){(0,i.debugLog)("setStyle error: ",[t,n],e)}}function Ce(e,t,n){if(!e)return!1;var r=e[vkExpand];return r||(r=e[vkExpand]=++vkUUID),void 0!==n&&(vkCache[r]||(vkCache[r]={},window.__debugMode&&(vkCache[r].__elem=e)),vkCache[r][t]=n),t?vkCache[r]&&vkCache[r][t]:r}function Pe(e,t,n){return e=d(e),void 0===n?e.getAttribute(t):(e.setAttribute(t,n),n)}function Te(e){for(var t=0,n=arguments.length;t<n;++t){var r=arguments[t];if(void 0!==e[r])try{delete e[r]}catch(t){try{e.removeAttribute(r)}catch(e){}}}}function Oe(e,t){var n=!!e&&e[vkExpand];if(n)if(t){if(vkCache[n]){delete vkCache[n][t],t="";var r=0;for(var a in vkCache[n])if("__elem"!==a){r++;break}r||Oe(e)}}else(0,o.removeEvent)(e),Te(e,vkExpand),delete vkCache[n]}function Ae(){for(var e=arguments,t=0;t<e.length;++t){var n=d(e[t]);n&&(Oe(n),Te(n,"btnevents"))}}function ke(e,t,n){if((e=d(e))&&!e.titleSet){if(t||(t=e),t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)e.setAttribute("title",n||e.innerText||e.textContent);else{var r=f("b",e);r&&(r.scrollWidth>r.clientWidth||r.scrollHeight>r.clientHeight)?e.setAttribute("title",n||e.innerText||e.textContent):e.removeAttribute("title")}e.titleSet=1}}function Se(){var e=d("zoom_test_1")||document.body.appendChild(D("div",{id:"zoom_test_1"},{left:"10%",position:"absolute",visibility:"hidden"}));return(d("zoom_test_2")||document.body.appendChild(D("div",{id:"zoom_test_2"},{left:e.offsetLeft+"px",position:"absolute",visibility:"hidden"}))).offsetLeft/e.offsetLeft}function Me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(e=d(e))return void 0!==t&&(e.setValue?(e.setValue(t),!n&&e.phonblur&&e.phonblur()):"INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.value=t:void 0!==e.emojiId&&window.Emoji?Emoji.val(e,t):e.innerHTML=t,!n&&(0,o.triggerEvent)(e,"valueChanged")),e.getValue?e.getValue():("INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.value:e.innerHTML)||""}function Ie(e,t,n){e=d(e);try{if(e.focus(),void 0!==t&&!1!==t||(t=e.value.length),void 0!==n&&!1!==n||(n=t),e.setSelectionRange)e.setSelectionRange(t,n);else if(window.getSelection&&document.createRange){var r=document.createRange();r.selectNodeContents(e),r.collapse(!1);var o=window.getSelection();o.removeAllRanges(),o.addRange(r)}}catch(e){}}function xe(e,t,n){for(e=d(e),n=n||999;e&&!t(e);){if(0===--n)return!1;try{if((e=W(e))===document)return!1}catch(t){e=!1}}return e}window.cssTransformProp=function(){var e=document.createElement("div");if(null==e.style.transform){var t=["Webkit","Moz","ms"];for(var n in t)if(void 0!==e.style[t[n]+"Transform"])return t[n]+"Transform"}return"transform"}();var Le=!1;function Be(e){if(!Le)return window.document.title=(0,r.replaceEntities)(e)}function Re(e){Le=e,e&&window.cur&&window.cur.destroy.push((()=>{Re(!1)}))}function Ne(){window.vkExpand=window.vkExpand||"VK"+(0,r.vkNow)(),window.vkUUID=window.vkUUID||0,window.vkCache=window.vkCache||{}}var Ue=D},917685:(e,t,n)=>{"use strict";n.d(t,{KEY:()=>i,getDigitByKeyCode:()=>s,addEvent:()=>u,removeEvent:()=>l,triggerEvent:()=>c,cancelEvent:()=>_,stopEvent:()=>d,normEvent:()=>f,checkEvent:()=>h,checkKeyboardEvent:()=>m,checkOver:()=>v});n(530522),n(751876);var r=n(414914),o=n(442699),a=n(206566),i={LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:8,TAB:9,RETURN:13,ENTER:13,ESC:27,PAGEUP:33,PAGEDOWN:34,SPACE:32,CTRL:17,ALT:18,SHIFT:16};function s(e){return e>=49&&e<=57&&e-48}function u(e,t,n,a,i,s){if((e=(0,r.ge)(e))&&3!=e.nodeType&&8!=e.nodeType){var u,l=i?((u=function(e){var t=e.data;e.data=i;var r=n.apply(this,[e]);return e.data=t,r}).handler=n,u):n;e.setInterval&&e!==window&&(e=window);var c=(0,r.data)(e,"events")||(0,r.data)(e,"events",{}),_=(0,r.data)(e,"handle")||(0,r.data)(e,"handle",function(e){return function(){p.apply(e,arguments)}}(e));(0,o.each)(t.split(/\s+/),(function(t,n){c[n]||(c[n]=[],!a&&e.addEventListener?e.addEventListener(n,_,s):!a&&e.attachEvent&&e.attachEvent("on"+n,_)),c[n].push(l)}))}}function l(e,t,n,a){if(void 0===a&&(a=!1),e=(0,r.ge)(e)){var i=(0,r.data)(e,"events");if(i)if("string"==typeof t)(0,o.each)(t.split(/\s+/),(function(t,s){if((0,o.isArray)(i[s])){var u=i[s].length;if((0,o.isFunction)(n)){for(var l=u-1;l>=0;l--)if(i[s][l]&&(i[s][l]===n||i[s][l].handler===n)){i[s].splice(l,1),u--;break}}else{for(var c=0;c<u;c++)delete i[s][c];u=0}u||(e.removeEventListener?e.removeEventListener(s,(0,r.data)(e,"handle"),a):e.detachEvent&&e.detachEvent("on"+s,(0,r.data)(e,"handle")),delete i[s])}})),(0,o.isEmpty)(i)&&((0,r.removeData)(e,"events"),(0,r.removeData)(e,"handle"));else for(var s in i)i.hasOwnProperty(s)&&l(e,s)}}function c(e,t,n,a){e=(0,r.ge)(e);var i=(0,r.data)(e,"handle");if(i){var s=()=>i.call(e,(0,o.extend)(n||{},{type:t,target:e}));a?s():setTimeout(s,0)}}function _(e){if(!(e=e||window.event))return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.cancelBubble=!0,e.returnValue=!1,!1}function d(e){if(!(e=e||window.event))return!1;for(;e.originalEvent;)e=e.originalEvent;return e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1}function p(e){e=f(e);var t=Array.from(arguments);t[0]=e;var n=(0,r.data)(this,"events");if(n&&"string"==typeof e.type&&n[e.type]&&n[e.type].length){var o=(n[e.type]||[]).slice();for(var a in o)if(o.hasOwnProperty(a)){if("mouseover"===e.type||"mouseout"===e.type){for(var i=e.relatedElement;i&&i!==this;)i=i.parentNode;if(i===this)continue}var s=o[a].apply(this,t);if(!1!==s&&-1!==s||_(e),-1===s)return!1}}}function f(e){var t=e=e||window.event;if((e=(0,o.clone)(t)).originalEvent=t,e.target||(e.target=e.srcElement||document),3==e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target),null==e.pageX&&null!=e.clientX){var n=document.documentElement,r=bodyNode;e.pageX=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n.clientLeft||0),e.pageY=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n.clientTop||0)}return!e.which&&(e.charCode||0===e.charCode?e.charCode:e.keyCode)&&(e.which=e.charCode||e.keyCode),!e.metaKey&&e.ctrlKey?e.metaKey=e.ctrlKey:!e.ctrlKey&&e.metaKey&&a.browser.mac&&(e.ctrlKey=e.metaKey),!e.which&&e.button&&(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0),e}function h(e){var t=e||window.event;return t&&("click"===t.type||"mousedown"===t.type||"mouseup"===t.type)&&(t.which>1||t.button>1||t.ctrlKey||t.shiftKey||a.browser.mac&&t.metaKey)||!1}function m(e){if(!(e=f(e))||!e.target)return!1;if(!e.screenX)return!0;var t=(0,r.getSize)(e.target),n=(0,r.getXY)(e.target),o=e.pageX-n[0],a=e.pageY-n[1];return o<-1||o>t[0]+1||a<-1||a>t[1]+1||Math.abs(e.pageX-n[0]-t[0]/2)<1&&Math.abs(e.pageY-n[1]-t[1]/2)<1}function v(e,t){if(!e)return!0;e=e.originalEvent||e,t=t||e.target;var n=e.fromElement||e.relatedTarget;if(!n||n===t||n===t.parentNode)return!0;for(;n!==t&&n.parentNode&&n.parentNode!==bodyNode;)n=n.parentNode;return n!==t}},45150:(e,t,n)=>{"use strict";n.d(t,{default:()=>u});var r=n(414914),o=n(442699),a=n(917685),i=n(927663),s=n(51229);class u{constructor(e,t){if(this.constructor!==u)throw new Error("ElementTooltip was called without 'new' operator");if(!(e=(0,r.ge)(e))||!e.nodeType)throw new Error("First argument not a DOM element");if((0,r.data)(e,"ett"))return(0,r.data)(e,"ett");if(this._opts=(0,o.extend)({delay:100,offset:[0,0],type:u.TYPE_VERTICAL,id:"",cls:"",width:null,appendToParent:!1,autoAdjustToViewport:!0,autoShow:!0,autoHide:!1,noHideOnClick:!1,arrowSize:"normal",customShow:!1,align:u.ALIGN_CENTER,withCloseButton:!1},t),this._opts.customShow&&(this._opts.autoShow=!1),this._opts.defaultSide||(this._opts.defaultSide=this._opts.type===u.TYPE_VERTICAL?"top":"left"),this._opts.cls+=" eltt_arrow_size_"+this._opts.arrowSize,this._opts.cls+=" eltt_align_"+this._opts.align,this._opts.noBorder&&(this._opts.cls+=" eltt_noborder"),this._opts.setPos&&!this._opts.forceSide)throw new Error("forceSide parameter should be set if you use setPos");if(this._appendToEl=this._opts.appendTo?this._opts.appendTo:this._opts.appendToParent?(0,r.domClosestPositioned)(e,{noOverflow:!0}):e,this._arrowSize={mini:u.ARROW_SIZE_MINI,normal:u.ARROW_SIZE_NORMAL,big:u.ARROW_SIZE_BIG}[this._opts.arrowSize],this._opts.forceSide){var n=u.getType(this._opts.forceSide);if(void 0===n)throw new Error("ElementTooltip: invalid 'forceSide' option provided: ",this._opts.forceSide);0,this._opts.type=n}this._opts.type===u.TYPE_HORIZONTAL&&void 0===(null==t?void 0:t.autoAdjustToViewport)&&(this._opts.autoAdjustToViewport=!1),this._el=e,(0,r.data)(this._el,"ett",this),this._initEvents(e),this._clearTimeouts(),this._isShown=!1}_initEvents(e){this._opts.autoShow&&(this._el_me_event=this._onMouseEnter.bind(this),(0,a.addEvent)(e,"mouseenter",this._el_me_event)),(this._opts.autoShow||this._opts.autoHide)&&(this._el_ml_event=this._onMouseLeave.bind(this),(0,a.addEvent)(e,"mouseleave",this._el_ml_event)),this._opts.autoShow||this._opts.customShow||(this._el_c_event=()=>{this._isShown&&this._opts.noHideOnClick||this.toggle(!this._isShown)},(0,a.addEvent)(e,"click",this._el_c_event))}_onMouseEnter(e){clearTimeout(this._hto),this._hto=!1,!this._isShown&&this._opts.autoShow&&(clearTimeout(this._reTimeout),this._reTimeout=!1,clearTimeout(this._sto),this._sto=setTimeout(this.show.bind(this),this._opts.delay))}_onMouseLeave(e){this._clearTimeouts(),this._hto=setTimeout(this._hide.bind(this),200)}_onMouseWindowClick(e){if(!this._opts.noAutoHideOnWindowClick){for(var t=e.target;t&&t!==this._ttel&&t!==document.body&&t!==this._el;)t=(0,r.domPN)(t);if(!(0,r.hasClass)(e.target,"_ap_layer__close"))return t&&t!==document.body?void 0:(0,o.isFunction)(this._opts.onWindowClick)?(this._opts.onWindowClick(),(0,a.cancelEvent)(e)):(this.hide(!0),(0,a.cancelEvent)(e))}}destroy(){var e;this._el_me_event&&(0,a.removeEvent)(this._el,"mouseenter",this._el_me_event),this._el_ml_event&&(0,a.removeEvent)(this._el,"mouseleave",this._el_ml_event),this._el_c_event&&(0,a.removeEvent)(this._el,"click",this._el_c_event),this._clearTimeouts(),(0,r.removeData)(this._el,"ett"),(0,r.re)(this._ttel),this._ev_wclick&&(0,a.removeEvent)(document,"mousedown",this._ev_wclick),this._ttel&&(e=(0,r.geByClass1)("_eltt_content",this._ttel)),this._opts.onDestroy&&this._opts.onDestroy(e)}hide(e){this._hide(e)}_onTooltipMouseEnter(e){this._clearTimeouts()}_onTooltipMouseLeave(e){this._onMouseLeave()}build(){if(!this._ttel){var e=this._opts.withCloseButton?"eltt_with_close_button":"";this._ttel=(0,r.se)(`\n        <div class="eltt ${this._opts.cls||""} ${e}" id="${this._opts.id}">\n          <div class="eltt_arrow_back _eltt_arrow_back">\n            <div class="eltt_arrow"></div>\n          </div>\n          <div class="eltt_content _eltt_content"></div>\n        </div>`),this._ttArrowEl=(0,r.geByClass1)("_eltt_arrow_back",this._ttel);var t=(0,r.geByClass1)("_eltt_content",this._ttel);if(this._opts.content&&((0,o.isString)(this._opts.content)?t.innerHTML=this._opts.content:t.appendChild(this._opts.content)),this._opts.withCloseButton){this._ttel.insertAdjacentHTML("beforeend",'\n          <div class="eltt_close_button"></div>\n        '),this._closeButton=this._ttel.lastElementChild;var n=e=>{e.stopPropagation(),this.hide(),this._opts.onCloseButtonClick&&this._opts.onCloseButtonClick()};this._closeButton.addEventListener("click",n),cur.destroy.push((()=>this._closeButton.removeEventListener("click",n)))}this._appendToEl&&this._appendToEl.appendChild(this._ttel)}}show(){if(this._isShown)this.updatePosition();else{if(this._clearTimeouts(),this._ttel||(this.build(),(this._opts.autoShow||this._opts.autoHide)&&(this._ev_ttenter=this._onTooltipMouseEnter.bind(this),this._ev_ttleave=this._onTooltipMouseLeave.bind(this),(0,a.addEvent)(this._ttel,"mouseenter",this._ev_ttenter),(0,a.addEvent)(this._ttel,"mouseleave",this._ev_ttleave))),this._opts.width){var e=(0,o.isFunction)(this._opts.width)?this._opts.width.call(this):this._opts.width;(0,r.setStyle)(this._ttel,"width",e)}(0,r.show)(this._ttel);var t=(0,r.geByClass1)("_eltt_content",this._ttel);this._opts.onFirstTimeShow&&!this._firstTimeShown&&this._opts.onFirstTimeShow.call(this,t,this._ttel),this._opts.onShow&&this._opts.onShow(t,!this._firstTimeShown),this._firstTimeShown=!0,this.updatePosition(),this._isShown=!0,this._visTO=setTimeout(r.addClass.pbind(this._ttel,"eltt_vis"),10),this._opts.elClassWhenShown&&(0,r.addClass)(this._el,this._opts.elClassWhenShown),this._ev_wclick&&(0,a.removeEvent)(document,"mousedown",this._ev_wclick),this._ev_wclick=this._onMouseWindowClick.bind(this),(0,a.addEvent)(document,"mousedown",this._ev_wclick)}}static getType(e){switch(e){case"top":case"bottom":return u.TYPE_VERTICAL;case"right":case"left":return u.TYPE_HORIZONTAL}}getOptions(){return this._opts}updatePosition(){var e=this._opts.forceSide,t=!!this._opts.getTargetBoundingBox&&this._opts.getTargetBoundingBox(this);if(!t){var n=(0,r.getXY)(this._el),a=(0,r.getSize)(this._el);t={left:n[0],top:n[1],width:a[0],height:a[1]}}var l,c=this._opts.getWrapEl?this._opts.getWrapEl(this):(0,r.gpeByClass)("audio_layer_container",this._ttel),_=c||(0,r.domClosestOverflowHidden)(this._ttel),d=_!==bodyNode?(0,r.getXY)(_):[(0,i.scrollGetX)(),(0,i.scrollGetY)()+(0,s.getPageHeaderHeight)()],p=_!==bodyNode?(0,r.getSize)(_):[window.innerWidth,window.innerHeight],f=(0,r.getSize)(this._ttel),h=this._arrowSize,m=this._opts.noBorder?0:1,v=(0,o.isFunction)(this._opts.offset)?this._opts.offset():this._opts.offset,g=(e,n)=>{var o,a={},i=[vk.rtl?"marginRight":"marginLeft","marginTop"].indexOf(e);o=this._opts.align===(vk.rtl?u.ALIGN_LEFT:u.ALIGN_RIGHT)?f[i]-Math.max(m+h+(n||0),Math.min(f[i],t[i?"height":"width"])/2):this._opts.align===(vk.rtl?u.ALIGN_RIGHT:u.ALIGN_LEFT)?Math.max(m+h+(n||0),Math.min(f[i],t[i?"height":"width"])/2):f[i]/2,a[e]=Math.floor(o)-m-h-(n||0),(0,r.setStyle)(this._ttArrowEl,a)};if(this._opts.setPos)l=this._opts.setPos(this)||{},u.getType(e)===u.TYPE_VERTICAL?void 0!==l.arrowPosition?(0,r.setStyle)(this._ttArrowEl,{marginLeft:l.arrowPosition}):vk.rtl?g("marginRight"):g("marginLeft"):void 0!==l.arrowPosition?(0,r.setStyle)(this._ttArrowEl,{marginTop:l.arrowPosition}):g("marginTop");else{if(!e&&this._prevSide&&this._opts.preventSideChange)e=this._prevSide;else if(!e)if(this._opts.type===u.TYPE_VERTICAL){var y=(0,r.hasClass)(bodyNode,"body_im")?this._opts.bottomGap||60:this._opts.bottomGap||0,E=t.top-d[1]>f[1]+h-v[1],w=(0,i.scrollGetY)()+p[1]-(t.top+t.height+h)-y>f[1];e="top"===this._opts.defaultSide?E?"top":"bottom":w?"bottom":"top"}else e=t.left-d[0]<f[0]?"right":"left";var b,D,C,P,T,O,A=(0,r.getXY)(this._appendToEl),k=[t.left-A[0],t.top-A[1]],S=v[0]+k[0];this._opts.centerShift?(S+=this._opts.centerShift||0,b=this._opts.centerShift):this._opts.rightShift&&(S+=b=-(f[0]/2-this._opts.rightShift)),this._prevSide=e;var M=!this._opts.autoAdjustToViewport;switch(this._opts.align===(vk.rtl?u.ALIGN_LEFT:u.ALIGN_RIGHT)?(D=t.width-f[0],C=t.height-f[1]):this._opts.align===(vk.rtl?u.ALIGN_RIGHT:u.ALIGN_LEFT)?(D=0,C=0):(D=-f[0]/2+t.width/2,C=t.height/2-f[1]/2),e){case"bottom":T=D+S,O=t.height+h-v[1]+k[1],b||M||((P=D+t.left+v[0]+f[0]+20-(d[0]+p[0]))<0&&(P=0),T-=P,b=-P),l={left:T,top:O};break;case"top":T=D+S,O=-f[1]-h+v[1]+k[1],b||M||((P=D+t.left+v[0]+f[0]+20-(d[0]+p[0]))<0&&(P=0),T-=P,b=-P),l={left:T,top:O};break;case"right":T=t.width+h+S,O=C+v[1]+k[1],b||M||((P=C+t.top+v[1]-(d[1]+20))>0&&(P=0),O-=P,b=-P),l={left:T,top:O};break;case"left":T=-f[0]-h+S,O=C+v[1]+k[1],b||M||((P=C+t.top+v[1]-(d[1]+20))>0&&(P=0),O-=P,b=-P),l={left:T,top:O}}this._opts.type===u.TYPE_VERTICAL?vk.rtl?g("marginRight",b):g("marginLeft",b):g("marginTop",b)}(0,o.each)(["top","bottom","left","right"],function(t,n){e!==n&&(0,r.removeClass)(this._ttel,"eltt_"+n)}.bind(this)),(0,r.addClass)(this._ttel,"eltt_"+e),(0,r.setStyle)(this._ttel,l)}_hide(e){if(!this.tempPreventHide){if(this._isShown=!1,this._clearTimeouts(),this._reTimeout=setTimeout(function(){(0,r.hide)(this._ttel),this._opts.elClassWhenShown&&(0,r.removeClass)(this._el,this._opts.elClassWhenShown),this._opts.onHide&&this._opts.onHide(this._ttel,!!e)}.bind(this),u.FADE_SPEED),this._opts.onBeforeHide)try{this._opts.onBeforeHide(this._ttel,!!e)}catch(e){}(0,r.removeClass)(this._ttel,"eltt_vis"),this._ev_wclick&&(0,a.removeEvent)(document,"mousedown",this._ev_wclick)}}isShown(){return this._isShown}toggle(){this.isShown()?this.hide():this.show()}_clearTimeouts(){this._visTO&&clearTimeout(this._visTO),this._visTO=!1,this._sto&&clearTimeout(this._sto),this._sto=!1,this._hto&&clearTimeout(this._hto),this._hto=!1,this._reTimeout&&clearTimeout(this._reTimeout),this._reTimeout=!1}getContent(){return(0,r.geByClass1)("_eltt_content",this._ttel)}}u.TYPE_VERTICAL=0,u.TYPE_HORIZONTAL=1,u.FADE_SPEED=100,u.ARROW_SIZE_MINI=9,u.ARROW_SIZE_NORMAL=8,u.ARROW_SIZE_BIG=16,u.ALIGN_LEFT="left",u.ALIGN_CENTER="center",u.ALIGN_RIGHT="right"},561393:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{menuSettings:()=>menuSettings,showWriteMessageBox:()=>showWriteMessageBox,giftsBox:()=>giftsBox,moneyTransferBox:()=>moneyTransferBox,reportAd:()=>reportAd,mobilePromo:()=>mobilePromo,showAudioClaimWarning:()=>showAudioClaimWarning,sureDeleteAll:()=>sureDeleteAll,imageStatusPopup:()=>imageStatusPopup});var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(175115),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(59357),_message_box__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(791563),_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(705456),_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(414914),_dom_events__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(917685),_lang__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(116886),_debug_tools__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(519921),_box_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(621260),_shared_lib_web_stats__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(124961),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(486353),_web_payments_money_transfer__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(382481);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function menuSettings(e){return(0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showTabbedBox)("al_settings.php",{act:"menu_box",type:e})}function showWriteMessageBox(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};cur.onFriendMessage&&cur.onFriendMessage(),stManager.add(["page.js","wide_dd.js"]);var r=(0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showBox)("al_im.php",_extends({act:"a_write_box",to:t},n.params),{stat:[jsc("web/writebox.js"),"writebox.css","wide_dd.css","page.css","post.css",jsc("web/emoji.js"),"notifier.css"],cache:1},e);return r&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.cancelEvent)(e),window.WriteBox&&WriteBox.extractEmoji(),!r}function giftsBox(e,t,n){return cur.viewAsBox?cur.viewAsBox():!(0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showBox)("al_gifts.php",{act:"box",tab:n||"received",mid:e},{cache:1,stat:["gifts.css",jsc("web/gifts.js")]},t)}function moneyTransferBox(e,t,n,r,o,a,i){if(cur.viewAsBox)return cur.viewAsBox();if(o){var s,u;if(!i)return 2===o?(s=cur.lang&&cur.lang.mail_money_transfer_cancel_confirm||(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("mail_money_transfer_cancel_confirm"),u=cur.lang&&cur.lang.mail_money_transfer_cancel_btn||(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("mail_money_transfer_cancel_btn")):(s=cur.lang&&cur.lang.mail_money_transfer_decline_confirm||(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("news_fb_money_transfer_decline_confirm"),u=cur.lang&&cur.lang.mail_money_transfer_decline_btn||(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("news_fb_money_transfer_decline_btn")),void(cur.confirmBox=(0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showFastBox)((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_action_confirmation"),s,u,moneyTransferBox.pbind(e,t,n,r,o,!1,1),(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_cancel")));var l=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hasClass)((0,_dom__WEBPACK_IMPORTED_MODULE_4__.domPN)(r),"wall_postlink_preview_btn")||(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hasClass)(r,"money_transfer__decline_button"),c=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass1)("flat_button",(0,_dom__WEBPACK_IMPORTED_MODULE_4__.domPN)(r));return 2!==i&&((0,_ui__WEBPACK_IMPORTED_MODULE_3__.disableButton)(c,!0),l?((0,_dom__WEBPACK_IMPORTED_MODULE_4__.addClass)(r.firstChild,"round_spinner"),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.removeClass)(r.firstChild,"button")):(0,_ui__WEBPACK_IMPORTED_MODULE_3__.lockButton)(r),cur.confirmBox&&cur.confirmBox.hide()),void ajax.post("al_payments.php?act=a_cancel_money_transfer",{tx_id:e,hash:t,from:l?"snippet":""},{onDone:function(a,i,s){0!==a?(l?((0,_dom__WEBPACK_IMPORTED_MODULE_4__.re)(r),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hasClass)(c,"secondary")||(0,_dom__WEBPACK_IMPORTED_MODULE_4__.domReplaceEl)(c,s)):(0,_dom__WEBPACK_IMPORTED_MODULE_4__.re)((0,_dom__WEBPACK_IMPORTED_MODULE_4__.domPN)(r)),(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.showDoneBox)(i),window.TopNotifier.invalidate()):setTimeout(moneyTransferBox.pbind(e,t,n,r,o,!1,2),2e3)},onFail:function(e){return(0,_ui__WEBPACK_IMPORTED_MODULE_3__.disableButton)(c,!1),l?((0,_dom__WEBPACK_IMPORTED_MODULE_4__.addClass)(r.firstChild,"button"),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.removeClass)(r.firstChild,"round_spinner")):(0,_ui__WEBPACK_IMPORTED_MODULE_3__.unlockButton)(r),setTimeout((0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showFastBox)((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_error"),e).hide,2e3),!0}})}return cur.acceptMoneyBtn=r,a?!_web_payments_money_transfer__WEBPACK_IMPORTED_MODULE_11__.MoneyTransfer.showMoneyTransferBox({request_id:e,request:a,hash:t},{stat:["payments.css",jsc("workers/payments.js")]},(e=>((0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.curBox)()&&(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.curBox)().hide(),setTimeout((0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showFastBox)((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_error"),e).hide,2e3),!0))):!(0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showBox)("al_payments.php",{act:"accept_money_transfer_box",tx_id:e,hash:t},{stat:["payments.css",jsc("workers/payments.js")],onFail:e=>((0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.curBox)()&&(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.curBox)().hide(),setTimeout((0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showFastBox)((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_error"),e).hide,2e3),!0),onDone(e,t){_web_payments_money_transfer__WEBPACK_IMPORTED_MODULE_11__.MoneyTransfer.initHandlers(),window.cur=extend(window.cur,{paymentsOptions:t,paymentsPopupWrite(e){e.document.innerHTML!=cur._popup_text&&(e.document.write(window.cur._popup_text),e.document.close(),e.blur(),e.focus(),window.cur._popup_callback&&window.cur._popup_callback())}}),e.setOptions({width:510,bodyStyle:"padding: 0;",hideButtons:!0,onClean(){window.cur.moneyTranferCheckInt&&clearInterval(window.cur.moneyTranferCheckInt),window.removeEventListener("message",_web_payments_money_transfer__WEBPACK_IMPORTED_MODULE_11__.MoneyTransfer.frameMessage,!1)}}),_web_payments_money_transfer__WEBPACK_IMPORTED_MODULE_11__.MoneyTransfer.initAccept(t.chkData,t.frame)}},n)}function reportAd(e,t){if((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_10__.partConfigEnabled)("ads_new_reports_web_tgb")){var n="",r=null,o=(0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showBox)("/reports.php",{act:"report_ad_box",ad_data:t},{onDone:function(){var e=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("radiobtn","ad_report");window.radioBtns.ad_report={val:0,els:e};var t=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.ge)("ad_csrf");n=t?t.value:n,r=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.ge)("ad_comment")},params:{width:370,onClean:()=>{delete window.radioBtns.ad_report}},stat:["reports.css"]});o.removeButtons(),o.addButton((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("box_send"),(a=>{ajax.post("reports.php",{act:"a_report_ad",ad_id:e,reason:window.radioBtns.ad_report.val,comment:r?r.value:"",ad_data:t,hash:n},{onDone:()=>{o.hide(),(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.showDoneBox)((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("reports_thanks_for_report"))},showProgress:()=>(0,_ui__WEBPACK_IMPORTED_MODULE_3__.lockButton)(a),hideProgress:()=>(0,_ui__WEBPACK_IMPORTED_MODULE_3__.unlockButton)(a)})})),o.addButton((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_cancel"),!1,"no")}else(0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showBox)("/reports.php?act=a_report_ad_box",{ad_id:e},{params:{width:370},stat:["ui_controls.js","ui_controls.css"]})}var mobilePromo=_message_box__WEBPACK_IMPORTED_MODULE_2__.showBox.pbind("al_login.php",{act:"mobile",box:1});function showAudioClaimWarning(e,t,n){var r,o,a=e.id,i=e.ownerId,s=e.title,u=t.id,l=t.reason,c=t.original,_={width:470};if(e.restrictionStatus)return AudioUtils.showAudioRestriction(e);"geo"===l?(r=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_claimed_geo"),o=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_claim_warning_title")):"site_rules_violation"===l?(r=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_site_rules_violation_warning"),o=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_site_rules_violation_header")):"replace"===l?(r=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_claimed_replacement_available"),o=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_claim_warning_title")):"subscription"===l?(_.hideButtons=!0,_.bodyStyle="padding: 0; border-radius: 4px;",_.width=450,o=!1,r=`\n      <div class="audio_claim_popup">\n        <div class="audio_claim_popup__title">${(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_audio_only_with_subscription_title")}</div>\n        <div class="audio_claim_popup__text">${(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_audio_only_with_subscription_text")}</div>\n        <div class="audio_claim_popup__close" onclick="curBox().hide()"></div>\n        <button class="flat_button round_button" onclick="AudioPlayer.showSubscriptionPopup()">${(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_audio_only_with_subscription_btn")}</button>\n      </div>`):(r=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_claim_warning"),o=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_claim_warning_title")),_.title=o;var d=[_,r=(r=(r=r.replace(/\{audio\}/g,`<b>${s}</b>`)).replace(/\{objection_link\}/g,`<a href="/help?act=cc_objection&claim=${u}&content=audio${i}_${a}">${(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_claim_objection")}</a>`)).replace(/\{delete_link\}/g,`<a onclick="deleteAudioOnClaim(${i}, ${a}); return false;">${(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_claim_delete")}</a>`)],p=null;if(n&&c){var f=AudioUtils.drawAudio(c,"no_extra");d[1]=r.replace(/\{original\}/g,c[AudioUtils.AUDIO_ITEM_INDEX_PERFORMER]+" - "+c[AudioUtils.AUDIO_ITEM_INDEX_TITLE])+"<br/><br/>"+f,d.push((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_replace_with_original"),(function(){(0,_ui__WEBPACK_IMPORTED_MODULE_3__.lockButton)(p.btns.ok[0]),n((()=>p.hide()))})),_.textControls=`<a onclick="deleteAudioOnClaim(${i}, ${a}); return false;">${(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_claim_delete_capital")}</a>`}cur.claimWarning=p=_message_box__WEBPACK_IMPORTED_MODULE_2__.showFastBox.apply(null,d)}function sureDeleteAll(title,text,where,objectId,toId,fromId,hash,event){if(!(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.checkEvent)(event)){var box=(0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showFastBox)({title},text,(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_delete"),(function(btn){ajax.post("/delete_all.php",{act:where,object_id:objectId,to_id:toId,from_id:fromId,hash,loc:nav.objLoc[0]},{onDone:function onDone(res){if(__debugMode)eval(res);else try{eval(res)}catch(e){(0,_debug_tools__WEBPACK_IMPORTED_MODULE_7__.logEvalError)(e,res)}box.hide()},showProgress:_ui__WEBPACK_IMPORTED_MODULE_3__.lockButton.pbind(btn),hideProgress:_ui__WEBPACK_IMPORTED_MODULE_3__.unlockButton.pbind(btn)})}),(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_cancel"));return!1}}function imageStatusPopup(e,t){Object.assign(t,{act:"image_status"});var n=(0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showBox)("special_event.php",t,{containerClass:"ImageStatusPopup__container",params:{hideButtons:!0},onFail:function(){return window.cur.imageStatusBox&&window.cur.imageStatusBox.hide(),!0},onDone:function(e,t){var n=t.status_id;n&&(0,_shared_lib_web_stats__WEBPACK_IMPORTED_MODULE_9__.saveStatlogEvents)({name:"image_status",value:n,keys:["show_popup"]})}},e);n&&((0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.cancelEvent)(e),window.cur.imageStatusBox=n)}},469433:(e,t,n)=>{"use strict";n.d(t,{initTopNotifier:()=>w,isPhotoeditor3Available:()=>b,showPhoto:()=>D,showManyPhoto:()=>C,showAlbums:()=>P,showAlbum:()=>T,showPhotoTags:()=>O,showVideoTags:()=>A,videoCallback:()=>k,showAttachProductBox:()=>S,showWiki:()=>M,showApp:()=>I,showPodcast:()=>x,podcastStartFrom:()=>L,articlePrepare:()=>B,isArticleEditorAvailable:()=>R,openArticleEditor:()=>N,bookmark:()=>U,bookmarkPost:()=>F,bookmarkArticle:()=>W,bookmarkLink:()=>j,bookmarkPodcast:()=>K,bookmarkNarrative:()=>H,bookmarkEvent:()=>V,bookmarkYoulaProduct:()=>q,shareAudioPlaylist:()=>z,getAudioPlayer:()=>Y,deleteAudioOnClaim:()=>$,initTopAudioPlayer:()=>G,AudioMessagePlayer:()=>X,mentionClick:()=>Q,isArticleLayerOpen:()=>J,showDonutSubscribePopup:()=>Z,sendCoronaStatusStat:()=>ee,sendImageStatusStat:()=>te});n(21466),n(59357),n(820075),n(175115);var r=n(917685),o=n(442699),a=n(791563),i=n(414914),s=n(206566),u=n(705456),l=n(116886),c=n(182408),_=n(621260),d=n(830242),p=n(986900),f=n(124961),h=n(907851),m=n(874854),v=n(240469),g=n(126934),y=n(369455);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(){var e=["notifier.js","notifier.css"];return{preload:function(){stManager.add(e,(()=>window.TopNotifier.preload()))},show:function(t){if(!0!==(0,r.checkEvent)(t))return stManager.add(e,(()=>window.TopNotifier.show(t))),(0,r.cancelEvent)(t)},showTooltip:function(t){stManager.add(e,(()=>window.TopNotifier.showTooltip(t)))},invalidate:()=>{},setCount:()=>{},createNewEventsBox:()=>{}}}function b(){return!s.browser.msie||parseInt(s.browser.version)>10}function D(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(a&&a.additional&&a.additional.open_pe&&a.temp&&(0,d.isImgBlurred)(a.temp)){var s=function(){D(e,t,a,i)};Page.showUnblurBox(a.temp.restrictionTitle,a.temp.restrictionText,a.temp.photoRaw,a.temp.unblurHash,s)}else{if(a&&a.additional&&a.additional.open_pe&&a.temp&&a.temp.restrictionGeo&&delete a.additional.open_pe,cur.viewAsBox)return cur.viewAsBox();if(!((0,r.checkEvent)(i)||cur._editMode&&cur._editMode(i))){if((0,m.isUnauthorizedMediaLayerBoxAvailable)()&&!a.forceUnauth)return window.Unauthorized.showMoreBox(null,0,m.UnauthorizedSourceType.PHOTO,(()=>{D(e,t,E({},a,{forceUnauth:!0}),i)})),!1;var l=[jsc("web/photoview.js"),"photoview.css","page.js","page.css"];if(a.img&&(a.showProgress=function(){(0,u.showProgress)(a.img)},a.hideProgress=function(){(0,u.hideProgress)(a.img)}),!e)return!1;var c=1;if(((null==a||null===(n=a.additional)||void 0===n?void 0:n.open_pe)||(null==a?void 0:a.noCache))&&(c=0),window.Photoview&&!1===Photoview.showPhoto(e,t,a)&&c)return!1;var _=!0;if(cur.pvOptions||(cur.pvOptions={}),cur.pvOptions.isLightMode=a.isLightMode,a.temp&&!(cur.pvNoTemp||{})[e]&&stManager.add(l,(function(){(0,o.extend)(cur,{pvCancelLoad:function(){_=!1},pvData:cur.pvData||{},pvOptions:cur.pvOptions||{}}),cur.pvData.temp=[a.temp],cur.pvOptions.temp_final=a.temp_final,cur.pvOptions.temp_summary=a.temp_summary,cur.pvOptions.queue=a.queue,Photoview.show("temp",0)})),(0,o.extend)(a,{onDone:function(n){Photoview.list(e,t,n),a.blog_text&&arguments[3]&&arguments[3][0]&&(arguments[3][0].album=a.blog_text),Photoview.loaded.apply(window,arguments),_&&("deleted"===n?Photoview.showDeleted.apply(window,arguments):Photoview.showPhoto(e,t,a,!0))},stat:l,cache:c}),a.temp_final)return!1;var p="";return nav.objLoc.dmcah&&(p=nav.objLoc.dmcah),ajax.post("al_photos.php",(0,o.extend)({act:"show",gid:cur.gid,photo:e,list:t,dmcah:p,module:cur.module||"",list_info:a.list_info||null},a.additional),a),!1}}}function C(e,t,n,r){Page.showManyPhoto(e,t,n,r)}function P(e,t,n){return cur.viewAsBox?cur.viewAsBox():(0,r.checkEvent)(n)?void 0:(stManager.add([jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showAlbums(e,t)})),!1)}function T(e,t,n){return cur.viewAsBox?cur.viewAsBox():(0,r.checkEvent)(n)?void 0:(stManager.add([jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showAlbum(e,t)})),!1)}function O(e,t,n){return cur.viewAsBox?cur.viewAsBox():(0,r.checkEvent)(n)?void 0:(stManager.add([jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showTagged(e,t)})),!1)}function A(e,t,n){return cur.viewAsBox?cur.viewAsBox():(0,r.checkEvent)(n)?void 0:(stManager.add([jsc("web/video.js"),"video.css",jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showVideoTags(e,t)})),!1)}function k(e){var t=e.shift();if(window.Videoview&&Videoview.playerCallback[t])return Videoview.playerCallback[t].apply(Videoview,e);throw Error("Unregistered player callback: "+t)}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return curBox()||(0,a.showBox)("al_market.php",{act:"show_attach_product_box"},{onDone:function(e,n){window.MarketProductBox.init(e,n,t)}}),(0,r.cancelEvent)(e)}function M(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if((0,r.checkEvent)(n))return!0;if(0!==cur.gid&&(e.gid=cur.gid),e.location_owner_id=cur.oid,window.wkcur&&wkcur.shown&&wkcur.wkRaw===e.w&&e.w&&!e.reply)return WkView.restoreLayer(a),(0,r.cancelEvent)(n);(window.wkcur&&wkcur.hideTitle||e.hide_title)&&(a.hide_title=e.hide_title=1);var i=a.stat||[jsc("web/wkview.js"),"wkview.css","wk.css",jsc("web/wk.js")];t&&i.push(jsc("web/wk_editor.js"),"wk_editor.css");var s,u,l={stat:i,loader:!a.noloader,onDone:function(e,t,r,i){WkView.show(e,t,(0,o.extend)(r,a),i,n)},onFail:function(e){return(0,o.isFunction)(a.onFail)?a.onFail(e):WkView.showError(e)}};if(nav.objLoc.claim&&(e.claim=nav.objLoc.claim),e.w&&"/query"===e.w.substr(-6)){var c=(0,o.clone)(nav.objLoc);delete c[0],delete c.w,e.query=JSON.stringify(c)}a.preload&&(0,o.extend)(l,a.preload),a.ads_params&&(s=a.ads_params,(u=nav.getPostParams(n&&n.target)).post_click_url&&(s._post_click_url=u.post_click_url));var _="";"feed"===cur.module&&window.feed?_=window.feed.getModuleRef():"public"===cur.module?_="club":"profile"===cur.module&&(_="profile"),a.customRef&&(_=a.customRef);var d="",p=(0,o.clone)(nav.objLoc);return p.dmcah&&(d=p.dmcah),ajax.post("wkview.php",(0,o.extend)({act:"show",loc:nav.objLoc[0],is_znav:a.isZnav,dmcah:d,ref:_},e,s,cur.getWkviewOpts&&cur.getWkviewOpts()),l),(0,r.cancelEvent)(n)}function I(e,t,n,r,a,i){i||(i={});var s=!1,u=(0,o.extend)({w:"app"+t},i);if(n=(0,o.intval)(n),r&&((0,o.isObject)(r)?u=(0,o.extend)(u,r):u.ref=r),i.layer&&(s=!0),(cur.apps&&cur.apps[t]||!n)&&!s){delete u.w;var l="app"+t+(a?"_"+a:""),c=nav.objLoc&&!nav.objLoc[1]&&nav.objLoc[0]===l;return nav.go("/"+l+nav.toStr(u),e,{nocur:c})}a&&(u.mid=a);var _={stat:[jsc("web/wkview.js"),"wkview.css","apps.js","apps.css"]};if(i.queue&&(_.queue=1),i.urlHash&&(u.url_hash=i.urlHash),u["#"]){var d=u["#"];delete u["#"],_.onLoaded=()=>{nav.setLoc((0,o.extend)(nav.objLoc,{"#":d}))}}return M(u,!1,e,_)}function x(e,t,n,o,a){if(!vk.widget)return(0,i.show)(boxLoader),(0,i.show)(boxLayerWrap),(0,_.boxRefreshCoords)(boxLoader),stManager.add([jsc("web/podcast.js")],(function(){Podcast.show(e,t,null,o,a)})),n&&(0,r.cancelEvent)(n)}function L(e,t,n,o){return stManager.add([jsc("web/podcast.js")],(function(){Podcast.goToTime(e,t,n,o)})),n&&(0,r.cancelEvent)(n)}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e&&!vk.isBanned&&stManager.add([jsc("web/article_layer.js"),"article.css"],(function(){window.ArticleLayer.prepare(e,n,t)}))}function R(){return!(s.browser.msie&&parseInt(s.browser.version)<=11)}function N(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(cur.articleEditorLayer)cur.articleEditorLayer.openById(e,t);else{var i=[jsc("web/article_editor_layer.js"),"article.css","article_editor.css"];stManager.add(i,(()=>{}));var s=Object.assign({act:"open_editor",article_owner_id:e,article_id:t,from_post_convert:n?1:0,post_data_medias:n?n.medias.join(","):""},r);ajax.post("al_articles.php",s,{loader:!0,onFail:function(e){return"app"===o.from?o.errorHandler&&o.errorHandler("ServerError: Can't open article editor."):(0,a.showFastBox)((0,l.getLang)("global_error"),e),window.SAKIntegration&&window.SAKIntegration.isIntegrated&&window.SAKIntegration.sendMessage("error",{error:e}),!0},onDone:function(e,t,r,a){window.WkView&&WkView.hide(),window.boxQueue&&boxQueue.hideAll(),n&&(a.postData=n),a.articleOwnerId?stManager.add(i,(function(){if(layers.fullhide=function(){cur.articleEditorLayer&&cur.articleEditorLayer.hide()},window.AuthorPage&&window.AuthorPage.isOpen()&&(cur.needAuthorPageHardBack=!0),cur.articleEditorLayer=new ArticleEditorLayer(e,t,r,a,(()=>delete cur.articleEditorLayer)),"app"===o.from){var n=e=>t=>{t.type=e,"publish"!==e&&"close"!==e||cur.articleEditorLayer&&cur.articleEditorLayer.hide(),o.eventHandler&&o.eventHandler(t)};cur.articleVkAppEditor={onSaveDraft:n("draft"),onPublish:n("publish"),onClose:n("close")}}})):nav.change({z:!1})}})}}function U(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",_=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";ajax.post("al_bookmarks.php",{act:"bookmark",owner_id:e,object_id:t,type:n,state:s?1:0,hash:r,item_access_hash:u,ref:c||cur.module,track_code:_},{onDone:(n,r,s,u)=>{if(n&&!vk.widget){window.showDoneBox(n,{tooltipHandler:function(n){var c=(0,i.geByClass1)("bookmarks_tag_set",n);if(c&&!isEmpty(r)){var _=[];each(r,((e,t)=>{_.push(t)})),_.sort(((e,t)=>e.order-t.order));for(var d='<div class="bookmarks_tags_list">',p=0;p<_.length;p++){var f=_[p];d+=`<div class="bookmarks_tags_list_item" data-id="${f.id}">${f.name}</div>`}d+="</div>",(d=se(d)).addEventListener("click",(n=>{var r=domClosest("bookmarks_tags_list_item",n.target);if(r){var c=(0,i.domData)(r,"id"),_=toggleClass(r,"bookmarks_tags_list_item--selected");ajax.post("al_bookmarks.php",{act:"set_tag",item_type:s,item_oid:e,item_id:t,hash:u,tag_id:c,is_tagged:(0,o.intval)(!_),is_from_snackbar:!0},{onFail:e=>((0,a.showFastBox)((0,l.getLang)("global_error"),e),!0)})}})),cur.setBookmarksTagTooltip&&cur.setBookmarksTagTooltip.destroy(),stManager.add(["ui_common.css","ui_common.js"],(()=>{}));var h=new ElementTooltip(c,{content:d,appendToParent:!0,cls:"bookmarks_tag_set_tt",autoShow:!0,offset:[0,-36],onFirstTimeShow:e=>{stManager.add(["ui_common.css","ui_common.js"],(()=>{cur.setBookmarksTagTooltipScrolls||(cur.setBookmarksTagTooltipScrolls=[]),cur.setBookmarksTagTooltipScrolls.push(new uiScroll(domFC(e),{theme:"dark"}))}))},onShow:function(){Notifier.freezeEvents(),curNotifier.tooltipShown=!0},onHide:function(){curNotifier.tooltipShown=!1,curNotifier.unfreezeAfterTooltipHide&&Notifier.unfreezeEvents()}});cur.destroy.push((()=>{cur.setBookmarksTagTooltipScrolls&&(cur.setBookmarksTagTooltipScrolls.forEach((function(e){e.destroy()})),delete cur.setBookmarksTagTooltipScrolls),h.destroy()}))}},link:"/bookmarks"})}}})}function F(e,t,n,r,a,s){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";if((0,o.isObject)(window.cur)&&(0,o.isFunction)(window.cur.viewAsBox))return window.cur.viewAsBox();var l=parseInt((0,i.domData)(e,"state"));e.innerHTML=l?(0,i.domData)(e,"add"):(0,i.domData)(e,"remove"),(0,i.domData)(e,"state",l?0:1),U(t,n,r,a,l,s,u)}function W(e,t,n,o,a,s,u){return t&&(u=parseInt((0,i.domData)(t,"state")),(0,i.domData)(t,"state",u?0:1)),U(n,o,a,s,u),each(geByClass(`_article_${n}_${o}`),((e,t)=>{var n=(0,i.geByClass1)("_bookmark_btn",t);(0,i.domData)(n,"state",u?0:1)})),(0,r.cancelEvent)(e)}function j(e,t,n){var o=parseInt((0,i.domData)(t,"state"));return(0,i.domData)(t,"state",o?0:1),ajax.post("al_bookmarks.php",{act:"bookmark_link",state:o?1:0,hash:n,url:(0,i.domData)(t,"link-url"),img:(0,i.domData)(t,"link-img"),title:(0,i.domData)(t,"link-title"),ref:cur.module,track_code:(0,i.domData)(t,"track-code")},{onDone:e=>{e&&!vk.widget&&window.showDoneBox(e)}}),(0,r.cancelEvent)(e)}function K(e,t,n,o,a){return stManager.add([jsc("web/podcast.js")],(function(){Podcast.toggleFave(e,t,n,a)})),o&&(0,r.cancelEvent)(o)}function H(e,t,n,o,a,s){var u=parseInt((0,i.domData)(t,"state"));(0,i.domData)(t,"state",u?0:1);var l="";return l=u?(0,g.getIcon24FavoriteOutline)().icon:(0,y.getIcon24Favorite)().icon,t.innerHTML=l,U(n,o,a,s,u),u||(0,v.sendNarrativeAnalytic)(v.NarrativeAnalyticEventType.addToBookmarks,{ownerId:n,id:o},window.cur.module),(0,r.cancelEvent)(e)}function V(e,t,n,o){var a=parseInt((0,i.domData)(t,"state"));return(0,i.domData)(t,"state",a?0:1),ajax.post("fave.php",{act:a?"a_delete_group":"a_add_group",gid:n,hash:o},{onDone:(e,t)=>{a||vk.widget||showDoneBox(t)}}),(0,r.cancelEvent)(e)}function q(e,t,n,o,a,s){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",c=parseInt((0,i.domData)(t,"state"));return(0,i.domData)(t,"state",c?0:1),U(n,o,a,s,c,u,"",l),(0,r.cancelEvent)(e)}function z(e,t,n,o){return(0,a.showBox)("like.php",{act:"publish_box",object:"audio_playlist"+t+"_"+n,list:o},{stat:["wide_dd.js","wide_dd.css",jsc("web/sharebox.js")]}),(0,r.cancelEvent)(e)}function Y(){return window.ap=window.ap||new AudioPlayer,window.ap}function $(e,t){var n=e+"_"+t,r=(0,i.geByClass1)("_audio_row_"+n);AudioUtils.deleteAudio(r,AudioUtils.getAudioFromEl(r,!0)),cur.claimWarning&&cur.claimWarning.hide()}function G(){window.TopAudioPlayer.init()}var X={loaded:!1,events:{on(e,t){stManager.add("voice_message_player.js",(()=>{window.AudioMessagePlayer.events.on(e,t)}))}},togglePlay:function(e,t){stManager.add("voice_message_player.js",(()=>window.AudioMessagePlayer.togglePlay(e,t)))},detachPlayer:function(e){stManager.add("voice_message_player.js",(()=>window.AudioMessagePlayer.detachPlayer(e)))}};function Q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e&&e.tt&&e.tt.hide&&e.tt.hide({fasthide:1});var r=e,a=!1;if(J()&&ArticleLayer.isStandalone()&&(a=!0),r.tagName&&"a"===r.tagName.toLowerCase()&&!r.getAttribute("target")&&!nav.baseBlank){var i,s=r.getAttribute("hrefparams");s&&(n.params=(0,o.extend)(n.params||{},(0,c.fromQueryString)(s))),(r=(r=r.href||"").replace(/^https?:\/\//i,"")).indexOf(location.hostname)||(r=r.replace(location.hostname,"")),((r=r.replace(/^(vkontakte\.ru\/|vk\.com\/)/,"/")).match(/#$/)||!(i=r.match(/^\/(.*?)(\?|#|$)/))||(i=i[1]).indexOf(".php")>0||i.match(/^(doc\-?\d+_\d+|graffiti\d+|reg\d+|images|utils|\.js|js\/|\.css|css\/)/))&&(a=!0)}if(a){var u=!!(n&&n.params&&n.params._post&&n.params._post_click_type);if(!u)return!0;e.setAttribute("data-change-location-with-post-away",1),r=e}return nav.go(r,t,n)}function J(){return window.ArticleLayer&&window.ArticleLayer.isShown()}function Z(e,t,n,i,s){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";if(n||l){var c=()=>{p.hide()},_=`donut_payment${n}`,d=i,p=(0,a.showBox)("al_donut.php",E({act:"subscribe_popup",ownerId:n,ownerDomain:l,source:i,hash:s,type:u.type},u.params),{stat:["donut_subscribe_popup.css",window.jsc("web/donut_subscribe_popup.js")],params:{width:450,hideButtons:!0,containerClass:"DonutSubscribePopup",onDestroy:()=>{if(window.DonutSubscribePopup&&window.DonutSubscribePopup.onDestroy(),!u.fromSnippet){(0,r.removeEvent)(window,"popstate",c);var e=nav.objLoc,t=e.w,n=e.source;t===_&&d===n&&(delete nav.objLoc.w,delete nav.objLoc.source,nav.setLoc(nav.objLoc))}}},onDone:(e,t)=>{if(window.DonutSubscribePopup.init({ownerId:n||t.owner_id,source:i,type:u.type,onSuccessPayment:u.onSuccessPayment},e,t),!u.fromSnippet&&"subscribe"===u.type){(0,r.addEvent)(window,"popstate",c);var a=(0,o.extend)(nav.objLoc,{w:_,source:i});nav.setLoc(a)}},onFail:e=>{if(e&&"string"==typeof e)return"group_doesnt_exists"===e&&u.onFailCallback&&"function"==typeof u.onFailCallback?(u.onFailCallback(),p.hide(),!0):(p.hide(),(0,h.showErrorBox)(e),!0)}},t);(0,r.cancelEvent)(t)}}function ee(){(0,p.statlogsValueEvent)("corona_status_stat","open_app")}function te(e){e&&(0,f.saveStatlogEvents)({name:"image_status",value:e,keys:["popup_action"]})}},718737:(e,t,n)=>{"use strict";n.d(t,{mobileOnlineTip:()=>s,pageVerifiedTip:()=>u,audioShowActionTooltip:()=>l,mentionOver:()=>c,bookmarkTooltip:()=>_,showCovidStatusTooltip:()=>d});n(21466);var r=n(719016),o=n(414914),a=n(986900),i=n(486353);function s(e,t){var n=t.asrtl?0:t.right?289:35,o=t.asrtl?" mobile_tt_asrtl":t.right?" mobile_tt_right":"";return(0,r.showTooltip)(e,{url:"al_login.php",params:{act:"mobile_tt",mid:t.mid,was:t.was},slide:15,ajxdt:200,showdt:200,hidedt:200,forcetoup:t.forcetoup,toup:!1,dir:"auto",asrtl:t.asrtl,appendParentCls:t.appendParentCls,shift:[n,8,7],className:"mobile_tt"+o})}function u(e,t){return(0,r.showTooltip)(e,{url:"/al_page.php",params:{act:"verified_tt",type:t.type,oid:t.oid,force_new_tab:t.forceNewTab?1:0},slide:15,ajxdt:200,showdt:200,hidedt:200,dir:"auto",shift:[95,5,7],className:"verified_tt"})}function l(e,t,n){if(!cur._addRestoreInProgress){var a=(0,o.gpeByClass)("_audio_row",e),i=AudioUtils.getAudioFromEl(a,!0);if(i){var s=(0,o.domData)(e,"action"),u=AudioUtils.getRowActionName(s,i,a),l={text:()=>u,black:1,shift:t||[7,4,0],needLeft:!0,forcetodown:n,noZIndex:!0};each(["_im_mess_stack","top_notify_wrap","_ape_audio_item","wk_history_audio_content"],(function(t,n){if((0,o.gpeByClass)(n,e))return l.appendParentCls=n,!1})),(0,o.gpeByClass)("_im_mess_stack",e)&&(l.shift=[7,10,0],l.noZIndex=!0),(0,r.showTooltip)(e,l)}}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=geByClass1("_im_dialog_selected"),a=e.getAttribute("mention_id").match(/^id(\d+)$/),s=a&&parseInt(a[1],10)||null,u=n&&parseInt((0,o.domData)(n,"peer"),10)||null;if((0,i.partConfigEnabled)("mail_history_mention_popover")&&s&&u){var l=geByClass1("_im_profile_info_app"),c=(0,o.domClosest)("ui_scroll_outer",e)||(0,o.domClosest)("_im_page_history",e);if(window.reforgedME&&window.reforgedME.profileInfo&&l&&c){var _=()=>{e.removeEventListener("mouseout",_),window.reforgedME.profileInfo.mountProfileInfo(null,l)};return e.addEventListener("mouseout",_),void window.reforgedME.profileInfo.mountProfileInfo({peerId:s,convoId:u,targetElement:e,boundingElement:c},l)}}(0,r.showTooltip)(e,{url:"al_wall.php",params:{act:"mention_tt",mention:e.getAttribute("mention_id"),from:"wall"},shift:t.shift||[52,7,7],hidedt:t.hidedt||500,showdt:500,needLeft:t.needLeft,slide:15,checkLeft:!0,reverseOffset:t.reverseOffset||112,dir:"auto",appendEl:t.appendEl||(0,o.domClosest)("im-page-history-w",e)||(0,o.domClosest)("rb_box_wrap",e)||(0,o.domClosest)("wk_cont",e)||(0,o.domClosest)("scroll_fix_wrap",e)})}function _(e){var t="";(0,o.gpeByClass)("_im_mess_stack",e)?t="_im_mess_stack":(0,o.gpeByClass)("wall_text",e)&&(t="scroll_fix_wrap"),(0,r.showTooltip)(e,{className:"bookmarks_tt ",shift:[32,8],text:()=>"1"===(0,o.domData)(e,"state")?(0,o.domData)(e,"remove"):(0,o.domData)(e,"add"),black:1,appendParentCls:t})}function d(e,t){(0,r.showTooltip)(e,{text:t,dir:"up",forcetodown:!0,hidedt:300,hasover:!0,center:!0,shift:[-2,6],onShowStart:()=>(0,a.statlogsValueEvent)("corona_status_stat","show_tooltip")})}},190148:(e,t,n)=>{"use strict";n.d(t,{animate:()=>i,cubicBezier:()=>s,fadeTo:()=>u,Fx:()=>c,genFx:()=>_,slideDown:()=>d,slideUp:()=>p,slideToggle:()=>f,fadeIn:()=>h,fadeOut:()=>m,fadeToggle:()=>v,getRGB:()=>g,getColor:()=>y,animateCount:()=>E});n(59357),n(66108),n(296253),n(21466);var r=n(442699),o=n(414914),a=n(206566);function i(e,t,n,i){if(e=(0,o.ge)(e)){var s,u=(0,r.isFunction)(i)?i:()=>{},c=(0,r.extend)({},"object"==typeof n?n:{duration:n,onComplete:u}),_={},d={},p=(0,o.isVisible)(e);c.orig={},(t=(0,r.clone)(t)).discrete&&(c.discrete=1,delete t.discrete),a.browser.iphone&&(c.duration=0);var f=(0,o.data)(e,"tween"),h=p?"hide":"show";for(var m in f&&f.isTweening&&(c.orig=(0,r.extend)(c.orig,f.options.orig),f.stop(!1),f.options.show?h="hide":f.options.hide&&(h="show")),t)if(t.hasOwnProperty(m)){if(!f&&("show"===t[m]&&p||"hide"===t[m]&&!p))return c.onComplete.call(this,e);if("height"!==m&&"width"!==m||!e.style||(t.overflow||(void 0===c.orig.overflow&&(c.orig.overflow=(0,o.getStyle)(e,"overflow")),e.style.overflow="hidden"),(0,o.hasClass)(e,"inl_bl")||"TD"===e.tagName||(e.style.display="block")),/show|hide|toggle/.test(t[m]))if("toggle"===t[m]&&(t[m]=h),"show"===t[m]){s=0,c.show=!0,void 0===c.orig[m]&&(c.orig[m]=(0,o.getStyle)(e,m,!1)||"",(0,o.setStyle)(e,m,0));var v=e.style[m];e.style[m]=c.orig[m],t[m]=parseFloat((0,o.getStyle)(e,m,!0)),e.style[m]=v,"height"===m&&a.browser.msie&&!t.overflow&&(e.style.overflow="hidden")}else void 0===c.orig[m]&&(c.orig[m]=(0,o.getStyle)(e,m,!1)||""),c.hide=!0,t[m]=0}return c.show&&!p&&(0,o.show)(e),f=new l(e,c),(0,r.each)(t,(function(t,n){if(/backgroundColor|borderBottomColor|borderLeftColor|borderRightColor|borderTopColor|color|borderColor|outlineColor/.test(t)){if(s=y(e,"borderColor"===t?"borderTopColor":t),n=g(n),void 0===s)return}else{var a=n.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/);a&&(n=parseFloat(a[2]),a[1]&&(n=("-="==a[1]?-1:1)*n+n)),0!=(s=f.cur(t,!0))||"width"!==t&&"height"!==t||(s=1),"opacity"===t&&n>0&&!p&&((0,o.setStyle)(e,"opacity",0),s=0,(0,o.show)(e))}(s!=n||(0,r.isArray)(s)&&s.join(",")===n.join(","))&&(_[t]=s,d[t]=n)})),f.start(_,d),(0,o.data)(e,"tween",f),f}}function s(e,t,n,r,o,a){var i,s,u=function(t){var r=1-t;return 3*r*r*t*e+3*r*t*t*n+t*t*t},l=function(e){var n=1-e;return 3*n*n*e*t+3*n*e*e*r+e*e*e},c=function(t){var r=1-t;return 3*(2*(t-1)*t+r*r)*e+3*(-t*t*t+2*r*t)*n},_=o;for(i=_,s=0;s<8;s++){var d=u(i)-_;if(Math.abs(d)<a)return l(i);var p=c(i);if(Math.abs(p)<1e-6)break;i-=d/p}var f=0,h=1;if((i=_)<f)return l(f);if(i>h)return l(h);for(;f<h;){var m=u(i);if(Math.abs(m-_)<a)return l(i);_>m?f=i:h=i,i=.5*(h-f)+f}return l(i)}function u(e,t,n,r){return i(e,{opacity:n},t,r)}class l{constructor(e,t,n){this.el=(0,o.ge)(e),this.name=n,this.options=(0,r.extend)({onStep:()=>{},onComplete:()=>{},transition:t.transition||c.Transitions.sineInOut,duration:500},t||{})}start(e,t){this.from=e,this.to=t,this.time=(0,r.vkNow)(),this.isTweening=!0;var n=e=>this.step(e);return n.el=this.el,n()&&c.Timers.push(n)&&!c.TimerId&&(c.TimerId=setInterval((function(){for(var e=c.Timers,t=e.length,n=0;n<t;n++)e[n]()||(e.splice(n--,1),t--);t||(clearInterval(c.TimerId),c.TimerId=null)}),13)),this}stop(e){for(var t=c.Timers,n=t.length-1;n>=0;n--)t[n].el===this.el&&(e&&t[n](!0),t.splice(n,1));this.isTweening=!1}step(e){var t=(0,r.vkNow)();if(!e&&t<this.time+this.options.duration){for(var n in this.cTime=t-this.time,this.now={},this.to)if((0,r.isArray)(this.to[n])){for(var a=[],i=0;i<3;i++){if(void 0===this.from[n]||void 0===this.to[n])return!1;a.push(Math.min(parseInt(this.compute(this.from[n][i],this.to[n][i])),255))}this.now[n]=a}else this.now[n]=this.compute(this.from[n],this.to[n]),this.options.discrete&&(this.now[n]=(0,r.intval)(this.now[n]));return this.update(),!0}return setTimeout(this.options.onComplete.bind(this,this.el),10),this.now=(0,r.extend)(this.to,this.options.orig),this.update(),this.options.hide&&(0,o.hide)(this.el),this.isTweening=!1,!1}compute(e,t){var n=t-e;return this.options.transition(this.cTime,e,n,this.options.duration)}update(){for(var e in this.options.onStep(this.now),this.now)(0,r.isArray)(this.now[e])?(0,o.setStyle)(this.el,e,"rgb("+this.now[e].join(",")+")"):void 0!==this.el[e]?this.el[e]=this.now[e]:(0,o.setStyle)(this.el,e,this.now[e])}cur(e,t){return null==this.el[e]||this.el.style&&null!=this.el.style[e]?parseFloat((0,o.getStyle)(this.el,e,t))||0:this.el[e]}}var c={Base:l,Transitions:{linear:(e,t,n,r)=>n*e/r+t,sineInOut:(e,t,n,r)=>-n/2*(Math.cos(Math.PI*e/r)-1)+t,halfSine:(e,t,n,r)=>n*Math.sin(Math.PI*(e/r)/2)+t,easeOutBack:function(e,t,n,r){var o=1.70158;return n*((e=e/r-1)*e*((o+1)*e+o)+1)+t},easeInCirc:(e,t,n,r)=>-n*(Math.sqrt(1-(e/=r)*e)-1)+t,easeOutCirc:(e,t,n,r)=>n*Math.sqrt(1-(e=e/r-1)*e)+t,easeInQuint:(e,t,n,r)=>n*(e/=r)*e*e*e*e+t,easeOutQuint:(e,t,n,r)=>n*((e=e/r-1)*e*e*e*e+1)+t,easeOutCubic:(e,t,n,r)=>n*((e=e/r-1)*e*e+1)+t,swiftOut:(e,t,n,r)=>n*s(.4,0,.22,1,e/r,4/r)+t},Attrs:[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity","left","top"]],Timers:[],TimerId:null};function _(e,t){var n={};return(0,r.each)(c.Attrs.concat.apply([],c.Attrs.slice(0,t)),(function(){n[this]=e})),n}var d=(e,t,n)=>i(e,_("show",1),t,n),p=(e,t,n)=>i(e,_("hide",1),t,n),f=(e,t,n)=>i(e,_("toggle",1),t,n),h=(e,t,n)=>i(e,{opacity:"show"},t,n),m=(e,t,n)=>i(e,{opacity:"hide"},t,n),v=(e,t,n)=>i(e,{opacity:"toggle"},t,n);function g(e){var t;return e&&(0,r.isArray)(e)&&3==e.length?e:(t=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]:(t=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))?[2.55*parseFloat(t[1]),2.55*parseFloat(t[2]),2.55*parseFloat(t[3])]:(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:(t=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))?[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]:void 0}function y(e,t){var n;do{if(0===(n=(0,o.getStyle)(e,t)).indexOf("rgba")&&(n=""),""!=n&&"transparent"!==n||"body"===e.nodeName.toLowerCase())break;t="backgroundColor",e=e.parentNode}while(e);return g(n)}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e=(0,o.ge)(e),t=n.str?(0,r.trim)(t.toString())||"":(0,r.positive)(t),e)if(!a.browser.mobile||a.browser.safari_mobile||a.browser.android){var s=(0,o.data)(e,"curCount"),u=(0,o.data)(e,"nextCount");if("number"==typeof u||n.str&&"string"==typeof u)t!=u&&(0,o.data)(e,"nextCount",t);else if("number"==typeof s||n.str&&"string"==typeof s)t!==s&&(0,o.data)(e,"nextCount",t);else if(s=n.str?(0,r.trim)((0,o.val)(e).toString())||"":(0,r.positive)((0,o.val)(e)),"auto"===n.str&&(n.str=!s.match(/^\d+$/)||!t.match(/^\d+$/),n.str||(s=(0,r.positive)(s),t=(0,r.positive)(t))),s!==t){(0,o.data)(e,"curCount",t);var l,_,d=n.str?s.length===t.length?s<t:s.length<t.length:s<t,p=(d?t:s).toString(),f=(d?s:t).toString(),h=[],m=[];for(n.str||(f=new Array(p.length-f.length+1).join("0")+f),l=0,_=p.length;l<_;l++){var v=p.charAt(l);if(v!==f.charAt(l))break;h.push(v)}var g=p.substr(l),y=f.substr(l);if(n.str){for(l=g.length;l>0;l--){var w=g.charAt(l);if(w!==y.charAt(l))break;m.unshift(w)}m.length&&(g=g.substr(0,l+1),y=y.substr(0,l+1))}h=h.join("").replace(/\s$/,"&nbsp;"),m=m.join("").replace(/^\s/,"&nbsp;"),(0,r.trim)((0,o.val)(e))||n.noSpaceIfEmpty||(0,o.val)(e,"&nbsp;");var b=e.clientHeight||e.offsetHeight;(0,o.val)(e,'<div class="counter_wrap inl_bl"></div>');var D,C,P,T,O=e.firstChild,A=!0;h.length&&O.appendChild(D=(0,o.ce)("div",{className:"counter_const inl_bl",innerHTML:h})),h.length||n.allowZero||(y=y.replace(/^0+/,"")),y&&("0"!==y||n.allowZero||h.length)||(y=n.noSpaceIfEmpty?"":"&nbsp;",A=!!h.length),O.appendChild(P=(0,o.ce)("div",{className:"counter_anim_wrap inl_bl"})),P.appendChild(T=(0,o.ce)("div",{className:"counter_anim "+(d?"counter_anim_inc":"counter_anim_dec"),innerHTML:`<div class="counter_anim_big"><span class="counter_anim_big_c">${g}</span></div>`+(A?`<div class="counter_anim_small"><span class="counter_anim_small_c">${y}</span></div>`:"")},A?{marginTop:d?-b:0}:{right:0})),n.str&&(0,o.setStyle)(T,{textAlign:"right",right:0});var k=(0,o.getSize)((0,o.geByClass1)("counter_anim_big_c",T,"span"))[0],S=A?"&nbsp;"===y?k:(0,o.getSize)((0,o.geByClass1)("counter_anim_small_c",T,"span"))[0]:0;!y&&n.noSpaceIfEmpty&&(S=0),m.length&&O.appendChild(C=(0,o.ce)("div",{className:"counter_const inl_bl",innerHTML:m})),n.noWrapWidth||(0,o.setStyle)(O,{width:(D&&(0,o.getSize)(D)[0]||0)+(C&&(0,o.getSize)(C)[0]||0)+k+0}),void 0===a.browser.csstransitions&&(a.browser.csstransitions=a.browser.chrome&&a.browser.version>=9||a.browser.mozilla&&a.browser.version>=4||a.browser.opera&&a.browser.version>=10.5||a.browser.safari&&a.browser.version>=3.2||a.browser.safari_mobile||a.browser.android);var M=a.browser.csstransitions;(0,o.setStyle)(P,{width:d?S:k});var I=function(){(0,o.val)(e,t||(n.noSpaceIfEmpty?"":" "));var r=(0,o.data)(e,"nextCount");(0,o.data)(e,"curCount",!1),(0,o.data)(e,"nextCount",!1),("number"==typeof r||n.str&&"string"==typeof r)&&setTimeout(E.pbind(e,r,n),0),n.onDone&&n.onDone()},x=A?{marginTop:d?0:-b}:{marginRight:d?-S:0};M?((0,o.getStyle)(P,"width"),(0,o.addClass)(P,"counter_css_anim_wrap"),k!==S&&(0,o.setStyle)(P,{width:d?k:S}),A&&(0,o.setStyle)(T,x),setTimeout(I,300),n.fadeMode&&((0,o.setStyle)((0,o.geByClass1)("counter_anim_big",e),"opacity",1),(0,o.setStyle)((0,o.geByClass1)("counter_anim_small",e),"opacity",0))):(k!==S&&i(P,{width:d?k:S},{duration:100}),A?i(T,x,{duration:300,transition:c.Transitions.easeOutCirc,onComplete:I}):setTimeout(I,300))}}else(0,o.val)(e,t||"")}},142164:(e,t,n)=>{"use strict";n.d(t,{onDocumentClick:()=>f,onEnter:()=>h,onCtrlEnter:()=>m,handleGlobalEsc:()=>v,hideCookiesPolicy:()=>g});n(976142),n(21466),n(59357);var r=n(917685),o=n(414914),a=n(442699),i=n(469433),s=n(627556),u=n(206566),l=n(651988),c=n(344624),_=n(182408),d=n(275951),p=n(536824);function f(e){var t,n;if((0,p.processAliExpressMiniAppLinkClickEvent)(e))return!1;if((0,r.checkEvent)(e))return!0;if(l.default.set("last_reloaded",[]),!cur.onMouseClick||!cur.onMouseClick(e)){if(!(e=window.event||e.originalEvent||e))return!0;(null===(t=e.target)||void 0===t||null===(n=t.dataset)||void 0===n?void 0:n.donutLogEvent)&&(0,d.logDonutEvent)(e.target.dataset.donutLogEvent);for(var i,s,u=8,c=e.target||e.srcElement;c&&c!==bodyNode&&"A"!==c.tagName&&u--;)c=c.parentNode;if(!c||"A"!==c.tagName||c.onclick||c.onmousedown)return!0;var f=c.href;if(f&&(c.getAttribute("target")||nav.baseBlank)){if(domClosest("bookmarks_row_type_link",c)){var h=(nav.fromStr(f)||{}).to;statlogsValueEvent("bookmarks_product_analytics",{link_url:h,time:window.getServerTime()})}return!0}if("https:"!==location.protocol&&!f.indexOf("https://"))return!0;(f=f.replace(/^https?:\/\//i,"")).indexOf(location.hostname)||(f=f.replace(location.hostname,"")),vk.dev&&"vk.com"===location.hostname&&(f=f.replace(/^(vkontakte\.ru\/|vk\.com\/)/,"/"));var m={};(s=f.match(/^\/(.+?)#[\!\/](.+?)$/))&&!s[1].match(/^app(\d+)/)&&(m.permanent=s[1],f="/"+s[2]);var v=!!(c.getAttribute&&c.getAttribute("data-post-click-type")&&c.getAttribute("data-post-id"));if(f.match(/#$/)&&!v)return!0;var g,y=(0,o.domData)(c,"post-id");y&&(m.postId=y);var E=f;if(i=f.match(/^\/(.*?)(\?|#|$)/))i=i[1];else{if(c.hostname)g=c.hostname,i=c.pathname+c.search;else{var w=/^([^:\/]+)?(?::(\d+))?(\/?[^#]*)(#?.*)$/i.exec(f);if(!w)return!0;g=w[1],i=w[3]||"/"}if(!g||!v)return!0;c.setAttribute("data-change-location-with-post-away",1),E=c}if("add_community_app"===i)return(0,o.attr)(c,"target","_blank"),!0;if(i.indexOf(".php")>0||i.match(/^(doc\-?\d+_\d+|graffiti\d+|reg\d+|images\/|utils\/|\.js|js\/|\.css|css\/|source\b)/)){if(!v)return!0;c.setAttribute("data-change-location-with-post-away",1),E=c}var b=c.getAttribute("hrefparams");b&&(m.params=(0,a.extend)(m.params||{},(0,_.fromQueryString)(b)));try{return nav.go(E,e,(0,a.extend)({},m,{throwErrorOnDisabledPath:!0})),(0,r.cancelEvent)(e)}catch(e){return!0}}}function h(e,t){(t=t||window.event).keyCode===r.KEY.ENTER&&(e(),(0,r.cancelEvent)(t))}function m(e,t){(10===(e=e||window.event).keyCode||13===e.keyCode&&(e.ctrlKey||e.metaKey&&u.browser.mac))&&(t(),(0,r.cancelEvent)(e))}function v(e){if(window._wf=1,e.keyCode===r.KEY.ESC&&boxQueue.count()&&!cur._noEscHide)return boxQueue.hideLast(),-1;if(e.keyCode===r.KEY.ESC&&window.articleCloseImageFullSize&&window.articleCloseImageFullSize())return(0,r.cancelEvent)(e);if(e.keyCode===r.KEY.ESC&&window.isArticleLayerOpen&&window.isArticleLayerOpen())return window.ArticleLayer.close(!0),(0,r.cancelEvent)(e);if(e.keyCode===r.KEY.ESC&&window.AuthorPage&&!cur.articleEditorLayer)return window.AuthorPage.close(),(0,r.cancelEvent)(e);if(e.keyCode===r.KEY.ESC)return(0,c.cancelStackPop)(),(0,r.cancelEvent)(e);var t=[176,177,178,179],n=!1;window.audioPlayer&&(t.push(r.KEY.LEFT),t.push(r.KEY.RIGHT)),(0,a.each)(t,(function(t,r){if(e.keyCode===r)return n=!0,!1})),n&&(0,i.getAudioPlayer)().onMediaKeyPressedEvent(e),s.Chat.inited&&191===e.keyCode&&(e.ctrlKey||e.metaKey&&u.browser.mac)&&s.Chat.showFriends()}function g(){(0,o.re)("cookies_policy_wrap"),ajax.post("/settings",{act:"a_hide_cookies_policy"})}},897557:(e,t,n)=>{"use strict";n.d(t,{escape:()=>u,decodeHTMLEntities:()=>l,prepareToWriting:()=>c});n(530522),n(66108),n(296253),n(991181),n(579665),n(95767),n(283946),n(59357);var r=n(419018),o=n(358862);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=o.symbols,u=(o.encodeHTMLEntities,o.escape);function l(e){return s.reduce(((e,t)=>{var n=a(t,2),r=n[0],o=n[1];return e.replace(new RegExp(r,"ig"),o)}),e).replace(/&#(\d+);/g,((e,t)=>String.fromCodePoint(t)))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.lineBreak,o=void 0!==n&&n,a=t.convertEmoji,i=void 0===a||a,s=l(e);return s=s.replace(/\n\r/gi,"\n"),"oneline"===o?s=s.replace(/<br>/gi," ").replace(/\n/gi," "):"html"===o&&(s=s.replace(/\n/gi,"<br>")),s=u(s),i&&(s=(0,r.emojiToHTML)(s,!0)),s}},713075:(e,t,n)=>{"use strict";n.d(t,{isWeirdLogging:()=>l,imWeirdLog:()=>c,imWeirdCatch:()=>_,startLoggingAllUnhandled:()=>d,stopLoggingAllUnhandled:()=>p});n(940851),n(296253);var r,o=n(668660),a=n(227192),i=1;function s(e,t,n,o,a){if("Script error."!==e){var i=a?a.stack||a.message:null;c("unhandled_error",i?{err:e,stack:i}:{err:e})}r&&r.apply(this,arguments)}function u(e){e.preventDefault()}function l(){return!!window.imwl}function c(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];l()&&(n&&window.console&&(console.error(e,t),console.trace&&console.trace()),(0,a.retryFn)(o.post,3,(()=>2))("al_im.php",{act:"a_weird_log",kind:e,data:JSON.stringify(extend({errIdx:i++,ua:navigator.userAgent},t))}))}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return c(e,extend({err:t&&t.message||t},n)),Promise.reject(t)}function d(){r=window.onerror,window.onerror=s,window.addEventListener("unhandledrejection",u)}function p(){window.onerror=r,r=void 0,window.removeEventListener("unhandledrejection",u)}},313020:(e,t,n)=>{"use strict";n.d(t,{isInputActive:()=>l,placeholderSetup:()=>_,placeholderInit:()=>d,preventNonNumericalInput:()=>f});n(21466);var r=n(414914),o=n(917685),a=n(190148),i=n(442699),s=n(206566),u=n(486353);function l(){return document.activeElement&&((0,r.attr)(document.activeElement,"contenteditable")||"INPUT"===document.activeElement.tagName||"textarea"===document.activeElement.tagName)}function c(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,u=e.phshown,l=e.phcont,c=n.back,_=n.editable,d=n.hideBackAfter,p=n.timeout,f=n.phColor,h=void 0===f?"#8C8E91":f,m=n.activeColor,v=void 0===m?"#C0C8D0":m,g=p||0===p?p:100,y=n.period||200;if(t=_?(void 0!==e.textContent?e.textContent:e.innerText)||(0,r.geByTag)("img",e).length:e.value,u&&(c&&t||!c&&(o&&!o.type||t))?((0,r.hide)(l),e.phshown=!1):u||t||!c&&!i||((0,r.show)(l),e.phshown=!0,s.browser.opera&&i&&(e.setAttribute("placeholder",""),e.removeAttribute("placeholder",""))),c&&!t){if(o&&!o.type){var E=d?r.hide.pbind(l.firstChild.firstChild):null;clearTimeout(e.phanim),e.phanim=setTimeout((function(){(0,a.animate)(l.firstChild.firstChild,{color:v},y,E)}),g)}i&&(clearTimeout(e.phanim),d&&(0,r.show)(l.firstChild.firstChild),e.phanim=setTimeout((function(){(0,a.animate)(l.firstChild.firstChild,{color:h},y)}),g))}}function _(e,t){var n=(0,r.ge)(e);if(!n)return!1;if(!(n.getAttribute?n.getAttribute("contenteditable"):n.contenteditable)&&(0,u.partConfigEnabled)("native_placeholder_enable"))return!1;var a=t?(0,i.clone)(t):{};if(!n.phevents||a.reload){var l=n.getAttribute?n.getAttribute("placeholder"):n.placeholder;if(l){n.removeAttribute("placeholder");var _={},d=!1,p=["Top","Bottom","Left","Right"];if(a.pad)_=a.pad;else{if(a.fast){for(var f=0;f<4;f++)_["padding"+p[f]]=3,_["margin"+p[f]]=0,_["border"+p[f]+"Width"]=1;(0,i.extend)(_,a.styles||{})}else{for(var h=[],m=0;m<4;m++)h.push("margin"+p[m]),h.push("padding"+p[m]),h.push("border"+p[m]+"Width");_=(0,r.getStyle)(n,h)}for(var v=0;v<4;v++){var g="margin"+p[v],y="border"+p[v]+"Width";_[g]=(0,i.intval)(_[g])+(0,i.intval)(_[y])+"px",delete _[y]}}if(a.reload){var E=n.previousSibling;E&&(0,r.hasClass)(E,"input_back_wrap")&&(0,r.re)(E)}var w=a.big?" big":"",b=(0,r.getSize)(n)[0]-20,D=n.phcont=n.parentNode.insertBefore((0,r.ce)("div",{className:"input_back_wrap no_select",innerHTML:`<div class="input_back"><div class="input_back_content${w}" style="width: ${b}px;">${l}</div></div>`}),n),C=(0,r.domFC)(D);(0,r.setStyle)(C,_);var P=c.pbind(n,a),T=s.browser.mobile?P:(e,t)=>setTimeout(P.pbind(e,t),0);s.browser.msie&&s.browser.version<8&&(0,r.setStyle)(C,{marginTop:1}),n.phonfocus=function(e){d||(n.focused=!0,cur.__focused=n,!0===e&&((0,r.setStyle)(n,{backgroundColor:"#FFF"}),(0,r.hide)(C)),T(!0,!1))},n.phonblur=function(){d||(cur.__focused=n.focused=!1,(0,r.show)(C),T(!1,!0))},n.phshown=!0,n.phanim=null,(n.value||a.editable&&((void 0!==n.textContent?n.textContent:n.innerText)||(0,r.geByTag)("img",n).length))&&(n.phshown=!1,(0,r.hide)(D)),s.browser.opera_mobile||((0,o.addEvent)(D,"focus click",(function(e){d||(a.editableFocus?(setTimeout(a.editableFocus.pbind(n),0),n.phonfocus()):(n.blur(),n.focus()))})),(0,o.addEvent)(n,"focus"+(a.editable?" click":""),n.phonfocus),(0,o.addEvent)(n,"keydown paste cut input",T)),(0,o.addEvent)(n,"blur",n.phonblur),n.check=T,n.getValue=()=>a.editable?n.innerHTML:n.value,n.setPlaceholder=e=>(0,r.geByClass1)("input_back_content",D).textContent=e,n.setDisabled=e=>d=e,n.setValue=function(e){a.editable?n.innerHTML=e:n.value=e,c(n,a)},n.phevents=!0,n.phonsize=function(){},a.global||a.reload||(cur.__phinputs||(cur.__phinputs=[],cur.destroy.push(function(e){for(var t=0,n=e.length;t<n;t++)(0,r.removeData)(e[t])}.pbind(cur.__phinputs))),cur.__phinputs.push(n))}}}function d(e,t){var n=(0,r.ge)(e);if(!n)return!1;if(!(n.getAttribute?n.getAttribute("contenteditable"):n.contenteditable)&&(0,u.partConfigEnabled)("native_placeholder_enable"))return!1;var a=t?(0,i.clone)(t):{},l=void 0===(0,r.ce)("input").placeholder||n&&n.getAttribute&&n.getAttribute("contenteditable");if(!n.phevents||a.reload){var c=n.getAttribute?n.getAttribute("placeholder"):n.placeholder;if(c&&(n.getValue=function(){return a.editable?n.innerHTML:n.value},n.setValue=function(e){a.editable?n.innerHTML=e:n.value=e,l&&h(n,a)},n.phonfocus=function(){},n.phonblur=function(){},l)){if(n.removeAttribute("placeholder"),a.reload){var _=(0,r.domNS)(n);_&&(0,r.hasClass)(_,"placeholder")&&(0,r.re)(_)}var d=n.phcont=(0,r.domInsertAfter)((0,r.ce)("div",{className:"placeholder",innerHTML:'<div class="ph_input"><div class="ph_content">'+c+"</div></div>"}),n),p=h.pbind(n,a),f=s.browser.mobile?p:(e,t)=>setTimeout(p.pbind(e,t),0);n.phonfocus=function(){n.focused=!0,cur.__focused=n,f(!0,!1)},n.phonblur=function(){cur.__focused=n.focused=!1,f(!1,!0)},n.phshown=!0,(n.value||a.editable&&((void 0!==n.textContent?n.textContent:n.innerText)||(0,r.geByTag)("img",n).length))&&(n.phshown=!1,(0,r.hide)(d)),s.browser.opera_mobile||((0,o.addEvent)(d,"focus click contextmenu",(function(e){a.editableFocus?(setTimeout(a.editableFocus.pbind(n),0),"contextmenu"===e.type&&s.browser.msie&&a.editableFocus(n),n.phonfocus()):(n.blur(),n.focus())})),(0,o.addEvent)(n,"focus"+(a.editable?" click":""),n.phonfocus),(0,o.addEvent)(n,"keydown paste cut input",f)),(0,o.addEvent)(n,"blur",n.phonblur),n.check=f,n.phevents=!0,n.phonsize=function(){},a.global||a.reload||(cur.__phinputs||(cur.__phinputs=[],cur.destroy.push((function(){if(cur.__phinputs)for(var e=0,t=cur.__phinputs.length;e<t;++e)(0,r.removeData)(cur.__phinputs[e])}))),cur.__phinputs.push(n))}}function h(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.phshown,a=e.phcont,i=n.editable;i?((t=void 0!==e.textContent?e.textContent:e.innerText)&&s.browser.opera&&t.match(/^[ ]+$/)&&(t=""),t||(t=(0,r.geByTag)("img",e).length>0),t||(t=(0,r.geByTag)("br",e).length>1),t||(t=(0,r.geByTag)("p",e).length>1)):t=e.value,o&&t?((0,r.hide)(a),e.phshown=!1):o||t||((0,r.show)(a),e.phshown=!0)}}var p=e=>{var t=void 0===e.which?e.keyCode:e.which;String.fromCharCode(t).match(/^[0-9]+$/)||(0,o.cancelEvent)(e)},f=e=>{(0,o.addEvent)(e,"keypress",p)}},116886:(e,t,n)=>{"use strict";n.d(t,{parseLatin:()=>s,parseCyr:()=>u,parseLatKeys:()=>l,langNumeric:()=>c,langSex:()=>_,langStr:()=>d,addLangKeys:()=>p,getLang:()=>f,langTag:()=>h,langDate:()=>m,getShortDate:()=>v,getShortDateWithTime:()=>g,getShortDateOrTime:()=>y,langWordNumeric:()=>E,getDateText:()=>w,getBigDateNew:()=>b,getSmDate:()=>D});n(530522),n(59357),n(66108),n(296253),n(751876);var r=n(917999),o=n(829327),a=n(442699),i=n(519921);function s(e){for(var t=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],n=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"],r=e,o=0,a=t.length;o<a;o++)r=r.split(t[o]).join(n[o]);for(var i="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ",s=0,u=i.length;s<u;s++)r=r.split(i.charAt(s)).join("абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ".charAt(s));return r===e?null:r}function u(e){for(var t=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],n=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"],r="абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ",o=e,a=0;a<n.length;a++)o=o.split(n[a]).join(t[a]);for(var i=0;i<r.length;i++)o=o.split(r.charAt(i)).join("abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ".charAt(i));return o===e?null:o}function l(e){for(var t="qwertyuiop[]asdfghjkl;'zxcvbnm,./`",n=e,r=0;r<t.length;r++)n=n.split(t.charAt(r)).join("йцукенгшщзхъфывапролджэячсмитьбю.ё".charAt(r));return n==e?null:n}function c(e,t,n){if(!t||!window.langConfig){if(!(0,r.isNumeric)(e)){var o=new Error("Non-numeric value passed to langNumeric");throw console.log(e,o),o}return String(e)}var i;if((0,a.isArray)(t)?(i=t[1],e!=Math.floor(e)?i=t[langConfig.numRules.float]:(0,a.each)(langConfig.numRules.int,(function(n,r){if("*"==r[0])return i=t[r[2]],!1;var o=r[0]?e%r[0]:e;return-1!=(0,a.indexOf)(r[1],o)?(i=t[r[2]],!1):void 0}))):i=t,n){for(var s=e.toString().split("."),u=[],l=s[0].length-3;l>-3;l-=3)u.unshift(s[0].slice(l>0?l:0,l+3));s[0]=u.join(langConfig.numDel),e=s.join(langConfig.numDec)}return i=(i||"%s").replace("%s",e)}function _(e,t){if(!(0,a.isArray)(t))return t;var n=t[1];return window.langConfig?((0,a.each)(langConfig.sexRules,(function(r,o){return"*"==o[0]||e==o[0]&&t[o[1]]?(n=t[o[1]],!1):void 0})),n):n}function d(e){for(var t=arguments,n=t.length,r=e+"",o=1;o<n;o+=2){var a="%"===t[o][0]?t[o]:"{"+t[o]+"}";r=r.replace(a,t[o+1])}return r}function p(e,t){var n=t?window:window.cur;n.lang?(0,a.extend)(n.lang,e):n.lang=e}function f(){try{var e=Array.from(arguments),t=e.shift();if(!t)return"...";var n=window.cur&&window.cur.lang&&window.cur.lang[t]||window.lang&&window.lang[t]||window.langpack&&window.langpack[t]||window[t];if(!n){var r=t.split("_");return r.shift(),r.join(" ")}return(0,a.isFunction)(n)?n.apply(null,e):void 0===e[0]&&!(0,a.isArray)(n)||"raw"===e[0]?n:c(e[0],n,e[1])}catch(e){(0,i.debugLog)("lang error:"+e.message+"("+Array.from(arguments).join(", ")+")")}}function h(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"tag",o=n;return o=(o=o.replace(`{${r}}`,e)).replace(`{/${r}}`,t)}function m(e,t,n,r,i,s){var u;if(s||(s=""),(0,a.isArray)(t)||(t=["",t,t,t,t]),"number"==typeof e||"string"==typeof e?(e>2147483646e3&&(e=0),e+=n,u=new Date(e)):u=e,i)t=t[1];else{var l="";!(l=(0,o.isToday)(u)?t[3]:(0,o.isYesterday)(u)?t[2]:(0,o.isTomorrow)(u)?t[4]:t[1])&&t[1]&&(l=t[1]),t=l}var c={hours:u.getHours(),minutes:u.getMinutes(),seconds:u.getSeconds(),day:u.getDate(),month:u.getMonth()+1,year:u.getFullYear()},_="";switch(3===vk.lang&&(_=u.getHours()>11?"pm":"am",c.hours=u.getHours()%12==0?12:u.getHours()%12),vk.lang){case 1:switch(u.getHours()){case 11:t=t.replace(" о "," об ");break;case 0:t=t.replace(" о "," в ")}break;case 3:!(0,o.isToday)(u)||(0,o.isYesterday)(u)||(0,o.isTomorrow)(u)||(t=s+t);break;case 12:case 73:1==u.getHours()&&(t=t.replace(" &#224;s "," &#224; "))}return 68===vk.lang&&(c.year=c.year+543),t.replace("{hour}",c.hours).replace("{num_hour}",(0,o.leadingZero)(c.hours)).replace("{minute}",(0,o.leadingZero)(c.minutes)).replace("{day}",c.day).replace("{num_day}",(0,o.leadingZero)(c.day)).replace("{month}",r[c.month]).replace("{year}",c.year).replace("{short_year}",c.year%100).replace("{second}",(0,o.leadingZero)(c.seconds)).replace("{am_pm}",_)}function v(e,t,n,r,o){e*=1e3,void 0===n&&(n=!0),void 0===r&&(r=f("months_of","raw")),t*=1e3;var a=Date.now(),i=new Date(a),s=new Date(e+t);return!o&&e>a&&e-a<864e5&&i.getDate()===s.getDate()?m(e,"{hour}:{minute} {am_pm}",t,[],!n):s.getYear()!==i.getYear()||e<a-157248e5?m(e,f("global_date","raw"),t,r,!n):m(e,f("global_short_date","raw"),t,r,!n)}function g(e,t,n,r){return(0,o.isToday)(new Date(1e3*e+1e3*t))?m(1e3*e,"{hour}:{minute} {am_pm}",1e3*t,[],!n):`${v(e,t,n,r)} ${m(1e3*e,"{hour}:{minute} {am_pm}",1e3*t,[],!n)}`}function y(e,t,n,r){return(0,o.isToday)(new Date(1e3*e+1e3*t))?m(1e3*e,"{hour}:{minute} {am_pm}",1e3*t,[],!n):v(e,t,n,r)}function E(e,t,n){return(0,a.isArray)(t)&&e<t.length?t[e]:c(e,n)}function w(e,t){e+=t;var n=parseInt(Date.now()/1e3)-e,r="";if(n<60)r=f("global_just_now");else if(n<3600){r=E((0,a.intval)(n/60),f("global_word_mins_ago","raw"),f("global_mins_ago","raw"))}else if(n<14400){r=E((0,a.intval)(n/3600),f("global_word_hours_ago","raw"),f("global_hours_ago","raw"))}else r=b(e,0,!0,"_l");return r}function b(e,t,n,r){void 0===n&&(n=!0),void 0===t&&(t=0),void 0===r&&(r=""),t*=1e3;var o=new Date(1e3*e),a=new Date;return o.getFullYear()!==a.getFullYear()&&o.getTime()<a.getTime()-1728e5||Math.abs(o.getTime()-a.getTime())>157248e5?m(1e3*e,f("global_date"+r,"raw"),t,f("months_sm_of"),!n):m(1e3*e,f("global_short_date_time"+r,"raw"),t,f("months_sm_of"),!n)}function D(e,t,n){void 0===n&&(n=!0),void 0===t&&(t=0);var r=new Date,o=r.getFullYear(),a=r.getMonth(),i=new Date(1e3*e),s=i.getFullYear(),u=i.getMonth();return m(1e3*e,f(s<o&&(a>1||u<9||o-s>=2)?"global_date":"global_short_date_time","raw"),t,f("months_sm_of","raw"),!n)}},51229:(e,t,n)=>{"use strict";n.d(t,{getPageHeaderHeight:()=>g,updateNarrow:()=>y,checkPageBlocks:()=>E,redraw:()=>w,onBodyScroll:()=>b,onBodyResize:()=>D,leftBlockOver:()=>C,leftBlockOut:()=>P,leftBlockHide:()=>T,autosizeSetup:()=>O,EcosystemNavigationMenu:()=>A,TopMenu:()=>k,getProgressHtml:()=>S,getProgressBarEl:()=>M});n(59357);var r,o=n(442699),a=n(414914),i=n(927663),s=n(484426),u=n(705456),l=n(427551),c=n(190148),_=n(917685),d=n(990967),p=n(206566),f=n(344624),h=n(469433),m=n(653439),v=n(76238);function g(){var e=(0,a.ge)("page_header");return r=r||(e?e.offsetHeight:0)}function y(){cur.__narrowBar=cur.__narrowBar||{},cur.__narrowBar.bar=cur.__narrowBar.bar||(0,a.ge)("narrow_column"),cur.__narrowBar.barBlock=cur.__narrowBar.bar&&(0,a.geByClass1)("page_block",cur.__narrowBar.bar),cur.__narrowBar.wideCol=cur.__narrowBar.wideCol||(0,a.ge)("wide_column"),cur.__narrowBar.isBarFixed=cur.__narrowBar.isBarFixed||"fixed"===(0,a.getStyle)(cur.__narrowBar.bar,"position"),cur.__narrowBar.pl=cur.__narrowBar.pl||(0,a.ge)("page_layout");var e=cur.__narrowBar.bar,t=cur.__narrowBar.barBlock,n=cur.__narrowBar.wideCol,r=(0,i.scrollGetY)();if(!p.browser.mobile&&e&&t&&n&&!(0,a.isVisible)(boxLoader)&&!(0,a.isVisible)(boxLayerBG)&&!(0,a.isVisible)(layerBG)){var s,u=window.lastWindowHeight||0,l=Math.min(r,bodyNode.clientHeight-u),c=cur.__narrowBar.pl,_=vk.staticheader?Math.max(0,g()-l):g(),d=cur.__narrowBar.isBarFixed,f=(0,o.floatval)((0,a.getStyle)(cur.__narrowBar.barBlock,"marginTop")),h=(0,a.getSize)(e)[1]-(d?f:0),m=(0,a.getSize)(n)[1],v=(0,a.getXY)(n)[1],y=h>=m-f,E=f,w=l+u-m-v-E,b=Math.max(0,w),D=v-_,C=(0,a.getXY)(e)[1]+(d?f:0),P=cur.__narrowBar.lastSt||0,T=cur.__narrowBar.lastStyles||{},O=_+E+h+f+b<=u&&!cur.narrowHide,A=cur.__narrowBarForceNotFixed,k=!1;l-1<D&&!(O&&p.browser.msie&&C<_+f)||y?s={marginTop:0}:!A&&(l-1<Math.min(P,C-_-f)||O)?(s={top:_,marginLeft:Math.min(-bodyNode.scrollLeft,Math.max(-bodyNode.scrollLeft,bodyNode.clientWidth-(0,a.getSize)(c)[0]))},k=!0):!A&&(l+1>Math.max(P,C+h+E-u)&&w<0&&!cur.narrowHide||cur.narrowHide&&l+1>Math.max(P,C+h-_))?(s={bottom:cur.narrowHide?u-_:E,marginLeft:Math.min(-bodyNode.scrollLeft,Math.max(-bodyNode.scrollLeft,bodyNode.clientWidth-(0,a.getSize)(c)[0]))},k=!0):s={marginTop:w>=0?m-h:Math.min(C-v,m-h+D)},function(e,t){var n=(0,o.clone)(e),r=(0,o.clone)(t);return(0,o.each)(n,(function(e,t){"position"!==e&&(n[e]=Math.round(t))})),(0,o.each)(r,(function(e,t){"position"!==e&&(r[e]=Math.round(t))})),JSON.stringify(n)===JSON.stringify(r)}(s,T)||((0,o.each)(T,(function(e){T[e]=null})),(0,a.setStyle)(e,(0,o.extend)(T,s)),cur.__narrowBar.lastStyles=s),k!==d&&(0,a.toggleClass)(e,"fixed",k),cur.__narrowBar.lastSt=l,cur.__narrowBar.isBarFixed=k}}function E(){var e=(0,a.ge)("content");e&&((0,a.toggleClass)(e,"page_block",!(0,a.geByClass1)("page_block",e)),(0,m.updateAriaElements)())}function w(e,t){e&&"fixed"===(0,a.getStyle)(e,"position")&&(t?(0,a.removeClass)(e,t):(0,a.setStyle)(e,{position:"relative"}),e.offsetLeft,t?(0,a.addClass)(e,t):(0,a.setStyle)(e,{position:"fixed"}))}function b(){if(window.pageNode){var e=Math.min(0,Math.max(-bodyNode.scrollLeft,bodyNode.clientWidth-(0,a.getSize)((0,a.ge)("page_layout"))[0]));p.browser.mobile||vk.staticheader||(0,s.updateHeaderStyles)({marginLeft:e}),(0,s.updateLeftMenu)(),y(),(0,u.updSideTopLink)()}}function D(e){if(window.pageNode){var t=document.documentElement,n=t.clientWidth,r=t.clientHeight,i=(0,u.sbWidth)(),c=Math.max((0,o.intval)(window.innerWidth),(0,o.intval)(n)),_=Math.max((0,o.intval)(window.innerHeight),(0,o.intval)(r)),f=!1;if(p.browser.mobile&&(c=Math.max(c,(0,o.intval)(bodyNode.scrollWidth)),_=Math.max(_,(0,o.intval)(bodyNode.scrollHeight))),window.lastWindowWidth!==c||!0===e){f=!0,window.lastInnerWidth=window.lastWindowWidth=c,layerWrap.style.width=boxLayerWrap.style.width=c+"px";var m=layer.style.width=boxLayer.style.width=c-i-2+"px";if(window.mvLayerWrap&&!mvcur.minimized&&(mvLayerWrap.style.width=c+"px",mvLayer.style.width=m),window.wkLayerWrap&&(wkLayerWrap.style.width=c+"px",wkLayer.style.width=m),bodyNode.offsetWidth<vk.width+i+2&&(c=vk.width+i+2),c)for(var v=pageNode.firstChild;v;v=v.nextSibling)if(v.tagName){for(var g=(window.lastInnerWidth=c-i-1)-1,E=v.firstChild;E;E=E.nextSibling)"scroll_fix"===E.className&&(E.style.width=g+"px");document.documentElement.style.setProperty("--scroll-fixed-width",`${g}px`),vk.staticheader||(0,s.updateHeaderStyles)({width:g})}}if((window.lastWindowHeight!==_||!0===e)&&(f=!0,window.lastWindowHeight=_,layerBG.style.height=boxLayerBG.style.height=layerWrap.style.height=boxLayerWrap.style.height=_+"px",window.mvLayerWrap&&!mvcur.minimized&&(mvLayerWrap.style.height=_+"px"),window.wkLayerWrap)){var b=p.browser.mobile?window.innerHeight:_;wkLayerWrap.style.height=b+"px"}if(vk.noSideTop||(0,u.updSideTopLink)(1),f&&window.curRBox&&window.curRBox.boxes&&window.getWndInner){var D=getWndInner();(0,o.each)(curRBox.boxes,((e,t)=>t._wnd_resize(D[0],D[1])))}setTimeout(l.updSeenAdsInfo,0);var C=(0,h.getAudioPlayer)();C.audioLayer&&C.audioLayer.isShown()&&C.audioLayer.updatePosition(),cur.pvShown&&window.Photoview&&setTimeout(Photoview.updatePhotoDimensions),window.tooltips&&tooltips.rePositionAll(),cur.lSTL&&(0,a.setStyle)(cur.lSTL,{width:Math.max((0,a.getXY)(cur.lSTL.el)[0],0),height:_-1}),(0,a.ge)("dev_top_nav")&&(0,a.setStyle)((0,a.ge)("dev_top_nav","left",null));var P=(0,a.geByClass)("ui_search_fixed"),T=(0,a.ge)("narrow_column");(0,o.each)(P,(function(){w(this,"ui_search_fixed"),setTimeout(w.pbind(this,"ui_search_fixed"),0)})),T&&(w(T,"fixed"),setTimeout(w.pbind(T,"fixed"),0)),(0,s.updateLeftMenu)(),y(),(0,d.updateSTL)()}}function C(e){var t=1;e.id||(e=(0,a.ge)("left_hide"+e),t=0),!t&&e.timer||(e.showing?(0,a.removeAttr)(e,"showing"):((0,c.animate)(e,{opacity:t?1:.5},200),t&&(e.showing=1))),e.timer&&(clearTimeout(e.timer),(0,a.removeAttr)(e,"timer"))}function P(e){var t=.5;e.id||(e=(0,a.ge)("left_hide"+e),t=0),e.timer=setTimeout((function(){(0,c.animate)(e,{opacity:t},200),(0,a.removeAttr)(e,"timer")}),1)}function T(e,t,n){var r={act:"hide_block",block:e,hash:t};n&&(r.block=n),ajax.post("al_index.php",r,{onDone:l.updSeenAdsInfo}),(0,a.hide)("left_block"+e)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e=(0,a.ge)(e))if(e.autosize)e.autosize.update();else{t.minHeight=(0,o.intval)(t.minHeight)||(0,o.intval)((0,a.getStyle)(e,"height")),t.maxHeight=(0,o.intval)(t.maxHeight);var n=(0,a.getSize)(e)[0]||(0,o.intval)((0,a.getStyle)(e,"width")),r=(0,a.getStyle)(e,"fontSize"),i=(0,a.getStyle)(e,"lineHeight");n<1&&(n=(0,o.intval)((0,a.getStyle)(e,"width",!1))),r.indexOf("em")>0&&(r=(0,o.floatval)(r)*vk.fs),r=(0,o.intval)(r);var s={width:n,height:10,fontFamily:(0,a.getStyle)(e,"fontFamily"),fontSize:r+"px",lineHeight:i,boxSizing:(0,a.getStyle)(e,"boxSizing")},u=["Top","Bottom","Left","Right"];(0,o.each)(u,(function(){s["padding"+this]=(0,a.getStyle)(e,"padding"+this)})),e.autosize={options:t,helper:(0,a.ce)("textarea",{className:"ashelper"},s),handleEvent:function(t,n){var r=n.charCode?String.fromCharCode(n.charCode):n.charCode;if(void 0===r&&(r=String.fromCharCode(n.keyCode),10===n.keyCode||13===n.keyCode?r="\n":!p.browser.msie&&n.keyCode<=40&&(r="")),!r)return t;if(!p.browser.msie)return t.substr(0,e.selectionStart)+r+t.substr(e.selectionEnd);var o=document.selection.createRange();return o.text&&(t=t.replace(o.text,"")),t+r},update:function(t){var n=e.value;!t||"blur"===t.type||"keyup"===t.type||p.browser.msie&&"keypress"!==t.type||t.ctrlKey||t.altKey||t.metaKey||(n=e.autosize.handleEvent(n,t)),n||(n=" "),e.autosize.helper.value!==n&&(e.autosize.helper.value=n);var r=e.autosize.options,s=(0,a.getSize)(e,!0)[1],u=e.autosize.helper.scrollHeight,l=u%i;r.exact&&l>2&&(u-=l-2),u<r.minHeight&&(u=r.minHeight);var c={overflow:"hidden"},_=(0,a.getStyle)(e,"overflow").indexOf("auto")>-1?"auto":"hidden";r.maxHeight&&u>r.maxHeight&&(u=r.maxHeight,(0,o.extend)(c,{overflow:"auto",overflowX:"hidden"})),r.addHeight&&(u+=r.addHeight),s===u&&_===c.overflow||(c.height=u,(0,a.setStyle)(e,c),(0,o.isFunction)(r.onResize)&&r.onResize(u))}},t.exact&&("normal"===i&&(i="120%"),i.indexOf("%")>0&&(i=r*(0,o.intval)(i)/100)),utilsNode.appendChild(e.autosize.helper),p.browser.opera_mobile?((0,a.setStyle)(e,{overflow:"hidden"}),e.autosize.update(),(0,_.addEvent)(e,"blur",e.autosize.update)):((0,_.addEvent)(e,"keydown keyup keypress change",e.autosize.update),setTimeout((()=>{(0,a.setStyle)(e,{overflow:"hidden",resize:"none"});var t=(0,a.val)(e);(0,a.val)(e," ",!0),(0,a.val)(e,t,!0),e.autosize.update()}),0))}}var A={init:function(){var e=(0,a.ge)("top_ecosystem_navigation_link"),t=(0,a.ge)("top_ecosystem_navigation_menu");if(!e||!t)return!1;(0,_.addEvent)(e,"mousedown",A.clicked),this.inited=!0},clicked:function(e){return(0,_.checkEvent)(e)||"mousedown"===e.type&&(0,_.checkKeyboardEvent)(e)||A.toggle(),!1},toggle:function(e){var t=(0,a.ge)("top_ecosystem_navigation_link"),n=(0,a.ge)("top_ecosystem_navigation_menu"),r=(0,a.hasClass)(n,"shown");void 0!==e&&r===e||(void 0===e&&(e=!r),e?v.vkConnectNavigationCollector.logServiceNavigationOpen():v.vkConnectNavigationCollector.logServiceNavigationClose(),(0,a.toggleClass)(t,"active",e),(0,a.toggleClass)(n,"shown",e),e?((0,f.cancelStackPush)("top_menu",A.toggle.bind(this,!1),!0),cur.introExitTooltipHide&&(cur.introExitTooltipHide(),delete cur.introExitTooltipHide)):(0,f.cancelStackFilter)("top_menu",!0))},show:function(){A.hidetimer&&(clearTimeout(A.hidetimer),A.hidetimer=0),A.toggle(!0)},hide:function(){A.hidetimer||(A.hidetimer=setTimeout((function(){A.toggle(!1),A.hidetimer=0}),200))},select:function(e,t){return!!(0,_.checkEvent)(t)||(A.toggle(!1),nav.go(e,t,{noback:!0}))}},k={init:function(){if(this.inited)return!1;var e=(0,a.ge)("top_profile_link"),t=(0,a.ge)("top_profile_menu");if(!e||!t)return!1;(0,_.addEvent)(e,"mousedown",k.clicked),this.inited=!0},clicked:function(e){return(0,_.checkEvent)(e)||"mousedown"===e.type&&(0,_.checkKeyboardEvent)(e)||k.toggle(),!1},toggle:function(e){var t=(0,a.ge)("top_profile_link"),n=(0,a.ge)("top_profile_menu"),r=(0,a.hasClass)(n,"shown");void 0!==e&&r===e||(void 0===e&&(e=!r),(0,a.hasClass)(n,"top_profile_menu_new")&&(e?v.vkConnectNavigationCollector.logAccountActionsOpen():v.vkConnectNavigationCollector.logAccountActionsClose()),(0,a.toggleClass)(t,"active",e),(0,a.toggleClass)(n,"shown",e),e?((0,f.cancelStackPush)("top_menu",k.toggle.bind(this,!1),!0),cur.introExitTooltipHide&&(cur.introExitTooltipHide(),delete cur.introExitTooltipHide)):(0,f.cancelStackFilter)("top_menu",!0))},show:function(){k.hidetimer&&(clearTimeout(k.hidetimer),k.hidetimer=0),k.toggle(!0)},hide:function(){k.hidetimer||(k.hidetimer=setTimeout((function(){k.toggle(!1),k.hidetimer=0}),200))},select:function(e,t){return!!(0,_.checkEvent)(t)||(k.toggle(!1),nav.go(e,t,{noback:!0}))}};function S(e,t){return(0,a.rs)(vk.pr_tpl,{id:e||"",cls:t||""})}function M(e){return(0,a.geByClass1)("ui_progress_bar",e)}},627556:(e,t,n)=>{"use strict";n.d(t,{Chat:()=>h,cssAnim:()=>m,imagesLoader:()=>v,hideNewsAnnounce:()=>y,leftAdBlockClose:()=>E,leftBlockToggleFriend:()=>b,leftBlockFriendTooltip:()=>D,initLegacyBrowserDetectionInAttribute:()=>C,__qlClear:()=>P,storePasswordCredential:()=>T,onLoginDone:()=>O,onLoginFailed:()=>A,onLoginCaptcha:()=>k,onLoginReCaptcha:()=>S,nodeUpdated:()=>M,initPostsLegacyVars:()=>I});n(530522),n(66108),n(296253),n(991181),n(579665),n(95767),n(59357);var r=n(719016),o=n(705456),a=n(414914),i=n(190148),s=n(917685),u=n(442699),l=n(791563),c=n(206566),_=n(116886),d=n(486353);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h={maxHeight:300,tabs:{},counters:{},showFriends:function(){curFastChat.clistBox.visible?curFastChat.clistBox.options.fixed?FastChat.clistHide():curFastChat.clistBox.show():(FastChat.clistShow(),h.cont.tt&&h.cont.tt.destroy&&h.cont.tt.destroy())},showTT:function(){if(!document.querySelector(".WideScreenAppPage")&&!(0,a.hasClass)(h.wrap,"chat_active")&&!(0,a.hasClass)(h.wrap,"chat_expand")){var e=c.browser.mac?"Cmd":"Ctrl";(0,r.showTooltip)(h.cont,{text:`${(0,_.getLang)("head_fr_online_tip")} (${e}+?)`,shift:[-2,4,0],showdt:0,black:1})}},init:function(){h.wrap=(0,a.ce)("div",{id:"chat_onl_wrap",className:"chat_onl_wrap",innerHTML:'\n<div class="chat_tt_wrap"></div>\n<div class="chat_onl_inner">\n  <div class="chat_cont_scrolling"><div class="chat_onl_height"></div></div>\n  <div class="chat_cont_sh_top"></div>\n  <div class="chat_cont_sh_bottom"></div>\n  <a class="chat_tab_wrap" id="chat_tab_wrap" onclick="Chat.showFriends()" onmouseover="Chat.showTT();">\n    <div class="chat_onl_cont">\n      <div class="chat_onl" id="chat_onl"></div>\n    </div>\n  </a>\n</div>'}),utilsNode.appendChild(h.wrap),h.scrollNode=(0,a.geByClass1)("chat_cont_scrolling",h.wrap),h.ttNode=(0,a.geByClass1)("chat_tt_wrap",h.wrap),h.itemsCont=h.scrollNode.firstChild,h.onl=(0,a.ge)("chat_onl"),h.cont=h.onl.parentNode.parentNode,(0,a.hide)(h.wrap),h.inited=!0,stManager._addCss(".layers_shown .chat_onl_wrap {margin-right: "+(0,o.sbWidth)()+"px;}")}};function m(e,t,n,r){var o=(0,u.intval)(c.browser.version);if(e&&(c.browser.chrome&&o>14||c.browser.mozilla&&o>13||c.browser.opera&&o>2)){var l="all "+n.duration+"ms "+(n.func||"ease-out");e.style.WebkitTransition=l,e.style.MozTransition=l,e.style.OTransition=l,e.style.transition=l;var _=function t(){return c.browser.opera&&(0,u.intval)(c.browser.version)<=12?e.removeEventListener("oTransitionEnd",t):(0,s.removeEvent)(e,"webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",t),e.style.WebkitTransition="",e.style.MozTransition="",e.style.OTransition="",e.style.transition="",r&&r(),!1};r&&(c.browser.opera&&(0,u.intval)(c.browser.version)<=12?e.addEventListener("oTransitionEnd",_):(0,s.addEvent)(e,"webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",_)),setTimeout(a.setStyle.pbind(e,t),0)}else(0,i.animate)(e,t,(0,u.extend)(n,{onComplete:r}))}function v(e,t){var n=[],r=0,o=null,i=(0,u.extend)({top_load:0,bottom_load:2,load_limit:10,need_load_class:"__need_load",skip_process_load:!1,use_iframe:!1},t),s={};function l(e,t){n[e]&&(--r,delete n[e]),t||s.processLoad()}function c(t){var n=0,r=t;if(r&&r.offsetParent)do{if(n+=r.offsetTop,e&&r.offsetParent===e)break}while(r=r.offsetParent);return n}return s.processLoad=function(){if((0,u.each)(n,((e,t)=>{var r=p(t,2),o=r[0],a=r[1];(a.width||a.height||(0,u.vkNow)()-o>2e4)&&n[e]&&l.call(a,e,!0)})),clearTimeout(o),r&&(o=setTimeout(s.processLoad,500)),!(r>=i.load_limit)){var t,_,d=(0,a.geByClass)(i.need_load_class,e||bodyNode),f=[];if(e&&d.length){var h=e.offsetHeight;t=e.scrollTop-h*i.top_load,_=e.scrollTop+h*i.bottom_load}for(var m=0,v=d.length;m<v&&r<i.load_limit;m++){var g=d[m];if("IMG"===g.tagName){var y=g.getAttribute("data-src");if(y){if(e){var E=c(g),w=E+g.parentNode.offsetHeight;if(E>_)continue;if(w<t)continue}f.push([g,y])}}}(0,u.each)(f,((e,t)=>{var o=p(t,2),c=o[0],_=o[1];s.iloader&&s.iloader.add(_,l,c),c.src=_,c.removeAttribute("data-src"),(0,a.removeClass)(c,i.need_load_class),n[_]||(r++,n[_]=[(0,u.vkNow)(),c])})),clearTimeout(o),r&&(o=setTimeout(s.processLoad,500))}},s.destroy=function(){n=[],r=0,clearTimeout(o)},i.use_iframe&&(s.iloader=new g),i.skip_process_load||s.processLoad(),s}function g(){var e,t,n,r,o,i;function s(e){return t&&t.body?'<img id="___img'+e+'" />':'<img class="___img'+e+'" />'}function l(e){return t&&t.body?t.getElementById("___img"+e):(0,a.geByClass1)("___img"+e,n)}function _(){e=utilsNode.appendChild((0,a.ce)("iframe")),t=function(e){if(c.browser.mozilla)return!1;try{return e.contentDocument?e.contentDocument:e.contentWindow&&e.contentWindow.document?e.contentWindow.document:e.document}catch(e){}return!1}(e),n=t&&t.body?t.body:utilsNode.appendChild((0,a.ce)("div",{},{display:"none"})),r=0,o=[]}function d(e,t,i){var u=r++;o[u]={src:e,onLoad:t,that:i},n.appendChild((0,a.ce)("div",{innerHTML:s(u)}));var c=l(u);return c.src=e,c.onload=function(){var e=o[u];e&&(e.onLoad&&e.onLoad.call(e.that||window,e.src),delete o[u],n.removeChild(l(u).parentNode))},c}return _(),{add:d,abort:function(){(0,a.re)(e),i=[...o.filter((e=>void 0!==e))],_()},repeat:function(e){if(!i)return[];var t=[];if((0,u.each)(i,((e,n)=>{d(n.src,n.onLoad,n.that),t.push(n.that)})),i=null,e){var n=[];(0,u.each)(t,(function(){n.push([this,this.src]),this.src="",(0,a.hide)(this)})),setTimeout((function(){(0,u.each)(n,((e,t)=>{var n=p(t,2),r=n[0],o=n[1];r.src=o,(0,a.show)(r)}))}),10)}return t}}}function y(e,t){var n={act:"hide_block",block:e,hash:t};ajax.post("al_index.php",n),(0,a.hide)("news_announce_"+e)}function E(e,t,n){(0,a.setStyle)("left_hide"+e,{visibility:"hidden"}),(0,d.partConfigEnabled)("ads_new_reports_web_tgb")?function(e,t,n){var r="",i=(0,l.showBox)("reports.php",{act:"hide_ad_box",ad_data:n},{onDone:function(){var e=(0,a.geByClass)("radiobtn","ad_hide");window.radioBtns.ad_hide={val:0,els:e};var t=(0,a.ge)("ad_csrf");r=t?t.value:r},params:{width:370,onClean:()=>{delete window.radioBtns.ad_hide}},stat:["reports.css"]});i.removeButtons(),i.addButton((0,_.getLang)("box_send"),(a=>{(0,o.lockButton)(a),ajax.post("reports.php",{act:"hide_ad",reason_id:window.radioBtns.ad_hide.val,ad_data:n,hash:r}),w(e,t,(()=>{(0,o.unlockButton)(a),i.hide()}))})),i.addButton((0,_.getLang)("global_cancel"),!1,"no")}(e,t,n):w(e,t)}function w(e,t,n){function r(){(0,i.animate)("ads_ad_close_info_"+e,{opacity:1},200,o)}function o(){(0,a.setStyle)("ads_ad_box2_"+e,{visibility:"hidden"})}ajax.post(t,{},{noAds:!0,onDone:function(t){if(!t.done)return;"function"==typeof n&&n();if("ya_direct"===e)return(0,i.animate)(e,{opacity:0},200,(function(){(0,a.re)("ya_direct"),setTimeout((function(){AdsLight.updateBlock("force_hard",2)}),5e3)})),void(window.vk__adsLight.yaDirectAdActive=!1);var o=(0,a.ge)("ads_ad_close_info_"+e);if(!o)return!1;(0,a.setStyle)(o,{opacity:0}),o.style.setProperty("display","block","important"),setTimeout(r,0)}})}function b(e,t,n,r,o){r&&stManager.add(["tooltips.css",jsc("web/tooltips.js")]),cur.mfid=e,ajax.post("al_friends.php",{act:r?"add":"remove",mid:e,mf_type:t,hash:n,from:"leftblock"},{onDone:function(t,n,r){if(!t)return nav.reload();var o=(0,a.ge)("left_friend_status_"+e);(0,a.cleanElems)(o.firstChild),t?((0,a.show)(o),(0,a.val)(o,t)):(0,a.hide)(o),n&&(ajax.preload("al_friends.php",{act:"friend_tt",mid:e},[n,r]),setTimeout(D,0))},showProgress:function(){var t=((0,a.ge)("left_friend_subscribed")||{}).tt;t&&(t.hide({fasthide:1}),t.destroy()),(0,a.ge)("left_friend_status_"+e).innerHTML='<img src="/images/upload'+(window.devicePixelRatio>=2?"_2x":"")+'.gif" width="32" />'},hideProgress:()=>(0,a.hide)("left_friend_status_"+e),onFail:function(e){if(e)return(0,l.showFastBox)({title:(0,_.getLang)("global_error")},e),!0}}),(0,s.cancelEvent)(o)}function D(){return(0,r.showTooltip)((0,a.ge)("left_friend_subscribed"),{url:"al_friends.php",params:{act:"friend_tt",mid:cur.mfid,from:"leftblock"},slide:15,hidedt:500,shift:[40,-1,3],className:"preq_tt",forcetodown:!0})}function C(){var e=[];(0,u.each)(c.browser,(function(t,n){n&&!(0,u.inArray)(t,["version","mac","search_bot"])&&"flash"!==t.substr(0,5)&&e.push(t)})),e=e.join(" "),bodyNode.setAttribute("data-useragent",e)}function P(){clearTimeout(window.__qlTimer),setTimeout((()=>clearTimeout(window.__qlTimer)),2e3)}function T(e){if(c.browserFeatures.cmaEnabled&&window.ResizeObserver&&(0,a.val)("quick_email")&&void 0!==window.PasswordCredential){var t=new PasswordCredential({id:(0,a.ge)("quick_email").value,password:(0,a.ge)("quick_pass").value,name:e.name,iconURL:e.photo_50});navigator.credentials.store(t)}}function O(e,t){P(),T(t),nav.reload({force:!0,from:6})}function A(e,t){switch(P(),e){case-1:location.href=location.href.replace(/^http:/,"https:");break;case 4:var n="/login?m=1"+(t.expire?"&s=0":"");(0,u.each)(["email","ul","pch","to"],(function(e,r){t[r]&&(n+="&"+r+"="+t[r])})),location.href=n;break;default:location.href="/login"}}function k(e,t){P(),(0,o.unlockButton)(window.__qfBtn),window.qloginBox=(0,l.showCaptchaBox)(e,t,window.qloginBox,{onSubmit:function(e,t){(0,a.ge)("quick_captcha_sid").value=e,(0,a.ge)("quick_captcha_key").value=t,(0,a.ge)("quick_login_form").submit()},onHide:()=>window.qloginBox=!1})}function S(e,t){P(),(0,o.unlockButton)(window.__qfBtn),window.qloginBox=(0,l.showReCaptchaBox)(e,t,window.qloginBox,{onSubmit:function(e){(0,a.ge)("quick_recaptcha").value=e,(0,a.ge)("quick_login_form").submit()},onHide:()=>window.qloginBox=!1})}function M(e,t){(0,a.setStyle)(e,{backgroundColor:"#F5F7FA"}),(0,i.animate)(e,{backgroundColor:"#FFF"},t||6e3,(function(e){(0,a.setStyle)(e,{backgroundColor:null})}))}function I(){window._postsSeen={},window._postsSaved={},window._postsSaveTimer=void 0,window._postsSendTimer=void 0,window._postsCleanTimer=void 0,window._postsSeenModules={},window._postsExtras={}}},746171:(e,t,n)=>{"use strict";n.d(t,{collectMemoryStats:()=>i,statDurationsLoadImage:()=>s,statNavigationTiming:()=>u});var r=n(109847),o=n(442699);function a(e,t){for(var n,r=0;r<t.length;r++)if(">"===(n=t[r]))n=">"+t[r-1];else{if(1e3*n>e){n="<"+n;break}n=!1}return n}function i(){var e={},t=[15,60,300,1500,5e3,1e4,15e3,2e4,25e3,3e4],n=[300,1500,5e3,3e4,6e4,12e4,">"],o=!1;setInterval((function(){var i=window.cur&&window.cur.module;i!==o&&(e={},o=i);var s=window.vkLastNav;if(i&&s){var u=a(Date.now()-s,t);if(u&&!e[u]){var l=a(Date.now()-window.vkTabLoaded,n);e[u]=!0;var c=performance.memory.usedJSHeapSize;(0,r.statlogsValueEvent)("js_memory_stats_modules",c,i,u,l)}}}),5e3)}function s(){if(Math.random()<.001&&window.performance&&window.performance.getEntriesByType){if(window.clientStatsInited)return!1;var e=window.performance.getEntriesByType("resource");if(!e)return!1;for(var t={},n={},a=0;a<e.length;a++)if(e[a]&&"img"===e[a].initiatorType)if(e[a].duration<100)t["<100"]=(t["<100"]||0)+1;else if(e[a].duration<250)t["100-250"]=(t["100-250"]||0)+1;else if(e[a].duration<500)t["250-500"]=(t["250-500"]||0)+1;else if(e[a].duration<1e3)t["500-1000"]=(t["500-1000"]||0)+1;else if(e[a].duration<2e3)t["1000-2000"]=(t["1000-2000"]||0)+1;else if(e[a].duration<5e3)t["2000-5000"]=(t["2000-5000"]||0)+1;else if(t[">5000"]=(t[">5000"]||0)+1,e[a].name&&e[a].name.indexOf("pp.vk.me")>0){var i="";(i=(i=e[a].name).substr(i.indexOf("pp.vk.me")+9)).indexOf("/")>0&&(n[i=i.substr(0,i.indexOf("/"))]=(n[i]||0)+1)}(0,o.each)(t,((e,t)=>(0,r.statlogsValueEvent)("img_load",t,e))),(0,o.each)(n,((e,t)=>(0,r.statlogsValueEvent)("img_slow",t,e))),window.clientStatsInited=!0}}function u(){if(window.clientStatsInitedNT)return!1;if(window.performance&&performance.timing){if(Math.random()>.001&&!__dev)return!1;var e={},t=window.cur&&window.cur.module;performance.timing.redirectStart&&performance.timing.redirectEnd&&(e.redirect=performance.timing.redirectEnd-performance.timing.redirectStart),performance.timing.domainLookupStart&&performance.timing.domainLookupEnd&&(e.domainLookup=performance.timing.domainLookupEnd-performance.timing.domainLookupStart),performance.timing.connectStart&&performance.timing.connectEnd&&(e.connect=performance.timing.connectEnd-performance.timing.connectStart,performance.timing.secureConnectionStart&&(e.secureConnection=performance.timing.connectEnd-performance.timing.secureConnectionStart)),performance.timing.requestStart&&performance.timing.responseStart&&(e.request=performance.timing.responseStart-performance.timing.requestStart,performance.timing.responseEnd&&(e.response=performance.timing.responseEnd-performance.timing.responseStart)),performance.timing.unloadEventStart&&performance.timing.unloadEventEnd&&(e.unloadEvent=performance.timing.unloadEventEnd-performance.timing.unloadEventStart),performance.timing.domLoading&&performance.timing.domComplete&&(e.processing=performance.timing.domComplete-performance.timing.domLoading),performance.timing.domContentLoadedEventStart&&performance.timing.domContentLoadedEventEnd&&(e.domContentLoadedEvent=performance.timing.domContentLoadedEventEnd-performance.timing.domContentLoadedEventStart),performance.timing.loadEventStart&&performance.timing.loadEventEnd&&(e.loadEvent=performance.timing.loadEventEnd-performance.timing.loadEventStart),performance.timing.loadEventEnd&&performance.timing.responseEnd&&(e.resource=performance.timing.loadEventEnd-performance.timing.responseEnd),(0,o.each)(e,((e,n)=>(0,r.statlogsValueEvent)("navigation_timing",n,e,t))),window.clientStatsInitedNT=!0}}},401346:(e,t,n)=>{"use strict";n.d(t,{default:()=>r});const r=n(98234)},791563:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{MessageBox:()=>MessageBox,showBox:()=>showBox,showTabbedBox:()=>showTabbedBox,showFastBox:()=>showFastBox,showCaptchaBox:()=>showCaptchaBox,showReCaptchaBox:()=>showReCaptchaBox});var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(66108),core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(296253),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(751876),_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(705456),_debug_tools__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(519921),_dom_events__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(917685),_ui_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(960139),_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(414914),_fx__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(190148),_utils_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(442699),_lang__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(116886),_shared_lib_convert__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(182408),_box_utils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(621260),_accessibility__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(653439),_web_helpers_classnames__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(121265),_icons_desktop_getIcon24Cancel__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(978787),_icons_desktop_getIcon24BrowserBack__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(217770);function MessageBox(_options){var defaults={title:!1,titleControls:"",containerClass:"",width:450,height:"auto",animSpeed:0,bodyStyle:"",grey:!1,white:!1,selfDestruct:!0,progress:!1,hideOnBGClick:!1,hideButtons:!1,onShow:!1,onHideAttempt:!1,onBeforeHide:!1,onHide:!1,onClean:!1,onDestroy:!1,preventHideLastWithCheck:!1,refreshCoordsOnTimeout:!1},options=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)(defaults,_options),guid=window._message_box_guid++,visible=!1,btns={ok:[],cancel:[]},boxTitleBck;options.progress||(options.progress="box_progress"+guid);var controlsStyle=options.hideButtons?' style="display: none"':"",boxContainer=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.ce)("div",{className:(0,_web_helpers_classnames__WEBPACK_IMPORTED_MODULE_14__.classNames)("popup_box_container",options.containerClass),innerHTML:`\n<div class="box_layout" onclick="boxQueue.skip=true;">\n  <div class="box_title_wrap">\n    <div class="box_x_button" aria-label="${(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("global_close")}" tabindex="0" role="button">${(0,_icons_desktop_getIcon24Cancel__WEBPACK_IMPORTED_MODULE_15__.getIcon24Cancel)().icon}</div>\n    <div class="box_title_controls"></div>\n    <div class="box_title"></div>\n  </div>\n\n  <div class="box_body" style="${options.bodyStyle}"></div>\n  ${options.noControls?"":`\n  <div class="box_controls_wrap" ${controlsStyle}>\n    <div class="box_controls">\n      <table cellspacing="0" cellpadding="0" class="fl_r">\n        <tr></tr>\n      </table>\n      <div class="progress" id="${options.progress}"></div>\n\n      <div class="box_controls_text _box_controls_text">${options.textControls||""}</div>\n    </div>\n  <div>`}\n</div>`},{display:"none"});(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxContainer);var boxLayout=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domFC)(boxContainer),boxTitleWrap=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domFC)(boxLayout),boxCloseButton=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domFC)(boxTitleWrap),boxTitle=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domLC)(boxTitleWrap),boxTitleControls=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domNS)(boxCloseButton);options.noCloseButton&&(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxCloseButton);var boxBody=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domNS)(boxTitleWrap),boxControlsWrap=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domNS)(boxBody),boxControls=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domFC)(boxControlsWrap),boxButtons=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domFC)(boxControls),boxProgress=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domNS)(boxButtons),boxControlsText=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domNS)(boxProgress);boxLayer.appendChild(boxContainer),boxContainer.setAttribute("tabindex",0),boxContainer.focus(),refreshBox(),(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.boxRefreshCoords)(boxContainer);var emitter=new EventEmitter;function refreshBox(){boxTitleBck||(options.title?(boxTitle.innerHTML=options.title,(0,_dom__WEBPACK_IMPORTED_MODULE_7__.removeClass)(boxBody,"box_no_title"),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(boxTitleWrap)):((0,_dom__WEBPACK_IMPORTED_MODULE_7__.addClass)(boxBody,"box_no_title"),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxTitleWrap))),options.titleControls&&(boxTitleControls.innerHTML=options.titleControls),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.toggleClass)(boxBody,"box_no_buttons",options.hideButtons),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.toggleClass)(boxTitleWrap,"box_grey",options.grey),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.toggleClass)(boxTitleWrap,"box_white",options.white),boxContainer.style.width="string"==typeof options.width?options.width:options.width+"px",boxContainer.style.height="string"==typeof options.height?options.height:options.height+"px"}function addButtonInternal(e,t,n,r){var o="flat_button";"no"===n||"gray"===n?(o+=" secondary",n="cancel"):n="ok";var a=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.ce)("button",{className:o,innerHTML:e,id:r});return boxButtons.rows[0].insertCell(0).appendChild(a),(0,_ui__WEBPACK_IMPORTED_MODULE_3__.createButton)(a,(function(){emitter.emit(n,retBox),t.apply(null,arguments)})),btns[n].push(a),a}function setControlsText(e){boxControlsText.innerHTML=e}function _removeButtons(){for(var e=boxButtons.rows[0];e.cells.length;)(0,_dom__WEBPACK_IMPORTED_MODULE_7__.cleanElems)(e.cells[0]),e.deleteCell(0);btns.ok.length=btns.cancel.length=0}var destroyMe=function(){(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.isFunction)(options.onClean)&&options.onClean(),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.isFunction)(options.onDestroy)&&options.onDestroy(),options.noControls||_removeButtons(),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.cleanElems)(boxContainer,boxCloseButton,boxTitleWrap,options.noControls?void 0:boxControlsWrap),boxLayer.removeChild(boxContainer),delete window._message_boxes[guid]},hideMe=function(e,t,n){if(visible){visible=!1;var r=!0===e?0:options.animSpeed;options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.removeEvent)(document,"click",boxQueue.hideBGClick),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.isFunction)(options.onBeforeHide)&&options.onBeforeHide();var o=function(){boxQueue.currHiding===_message_boxes[guid]&&(boxQueue.currHiding=!1),_message_boxes[guid].shOther||e||layers.boxhide(),!t&&options.selfDestruct?destroyMe():(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxContainer),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.isFunction)(options.onHide)&&options.onHide(n),retBox.emit("afterHide",retBox)};r>0?(boxQueue.currHiding=_message_boxes[guid],(0,_fx__WEBPACK_IMPORTED_MODULE_8__.fadeOut)(boxContainer,r,o)):o()}};function showMe(e,t,n){if(!visible&&window._message_boxes[guid]&&!window._message_boxes[guid].forceHide){visible=!0;var r=!0===e||t?0:options.animSpeed;if(options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.addEvent)(document,"click",boxQueue.hideBGClick),t||layers.boxshow(),boxQueue.currHiding){boxQueue.currHiding.shOther=!0;var o=boxQueue.currHiding.bodyNode.parentNode.parentNode;(0,_dom__WEBPACK_IMPORTED_MODULE_7__.data)(o,"tween").stop(!0)}r>0?(0,_fx__WEBPACK_IMPORTED_MODULE_8__.fadeIn)(boxContainer,r):(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(boxContainer),(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.boxRefreshCoords)(boxContainer),options.onShow&&options.onShow(n)}}(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.addEvent)(boxCloseButton,"click",boxQueue.hideLast);var retBox=window._message_boxes[guid]={guid,_show:showMe,_hide:hideMe,bodyNode:boxBody,controlsTextNode:boxControlsText,titleWrap:boxTitleWrap,btns,show:function(){return boxQueue._show(guid),this},progress:boxProgress,showCloseProgress:_dom__WEBPACK_IMPORTED_MODULE_7__.addClass.pbind(boxTitleWrap,"box_loading"),hideCloseProgress:_dom__WEBPACK_IMPORTED_MODULE_7__.removeClass.pbind(boxTitleWrap,"box_loading"),showProgress:function(){(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxControlsText),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(boxProgress)},hideProgress:function(){(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxProgress),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(boxControlsText)},hide:function(e){return!((0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.isFunction)(options.onHideAttempt)&&!options.onHideAttempt(e))&&(boxQueue._hide(guid),!0)},isVisible:function(){return visible},bodyHeight:function(){return(0,_dom__WEBPACK_IMPORTED_MODULE_7__.getStyle)(boxBody,"height")},content:function(e){return options.onClean&&options.onClean(),"string"==typeof e?boxBody.innerHTML=e:e instanceof HTMLElement&&(boxBody.innerHTML="",boxBody.appendChild(e)),options.refreshCoordsOnTimeout?setTimeout((()=>{(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.boxRefreshCoords)(boxContainer)})):(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.boxRefreshCoords)(boxContainer),boxContainer.focus(),refreshBox(),(0,_accessibility__WEBPACK_IMPORTED_MODULE_13__.updateAriaElements)(),this},emit:function(e,t){emitter.emit(e,t)},addButton:function(e,t,n,r,o){var a=addButtonInternal(e,t||this.hide,n,o);return r?a:this},setButtons:function(e,t,n,r){var o=this.removeButtons();return e?(o.addButton(e,t),n&&o.addButton(n,r,"no"),o):o.addButton((0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("box_close"))},setControlsText,removeButtons:function(){return _removeButtons(),this},setBackTitle:function(e){e?(boxTitle.innerHTML='<div class="back"><span class="back__icon">'+(0,_icons_desktop_getIcon24BrowserBack__WEBPACK_IMPORTED_MODULE_16__.getIcon24BrowserBack)().icon+"</span>"+(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("global_box_title_back")+"</div>",boxTitleBck=options.title,options.title=boxTitle.innerHTML,setTimeout((function(){(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByClass1)("back",boxTitle).onclick=e}),100)):boxTitleBck&&(boxTitle.innerHTML=options.title=boxTitleBck,boxTitleBck=!1)},destroy:destroyMe,getOptions:function(){return options},on:function(e,t){emitter.on(e,t)},once:function(e,t){emitter.once(e,t)},updateBoxCoords:function(){(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.boxRefreshCoords)(boxContainer)},setOptions:function(e){if(options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.removeEvent)(document,"click",boxQueue.hideBGClick),options=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)(options,e),"bodyStyle"in e)for(var t=options.bodyStyle.split(";"),n=0,r=t.length;n<r;n++){var o=t[n].split(":");o.length>1&&o[0].length&&(boxBody.style[(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.trim)(o[0])]=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.trim)(o[1]),boxBody.style.setProperty&&boxBody.style.setProperty((0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.trim)(o[0]),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.trim)(o[1]),""))}return options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.addEvent)(document,"click",boxQueue.hideBGClick),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.toggle)(boxControlsWrap,!options.hideButtons),refreshBox(),options.noRefreshCoords||(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.boxRefreshCoords)(boxContainer),this},evalBox:function evalBox(js,url,params){var scr="((function() { return function() { var box = this; "+(js||"")+";}; })())";if(__debugMode){var fn=eval(scr);fn.apply(this,[url,params])}else try{var _fn=eval(scr);_fn.apply(this,[url,params])}catch(e){(0,_ui_util__WEBPACK_IMPORTED_MODULE_6__.topError)(e,{dt:15,type:7,url,query:params?(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_11__.toQueryString)(params):void 0,js}),(0,_debug_tools__WEBPACK_IMPORTED_MODULE_4__.logEvalError)(e,scr)}},preventHideLastWithCheck:options.preventHideLastWithCheck,execInline:function(e){window.vk.inline[e](this),delete window.vk.inline[e]}};return retBox}function showBox(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if((0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.checkEvent)(r))return!1;var o=n.params||{};n.containerClass&&(o.containerClass=n.containerClass);var a=Date.now().toString(36);t&&(t.boxhash=a);var i=new MessageBox(o);i.boxhash=a;var s={onDone:function(r,s,u,l){if(n.preOnDone&&n.onDone&&n.onDone(i),i.isVisible())if(__debugMode)c();else try{c()}catch(n){(0,_ui_util__WEBPACK_IMPORTED_MODULE_6__.topError)(n,{dt:15,type:103,url:e,query:(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_11__.toQueryString)(t),answer:Array.prototype.slice.call(arguments).join("<!>")}),i.isVisible()&&i.hide()}else n.onDone&&n.onDone(i,l);function c(){(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(boxLayerBG),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.addClass)(bodyNode,"layers_shown"),i.setOptions({title:r,hideButtons:o.hideButtons||!1}),n.showProgress?i.show():(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(i.bodyNode),i.content(s),n.noEval?i.execInline(a):i.evalBox(u,e,t),n.onDone&&n.onDone(i,l)}},onFail:function(e){if(i.failed=!0,setTimeout(i.hide,0),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.isFunction)(n.onFail))return n.onFail(e)},cache:n.cache,stat:n.stat,fromBox:!0};return n.prgEl&&(n.showProgress=_ui_util__WEBPACK_IMPORTED_MODULE_6__.showGlobalPrg.pbind(n.prgEl,{cls:n.prgClass,w:n.prgW,h:n.prgH,hide:!0}),n.hideProgress=_dom__WEBPACK_IMPORTED_MODULE_7__.hide.pbind("global_prg")),n.showProgress?(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)(s,{showProgress:n.showProgress,hideProgress:n.hideProgress}):(i.setOptions({title:!1,hideButtons:!0}).show(),boxQueue.count()<2&&((0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxLayerBG),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.removeClass)(bodyNode,"layers_shown")),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(i.bodyNode),s.showProgress=function(){(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(boxLoader),(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.boxRefreshCoords)(boxLoader)},s.hideProgress=_dom__WEBPACK_IMPORTED_MODULE_7__.hide.pbind(boxLoader)),i.removeButtons().addButton((0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("global_close")),ajax.post(e,t,s),i}function showTabbedBox(e,t,n,r){return(n=n||{}).stat=n.stat||[],n.stat.push(jsc("web/box.js"),"boxes.css"),showBox(e,t,n,r)}function showFastBox(e,t,n,r,o,a){return new MessageBox("string"==typeof e?{title:e}:e).content(t).setButtons(n,r,o,a).show()}function showCaptchaBox(e,t,n,r){var o=function(t){if(!t||void 0===t.keyCode||10===t.keyCode||13===t.keyCode){var o=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByTag1)("input",n.bodyNode);if((0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.trim)(o.value)||!0===t){var a=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByTag1)("img",n.bodyNode)[0];(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.removeEvent)(o),(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.removeEvent)(a),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)((0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByClass1)("progress",n.bodyNode)),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(o),r.onSubmit(e,o.value)}else(0,_dom__WEBPACK_IMPORTED_MODULE_7__.elfocus)(o)}},a=!!n,i=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.intval)(t)?"":"&s=1",s=r.imgSrc||"/captcha.php?sid="+e+i;if(!a){var u=`\n<div class="captcha">\n  <div><img src="${s}"/></div>\n  <div>\n    <input type="text" class="big_text" maxlength="7" placeholder="${(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("global_captcha_input_here")}" />\n    <div class="progress" /></div>\n  </div>\n</div>`+(r.addText||"");n=showFastBox({title:(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("captcha_enter_code"),width:305,onHide:r.onHide,onDestroy:r.onDestroy||!1},u,(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("captcha_send"),(function(){n.submit()}),(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("captcha_cancel"),(function(){var e=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByTag1)("input",n.bodyNode),t=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByTag1)("img",n.bodyNode);(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.removeEvent)(e),(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.removeEvent)(t),n.hide()}))}n.submit=o.pbind(!0),n.changed=!0;var l=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByTag1)("input",n.bodyNode),c=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByTag1)("img",n.bodyNode);return a&&(l.value="",c.src="/captcha.php?sid="+e+i,(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)((0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByClass1)("progress",n.bodyNode))),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(l),(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.addEvent)(l,"keypress",o),(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.addEvent)(c,"click",(function(){this.src="/captcha.php?sid="+e+i+"&v="+(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.irand)(1e6,2e6)})),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.elfocus)(l),n}function showReCaptchaBox(e,t,n,r){window.recaptchaResponse=function(e){r.onSubmit(e)};var o=!!n,a=!!window.grecaptcha;if(!o){a||(window.recaptchaCallback=function(){var t=(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.curBox)();if(t){var n=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByClass1)("recaptcha",t.bodyNode);n&&((0,_dom__WEBPACK_IMPORTED_MODULE_7__.val)(n,""),window.grecaptcha.render(n,{sitekey:e,callback:window.recaptchaResponse}))}},headNode.appendChild((0,_dom__WEBPACK_IMPORTED_MODULE_7__.ce)("script",{type:"text/javascript",src:"https://www.google.com/recaptcha/api.js?onload=recaptchaCallback&render=explicit&hl="+t})));var i='<div class="recaptcha"></div>'+(r.addText||"");n=showFastBox({title:(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("global_recaptcha_title"),width:354,onHide:r.onHide,onDestroy:r.onDestroy||!1},i,(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("captcha_cancel"));var s=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByClass1)("recaptcha",n.bodyNode);s.id="recaptcha"+(n.guid?n.guid:"0"),(0,_ui__WEBPACK_IMPORTED_MODULE_3__.showProgress)(s)}return o&&a?window.grecaptcha.reset():a&&window.recaptchaCallback(),n.changed=!0,n}},704253:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(175115),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(751876),core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(976142),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(66108),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(940851),core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(296253),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(59357),core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(283946),core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(21466),_utils_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(442699),_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(917999),_ads__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(427551),_debug_tools__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(519921),_dom__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(414914),_dom_events__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(917685),_scroll__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(927663),_ui_util__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(960139),_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(182408),_nav_utils__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(484426),_shared_counters_updateCounters__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(901659),_layout_utils__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(51229),_video__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(900233),_legacy_performance_stats__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(746171),_browser__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(206566),_feature_entries__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(469433),_accessibility__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(653439),_top_search__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(377806),_stl__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(990967),_utils__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(907851),_message_box__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(791563),_lang__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(116886),_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(933127),_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(594632),_shared_evbus__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(128533),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(486353),_shared_network_stats_module_navigation_module_navigation_collector__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(66239),_shared_network_stats_module_navigation_module_navigation_collector_config__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(124801),_shared_network_stats__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(780781),_shared_lib_storage__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(190302);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var SHOW_MORE_APPS_SHOWN_CLASSNAME="show_more_apps_container_shown",SHOW_MORE_APPS_BUTTON_HIDDEN_CLASSNAME="show_more_apps_button_hidden",updateCountersTimeout,Nav={getData:function(e){if(e.length){for(var t in navMap){if(navMap.hasOwnProperty(t))if("<"!==t[0])if(e.match(new RegExp("^"+t,"i")))return navMap[t][2]?null:{url:navMap[t][0],files:navMap[t][1]}}return e.match(/^[a-z0-9\-_]+\.php$/i)?{url:e}:{url:navMap["<other>"][0],files:navMap["<other>"][1]}}return{url:navMap["<void>"][0],files:navMap["<void>"][1]}},reload:function(e){if(!(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.reloadCheckFlood)(e)){e=e||{};var t=Nav.strLoc.replace(/^\/+/g,"");e.force?(hab.stop(),location.href="/"+t):(TopNotifier.invalidate(),Nav.go("/"+t,void 0,(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)({nocur:!0},e)))}},link:function(e,t){if((0,_dom_events__WEBPACK_IMPORTED_MODULE_14__.checkEvent)(t)||cur.noAjaxNav){var n=e.replace(new RegExp("^("+locProtocol+"//"+locHost+")?/?","i"),"");window.open(n)}else Nav.go(e)},go:function go(loc,ev){var opts=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Nav.showLessApps(),loc&&loc.href&&loc.getAttribute&&loc.getAttribute("data-change-location-with-post-away")){var newLink=loc.href,_postParams=Nav.getPostParams(loc,!(!opts.params||!opts.params._post_click_type)),postOptions=Nav.mergePostParamsOptions(_postParams,opts.params),extraQuery={};return postOptions._post&&(extraQuery.post=postOptions._post,postOptions._post_ad_data&&(extraQuery.post_ad_data=postOptions._post_ad_data),postOptions._post_click_cc_key&&(extraQuery.cc_key=postOptions._post_click_cc_key),newLink="/away.php?to="+encodeURIComponent(newLink)+"&"+(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.toQueryString)(extraQuery)),location.href=newLink,!1}if(!(0,_dom_events__WEBPACK_IMPORTED_MODULE_14__.checkEvent)(ev)&&!cur.noAjaxNav){if(LongView.onBeforePageChange(),loc.tagName&&"a"===loc.tagName.toLowerCase()){if("_blank"===loc.target||Nav.baseBlank)return;var _params=loc.getAttribute("hrefparams");if(_params&&(opts.params=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)(opts.params||{},(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.fromQueryString)(_params))),loc=loc.href||"",ev&&!(loc||"").match(new RegExp("^"+locProtocol+"//"+locHost,"i")))return}var strLoc="",objLoc={},changed={};"string"==typeof loc?(loc=loc.replace(new RegExp("^("+locProtocol+"//"+locHost+")?/?","i"),""),strLoc=loc,objLoc=Nav.fromStr(loc)):(loc[0]||(loc[0]=""),strLoc=Nav.toStr(loc),objLoc=loc),opts.hard&&(location.href=strLoc),(0,_legacy_performance_stats__WEBPACK_IMPORTED_MODULE_22__.statDurationsLoadImage)(),(0,_legacy_performance_stats__WEBPACK_IMPORTED_MODULE_22__.statNavigationTiming)(),0===strLoc.indexOf("market")&&window.MarketAnalyticsManager&&window.MarketAnalyticsManager.setScreen(window.cur.module);var donutLinkRegex=/^donut\/([A-Za-z0-9_\.]{2,32})/;if(!opts.skipDonutLinkCheck&&strLoc.match(donutLinkRegex)){var source="direct_link",parsedLoc=strLoc.match(donutLinkRegex),ownerDomain=parsedLoc[1],groupDoesntExistsCallback=()=>{nav.go(strLoc,ev,_extends({},opts,{skipDonutLinkCheck:!0}))};return(0,_feature_entries__WEBPACK_IMPORTED_MODULE_24__.showDonutSubscribePopup)(null,null,null,source,"",{type:"subscribe",fromSnippet:!0,onFailCallback:groupDoesntExistsCallback,params:{act:"subscribe_popup"}},ownerDomain),!1}var ap=(0,_feature_entries__WEBPACK_IMPORTED_MODULE_24__.getAudioPlayer)();if(ap&&ap.updateCurrentPlaying&&ap.updateCurrentPlaying(),!opts.nocur){for(var i in changed=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.clone)(objLoc),Nav.objLoc)Nav.objLoc.hasOwnProperty(i)&&(Nav.objLoc[i]===changed[i]?delete changed[i]:void 0===changed[i]&&(changed[i]=!1));if(!1===(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.zNav)((0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.clone)(changed),{hist:opts.hist,asBox:opts.asBox,onDone:opts.onDone},objLoc))return Nav.setLoc(strLoc),!1;bookmarksNav(ev,strLoc);var onArticleNavBack=cur._back&&cur._back.hasOwnProperty("onArticleNavBack")?cur._back.onArticleNavBack:null,isHandled=articleNav(strLoc,Nav.toStr(Nav.objLoc),opts.back,onArticleNavBack,ev);if(isHandled)return Promise.resolve(isHandled).then((()=>{strLoc=cleanArticleUrlByObjLoc(objLoc),Nav.setLoc(strLoc,!0),(Nav.objLoc.z||Nav.objLoc.w)&&(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.zNav)({z:Nav.objLoc.z,w:Nav.objLoc.w},{})})),!1;var isHandledAuthorPage=authorPageNav(strLoc,Nav.toStr(Nav.objLoc),opts.back,opts.postId);if(isHandledAuthorPage)return window.AuthorPage&&window.AuthorPage.isOpen()&&cur.articleEditorLayer&&cur.articleEditorLayer.hide(!1),cur._hardNav?(window.location.href=strLoc,!1):(Nav.setLoc(strLoc),(Nav.objLoc.z||Nav.objLoc.w)&&(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.zNav)({z:Nav.objLoc.z,w:Nav.objLoc.w},{}),!1)}if(!opts.nocur&&(vk.loaded||!changed[0]))for(var curnav=cur.nav||[],_i=curnav.length-1;_i>=0;_i--){var oldUrl=document.URL;if(!1===curnav[_i]((0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.clone)(changed),Nav.objLoc,objLoc,opts)){var currentURL=`${locProtocol}//${location.host}/${strLoc}`,referrer=oldUrl===currentURL?"":oldUrl;return updateCountersTimeout&&clearTimeout(updateCountersTimeout),updateCountersTimeout=setTimeout(_shared_counters_updateCounters__WEBPACK_IMPORTED_MODULE_19__.updateCounters.pbind(currentURL,referrer),10),!1}}if(4===vk.al||!vk.loaded&&(!window.audioPlayer||!audioPlayer.player)&&changed[0])return setTimeout((function(){location.href="/"+(strLoc||"").replace("%23","#")}),0),!1;if(window.Upload&&Upload.terminateAllUploads(),(0,_top_search__WEBPACK_IMPORTED_MODULE_26__.topHeaderClose)(),opts.back){if(cur._back&&cur._back.onBack)return cur._back.onBack(strLoc);for(var _i2=0,l=globalHistory.length;_i2<l;_i2++)if(globalHistory[_i2].loc===strLoc){var _ret=function(){var e=globalHistory.splice(_i2,1)[0],t=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ge)("wrap3"),n=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ge)("title"),r=cur._onback;return window.tooltips&&tooltips.destroyAll(),(0,_dom__WEBPACK_IMPORTED_MODULE_13__.hide)("audio_tip_wrap"),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.processDestroy)(cur),window.radioBtns=e.radioBtns,window.ajaxCache=e.ajaxCache,window.PageID=e.pid,boxQueue.hideAll(!1,!0),layerQueue.clear(),layers.fullhide&&layers.fullhide(!0),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.showBackLink)(),window.cur=e.cur,setTimeout((function(){if(t.innerHTML="",t.parentNode.replaceChild(e.content,t),vk.width===e.width&&vk.width_dec===e.width_dec&&vk.width_dec_footer===e.width_dec_footer||(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.handlePageView)(e),(0,_scroll__WEBPACK_IMPORTED_MODULE_15__.scrollToY)(e.scrollTop,0),(0,_dom__WEBPACK_IMPORTED_MODULE_13__.setDocumentTitle)(e.htitle),n&&(n.innerHTML=e.title,(0,_dom__WEBPACK_IMPORTED_MODULE_13__.setStyle)(n.parentNode,"display",e.hideHeader?"none":"block")),e.bodyClass!==bodyNode.className&&(bodyNode.className=e.bodyClass||"",vk.body_class=e.bodyClass||""),cur._back.show)for(var o=0,a=cur._back.show.length;o<a;o++)cur._back.show[o]();if(!cur.noquickreg&&(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.isFunction)(window.changeQuickRegButton)&&window.changeQuickRegButton(!1),r)for(var i=0,s=r.length;i<s;i++)r[i]();Nav.setLoc(strLoc);var u=e.back||{};setTimeout((function(){_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__.navigationStat.addStatEvent(_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__.navigationStat.getModule(),_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__.NavigationProductionStatEventTypes.BACK),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.showBackLink)(u[0],u[1],u[2]),(Nav.objLoc.z||Nav.objLoc.w)&&(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.zNav)({z:Nav.objLoc.z,w:Nav.objLoc.w},{}),(0,_stl__WEBPACK_IMPORTED_MODULE_27__.updateSTL)(),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.updateLeftMenu)(),(0,_accessibility__WEBPACK_IMPORTED_MODULE_25__.updateAriaElements)(),_top_search__WEBPACK_IMPORTED_MODULE_26__.default.clear()}),10),(0,_feature_entries__WEBPACK_IMPORTED_MODULE_24__.getAudioPlayer)().updateCurrentPlaying()}),10),{v:!1}}();if("object"==typeof _ret)return _ret.v}}var dest=objLoc[0],where;delete objLoc[0];try{where=Nav.getData(dest)}catch(e){where=null}if(null===where){if(opts.throwErrorOnDisabledPath)throw new Error("AL navigation is disabled for this path");return!0}opts.noframe||(opts.tstat=ajax.tGetParam(),ajax.tStart=(new Date).getTime(),opts.bench=!0),opts.params&&opts.params._ref||(opts.params=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)(opts.params||{},{_ref:Nav.objLoc[0]||""})),where.files&&stManager.add(where.files),where.params=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)({__query:dest,al_id:vk.id},objLoc,opts.params||{});var postParamsEl=ev&&ev.target&&ev.target.getAttribute?ev.target:loc&&loc.getAttribute?loc:null,postParams=Nav.getPostParams(postParamsEl,!!where.params._post_click_type);where.params=Nav.mergePostParamsOptions(postParams,where.params),opts.cl_id&&(where.params.fr_click=cur.oid+","+opts.cl_id+","+cur.options.fr_click),opts.tstat&&(where.params._tstat=opts.tstat),opts.permanent&&(where.params._permanent=opts.permanent);var curNavVersion=++NextPageID,done=function done(title,html,js,params){if(curNavVersion===NextPageID){try{params._id=params.id}catch(e){return(0,_ui_util__WEBPACK_IMPORTED_MODULE_16__.topError)(e,{dt:15,type:6,msg:`Error: ${e.message}, (params undefined?), title: ${title}, html: ${html}, js: ${js}`,url:where.url,query:(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.toQueryString)(where.params),answer:arguments.length})}var execTqTasks=e=>{params.exec_on_start&&(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_32__.processExecData)(JSON.stringify(params.exec_on_start),e)},isReloadRequired;if(window.lastScrollTop=(0,_scroll__WEBPACK_IMPORTED_MODULE_15__.scrollGetY)(),opts.bench&&(ajax.tProcess=(new Date).getTime()),isReloadRequired=(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_33__.partConfigEnabled)("static_bump_for_unexpected_state")?+stVersions[jsc("web/common_web.js")]!=+StaticFiles[jsc("web/common_web.js")].v:(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_33__.partConfigEnabled)("is_no_static_bump_experiment_active")?stVersions[jsc("web/common_web.js")]!==StaticFiles[jsc("web/common_web.js")].v:stVersions[jsc("web/common_web.js")]>StaticFiles[jsc("web/common_web.js")].v,isReloadRequired){var _window$Calls;if(Nav.setLoc(params.loc||Nav.strLoc),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.reloadCheckFlood)({force:!0,from:4}))return;if(null===(_window$Calls=window.Calls)||void 0===_window$Calls?void 0:_window$Calls.isInActiveCall)return;location.reload(!0)}else{var newPage=void 0===where.params.al_id||where.params.al_id!=params.id||params.fullPage,tNode=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ge)("title"),wNode=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ge)("wrap3"),_back=cur._back,hist=!1;if((strLoc===(cur._back||{}).loc||newPage||opts.back)&&(_back=!1),(opts.noback||params.level&&(!cur._level||params.level<=cur._level)&&!1!==opts.noback)&&(_back=!1,(opts.noback||cur._level&&params.level<cur._level)&&(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.showBackLink)()),window.tooltips&&tooltips.destroyAll(),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.each)((0,_dom__WEBPACK_IMPORTED_MODULE_13__.geByClass)("page_actions_wrap"),((e,t)=>(0,_dom__WEBPACK_IMPORTED_MODULE_13__.hide)(t))),(0,_dom__WEBPACK_IMPORTED_MODULE_13__.hide)("audio_tip_wrap"),_back){if((0,_video__WEBPACK_IMPORTED_MODULE_21__.revertLastInlineVideo)(null,!0),hist={loc:_back.loc||Nav.strLoc,cur,radioBtns:(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.clone)(radioBtns),ajaxCache,pid:PageID,scrollTop:(0,_scroll__WEBPACK_IMPORTED_MODULE_15__.scrollGetY)(),htitle:document.title.toString(),width:vk.width,width_dec:vk.width_dec,width_dec_footer:vk.width_dec_footer,noleftmenu:vk.noleftmenu,notopmenu:vk.notopmenu,nobottommenu:vk.nobottommenu,bodyClass:vk.body_class,back:!(!_tbLink||!_tbLink.loc)&&[_tbLink.loc,(0,_dom__WEBPACK_IMPORTED_MODULE_13__.val)(_tbLink),_tbLink.fast]},tNode&&tNode.parentNode&&!(0,_dom__WEBPACK_IMPORTED_MODULE_13__.isVisible)(tNode.parentNode)&&(hist.hideHeader=!0),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.globalHistoryDestroy)(hist.loc),globalHistory.length>2){var h=globalHistory.shift();(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.processDestroy)(h.cur),h.content.innerHTML=""}if(cur._back.hide)for(var _i5=0,_l3=cur._back.hide.length;_i5<_l3;_i5++)cur._back.hide[_i5]();_back.text&&(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.showBackLink)(hist.loc,_back.text,1)}else _tbLink&&(_tbLink.fast=0),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.processDestroy)(cur);if(PageID=NextPageID,(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.each)(radioBtns,(function(e,t){t.keep||delete radioBtns[e]})),window.ajaxCache={},boxQueue.hideAll(!1,!0),layerQueue.clear(),layers.fullhide&&layers.fullhide(!0,!0),window.cur={beforeNavigateRequestHandlers:[],destroy:[],nav:[]},window._stlWas=0,newPage){for((0,_dom__WEBPACK_IMPORTED_MODULE_13__.cleanElems)("quick_login_button","quick_expire","search_form","top_links","bottom_nav");globalHistory.length;){var _h=globalHistory.shift();(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.processDestroy)(_h.cur),_h.content.innerHTML=""}var oldTopW=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ge)("dev_top_nav_wrap")&&(0,_dom__WEBPACK_IMPORTED_MODULE_13__.getSize)("dev_top_nav_wrap")[0]||(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ge)("page_header_wrap")&&(0,_dom__WEBPACK_IMPORTED_MODULE_13__.getSize)("page_header_wrap")[0]||0;pageNode.innerHTML=html,execTqTasks(pageNode),oldTopW&&!vk.staticheader&&(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.updateHeaderStyles)({width:oldTopW}),window._tbLink=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ge)("top_back_link");try{_tbLink.style.maxWidth=_tbLink.parentNode.offsetWidth-35+"px"}catch(e){}_browser__WEBPACK_IMPORTED_MODULE_23__.browser.mobile||(0,_layout_utils__WEBPACK_IMPORTED_MODULE_20__.onBodyResize)(!0)}else{if(_back){var newW=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ce)("div",{id:"wrap3"});(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)(hist,{content:wNode.parentNode.replaceChild(newW,wNode),title:tNode?tNode.innerHTML:""}),globalHistory.push(hist),wNode=newW}var _oldTopW=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ge)("dev_top_nav_wrap")&&(0,_dom__WEBPACK_IMPORTED_MODULE_13__.getSize)("dev_top_nav_wrap")[0]||(0,_dom__WEBPACK_IMPORTED_MODULE_13__.ge)("page_header_wrap")&&(0,_dom__WEBPACK_IMPORTED_MODULE_13__.getSize)("page_header_wrap")[0]||0;wNode&&(wNode.innerHTML=html,execTqTasks(wNode)),_oldTopW&&!vk.staticheader&&(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.updateHeaderStyles)({width:_oldTopW}),tNode&&(tNode.innerHTML=title,(title?_dom__WEBPACK_IMPORTED_MODULE_13__.show:_dom__WEBPACK_IMPORTED_MODULE_13__.hide)(tNode.parentNode)),(0,_feature_entries__WEBPACK_IMPORTED_MODULE_24__.getAudioPlayer)().updateCurrentPlaying()}if((0,_layout_utils__WEBPACK_IMPORTED_MODULE_20__.checkPageBlocks)(),(0,_stl__WEBPACK_IMPORTED_MODULE_27__.updateSTL)(),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.updateLeftMenu)(),(0,_accessibility__WEBPACK_IMPORTED_MODULE_25__.updateAriaElements)(),_top_search__WEBPACK_IMPORTED_MODULE_26__.default.clear(),window.LazyLoad&&LazyLoad.scanDelayed(),(0,_nav_utils__WEBPACK_IMPORTED_MODULE_18__.handlePageParams)(params),opts.preventScroll||(opts.scrollTop>0?(0,_scroll__WEBPACK_IMPORTED_MODULE_15__.scrollToY)(opts.scrollTop,0):opts.noscroll||params.noscroll||(0,_scroll__WEBPACK_IMPORTED_MODULE_15__.scrollToTop)(0)),opts.bench&&(ajax.tRender=(new Date).getTime()),Nav.curLoc=params.loc,js){var evalString=`(function(){${js};})()`;if(__debugMode)eval(evalString);else try{eval(evalString)}catch(e){(0,_debug_tools__WEBPACK_IMPORTED_MODULE_12__.logEvalError)(e,evalString)}}ajax._framenext(),opts.onDone&&opts.onDone(),_browser__WEBPACK_IMPORTED_MODULE_23__.browser.mobile&&(0,_layout_utils__WEBPACK_IMPORTED_MODULE_20__.onBodyResize)(),changed.f&&(0,_utils__WEBPACK_IMPORTED_MODULE_28__.handleScroll)(changed.f),Nav.setLoc(params.loc||""),changed[0]&&(window.vkLastNav=Date.now()),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.lTimeout)((function(){(0,_feature_entries__WEBPACK_IMPORTED_MODULE_24__.getAudioPlayer)().updateCurrentPlaying(),TopMenu.toggle(!1)}),_browser__WEBPACK_IMPORTED_MODULE_23__.browser.chrome?100:50)}}};return window.Page&&(Page.postsSave(),Page.postsSend(),Page.postsClearTimeouts()),(0,_ads__WEBPACK_IMPORTED_MODULE_11__.updSeenAdsInfo)(),(0,_ads__WEBPACK_IMPORTED_MODULE_11__.__adsUpdate)("already"),"im"!==Nav.objLoc[0]&&"im"!==changed[0]||(where.params=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)({},where.params,{_full_page:!0})),(0,_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_38__.subscribeOnModuleEvaluated)((()=>{_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__.navigationStat.addStatEvent(_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__.navigationStat.getModule(),_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__.NavigationProductionStatEventTypes.GO)}),!0),Array.isArray(window.cur.beforeNavigateRequestHandlers)&&window.cur.beforeNavigateRequestHandlers.forEach((e=>{"function"==typeof e&&e()})),window.cur.beforeNavigateRequestHandlers=[],!__debugMode&&(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_33__.partConfigEnabled)("measure_module_navigation_stats")&&window.performance.mark(_shared_network_stats_module_navigation_module_navigation_collector_config__WEBPACK_IMPORTED_MODULE_35__.ModuleNavigationStatMarks.web2.PERF_MARK),ajax.post(where.url,where.params,{onDone:function(){var e=arguments;if(__debugMode)done.apply(null,e);else{try{done.apply(null,e)}catch(t){(0,_ui_util__WEBPACK_IMPORTED_MODULE_16__.topError)(t,{dt:15,type:6,url:where.url,query:(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.toQueryString)(where.params),js:e[2],answer:Array.prototype.slice.call(arguments).join("<!>")})}(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_33__.partConfigEnabled)("measure_module_navigation_stats")&&(0,_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_38__.subscribeOnModuleEvaluated)((()=>new _shared_network_stats_module_navigation_module_navigation_collector__WEBPACK_IMPORTED_MODULE_34__.ModuleNavigationStatCollector(_shared_network_stats__WEBPACK_IMPORTED_MODULE_36__.NetworkStatCollectorInstance,_shared_lib_storage__WEBPACK_IMPORTED_MODULE_37__.vkLocalStorage).logEvent()),!0)}},onFail:opts.onFail||function(e){if(e)return setTimeout((0,_message_box__WEBPACK_IMPORTED_MODULE_29__.showFastBox)({title:(0,_lang__WEBPACK_IMPORTED_MODULE_30__.getLang)("global_error")},e).hide,__debugMode?3e4:3e3),!0},frame:opts.noframe?0:1,canReload:!0,showProgress:opts.showProgress,hideProgress:opts.hideProgress,cache:opts.search?1:"",bench:opts.bench}),!1}},setLoc:function(e,t){var n,r;n=r=e,"string"==typeof e?r=Nav.fromStr(e):n=Nav.toStr(e),(t||!(0,_feature_entries__WEBPACK_IMPORTED_MODULE_24__.isArticleLayerOpen)()||n.match(/article_edit(-?\d+_\d+)/))&&(Nav.strLoc=n,Nav.objLoc=r,hab.setLoc(Nav.strLoc))},change:function(e,t,n){var r=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.clone)(Nav.objLoc);return(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.each)(e,(function(e,t){!1===t?delete r[e]:r[e]=t})),Nav.go(r,t,n)},fromStr:function(e){var t=(e=e.split("#"))[0].split("?"),n={0:t[0]||""};return e[1]&&(n["#"]=e[1]),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)((0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.fromQueryString)(t[1]||""),n)},toStr:function(e){var t=(e=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.clone)(e))["#"]||"",n=e[0]||"";delete e[0],delete e["#"];var r=(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.toQueryString)(e);return(r?n+"?"+r:n)+(t?"#"+t:"")},init:function(){window.globalHistory=[],Nav.strLoc=hab.getLoc(),Nav.objLoc=Nav.fromStr(Nav.strLoc)},getPostParams:function(e,t){var n=!(!e||!e.getAttribute),r={};if(!n)return r;var o=e.getAttribute("data-post-id");o&&(r.post_id=o);var a=e.getAttribute("data-parent-post-id");a&&(r.parent_post_id=a);var i=e.getAttribute("data-post-click-type");i&&(r.post_click_type=i);var s=e.getAttribute("mention_id");s&&(r.post_click_mention_id=s);var u=e.getAttribute("data-post-click-cc-key");u&&(r.post_click_cc_key=u);var l=[e.getAttribute("href"),e.getAttribute("data-href")];if((0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.each)(l,(function(e,t){if(t&&"#"!==t)return r.post_click_url=t,!1})),!!i||t){var c=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.gpeByClass)("_ads_block_data_w",e),_=(c=c||(0,_dom__WEBPACK_IMPORTED_MODULE_13__.gpeByClass)("_ads_promoted_post_data_w",e))&&c.getAttribute("data-ad"),d=c&&c.getAttribute("data-ad-block-uid");_&&(r.ad_data=_),d&&(r.ad_block_unique_id=d)}return r},mergePostParamsOptions:function(e,t){if(t=t||{},!e)return t;function n(e,n,r){var o=r&&t[n];return!(!e||o)&&(t[n]=e,!0)}return n(e.post_id,"_post",!0),n(e.parent_post_id,"_parent_post",!0),n(e.post_click_type,"_post_click_type",!0),t._post_click_type&&(n(e.post_click_mention_id,"_post_click_mention_id",!0),n(e.post_click_cc_key,"_post_click_cc_key",!0),n(e.post_click_url,"_post_click_url",!0),n(e.ad_data,"_post_ad_data",!0)&&n(e.ad_block_unique_id,"_post_ad_block_unique_id")),t},showMoreApps(){var e=getShowMoreAppsContainer();e&&(e.classList.add(SHOW_MORE_APPS_SHOWN_CLASSNAME),getShowMoreAppsButton().classList.add(SHOW_MORE_APPS_BUTTON_HIDDEN_CLASSNAME))},showLessApps(){var e=getShowMoreAppsContainer();e&&(e.classList.remove(SHOW_MORE_APPS_SHOWN_CLASSNAME),getShowMoreAppsButton().classList.remove(SHOW_MORE_APPS_BUTTON_HIDDEN_CLASSNAME))},subscribeOnModuleEvaluated:_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_38__.subscribeOnModuleEvaluated,unsubscribeOnModuleEvaluated:_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_38__.unsubscribeOnModuleEvaluated};function getShowMoreAppsContainer(){return document.querySelector(".show_more_apps_container")}function getShowMoreAppsButton(){return document.querySelector(".show_more_apps_button")}function authorPageNav(e,t,n){if(n&&cur.backFromAuthorPage)return delete cur.backFromAuthorPage,!0;var r=e.toLowerCase(),o=window.AuthorPage&&window.AuthorPage.isOpen(),a=r.match(/^(?:%40|@)-?[.a-z0-9_]+(?:\?\w+)?([\?&]z\=[a-z0-9-_]+)*$/);if(a)return!!o||(a[1]?cur._hardNav=!0:(boxRefreshCoords(boxLoader),(0,_dom__WEBPACK_IMPORTED_MODULE_13__.show)(boxLoader),(0,_dom__WEBPACK_IMPORTED_MODULE_13__.show)(boxLayerWrap),stManager.add([jsc("web/author_page.js"),jsc("web/article_layer.js"),"author_page.css","ui_controls.js","ui_controls.css"],(function(){cur.prevAuthorPageUrl=t,window.AuthorPage.showLayer(r)})),!0));if(o){if(/^article_edit([0-9\-]+)_(\d+)/.test(r))return!1;if(n&&window.AuthorPage.isStandalone())return window.location.reload(!0),!0;var i=window.AuthorPage.close(!0);return void 0!==i?i:!!n}}function articleNav(e,t,n,r,o){var a=e.toLowerCase(),i=/^(?:%40|@)-?[.a-z0-9_]+-[a-z0-9-]+(?:[\?&]\w+\=[a-z0-9-_]+)*$/;if(i.test(a))return window.isArticleLayerOpen()||(cur.articlePrevLoc=t),window.WkView&&WkView.hide(!0),window.boxQueue&&boxQueue.hideAll(),stManager.add([jsc("web/article_layer.js"),"article.css"]).then((()=>new Promise((e=>{ArticleLayer.show(a,!0,!1,{ev:o,onShowDone:()=>{cur.articleSequence=Math.max(1,(cur.articleSequence||0)+(n?-1:1)),e()},prepareAsync:!0})}))));if(window.isArticleLayerOpen()){if(n&&ArticleLayer.isStandalone())return window.location.reload(!0),!0;var s=()=>{ArticleLayer.close(),delete cur.articleSequence},u=cur.articlePrevLoc;return delete cur.articlePrevLoc,u&&!i.test(u)?e===u?(s(),r&&r(),!0):(layers.fullhide=function(){s()},!1):(s(),!0)}return!1}function cleanArticleUrlByObjLoc(e){return e&&e.ref&&delete e.ref,Nav.toStr(e)}function bookmarksNav(e){if(e){var t=(0,_dom__WEBPACK_IMPORTED_MODULE_13__.domClosest)("bookmarks_rows",e.target),n=!!(0,_dom__WEBPACK_IMPORTED_MODULE_13__.domClosest)("bookmarks_pages",e.target);if((t||n)&&(n||(0,_dom__WEBPACK_IMPORTED_MODULE_13__.hasClass)(t,"bookmarks_rows_user")||(0,_dom__WEBPACK_IMPORTED_MODULE_13__.hasClass)(t,"bookmarks_rows_group")||(0,_dom__WEBPACK_IMPORTED_MODULE_13__.hasClass)(t,"bookmarks_rows_page"))){var r;if(!(r=t?(0,_dom__WEBPACK_IMPORTED_MODULE_13__.domClosest)("_bookmark_page_item",e.target):(0,_dom__WEBPACK_IMPORTED_MODULE_13__.domClosest)("line_cell",e.target)))return;statlogsValueEvent("bookmarks_product_analytics",{item_type:"page",item_id:(0,_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.intval)((0,_dom__WEBPACK_IMPORTED_MODULE_13__.domData)(r,"id")),time:window.getServerTime()})}}}const __WEBPACK_DEFAULT_EXPORT__=Nav},484426:(e,t,n)=>{"use strict";n.d(t,{initNavCounters:()=>A,updateHeaderStyles:()=>k,updateLeftMenu:()=>S,handlePageCount:()=>x,handlePageParams:()=>L,reloadCheckFlood:()=>B,globalHistoryDestroy:()=>R,showBackLink:()=>N,processDestroy:()=>U,handlePageView:()=>F,zNav:()=>W});n(530522),n(579665),n(95767),n(751876),n(21466),n(991181),n(83276),n(59357),n(66108),n(296253);var r=n(414914),o=n(442699),a=n(116886),i=n(190148),s=n(109847),u=n(427551),l=n(960139),c=n(705456),_=n(826239),d=n(791563),p=n(543339),f=n(621260),h=n(469433),m=n(900233),v=n(561393),g=n(990967),y=n(907851),E=n(712459),w=n(651988),b=n(781183),D=n(382481),C=n(901659),P=n(486353);function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(){window.vkLastNav=Date.now(),window.vkTabLoaded=Date.now()}function k(e){var t=[(0,r.ge)("dev_top_nav_wrap"),(0,r.ge)("page_header_wrap")];(0,o.each)(t,(function(t,n){n&&(0,r.setStyle)(n,e)}))}function S(e){window.__leftMenu&&window.__leftMenu.handleUpdateRequest(e)}function M(e,t,n,s,u){var l="",c="",_='<span class="inl_bl left_count_sign"></span>',d="reqs"===n||n&&n.substr&&"spr"===n.substr(0,3)?5:3,p=(0,r.geByClass1)("left_count_wrap",e);p.classList.toggle("left_count_wrap--highlighted",s);var f=(0,r.hasClass)((0,r.geByClass1)("left_row",e,"a"),"left_nav_over"),h=(0,r.geByClass1)("left_count",e,"span"),m=(0,r.val)(h);t&&((l=t.toString()).length>d&&(c=' title="'+(0,o.stripHTML)((0,a.langNumeric)(t,"%s",!0))+'"',l=".."+l.substr(l.length-d)),_=`<span class="inl_bl left_count" ${c}>${l}</span>`),(0,P.partConfigEnabled)("top_convo_list")&&"msg"===n&&window.TopMessenger&&window.TopMessenger.handleCounterUpdate(u);var v=function(){(0,r.val)(p,_),(t?r.removeClass:r.addClass)(p,"left_void"),(0,r.setStyle)(p,{opacity:""})};if(m||f)if(l)(0,i.animateCount)(h,l,{str:"auto",onDone:v});else if(f){var g=bodyNode.appendChild((0,r.se)('<span class="left_count_wrap"><span class="inl_bl left_count_sign"></span></span>'));g.classList("left_count_wrap--highlighted",s);var y=(0,r.getSize)((0,r.domFC)(g))[0];(0,r.re)(g),m&&"."===m.charAt(0)&&(0,r.val)(h,m.replace("..","")),(0,i.animate)(h,{width:y},100,v)}else(0,i.animate)(p,{opacity:0},100,v);else v(),(0,r.setStyle)(p,{opacity:0}),(0,i.animate)(p,{opacity:1},100)}function I(e,t,n){void 0===e.counts&&(e.counts={}),e.counts[t]=n}function x(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5?arguments[5]:void 0,u=(0,o.intval)(t),l=Math.max(0,u);if(I(window.vk,e,u),"ntf"===e)return window.TopNotifier.setCount(l),void window.TopNotifier.createNewEventsBox(l);if(e!==b.MARKET_EVENT_COUNTER_SECTION_ID){window.vk.onSetCount&&window.vk.onSetCount(e,t);var c=(0,r.ge)("l_"+e);if(c&&(M(c,l,e,!!i&&"msg"===e&&(0,P.partConfigEnabled)("mail_unread_counter_highlight"),"msg"===e?s:0),a&&n)){var _=u>0&&a?"?"+a:"";c.firstChild.href="/"+n+_}var d=(0,r.hasClass)((0,r.domFC)(c),"left_nav_over"),p=u>=0;!p&&d||(0,r.toggle)(c,p),"market_orders"===e&&c&&c.classList.remove("unshown")}else(0,b.updateMarketMenuEventCounter)(`#${e}`,t)}function L(e){vk.id=e.id,e.body_class!==bodyNode.className&&(bodyNode.className=e.body_class||""),(0,g.updateSTL)(),S(!0),void 0!==e.pvbig&&(vk.pvbig=e.pvbig),void 0!==e.pvdark&&(vk.pvdark=e.pvdark),cur._level=e.level,vk.id&&vk.id%1e3==1&&setTimeout((function(){window.scrollmarked={},(0,s.statlogsValueEvent)("page_scroll",0,cur.module,"0")}),300),F(e);var t=(0,r.ge)("mvk_footer_lnk");if(t&&(t.firstChild.href=e.mvklnk||"http://m.vk.com/"),vk.nophone=(0,o.intval)(e.nophone),vk.staticheader=(0,o.intval)(e.staticheader),vk.id){var n=(0,r.ge)("left_blocks");n&&(n.innerHTML=e.leftblocks||"")}"leftads"in e&&0!==e.leftads&&window.__adsSet(e.leftads,e.ads_section||"",e.ads_can_show,e.ads_showed);var a=locProtocol+"//"+location.host+"/";e.loc&&("?"===e.loc.charAt(0)?a+=nav.strLoc:a+=e.loc);var i=document.URL===a?"":document.URL;setTimeout(C.updateCounters.pbind(a,i),10);var l=e.counters;if(l.length){var c="",_="";(0,o.intval)(l[9])>0?(c="adsmarket",_="act=overview&status=-1"):(0,o.intval)(l[9])<-1?(l[9]=1,c="ads",_="act=a_comeback_office_redirect"):c="ads?act=office&last=1";var d=(0,r.ge)("l_set"),p=d&&d.nextSibling||!1,f=["fr","ph","vid","msg","nts","gr","vkp","wsh","ap","ads","ntf","fav","doc","apm","mk"],h=["friends","albums"+vk.id,"video","","notes","groups","vkpay","gifts.php?act=wishlist","apps",c,"feed"+((0,r.ge)("l_nwsf")?"?section=notifications":""),"pages","docs","apps_manage","market"],m=["","act=added","section=tagged","","act=comments","","tab=invitations","","",_,(0,r.ge)("l_nwsf")?"":"section=notifications","","","",""],v=!1;if(e.handlecnts){for(var y=0;y<f.length;y++)x(f[y],l[y],h[y],m[y]);for(var E=p.nextSibling;E;E=E.nextSibling){if(E.tagName&&"li"===E.tagName.toLowerCase()&&(0,r.isVisible)(E)){v=!0;break}if((0,r.hasClass)(E,"more_div"))break}(v?r.show:r.hide)(p),function(e){if(!(0,o.isObject)(e))return;Object.entries(e).forEach((e=>{var t=T(e,2),n=t[0],r=t[1],a=document.getElementById("l_app"+(0,o.intval)(n));a&&M(a,(0,o.intval)(r))}))}(l[17]),setTimeout(u.updSeenAdsInfo,0)}else for(var w=0;w<f.length;w++)vk.counts[f[w]]=l[w]}}function B(e){e=e||{};var t=w.default.get("last_reloaded")||[];t.unshift((0,o.vkNow)());var n=t.length;return n>5&&(t.splice(5,n-5),n=5),w.default.set("last_reloaded",t),!!(5===n&&t[0]-t[4]<2e4)&&((0,l.topError)('<b>Reloading error</b>, please check internet connection, <b><a href="/page-777107_43991681">clear your cache</a></b> and restart your browser.<br>If problem remains, please <a href="/support?act=new">report it here</a>.',{dt:15,type:6,msg:"Reload error, from "+(e.from||0)+", forced "+(e.force||0)+", url "+(e.url||"")+", query "+(e.query||"")}),!0)}function R(e){for(var t=0,n=globalHistory.length;t<n;t++)if(globalHistory[t].loc===e){var r=globalHistory.splice(t,1)[0];U(r.cur),r.content.innerHTML="",--t,--n}}function N(e,t,n){if(_tbLink){var a=e;if(e=(e||"").replace(/^\//,""),_tbLink.loc=e,void 0===n&&(n=0,e))for(var i=0,s=globalHistory.length;i<s;i++)if(globalHistory[i].loc===e){n=1;break}if(a){try{_tbLink.style.maxWidth=_tbLink.parentNode.offsetWidth-35+"px"}catch(e){}(0,o.extend)(_tbLink,{href:"/"+e,innerHTML:t,fast:n}),(0,r.show)(_tbLink),window._stlWas=0}else(0,r.hide)(_tbLink);(0,c.updSideTopLink)(1)}}function U(e){if(e._back&&e._back.hide&&e===cur)for(var t in e._back.hide)if(e._back.hide.hasOwnProperty(t))try{e._back.hide[t]()}catch(e){try{console.log(e.stack)}catch(e){}}if(e.destroy&&e.destroy.length)for(var n in e.destroy)if(e.destroy.hasOwnProperty(n))try{e.destroy[n](e)}catch(e){try{console.log(e.stack)}catch(e){}}}function F(e){var t=(0,r.ge)("footer_wrap"),n=(0,r.ge)("page_layout"),a=(0,r.geByClass1)("TopHomeLink"),i=void 0===e.width?vk.width:e.width,s=void 0===e.width_dec?vk.width_dec:e.width_dec,u=void 0===e.width_dec_footer?vk.width_dec_footer:e.width_dec_footer;if(vk.noleftmenu===e.noleftmenu&&vk.nobottommenu===e.nobottommenu&&vk.width===e.width&&vk.width_dec_footer===e.width_dec_footer||(vk.noleftmenu!==e.noleftmenu&&e.noleftmenu&&(0,r.hide)("side_bar"),vk.nobottommenu!==e.nobottommenu&&(e.nobottommenu?(0,r.hide)("bottom_nav"):(0,r.show)("bottom_nav")),e.noleftmenu&&e.nobottommenu?t&&((0,r.addClass)(t,"simple"),t.style.width="auto"):t&&((0,r.removeClass)(t,"simple"),t.style.width=i-u+"px")),vk.notopmenu!==e.notopmenu&&(e.notopmenu?(0,r.hide)("quick_search","qsearch_border","top_search","top_invite_link","top_menu_wrap"):(0,r.show)("quick_search","qsearch_border","top_search","top_invite_link","top_menu_wrap")),a&&e.top_home_link_class&&vk.top_home_link_class!==e.top_home_link_class&&(a.className=e.top_home_link_class),n&&(i!==vk.width||s!==vk.width_dec)){(0,E.setGlobalCustomProperty)("--layout-width",i+"px"),(0,r.ge)("page_body").style.width=i-s+"px",(0,r.ge)("ts_wrap")&&(0,r.hasClass)((0,r.ge)("ts_wrap"),"vk")&&((0,r.ge)("ts_wrap").style.width=i-191+"px"),setTimeout(c.updSideTopLink.pbind(!0),0),setTimeout(g.updateSTL,0);try{_tbLink.style.maxWidth=_tbLink.parentNode.offsetWidth-35+"px"}catch(e){}}vk.noleftmenu===e.noleftmenu||e.noleftmenu||(0,r.show)("side_bar"),e.to&&(0,r.ge)("quick_login_to")&&(0,r.val)("quick_login_to",e.to),vk.noleftmenu=e.noleftmenu,vk.nobottommenu=e.nobottommenu,vk.top_home_link_class=e.top_home_link_class,vk.notopmenu=e.notopmenu,vk.width=i,vk.width_dec=s,vk.width_dec_footer=u,vk.body_class=e.body_class,vk.staticheader=(0,o.intval)(e.staticheader),vk.no_ads=e.no_ads,vk.ad_preview=e.ad_preview}function W(e,t,n){var a=e.z,i=e.f,s=e.w,u=(a||"").match(/^([a-z_]+)(-?\d+(?:_(?:-)?\d+)?)\/?(.*)/i);if(delete e.z,delete e.f,delete e.w,t||(t={}),(0,o.isEmpty)(e)){if(i&&((0,y.handleScroll)(i),void 0===a))return!1;if(t.hist)if(a||s){if(layerQueue.back("wiki",s,(u||{})[1],(u||{})[2]))return!1}else if(!1===a&&n.w&&layerQueue.back("wiki",n.w))return!1;if(s){var l="";if(!1===a)layers.fullhide(!!t.hist&&2);else{if(s.match(/^story([0-9\-]+)_(\d+)/))return(0,_.showStory)(s);if(s.match(/^narrative([0-9\-]+)_(\d+)(?:_(\d+))?/)){var c=T(s.match(/^narrative([0-9\-]+)_(\d+)(?:_(\d+))?/),4),g=c[1],E=c[2],w=c[3];return(0,_.showNarrative)(g,E,w,"",{source:"narrative_link"})}if(s.match(/^donut_payment(-\d+)/)){var b=nav.objLoc.source,C=Number(s.match(/^donut_payment(-\d+)/)[1]);return(0,h.showDonutSubscribePopup)(null,null,C,b,"",{type:"subscribe",params:{act:"subscribe_popup"}})}if("stories"===s){if(cur.storyLayer)return cur.storyLayer.doHide(),!1}else n||(n=(0,o.clone)(nav.objLoc)),s&&(n.w=s),i&&(n.f=i),delete n.z,nav.setLoc(n),nav.objLoc.ref&&(l=nav.objLoc.ref,delete nav.objLoc.ref)}return(0,h.showWiki)({w:s},"note_new"===s,!1,{onLoaded:a&&W.pbind({z:a},(0,o.extend)(t,{queue:1})),isZnav:1,customRef:l}),!1}if("giftbox"===a)return!(0,d.showBox)("/al_gifts.php",{act:"get_gift_box",mid:t.id||0,fr:t.is&&t.id!==vk.id?0:1,link:nav.objLoc[0]},{stat:["gifts.css","ui_controls.js","ui_controls.css"],cache:1},window.event);if("validatebox"===a)return!(0,p.validateMobileBox)({closeLink:1,onDone:()=>(0,r.ge)("change_phone_wrap").parentNode.removeChild((0,r.ge)("change_phone_wrap"))});if("upload_video"===a)return VideoUpload.showBox();if(!1===a||!1===s){var O=!window.wkcur||!wkcur.shown||layers.fullhide!==WkView.hide;!layers.fullhide||!O&&!1!==s||t.asBox||(!t.hist||n.z||n.w||-1!==n[0].indexOf("/")||n[0].match(/^(photo|video)(-?\d+_\d+)$/)||layerQueue.clear(),layers.fullhide(!!t.hist&&2));var A=(0,f.curBox)();return A&&A.wkRaw&&A.hide(),!1}if(a&&u){var k=function(){return delete nav.objLoc.z,nav.setLoc(nav.objLoc),!0};switch(u[1]){case"photo":return(0,h.showPhoto)(u[2],u[3],(0,o.extend)(t,{onFail:k,noHistory:!0})),!1;case"albums":return(0,h.showAlbums)(u[2],(0,o.extend)(t,{onFail:k,noHistory:!0})),!1;case"album":return(0,h.showAlbum)(u[2],(0,o.extend)(t,{onFail:k,noHistory:!0})),!1;case"tag":case"photo_tag":return(0,h.showPhotoTags)(u[2],(0,o.extend)(t,{onFail:k,noHistory:!0})),!1;case"video":case"clip":var S=u[3],M=(0,o.extend)(t,{onFail:k,noLocChange:1,focusPlay:1});if(S){var I=[],x="";if((0,o.each)(S.split("/"),(function(e,t){0===t.indexOf("pl_")?x=t:I.push(t)})),S=I.join("/"),x){x=x.substr("pl_".length);var L=cur.currentModule?cur.currentModule():cur.module;M=(0,o.extend)(M,{playlistId:x,module:L,addParams:{force_no_repeat:1,show_next:1,playlist_id:x}})}}return"clip"===u[1]&&(M.shortVideo=1),(0,m.showVideo)(u[2],S,M),!1;case"single":return void 0===s&&stManager.add(["single_pv.css",jsc("web/single_pv.js")],(0,r.ge)(a).onclick),!1;case"accept_money":return(0,v.moneyTransferBox)(u[2],u[3]),!1;case"moneysend":var B=D.MoneyTransfer.showMoneyTransferBox({to_id:u[2],from:"public_link"},{},(e=>(B.hide(),setTimeout((0,d.showFastBox)(getLang("global_error"),e).hide,2e3),delete nav.objLoc.z,nav.setLoc(nav.objLoc),!0)));return!1;case"audio_playlist":var R=T(u[2].split("_"),2),N=R[0],U=R[1],F=t.context||"";return AudioUtils.showAudioPlaylist(N,U,u[3],F,void 0,t.onDone),!1;case"article_edit":return h.openArticleEditor.apply(null,u[2].split("_")),!1;case"podcast":return stManager.add([jsc("web/podcast.js"),"page.css"],(()=>{Podcast.show(null,u[2],null,"url")})),!1;case"apps_achievements":return stManager.add([jsc("web/apps_achievements.js")],(()=>{window.AppsAchievementsPage.showFriendAchievements(u[2])})),!1;case"call":var j=()=>{stManager.add(["notifier.js"],(()=>{var e,t=+u[2],n=()=>{var e;return null===(e=window.Calls)||void 0===e?void 0:e.call(t,!1)};(null===(e=window.Calls)||void 0===e?void 0:e.initialized)?n():setTimeout(n,1500),delete nav.objLoc.z,nav.setLoc(nav.objLoc)}))};return(0,P.partConfigEnabled)("calls_open_warning_box_on_call_by_link")?(0,d.showFastBox)({title:getLang("global_warning")},getLang("calls_are_you_sure_to_call_this_user"),getLang("global_share_button_call"),(()=>{window.curBox().hide(),j()}),getLang("global_close")):j(),!1}}}}},606572:(e,t,n)=>{"use strict";n(991181),n(296253),n(528120),n(286702);function r(e){e&&!e.prototype.forEach&&(Array.prototype.forEach?e.prototype.forEach=Array.prototype.forEach:e.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)})}Function.prototype.pbind=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(window),this.bind.apply(this,e)},Function.prototype.rpbind=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(window),this.rbind.apply(this,e)},Function.prototype.rbind=function(){var e=this,t=Array.prototype.slice.call(arguments),n=t.shift(),r=t.shift();return function(){var o=Array.prototype.slice.call(arguments);return e.apply(n,t.concat(o)),r}},Function.prototype.bind||(Function.prototype.bind=function(){var e=this,t=Array.prototype.slice.call(arguments),n=t.shift();return function(){var r=Array.prototype.slice.call(arguments);return e.apply(n,t.concat(r))}}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),r(window.NodeList),r(window.HTMLCollection),!1===window.hasOwnProperty("origin")&&(window.origin=window.location.origin),"prepend"in Element.prototype||(Document.prototype.prepend=Element.prototype.prepend=function(e){this.insertBefore(e,this.firstChild)})},699046:(e,t,n)=>{"use strict";function r(){var e=null,t=window.getSelection();t.getRangeAt&&t.rangeCount&&(e=t.getRangeAt(0));var n=null,r=null,o=0,a=0,i=document.activeElement;return e&&("selectionStart"in i?(n=i,r=i,o=i.selectionStart,a=i.selectionEnd):t.rangeCount&&(n=e.startContainer,r=e.endContainer,o=e.startOffset,a=e.endOffset)),[e,n,o,r,a]}function o(e){var t=window.getSelection();return t.removeAllRanges(),t.addRange(e),e}function a(e,t,n,r){var a=document.createRange();return a.setStart(e,t),a.setEnd(n,r),o(a)}function i(e,t){if(t=t?t+"":"",!browser.msie&&document.execCommand)document.execCommand("insertHTML",!1,t);else if(e){e.deleteContents();var n=cf(t),r=n.lastChild;e.insertNode(n),r&&((e=e.cloneRange()).setStartAfter(r),e.collapse(!0),o(e))}return e}n.d(t,{rangeGet:()=>r,rangeCreate:()=>a,rangeInsert:()=>i})},927663:(e,t,n)=>{"use strict";n.d(t,{scrollToY:()=>s,scrollToTop:()=>u,scrollGetX:()=>l,scrollGetY:()=>c,disableBodyScroll:()=>_,enableBodyScroll:()=>d,isBodyScrollEnabled:()=>p});var r=n(705456),o=n(190148),a=n(414914);function i(){return bodyNode}function s(e,t,n,u,_){if(null==t&&(t=400),"ontouchstart"in document.documentElement&&(t=0),u||(e=Math.max(0,e-(vk.staticheader?0:(0,a.getSize)("page_header_cont")[1]))),(0,a.data)(i(),"tween")&&(0,a.data)(i(),"tween").stop(!1),(0,a.data)(htmlNode,"tween")&&(0,a.data)(htmlNode,"tween").stop(!1),window.scrollAnimation=!1,t){var d=function(){window.scrollAnimation=!1,2===n&&("profile"!=cur.module&&"public"!=cur.module&&"group"!=cur.module&&"groups"!=cur.module&&"event"!=cur.module||!window.Wall||Wall.scrollCheck(!1,void 0,!0),(0,r.updSideTopLink)()),"function"==typeof _&&_()};window.scrollAnimation=!0,(0,o.animate)(htmlNode,{scrollTop:e},{duration:t,transition:o.Fx.Transitions.sineInOut,onComplete:d}),(0,o.animate)(i(),{scrollTop:e},{duration:t,transition:o.Fx.Transitions.sineInOut,onComplete:d})}else{if(n&&2!==n){"profile"!=cur.module&&"public"!=cur.module&&"group"!=cur.module&&"event"!=cur.module||!window.Wall||Wall.scrollCheck(!1,e,!0);var p=c()-e;return Math.abs(p)>6&&s(e+(p>0?6:-6),0,2,!0),(0,r.updSideTopLink)(),clearTimeout(window.scrlToTO),void(window.scrlToTO=setTimeout(s.pbind(e,100,2,!0,_),0))}window.scroll(l(),e),"function"==typeof _&&_(),n||(0,r.updSideTopLink)()}}function u(e){return s(0,e)}function l(){return window.pageXOffset||scrollNode.scrollLeft||document.documentElement.scrollLeft}function c(){return window.pageYOffset||scrollNode.scrollTop||document.documentElement.scrollTop}function _(){i().style.overflow="hidden"}function d(){i().style.overflow="auto"}function p(){return"hidden"!==i().style.overflow}},257451:(e,t,n)=>{"use strict";n.d(t,{makeSharedState:()=>l});var r,o=n(917999),a="__SHARED_STATE_KEY";r=window.hasOwnProperty(a)?window.__SHARED_STATE_KEY:Object.create(null),Object.defineProperty(window,a,{configurable:!0,value:r});var i=()=>window.__SHARED_STATE_KEY,s=e=>i()[e],u={persistIfInitialized:!0},l=(e,t,n)=>{var r=(0,o.defaults)({},n,u),a=e in i(),l=s(e),c=a&&r.persistIfInitialized?l:t(l);((e,t)=>{i()[e]=t})(e,c);return()=>s(e)}},23618:(e,t,n)=>{"use strict";n.d(t,{staticManagerModuleName:()=>p,JS_LOAD_ERROR_TEXT:()=>b,fillStaticFilesData:()=>C,initStaticManager:()=>P});n(796409),n(283946),n(991181),n(751876),n(59357),n(940851),n(296253),n(21466);var r=n(414914),o=n(960139),a=n(442699),i=n(206566),s=n(611386),u=n(324037),l=n(917999),c=n(785124),_={},d=12e4,p="static_manager";function f(){__debugMode&&(d=navigator.connection&&"4g"===navigator.connection.effectiveType?3e3:3e4)}var h=e=>"dist/"+e,m=e=>/\.js$/.test(e),v=e=>/\.css$/.test(e);function g(e){var t="/js/";return stTypes.fromLib[e]?t="/js/lib/":stTypes.fromCompiled&&stTypes.fromCompiled[e]?t="/"+h("web/"):/^lang\d/i.test(e)||stTypes.fromRoot[e]||-1!==e.indexOf("/")?0===e.indexOf("dist")&&(t="/"):t="/js/al/",t}function y(e){return stTypes.fromRoot[e]||e.includes("/")||e.match(/^[\w_-]+\.[0-9a-f]{20}\.css$/)?"":"al/"}function E(e,t,n){var r={message:n,category:c.customBreadcrumbCategory,data:[]};(0,s.logError)(t,{environment:p,breadcrumb:r}),(0,o.topMsg)(`Some problems with loading <b>${e}</b>...`,5),_[e]&&_[e]()}function w(e){return!m(e)&&!v(e)||function(e){for(var t=0;t<vk.stExcludedMasks.length;t++)if(-1!==e.indexOf(vk.stExcludedMasks[t]))return!0;return!1}(e)?"":(0===`${g(t=e)}${t}`.indexOf("dist/")||v(e))&&vk.stDomain||"";var t}var b="timeout error of loading";var D={_addCss:function(e,t){var n=(0,r.ce)("style",{type:"text/css",media:"screen"}),o=(0,r.domNS)(t);return o?headNode.insertBefore(n,o):headNode.appendChild(n),n.sheet?n.sheet.insertRule(e,0):n.styleSheet&&(n.styleSheet.cssText=e),n},_srcPrefix:w,_add:function(e){if(StaticFiles[e]&&StaticFiles[e].isLoading)return StaticFiles[e].isLoading;var t=stVersions[e]||1,n=e.replace(/[\/\.]/g,"_"),r=w(e);return StaticFiles[e]={v:t,n,l:0,c:0},m(e)?function(e){var t=e.fileName,n=e.fileFullName,r=e.domainPrefix,o=g(t);StaticFiles[t].t="js";var a=(new Error).stack;if(t!==h("web/common_web.js")){var i=r+o+n;StaticFiles[t].src=i;var s=new Promise(((e,n)=>{if((0,u.loadScript)(i,(e=>{e&&(StaticFiles[t]=null,n(e))})),i.includes("dist/bundles/"))e();else{var r=setTimeout((()=>E(t,new Error(`${b} ${t}`),a)),d),o=t.replace(/^cmodules\//,"").replace(/^dist\//,"");_[o]=()=>{clearTimeout(r),e(),_[o]=null}}})).catch((e=>(E(t,e,a),Promise.resolve())));return StaticFiles[t].isLoading=s,s}setTimeout((()=>D.done(h("web/common_web.js"))),0)}({fileName:e,fileFullName:e+"?"+t,domainPrefix:r}):v(e)?function(e){var t=e.fileName,n=e.domainPrefix,r=y(t),o=n+(r=t.startsWith("dist/")?"/"+r:"/css/"+r)+t,a=(new Error).stack,i=(0,u.loadStyle)(o).catch((e=>E(t,e,a)));return StaticFiles[t].t="css",StaticFiles[t].isLoading=i,StaticFiles[t].src=o,i}({fileName:e,domainPrefix:r}):void 0},add:function(e,t){var n=[];for(var r in(0,a.isArray)(e)||(e=[e]),e)if(e.hasOwnProperty(r)){var o=e[r];if(o){o.includes("?")&&(o=o.split("?")[0]);var s="";m(o)?s=g(o):v(o)&&(s=y(o)),/^lang\d/i.test(o)?stVersions[o]=stVersions.lang:stVersions[s+o]||(stVersions[s+o]=1);var u=!1;if(window.stDeps){var c=s+o,_="/css/"+s+o,d="";window.stDeps[c]?d=c:window.stDeps[_]&&(d=_),d&&(u=!0,window.stDeps[d].forEach((e=>{n.push(D._add(e))})))}if(__debugMode&&!i.browser.iphone&&!i.browser.ipad&&o!==h("web/common_web.js")&&"common.css"!==o&&stVersions[o]>0&&stVersions[o]<1e9&&(stVersions[o]+=(0,a.irand)(1e9,2e9)),!u){var p=StaticFiles[o];p&&p.v==stVersions[o]?n.push(p.isLoading):n.push(D._add(o,p))}}}return Promise.all(n).then((e=>((0,l.isFunction)(t)&&t(e),e)))},done:function(e){var t,n,r=e;if(t=e,(void 0===(n=window.stDeps)?[]:n)[`${g(t)}${t}`])r=function(e){var t=window.stDeps,n=(void 0===t?[]:t)[`${g(e)}${e}`];return n[n.length-1]}(e);else if(function(e){return!!~e.indexOf("dist/internal/")}(e)&&(!StaticFiles[r]||1===StaticFiles[r].l)){var o=new RegExp(r.replace(/.js$/,".[0-9a-f]{20}.js")),a=!1;Object.keys(StaticFiles).forEach((e=>{o.test(e)&&!StaticFiles[e].l&&(a=e)})),a&&(r=a)}var i=r.replace(/^cmodules\//,"").replace(/^dist\//,"");_[i]&&_[i](),StaticFiles[r]&&(StaticFiles[r].l=1)}};function C(){(0,a.each)(StaticFiles,((e,t)=>{t.t=v(e)?"css":"js",t.n=e.replace(/[\/\.]/g,"_"),t.l=0,t.c=0}))}function P(){window.addEventListener("load",f),window.jsc=h,window.stQueue=_,window.stVersions||(window.stVersions={},window.stTypes={fromLib:{},fromRoot:{}},window.navMap={}),window.StaticFiles||(window.StaticFiles={}),function(){for(var e=0,t=Object.values(window.StaticFiles);e<t.length;e++)t[e].isLoading=Promise.resolve()}(),window.stManager||(window.stManager=D)}},109847:(e,t,n)=>{"use strict";n.d(t,{statlogsValueEvent:()=>o.statlogsValueEvent,serviceGroups:()=>_,serviceGroupsCatalog:()=>d,serviceSearchCommunities:()=>p,serviceEvents:()=>f,serviceFriends:()=>h,serviceSearchPeople:()=>m,serviceFriendsFind:()=>v,serviceWallUsers:()=>g,serviceWallGroups:()=>y,serviceWall:()=>E,serviceSearchStatuses:()=>w,serviceNews:()=>b,serviceSearchAudio:()=>D,serviceBookmarksGroups:()=>C,serviceBookmarksUsers:()=>P,serviceAppsList:()=>T,serviceApps:()=>O,serviceAppsManage:()=>A,serviceSearchVideo:()=>k,serviceTopSearch:()=>S,servicePhotos:()=>M,serviceDocs:()=>I,serviceMessages:()=>x,serviceAudio:()=>L,serviceSearchAuto:()=>B,serviceManage:()=>R,serviceVideo:()=>N,serviceMarket:()=>U,serviceMarketV2:()=>F,serviceMarketV2Suggester:()=>W,serviceMarketGroups:()=>j,serviceUserFriends:()=>K,serviceGamesCatalog:()=>H,clickTypeEmpty:()=>V,clickTypeSuggester:()=>z,clickTypeJoinGroupOut:()=>ve,clickTypeLeaveGroupOut:()=>ge,clickTypeAddFriendOut:()=>ye,clickTypeRemoveFriendOut:()=>Ee,outOfSerpGroup:()=>we,outOfSerpProfile:()=>be,blockNameEmpty:()=>De,blockNameOwn:()=>Ce,blockNameSearch:()=>Pe,docTypeEmpty:()=>qe,getSearchPosition:()=>Je,tryLogOutOfSerpClick:()=>ot,removeOutOfSerpClickLogging:()=>at,logClick:()=>it,logSearch:()=>st,removeSearchPositionTracker:()=>lt,logLeftMenuClicks:()=>ct,saveSearchAttemptStats:()=>_t,generateQID:()=>dt});n(579665),n(95767),n(530522),n(66108),n(991181),n(296253),n(751876),n(59357);var r=n(442699),o=n(986900),a=n(190302);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=u(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c={},_="groups",d="groups_catalog",p="search_communities",f="events",h="friends",m="search_people",v="friends_find",g="wall_users",y="wall_groups",E="wall",w="search_statuses",b="news",D="search_audio",C="bookmarks_groups",P="bookmarks_users",T="apps_list",O="apps",A="apps_manage",k="search_video",S="top_search",M="photos",I="docs",x="messages",L="audio",B="search_auto",R="manage",N="video",U="market",F="market_v2",W="market_v2_suggester",j="market_groups",K="user_friends",H="games_catalog",V="",q="tap",z="click_suggester",Y="join_group",$="leave_group",G="fave",X="unfave",Q="write_msg",J="add_friend",Z="remove_friend",ee="restore_friend",te="show_photo",ne="add",re="remove",oe="play",ae="open_artist",ie="open_author_group",se="open_author_user",ue="open_author",le="show_similar",ce="search_by_tag",_e="edit",de="like",pe="comment",fe="share",he="mark_as_spam",me="stats",ve="join_group_out",ge="leave_group_out",ye="add_friend_out",Ee="remove_friend_out",we="group",be="profile",De="",Ce="own",Pe="search",Te="search_audio",Oe="search_people",Ae="search_groups",ke="search_video",Se="search_posts",Me="own_playlists",Ie="global_clips",xe="own_audios",Le="search_artists",Be="search_playlists",Re="search_audios",Ne="own_conversations",Ue="own_messages",Fe="own_albums",We="own_videos",je="search_promo_albums",Ke="search_videos",He="serps",Ve="SERPS_LOGS_DATA_LOCK",qe="",ze="user",Ye="group",$e="event",Ge="public",Xe="grid",Qe="list";function Je(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,u=0,l="",c=0,_=1,d=0,p=0;return e&&(isArray(n)||(n=[n]),n.some((n=>{var f,h=e.classList.contains(n)?e:gpeByClass(n,e),m=0;if(h&&(f=r?bodyNode.querySelectorAll(r):h.parentNode.children)){if((u=[...f].indexOf(h)+1)&&o)for(var v in o)if(o.hasOwnProperty(v)){var g=bodyNode.querySelectorAll(o[v]);if(g){var y=[...g].indexOf(h)+1;if(y){c=y,l=v;break}}_++,m++}if(a){var E,w=s(a);try{for(w.s();!(E=w.n()).done;){var b=E.value,D=gpeByClass(b,e);D&&(_=D.getAttribute("data-block-num"))}}catch(e){w.e(e)}finally{w.f()}}var C=i(t(h,m),2);return d=C[0],p=C[1],!0}}))),[u,d,p,l,c,_]}function Ze(e,t,n,r,o,a){if(c[e]){var s=a.target;if(s&&s.classList)switch(e){case _:return void function(e,t,n,r,o,a){if(!t)return;var s=a.classList,u=a.outerHTML,l=a.tagName,c=i(Je(a,(e=>{var t=e.getAttribute("id")||e.getAttribute("data-id");return[0,"-"+(t=t?t.replace("gl_groups","").replace("gl_admin",""):0)]}),["_gl_row","search_row"],"#groups_list_tab_groups ._gl_row, #groups_list_search_wrap ._gl_row, #results .search_row, #groups_list_search_wrap .search_row",{[Ce]:"#groups_list_tab_groups ._gl_row",[Pe]:"#groups_list_search_wrap ._gl_row, #groups_list_search_wrap .search_row"}),5),_=c[1],d=c[2],p=c[3],f=c[4];if(!f)return;p===Ce&&(r=0,o="");var h=V;if(s.contains("group_row_title")||s.contains("group_row_img")||s.contains("highlight")||s.contains("search_item_img")||"A"===l&&-1!==u.indexOf("return nav.go")){var m=gpeByClass("group_list_row",a)||gpeByClass("groups_row",a);if(!m)return;if(m.hasAttribute("data-clicked"))return;m.setAttribute("data-clicked",!0),h=q}(s.contains("flat_button")&&!s.contains("secondary")||s.contains("search_sub_button"))&&(h=Y);(s.contains("flat_button")&&s.contains("secondary")||s.contains("search_unsub_button"))&&(h=$);if(p===Ce&&-1!==u.indexOf("GroupsList.subscribe")){if(s.contains("ui_actions_menu"))return;h=Y,!cur.scrollList.deleted[-d]&&(h=$)}if(p===Ce&&-1!==u.indexOf("GroupsList.toggleFave")){if(s.contains("ui_actions_menu"))return;h=G,"1"===a.getAttribute("data-value")&&(h=X)}if(h===V)return;rt(),h===q&&nt(we,e,p,f,n,t,d,_,r,o);it(e,p,f,h,n,t,d,_,r,o,qe)}(e,t,n,r,o,s);case p:return void function(e,t,n,r,o,a){if(!t)return;var s=a.classList,u=a.outerHTML,l=a.tagName,c=i(Je(a,(e=>{var t=e.getAttribute("data-id");return t||(t=0),[0,"-"+t]}),"search_row","#results .search_row"),3),_=c[0],d=c[1],p=c[2];if(!_)return;var f=V;if(s.contains("search_item_img")||s.contains("highlight")||"A"===l&&-1!==u.indexOf("return nav.go")){var h=gpeByClass("groups_row",a);if(!h)return;if(h.hasAttribute("data-clicked"))return;h.setAttribute("data-clicked",!0),f=q}s.contains("search_sub_button")&&(f=Y);s.contains("search_unsub_button")&&(f=$);if(f===V)return;rt(),f===q&&nt(we,e,De,_,n,t,p,d,r,o);it(e,De,_,f,n,t,p,d,r,o,qe)}(e,t,n,r,o,s);case d:return void function(e,t,n,r,o,a){if(!t)return;var s=a.classList,u=a.outerHTML,l=a.tagName,c=i(Je(a,(e=>{var t=e.getAttribute("data-id");return t||(t=0),[0,"-"+t]}),"search_row","#results .search_row"),3),_=c[0],d=c[1],p=c[2],f=V;if(s.contains("search_item_img")||s.contains("highlight")||"A"===l&&-1!==u.indexOf("return nav.go")){var h=gpeByClass("groups_row",a);if(!h)return;if(h.hasAttribute("data-clicked"))return;h.setAttribute("data-clicked",!0),f=q}s.contains("search_sub_button")&&(f=Y);s.contains("search_unsub_button")&&(f=$);if(f===V)return;rt(),f===q&&nt(we,e,De,_,n,t,p,d,r,o);it(e,De,_,f,n,t,p,d,r,o,qe)}(e,t,n,r,o,s);case f:return void function(e,t,n,r,o,a){var s=a.classList,u=a.outerHTML,l=a.parentElement?a.parentElement.classList:null,c=i(Je(a,(e=>{var t=e.getAttribute("data-id");return t||(t=0),[0,"-"+t]}),"search_row","#groups_list_in_tab_search_all .search_row"),3),_=c[0],d=c[1],p=c[2];if(!_)return;var f=V;if(s.contains("search_item_img")||-1!==u.indexOf("return nav.go")&&l&&l.contains("title")){var h=gpeByClass("search_row",a);if(!h)return;if(h.hasAttribute("data-clicked"))return;h.setAttribute("data-clicked",!0),f=q}s.contains("search_sub_button")&&(f=Y);s.contains("search_unsub_button")&&(f=$);if(f===V)return;rt(),f===q&&nt(we,e,De,_,n,t,p,d,r,o);it(e,De,_,f,n,t,p,d,r,o,qe)}(e,t,n,r,o,s);case h:case K:return void function(e,t,n,r,o,a){var s=a.classList,u=a.outerHTML,l=a.tagName,c=i(Je(a,(e=>{var t=e.getAttribute("id");return[0,t=t?t.replace("friends_user_row",""):0]}),"friends_user_row","#list_content .friends_user_row, #friends_search_cont .friends_user_row",{[Ce]:"#list_content .friends_user_row",[Pe]:"#friends_search_cont .friends_user_row"}),5),_=c[1],d=c[2],p=c[3],f=c[4];if(!f)return;var h=V;p===Ce&&-1!==u.indexOf("showWriteMessageBox")&&(h=Q);p===Ce&&-1!==u.indexOf("deleteFriend")&&(h=Z);p===Ce&&s.contains("friends_restore_link")&&(h=ee);s.contains("ui_zoom_icon")&&(h=te);p===Pe&&a.id&&-1!==a.id.indexOf("friends_subsc")&&(h=J);p===Pe&&a.id&&-1!==a.id.indexOf("friends_unsubsc")&&(h=Z);if(s.contains("friends_photo_img")||p===Ce&&"A"===l&&-1!==u.indexOf("return nav.go")||p===Pe&&"A"===l&&0===s.length){var m=gpeByClass("friends_user_row",a);if(!m)return;if(m.hasAttribute("data-clicked"))return;m.setAttribute("data-clicked",!0),h=q}if(h===V)return;rt(),h===q&&nt(be,e,p,f,n,t,d,_,r,o);it(e,p,f,h,n,t,d,_,r,o,qe)}(e,t,n,r,o,s);case v:return void function(e,t,n,r,o,a){var s=a.classList,u=a.outerHTML,l=a.parentElement?a.parentElement.classList:null;if(!t)return;var c=i(Je(a,(e=>[0,e.getAttribute("data-id")||0]),"search_row","#results .search_row"),3),_=c[0],d=c[1],p=c[2];if(!_)return;var f=V;if(s.contains("search_item_img")||-1!==u.indexOf("return nav.go")&&l&&l.contains("name")){var h=gpeByClass("people_row",a);if(!h)return;if(h.hasAttribute("data-clicked"))return;h.setAttribute("data-clicked",!0),f=q}s.contains("search_sub_button")&&(f=J);s.contains("search_unsub_button")&&(f=Z);if(f===V)return;rt(),f===q&&nt(be,e,De,_,n,t,p,d,r,o);it(e,De,_,f,n,t,p,d,r,o,qe)}(e,t,n,r,o,s);case m:return void function(e,t,n,r,o,a){var s=a.classList,u=a.outerHTML,l=a.parentElement?a.parentElement.classList:null;if(!t)return;var c=i(Je(a,(e=>[0,e.getAttribute("data-id")||0]),"search_row","#results .search_row"),3),_=c[0],d=c[1],p=c[2];if(!_)return;var f=V;if(s.contains("search_item_img")||-1!==u.indexOf("return nav.go")&&l&&l.contains("name")){var h=gpeByClass("people_row",a);if(!h)return;if(h.hasAttribute("data-clicked"))return;h.setAttribute("data-clicked",!0),f=q}s.contains("search_sub_button")&&(f=J);s.contains("search_unsub_button")&&(f=Z);if(f===V)return;rt(),f===q&&nt(be,e,De,_,n,t,p,d,r,o);it(e,De,_,f,n,t,p,d,r,o,qe)}(e,t,n,r,o,s);case B:return void function(e,t,n,r,o,a){var s=a.classList,u=a.tagName,l=a.outerHTML,c=i(Je(a,(e=>{var t="",n=e.classList;if(n.contains("_audio_row"))t=e.getAttribute("data-full-id");else{if(n.contains("people_row"))return[0,t=e.getAttribute("data-id")||0];if(n.contains("groups_row"))return[0,"-"+(t=e.getAttribute("data-id")||0)];n.contains("_video_item")?t=e.getAttribute("data-id"):n.contains("_post")&&(t=(t=e.getAttribute("id")||"").replace("post",""))}return t&&t.indexOf("_")?t.split("_"):[0,t]}),["_audio_row","search_row","_video_item","_post"],"\n      ._search_results ._audio_row,\n      ._search_results .search_row,\n      ._search_results ._video_item,\n      #results ._post\n    ",{[Te]:"._search_results ._audio_row",[Oe]:"._search_results .people_row",[Ae]:"._search_results .groups_row",[ke]:"._search_results ._video_item",[Se]:"#results ._post"},["search_audio_media","search_people_media","search_communities_media","search_video_media"]),5),_=c[1],d=c[2],p=c[3],f=c[4];if(!f)return;var h=V;switch(p){case ke:s.contains("icon_add")&&(h=ne),s.contains("icon_added")&&(h=re),(s.contains("video_thumb_play")||s.contains("video_item_controls")||s.contains("video_item_title"))&&(h=oe),s.contains("al_need_login")&&(h=ae),s.contains("group_link")&&(h=ie),s.contains("mem_link")&&(h=se);break;case Te:(s.contains("audio_row__play_btn")||s.contains("audio_row__performer_title")||s.contains("audio_row__title")||s.contains("audio_row__title_inner")||s.contains("audio_row__title_inner_subtitle")||s.contains("audio_row__inner")||s.contains("audio_player__place")||s.contains("audio_row__action_next"))&&(h=oe),s.contains("audio_row__action_add")&&(h=ne),"A"===u&&(h=ae);break;case Oe:"A"===u&&-1!==l.indexOf("searcher.subscribe")&&(h=Z),s.contains("add_btn")&&(h=J),s.contains("search_item_img")&&(h=q,nt(be,e,p,f,n,t,d,_,r,o));break;case Ae:(s.contains("search_item_img")||"A"===u&&-1!==l.indexOf("return nav.go"))&&(h=q,nt(we,e,p,f,n,t,d,_,r,o));break;case Se:gpeByClass("post",a,"div#results")&&(h=q)}if(h===V)return;it(e,p,f,h,n,t,d,_,r,o,qe)}(e,t,n,r,o,s);case C:return void function(e,t,n,r,o,a){var s=a.classList,u=a.outerHTML,l=i(Je(a,(e=>{var t=e.getAttribute("data-id");return t||(t=0),[0,t]}),"_bookmark_page_item"),3),c=l[0],_=l[1],d=l[2];if(!c)return;var p=V;if(s.contains("group_link")||s.contains("bookmark_page_item__image")){var f=gpeByClass("_bookmark_page_item",a);if(!f)return;if(f.hasAttribute("data-clicked"))return;f.setAttribute("data-clicked",!0),p=q}(s.contains("ui_zoom")||s.contains("ui_zoom_icon"))&&(p=te);-1!==u.indexOf("Bookmarks.removeBookmark")&&(p=X);if(p===V)return;rt(),p===q&&nt(we,e,De,c,n,t,d,_,r,o);it(e,De,c,p,n,t,d,_,r,o,qe)}(e,t,n,r,o,s);case P:return void function(e,t,n,r,o,a){var s=a.classList,u=a.outerHTML,l=i(Je(a,(e=>{var t=e.getAttribute("data-id");return t||(t=0),[0,t]}),"_bookmark_page_item"),3),c=l[0],_=l[1],d=l[2];if(!c)return;var p=V;if(s.contains("mem_link")||s.contains("bookmark_page_item__image")){var f=gpeByClass("_bookmark_page_item",a);if(!f)return;if(f.hasAttribute("data-clicked"))return;f.setAttribute("data-clicked",!0),p=q}(s.contains("ui_zoom")||s.contains("ui_zoom_icon"))&&(p=te);-1!==u.indexOf("Bookmarks.removeBookmark")&&(p=X);if(p===V)return;rt(),p===q&&nt(be,e,De,c,n,t,d,_,r,o);it(e,De,c,p,n,t,d,_,r,o,qe)}(e,t,n,r,o,s);case D:!function(e,t,n,r,o,a){var s=a.classList,u=a.tagName;if(gpeByClass("ap_layer_wrap",a))return;if(!gpeByClass("search_results",a))return;var l=i(Je(a,(e=>{var t=e.getAttribute("data-full-id");return t&&t.indexOf("_")?t.split("_"):[0,0]}),"_audio_row"),3),c=l[0],_=l[1],d=l[2];if(!c)return;var p=V;(s.contains("audio_row__cover_icon")||s.contains("audio_row__performer_title")||s.contains("audio_row__title")||s.contains("audio_row__title_inner")||s.contains("audio_row__title_inner_subtitle")||s.contains("audio_row__inner")||s.contains("audio_player__place")||s.contains("audio_row__action_next")||s.contains("audio_row__performers"))&&(p=oe);s.contains("audio_row__action_add")&&(p=ne);"A"===u&&(p=ae);if(p===V)return;it(e,De,c,p,n,t,d,_,r,o,qe)}(e,t,n,r,o,s);break;case k:return void function(e,t,n,r,o,a){var s=a.classList,u=i(Je(a,(e=>{var t=e.getAttribute("data-id");return t&&t.indexOf("_")?t.split("_"):[0,0]}),"_video_item","#results ._video_item"),3),l=u[0],c=u[1],_=u[2];if(!l)return;var d=V;(s.contains("video_thumb_play")||s.contains("video_item_controls")||s.contains("video_thumb_label_item")||s.contains("video_thumb_label")||s.contains("video_item_title")||s.contains("mv_subtitle"))&&(d=oe);(s.contains("icon_add")||s.contains("video_thumb_action_add")||s.contains("VideoCard__action--add"))&&(d=ne);s.contains("icon_added")&&(d=re);s.contains("group_link")&&(d=ie);s.contains("al_need_login")&&(d=ae);s.contains("mem_link")&&(d=se);if(d===V)return;it(e,De,l,d,n,t,_,c,r,o,qe)}(e,t,n,r,o,s);case L:return void function(e,t,n,r,o,a){var s=a.classList,u=a.tagName,l=a.parentElement?a.parentElement.classList:null,c=i(Je(a,((e,t)=>{var n="";switch(t){case 1:case 4:n=e.getAttribute("data-full-id");break;case 0:case 3:n=e.getAttribute("data-raw-id");break;case 2:n=e.getAttribute("data-title")}return n&&n.indexOf("_")?n.split("_"):n?[n,0]:[0,0]}),["_audio_pl_item","audio_block_small_item","_audio_row","_video_item"],"\n        ._audio_section__search ._audio_pl_item,\n        ._audio_section__search ._audio_row,\n        ._audio_section__search .audio_block_small_item,\n        ._audio_section__search .video_item,\n        ._audio_search_blocks ._audio_row,\n        ._audio_search_blocks ._video_item,\n        ._audio_search_blocks ._audio_pl_item,\n        ._audio_search_blocks .audio_block_small_item\n      ",{[Be]:".CatalogBlock__search_global_albums ._audio_pl_item",[xe]:".CatalogBlock__search_owned_audios ._audio_row",[Re]:".CatalogBlock__search_global_audios ._audio_row",[Le]:".CatalogBlock__search_global_artists .audio_block_small_item",[Ie]:".CatalogBlock__search_global_clips .video_item",[Me]:'._audio_page_block__playlists_items[data-audio-context="search_owned_playlist"] ._audio_pl_item'}),5),_=c[1],d=c[2],p=c[3],f=c[4];if(!f)return;var h=V;s.contains("audio_row__action_more")||l&&l.contains("audio_row__actions")||(h=oe);s.contains("audio_row__action_next")&&(h=oe);p===xe&&s.contains("audio_row__action_recoms")&&(h=le);p===xe&&s.contains("audio_row__action_delete")&&(h=re);p===xe&&s.contains("audio_row__action_add")&&(h=ne);p===Re&&s.contains("audio_row__action_add")&&(h=ne);p===Ie&&s.contains("icon_add")&&(h=ne);p===Ie&&s.contains("icon_added")&&(h=re);"A"===u&&(h=ae);if(h===V)return;it(e,p,f,h,n,t,d,_,r,o,qe)}(e,t,n,r,o,s);case S:return void function(e,t,n,r,o,a){var s=a.classList,u=a;s.contains("ts_contact")||(u=gpeByClass("ts_contact",a,"div#ts_cont_wrap"));var l=i(Je(u,(()=>[0,(u.id||"").replace("ts_contact","")]),"ts_contact","#ts_cont_wrap .ts_contact"),3),c=l[0],_=l[1],d=l[2];if(!c)return;var p=q,f=qe;switch(u.getAttribute("hinttype")){case"h_friends":f=ze,s.contains("ts_contact_status")&&(p=Q);break;case"h_mutual_friends":case"s_people":case"h_mail_peers":f=ze;break;case"h_vk_apps":case"h_apps":f="app";break;case"h_events":f=$e;break;case"h_publics":f=Ge;break;case"h_visited":case"s_groups":f=Ye}it(e,De,c,p,n,t,d,_,r,o,f)}(e,t,n,r,o,s);case N:return void function(e,t,n,r,o,a){var s=a.classList,u=i(Je(a,((e,t)=>{var n="";switch(t){case 1:case 3:n=e.getAttribute("data-id")}return n&&n.indexOf("_")?n.split("_"):[0,0]}),["video_playlist_item","_video_item"],"\n        #video_layout_search .video_playlist_item,\n        #video_layout_search ._video_item\n      ",{[Fe]:"#video_subtab_pane_search_albums .video_playlist_item",[We]:"#video_subtab_pane_search_videos ._video_item",[je]:"#video_subtab_pane_search_promo_albums .video_playlist_item",[Ke]:"#video_subtab_pane_search_global_videos ._video_item"}),5),l=u[1],c=u[2],_=u[3],d=u[4];if(!d)return;var p=V;(s.contains("icon_add")||s.contains("video_thumb_action_add")||s.contains("VideoCard__action--add"))&&(p=ne);s.contains("icon_added")&&(p=re);_===We&&s.contains("video_restore_act")&&(p=ne);_===We&&s.contains("video_thumb_action_delete")&&(p=re);(s.contains("video_item_title")||s.contains("video_item_controls")||s.contains("video_thumb_label_item")||s.contains("video_thumb_play"))&&(p=oe);s.contains("group_link")&&(p=ie);s.contains("al_need_login")&&(p=ae);s.contains("mem_link")&&(p=se);if(p===V)return;it(e,_,d,p,n,t,c,l,r,o,qe)}(e,t,n,r,o,s);case U:case j:return void function(e,t,n,r,o,a){var s=a.classList,u=Xe;gpeByClass("market_row_line",a,".marketplace_content_search")&&(u=Qe);var l=u===Xe?"_market_row":"market_row_line",c=i(Je(a,(e=>[0,e.getAttribute("data-id")||0]),l,"#marketplace_content ."+l),3),_=c[0],d=c[1],p=c[2];if(!_)return;var f=V;switch(u){case Qe:(s.contains("market_row_img")||s.contains("link"))&&(f=q),s.contains("market_favourite")&&!s.contains("selected")&&(f=G),s.contains("market_favourite")&&s.contains("selected")&&(f=X),s.contains("mem_link")&&(f=se),s.contains("group_link")&&(f=ie);break;case Xe:f=q,(s.contains("icon")||s.contains("fav"))&&(f=G),s.contains("market_row_user_link")&&(f=se)}if(f===V)return;it(e,De,_,f,n,t,p,d,r,o,qe)}(e,t,n,r,o,s);case F:return void function(e,t,n,r,o,a){var s=a.classList,u=i(Je(a,(e=>[+e.getAttribute("data-owner-id"),+e.getAttribute("data-id")]),"MarketCatalogProduct__serpItem"),3),l=u[0],c=u[1],_=u[2];if(!l)return;var d=V;s.contains("MarketCatalogProduct__serpTap")&&(d=q);s.contains("MarketCatalogProduct__serpAddFav")&&(d=G);s.contains("MarketCatalogProduct__serpRemoveFav")&&(d=X);s.contains("MarketCatalogProduct__serpOwnerGroup")&&(d=ie);s.contains("MarketCatalogProduct__serpOwnerUser")&&(d=se);if(d===V)return;it(e,De,l,d,n,t,_,c,r,o,qe)}(e,t,n,r,o,s);case x:return void function(e,t,n,r,o,a){var s=i(Je(a,(e=>{var t=e.getAttribute("data-peer");return t||(t=0),[0,t]}),"_im_dialog","._im_page_dcontent ._im_dialog",{[Ne]:"._im_page_dcontent ._im_dialog:not(._im_search)",[Ue]:"._im_page_dcontent ._im_dialog._im_search"}),5),u=s[1],l=s[2],c=s[3],_=s[4];if(!_)return;it(e,c,_,q,n,t,l,u,r,o,qe)}(e,t,n,r,o,s);case I:return void function(e,t,n,r,o,a){var s=a.classList,u=a.outerHTML,l=i(Je(a,(e=>{var t=e.getAttribute("id");return t&&(t=t.replace("docs_file_","")),t&&t.indexOf("_")?t.split("_"):[0,0]}),"_docs_item","#docs_list ._docs_item, #docs_search_list ._docs_item",{[Ce]:"#docs_list ._docs_item",[Pe]:"#docs_search_list ._docs_item"}),5),c=l[1],_=l[2],d=l[3],p=l[4];if(!p)return;var f=V;d===Pe&&s.contains("docs_add_row")&&(f=ne);d===Ce&&s.contains("docs_delete_row")&&(f=re);d===Ce&&-1!==u.indexOf("Docs.restoreItem")&&(f=ne);d===Ce&&s.contains("docs_edit_row")&&(f=_e);(s.contains("highlight")||s.contains("docs_item_thumb_img")||s.contains("docs_item_icon")||s.contains("docs_item_name"))&&(f=q);-1!==u.indexOf("Docs.tagSearch")&&(f=ce);if(f===V)return;it(e,d,p,f,n,t,_,c,r,o,qe)}(e,t,n,r,o,s);case T:case O:return void function(e,t,n,r,o,a){var s=i(Je(a,(e=>{var t=e.getAttribute("id");return[0,t=t?t.replace("app",""):0]}),"_apps_cat_row"),3),u=s[0],l=s[1],c=s[2];if(!u)return;var _=q;if(_===V)return;it(e,De,u,_,n,t,c,l,r,o,qe)}(e,t,n,r,o,s);case H:return void function(e,t,n,r,o,a){var s=a.classList,u=i(Je(a,(e=>[0,e.getAttribute("data-app-id")||0]),"GameCatalogSearchCard"),3),l=u[0],c=u[1],_=u[2];if(!l)return;var d=V;(s.contains("GameCatalogSearchCard__screenshotImg")||s.contains("GameCatalogSearchCard__run")||s.contains("GameCatalogSearchCard__avatar")||s.contains("GameCatalogSearchCard__name"))&&(d=oe);if(d===V)return;it(e,De,l,d,n,t,_,c,r,o,qe)}(e,t,n,r,o,s);case M:return void function(e,t,n,r,o,a){var s=i(Je(a,(()=>{var e=a.getAttribute("href")||"",t=(e=e.replace("/photo","")).split("_");return 2!==t.length?[0,0]:[t[0],t[1]]}),"page_post_thumb_wrap","._feed_rows .page_post_thumb_wrap"),3),u=s[0],l=s[1],c=s[2];if(!u)return;it(e,De,u,q,n,t,c,l,r,o,qe)}(e,t,n,r,o,s);case g:case y:case E:case w:case b:return void function(e,t,n,r,o,a){var s=a.classList,u=a.outerHTML;if(gpeByClass("replies",a,".post"))return;var l="feed_row",c="";e!==w&&e!==g&&e!==y||(l="post");e!==g&&e!==y||(c="#page_search_posts .post");var _=i(Je(a,(e=>{var t;if(e.classList.contains("post"))t=e;else{var n=e.getElementsByClassName("post");if(0===n.length)return[0,0];t=n[0]}if(!t)return[0,0];var r=(t.getAttribute("data-post-id")||"").split("_");return 2===r.length?r:[0,0]}),l,c),3),d=_[0],p=_[1],f=_[2];if(!d)return;var h=V;(gpeByClass("wall_text",a,".post")||s.contains("wall_text"))&&(h=q);(s.contains("author")||s.contains("post_img")||s.contains("copy_author")||s.contains("copy_post_img"))&&(h=ue);(s.contains("rel_date")||s.contains("published_by_date"))&&(h=q);(gpeByClass("like",a,".post")||s.contains("like"))&&(h=de);(gpeByClass("comment",a,".post")||s.contains("comment"))&&(h=pe);(gpeByClass("share",a,".post")||s.contains("share"))&&(h=fe);s.contains("ui_actions_menu_item")&&-1!==u.indexOf("bookmarkPost")&&(h=G);s.contains("ui_actions_menu_item")&&-1!==u.indexOf("wall.markAsSpam")&&(h=he);if(h===V)return;it(e,De,d,h,n,t,f,p,r,o,qe)}(e,t,n,r,o,s);case R:case A:return void function(e,t,n,r,o,a){var s=a.classList,u=a.tagName,l=i(Je(a,(e=>{var t=e.getAttribute("id");return[0,t=t?t.replace("app",""):0]}),"_apps_settings_row"),3),c=l[0],_=l[1],d=l[2];if(!c)return;var p=V;s.contains("apps_settings_stats")&&(p=me);"A"!==u&&"img"!==u||(p=q);if(p===V)return;it(e,De,c,p,n,t,d,_,r,o,qe)}(e,t,n,r,o,s)}}}function et(){var e={},t=a.vkLocalStorage.getItem(He);if(!t)return e;try{e=JSON.parse(t)}catch(t){e={}}return e}function tt(e){if("locked"===a.vkLocalStorage.getItem(Ve))setTimeout((()=>tt(e)),100);else{a.vkLocalStorage.setItem(Ve,"locked");try{e()}catch(e){}a.vkLocalStorage.setItem(Ve,"free")}}function nt(e,t,n,r,o,i,s,u,l,c){tt((()=>{var _=Math.round(+new Date/1e3),d=et();d[e]=d[e]||{};var p=Object.keys(d[e]);if(p.length>=100){var f=p[0],h=d[e][f][0];p.forEach((t=>{var n=d[e][t][0];n<h&&(h=n,f=t)})),delete d[e][f]}d[e][s]=[_,t,n,r,o,i,u,l,c],a.vkLocalStorage.setItem(He,JSON.stringify(d))}))}function rt(){tt((()=>{var e=et();if(e){var t=Math.round(+new Date/1e3);Object.keys(e).forEach((n=>{var r=e[n];Object.keys(r).forEach((e=>{var n=r[e][0];t-n>180&&delete r[e]})),e[n]=r,0===Object.keys(r).length&&delete e[n]})),a.vkLocalStorage.setItem(He,JSON.stringify(e))}}))}function ot(e,t,n){var r=et();r[e]=r[e]||{};var o=r[e][t];o&&(Math.round(+new Date/1e3)-o[0]>180?at(!0,e,t):it(o[1],o[2],o[3],n,o[4],o[5],t,o[6],o[7],o[8],qe))}function at(e,t,n){e&&tt((()=>{var e=et();e[t]=e[t]||{},e[t][n]&&(delete e[t][n],a.vkLocalStorage.setItem(He,JSON.stringify(e)))}))}function it(e,t,n,r,a,i,s,u,l,c,_){var d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"";if(n){var p=-(new Date).getTimezoneOffset();(0,o.statlogsValueEvent)("search_position",e,_,r,t,n,"",u,s,i,p,a,l,c,d)}}function st(e,t,n,r,a,i,s,u){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",c=-(new Date).getTimezoneOffset();(0,o.statlogsValueEvent)("search_attempts",e,"",i,r,c,n,s,a,u,t,l)}function ut(){for(var e in c)c.hasOwnProperty(e)&&lt(e)}function lt(e){if(c[e]){var t=c[e];removeEvent(window,"click",t),delete c[e]}}function ct(e,t){var n=t||e.target.getAttribute("data-stats-key");n&&n.length>0&&window.statlogsValueEvent("submenu_clicks",0,n)}function _t(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"0",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:De,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"";n=n?1:0,st(e,u,o=o&&"0"!==o?o:dt(),r,i,n,a,s,l),c[e]&&lt(e);var _=Ze.pbind(e,r,o,a,s);c[e]=_,addEvent(window,"click",_,!1,!1,!0),cur.destroy||(cur.destroy=[]),cur.destroy.some((e=>e===ut))||cur.destroy.push(ut)}function dt(){return(0,r.rand)(-9223372035,9223372035).toFixed(0).concat((0,r.rand)(0,999999999).toFixed(0))}},990967:(e,t,n)=>{"use strict";n.d(t,{initStl:()=>p,updateSTL:()=>v});var r=n(705456),o=n(51229),a=n(484426),i=n(917685),s=n(927663),u=n(414914),l=n(442699),c=n(116886),_=!1,d=!0;function p(){var e={onclick:f,onmousedown:h,onmouseover:m,onmouseout:m};(0,u.val)(_stlLeft,'<div id="stl_bg"><nobr id="stl_text">'+(0,c.getLang)("global_to_top")+"</nobr></div>"),(0,l.extend)(_stlLeft,e),(0,l.extend)(_stlSide,e),window._stlBg=_stlLeft.firstChild,window._stlText=window._stlBg.firstChild,(0,i.addEvent)(window,"blur",(function(){window._wf=-1,_=!1})),(0,i.addEvent)(window,"focus",(function(){window._wf=1,_||(window.__afterFocus=!0,_=!0,setTimeout((function(){window.__afterFocus=!1}),10),d&&((0,r.sbWidth)(!0),(0,o.onBodyResize)(!0),d=!1))}))}function f(e){return(0,i.checkEvent)(e)||(0,i.cancelEvent)(e)}function h(e){if(e=e||window.event,!(0,i.checkEvent)(e)&&!__afterFocus)if(_stlWasSet&&_stlWas){var t=_stlWas;window._stlWas=0,(0,s.scrollToY)(t,0,!0,!0),(0,a.updateLeftMenu)(!0)}else 1===_stlBack?_tbLink.onclick():(window._stlWas=(0,s.scrollGetY)(),(0,s.scrollToY)(0,0,!0,!0),(0,a.updateLeftMenu)())}function m(e){var t=e?e.originalEvent||e:window.event||{},n="mouseover"===t.type&&(t.pageX>0||t.clientX>0);(0,u.toggleClass)(_stlLeft,"over",n),(0,u.toggleClass)(_stlLeft,"over_fast",n&&(0===_stlBack||_tbLink.fast)&&0===_stlWasSet),(0,u.toggleClass)(_stlSide,"over",n)}function v(){var e=window.innerWidth,t=document.documentElement.clientWidth,n=Math.max((0,l.intval)(e),(0,l.intval)(t));(0,u.toggleClass)(bodyNode,"no_stl",n<vk.width+280),(0,u.toggleClass)(bodyNode,"no_sett",n<vk.width+62)}},826239:(e,t,n)=>{"use strict";n.d(t,{showStory:()=>l,showNarrative:()=>c,storiesPreloadStatic:()=>d,sendMask:()=>f});var r=n(791563),o=n(621260),a=n(116886),i=n(51229),s=n(414914),u=!1;function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(cur.storiesNotSupported)return(0,r.showFastBox)((0,a.getLang)("global_error"),(0,a.getLang)("stories_bad_browser"));clearTimeout(u),u=setTimeout((function(){bodyNode.appendChild((0,s.ce)("div",{id:"stories_loader",innerHTML:(0,i.getProgressHtml)("stories_loader_pr","pr_baw pr_medium")+'<div class="back"></div>'}))}),1e3);var n=[jsc("web/stories.js"),"stories.css",jsc("web/emoji.js"),"videoview.js","videoplayer.js","videoplayer.css","hls.min.js"];stManager.add(n,(function(){var n=window.Stories;clearTimeout(u),(0,s.re)("stories_loader"),n.show(e,t)}))}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=`narrative${t}`,i=`${e}${n=n?`_${n}`:""}&${a}/${r=r||`narrative${e}_${t}`}`;l(i,o)}var _=!1;function d(){_||cur.storiesNotSupported||(_=!0,stManager.add([jsc("web/stories.js"),"stories.css",jsc("web/story_publisher.js"),"photo_editor.css"]))}var p=!1;function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];p||(p=!0,ajax.post("al_stories.php",{act:"send_mask",mask_id:e,hash:t,is_short_video:n},{loader:!0,onDone:(e,t,n,i)=>{"cant_send"===e?(0,r.showFastBox)({title:t,width:460},n,i):(0,o.showDoneBox)((0,a.getLang)("stories_mask_sent")),p=!1},onFail:()=>(p=!1,(0,r.showFastBox)({title:(0,a.getLang)("global_box_error_title")},(0,a.getLang)("global_unknown_error")),!0)}))}},719016:(e,t,n)=>{"use strict";n.d(t,{showTooltip:()=>i,showTitle:()=>s,showHint:()=>u});var r=n(414914),o=n(917685),a=n(442699);function i(e,t){(vk.loaded||t.noload)&&e&&(e.temphide||(e.temphide=function(){e.showing=!1},(0,o.addEvent)(e,"mouseout",e.temphide)),e.showing=!0,"loadingstat"!==e.tt&&(e.tt||(e.tt="loadingstat"),cur.cancelTooltip=!1,t.stat&&stManager.add(t.stat),stManager.add([jsc("web/tooltips.js"),"tooltips.css"],(function(){"loadingstat"===e.tt&&(e.tt=!1),e.showing&&!cur.cancelTooltip&&(!function(e){e.temphide&&((0,o.removeEvent)(e,"mouseout",e.temphide),(0,r.removeAttr)(e,"temphide"),(0,r.removeAttr)(e,"showing"))}(e),e.tt&&e.tt.el&&!t.force||(tooltips.create(e,t),t.onCreate&&t.onCreate()),tooltips.show(e,t))}))))}function s(e,t,n,o){e=(0,r.ge)(e);n||(n=[Math.round(20-(0,r.getSize)(e)[0]/2),8]);i(e,(0,a.extend)({text:function(){return t||e.getAttribute("data-title")},shift:n,black:1},o||{}))}function u(e,t){t=t||{};i(e=(0,r.ge)(e),(0,a.extend)({text:function(){return e.getAttribute("data-title")},dir:"auto",width:300,shift:[22,8]},t))}},377806:(e,t,n)=>{"use strict";n.d(t,{topHeaderClose:()=>d,topHeaderClearClose:()=>p,default:()=>h});n(530522),n(66108),n(296253),n(991181),n(579665),n(95767),n(59357),n(751876),n(21466),n(283946);var r=n(414914),o=n(917685),a=n(442699),i=n(344624),s=n(116886),u=n(907851),l=n(109847);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){window.headerDestroy&&window.headerDestroy(),window.headerDestroy=e}function p(){delete window.headerDestroy}var f={cache:{},lists:{},maxItems:8,init:function(){if(this.inited)return!1;var e=(0,r.ge)("ts_input"),t=(0,r.ge)("ts_cont_wrap");if(vk.id&&Chat.init(),!e)return!1;(0,o.addEvent)(e,"focus",(function(){f.deselect(),(0,a.trim)((0,r.val)(this))&&(0,r.addClass)(t.firstChild,"active"),f.toggleInput(!0)})),(0,o.addEvent)(e,"keydown",(function(n){switch(n.keyCode){case o.KEY.DOWN:case o.KEY.UP:f.moveSelection(n.keyCode),(0,o.cancelEvent)(n);break;case o.KEY.ENTER:var s=(0,r.geByClass1)("active",t);if(s)f.select(s,n);else{var u=(0,a.trim)((0,r.val)(this));u&&(e.blur(),f.clear(),f.toggleInput(!1),nav.go("/search?c[section]=auto&c[q]="+encodeURIComponent(u)))}(0,o.cancelEvent)(n);break;case o.KEY.TAB:f.clear(),f.toggleInput(!1),(0,i.cancelStackFilter)("top_search",!0)}})),vk.id&&((0,o.addEvent)(e,"keyup",(function(e){switch(e.keyCode){case o.KEY.DOWN:case o.KEY.UP:case o.KEY.ENTER:case o.KEY.ESC:(0,o.cancelEvent)(e);break;default:f.prepareRows((0,a.trim)((0,r.val)(this)))}})),(0,o.addEvent)(e,"paste",(function(){setTimeout((function(){f.prepareRows((0,a.trim)((0,r.val)(e)))}),10)})),(0,o.addEvent)(document,"mousedown",(function(e){(0,o.checkKeyboardEvent)(e)||(0,r.domClosest)("top_audio_layer_place",e.target)||(0,r.domClosest)("_ap_layer__close",e.target)||(0,r.domClosest)("layer_wrap",e.target)||(0,r.domClosest)("PortalNavigation",e.target)||(0,r.domClosest)("PortalNavigationDropdown",e.target)||d()})),this.inited=!0)},clear:function(){window.tooltips&&tooltips.destroyAll((0,r.ge)("ts_cont_wrap"));var e=(0,r.ge)("ts_input");e&&((0,r.val)(e,""),e.blur(),this.prepareRows())},select:function(e,t,n){if((0,o.checkEvent)(t))return!0;var i,s,u=(0,r.ge)("ts_input"),l=(0,a.trim)((0,r.val)(u)).length,c=e.getAttribute("hinttype");if(this.clear(),d(),l||u.blur(),n&&(0,r.hasClass)(t.target,"ts_contact_status"))return ajax.post("al_search.php",{act:"save_metrics",ql:l,mk:"chat_box"}),(null===(i=window)||void 0===i||null===(s=i.reforgedME)||void 0===s?void 0:s.selectPeer)?window.reforgedME.selectPeer(n,"global_search"):this.writeBox(n),!1;var _=nav.go(e,t,{params:{search_string:cur.tsStr||""}});return ajax.post("al_search.php",{act:"save_metrics",ql:l,mk:c}),_},deselect:function(){var e=(0,r.ge)("ts_cont_wrap");(0,a.each)((0,r.geByClass)("active",e),((e,t)=>(0,r.removeClass)(t,"active")))},itemOver:function(e,t,n){1===t&&f.deselect();var o=(0,a.inArray)(e.getAttribute("hintType"),["h_friends","h_correspondents","h_chats"]);(0,r.toggleClass)(e,"write",o),(0,r.toggleClass)(e,"active",t)},moveSelection:function(e){var t,n=(0,r.ge)("ts_cont_wrap"),a=(0,r.geByClass1)("active",n);switch(e){case o.KEY.UP:t=!!a&&(this.getNextNode(a,-1,"a")||a);break;case o.KEY.DOWN:t=a?this.getNextNode(a,1,"a")||a:n.firstChild}return this.deselect(),t&&(0,r.addClass)(t,"active"),!1},getNextNode:function(e,t,n){for(var o=e,a=(0,r.domPN)(e);;){if((o=t>0?(0,r.domNS)(o):(0,r.domPS)(o))||(o=t>0?(0,r.domFC)(a):(0,r.domLC)(a)),n&&o.tagName&&o.tagName.toLowerCase()===n||!n&&o)return o;if(o===e)return!1}},toggleInput:function(e){e=!!e;var t=(0,r.ge)("ts_cont_wrap");(0,r.isVisible)(t)!==e&&((0,r.toggle)("ts_cont_wrap",e),e&&(0,i.cancelStackPush)("top_search",(function(){var e=(0,r.ge)("ts_input");f.toggleInput(!1),e.blur()}),!0))},getList:function(e){switch(e){case"friends":return this.lists.friends||this.topFriends||{};case"publics":case"events":case"groups":case"apps":case"chats":case"search":return this.lists[e]||{}}return{}},onlines:function(){return window.curFastChat&&curFastChat.onlines||this.lists.onlines||{}},initFriendsList:function(){if(f.friendsLoaded)return!1;if(cur.initingFL||vk.isBanned||!vk.id)return!1;var e=function(){if(f.friendsLoaded)return!1;cur.initingFL=!0,ajax.post("al_search.php",{act:"get_pages"},{cache:1,onDone:function(e){delete cur.initingFL,f.friendsLoaded||((0,a.each)(e,(function(e,t){f.lists[e]=t,"onlines"!==e&&f.updateCache(e)})),f.friendsLoaded=!0,(0,r.val)("ts_input")||f.prepareRows(""))},onFail:function(){delete cur.initingFL}})},t=f.getList("friends");(0,a.isEmpty)(t)?(cur.initingFL=!0,ajax.post("al_search.php",{act:"get_top_friends"},{cache:1,onDone:function(t){delete cur.initingFL,f.topFriends=t,f.updateCache("friends"),f.forceUpdate=!0,f.prepareRows(cur.tsStr||""),e()},onFail:function(){delete cur.initingFL}})):(f.updateCache("friends"),f.forceUpdate=!0,f.prepareRows(cur.tsStr||""),e())},getSimilarQueries:function(e){var t,n=[e=e.toLowerCase()];return(t=(0,s.parseLatin)(e))&&n.push(t),(t=(0,s.parseLatKeys)(e))&&n.push(t),(t=(0,s.parseCyr)(e))&&n.push(t),n},searchCache:function(e,t){var n=f.getList(e);if(!t)return!1;var r=this.getSimilarQueries(t);if(void 0!==this.cache[e][t])return r;var o=this.cache[e][t]={};(0,a.each)(r,((t,r)=>{var i=this.cache[e][" "+r.charAt(0).toLowerCase()];if(i){var s=new RegExp("(^|[\\s\\-\\(\\)\\.,;|:]+)"+(0,a.escapeRE)(r),"gi");(0,a.each)(i,(e=>{var t=n[e+"_"];if(!(0,a.isArray)(t))return!0;null!==t[0].match(s)&&(o[e]=1)}))}}));var i=0;return(0,a.each)(o,(()=>i++)),o._num=i,r},updateCache:function(e,t,n){var r=t||this.getList(e);this.cache[e]=n&&this.cache[e]||{},(0,a.each)(r,((t,n)=>{var r=n[0],o=(0,a.intval)(t),i=r.split(/[\s\-\(\)\.,;|:]+/);(0,a.each)(i,((t,n)=>{var r=" "+n.charAt(0).toLowerCase();this.cache[e][r]=this.cache[e][r]||{},this.cache[e][r][o]=1}))}))},listSearch:function(e,t,n,r){var o=[],i={};return t?(f.searchCache(e,t),i=f.cache[e]&&f.cache[e][t]||{}):(0,a.each)(f.getList(e),(function(e){var t=(0,a.intval)(e);i[t]=1})),(0,a.each)(f.getList(e),(function(e){var t=(0,a.intval)(e),s=i[t];if((!r||!r[t])&&s)return!!n--&&void o.push([t,this])})),o},row:function(e,t,n,r,o,i,s,l,c){var _=0;if(i&&(r=r.replace(i,'$1<em class="ts_clist_hl">$2</em>')),(0,a.inArray)(s,["h_friends","h_correspondents","h_chats"])&&(_=e),l||(l=""),c=(0,a.intval)(c)){var d="";1&c&&(d+="page_verified "),2&c&&(d+="page_top_author "),c=`<div class="${d}" onmouseover="pageVerifiedTip(this, {type: ${c}, oid: ${e}})"></div>`}else c="";return`\n<a href="${t}" class="ts_contact clear_fix" id="ts_contact${e}" onclick="return TopSearch.select(this, event, ${_});" onmousedown="event.cancelBubble = true;"\n      onmouseover="TopSearch.itemOver(this, 1, event);"  onmouseout="TopSearch.itemOver(this, 0, event);" hinttype="${s}">\n  <span class="ts_contact_photo ${(0,u.onlinePlatformClass)(o)}">\n    <img class="ts_contact_img" src="${n}"/>\n  </span>\n  <span class="ts_contact_name fl_l">\n    <div class="ts_contact_title_wrap${c?" is_verified":""}">\n      <span class="ts_contact_title">${r}</span>\n    </div>${c}\n    <div class="ts_contact_info">${l}</div>\n  </span>\n  <div class="ts_contact_status"></div>\n</a>`},searchLists:function(e){return e?{friends:{order:0,count:f.maxItems-1,label:(0,s.getLang)("global_friends")},groups:{order:1,count:4,label:(0,s.getLang)("global_communities")},publics:{count:2,parent:"groups"},events:{count:1,parent:"groups"},apps:{order:2,count:1,label:(0,s.getLang)("global_apps")},vk_apps:{order:2,count:1,label:(0,s.getLang)("global_apps")},chats:{order:3,count:f.maxItems-1,label:(0,s.getLang)("global_chats")},search:{order:4,count:f.maxItems-1,label:(0,s.getLang)("head_search_results")}}:{friends:{order:0,count:f.maxItems,label:(0,s.getLang)("global_friends")}}},initListsHtml:function(){f.listsHtml=[]},addToListsHtml:function(e,t,n){var r=f.searchLists(n),o=r[(r[e]||{}).parent||e]||{},a=o.order||0,i=o.label||"";f.listsHtml[a]=f.listsHtml[a]||(n&&i?[`<div class="ts_search_sep">${i}</div>`]:[]),f.listsHtml[a].push(t)},htmlRows:function(e){var t="",n=f.listsHtml.map((e=>e.join("")));if(e){var r="#"===e[0]?"statuses":"auto",o="#"===e[0]?(0,s.getLang)("global_news_search_results"):(0,s.getLang)("global_show_all_results");t+=`\n<a href="/search?c[section]=${r}&c[q]=${encodeURIComponent(e)}" class="ts_search_link clear_fix active" id="ts_search_link"\n    onclick="return TopSearch.select(this, event);" onmousedown="event.cancelBubble = true;" onmouseover="TopSearch.itemOver(this, 1, event);"\n    onmouseout="TopSearch.itemOver(this, 0, event);" >\n  <span class="ts_contact_name fl_l">${o}</span>\n  <div class="ts_contact_status "></div>\n</a>`}return t+n.join("")},prepareRows:function(e){var t=f.maxItems,n=(0,r.ge)("ts_cont_wrap");if(!n||!vk.id)return!1;if(cur.tsStr&&cur.tsStr===e&&!f.forceUpdate)return!1;delete f.forceUpdate,f.initListsHtml();var o={};if(e){var i=[];(0,a.each)(this.getSimilarQueries(e),(function(){i.push((0,a.escapeRE)(this))})),cur.lastRe=new RegExp("([ -]|^|s|&nbsp;|\b)("+i.join("|")+")","gi"),t--}(0,a.each)(f.searchLists(e),(function(n,i){if(f.cache[n]){var s=i.count,u=f.listSearch(n,e,s,o),l=[],_=0;(0,a.isEmpty)(u)||((0,a.each)(u,((e,n)=>{if(!t||_>=s)return!1;l.push(n),t--,_++})),l.length&&(0,a.each)(l,((t,i)=>{var s=i[1],u=(0,a.intval)(i[0]),l=u>0&&f.onlines()[u],_=c(s,6),d=_[0],p=_[1],h=_[2],m=_[3],v=_[4],g=_[5],y="search"===n?m:"h_"+n,E=f.row(u,h,p,d,l,r.re,y,v,g);f.addToListsHtml(n,E,e),o[u]=1})))}})),n.innerHTML=f.htmlRows(e),e||(0,l.removeSearchPositionTracker)(l.serviceTopSearch),!t&&e&&"#"!==e[0]&&(0,l.saveSearchAttemptStats)(l.serviceTopSearch,0,!0,e),t&&e&&"#"!==e[0]&&this.hintsSearch(e,cur.lastRe||!1),e&&(cur.tsStr=e)},hintsSearch:function(e,t){var n,o=(0,r.ge)("ts_input"),i=(0,r.ge)("ts_cont_wrap"),s=+new Date;ajax.post("al_search.php",{act:"get_pages_hints",q:e},{cache:1,onDone:function(u,_){if((0,a.trim)((0,r.val)(o))!==e)return!1;if(!u)return!1;var d=f.maxItems-(0,r.geByClass)("ts_contact",i).length-1,p=d,h={};(0,a.each)(u,(function(o,i){var s=(0,a.intval)(o),u=c(i,6),l=u[0],_=u[1],p=u[2],m=u[3],v=u[4],g=u[5],y=f.searchLists(e),E=m.replace("h_",""),w=(y[E]||{}).parent||E;if(void 0===y[w]&&(w="search"),h[w]=h[w]||{},h[w][o]=i,f.lists[w]=f.lists[w]||{},f.lists[w][o]=i,(0,r.ge)("ts_contact"+s))return!0;if(!d--)return!1;var b=f.row(s,p,_,l,!1,t,m,v,g);return f.addToListsHtml(w,b,e),n=!0,!0}));var m=+new Date-s;if((0,l.saveSearchAttemptStats)(l.serviceTopSearch,0,p!==d,e,0,_,m),(0,a.each)(h,((e,t)=>f.updateCache(e,t,!0))),n){var v=(0,r.geByClass1)("active",i),g=v?v.id:"";i.innerHTML=f.htmlRows(e),g&&(0,r.ge)(g)&&(0,r.addClass)((0,r.ge)(g),"active")}}})},writeBox:function(e){window.curFastChat&&curFastChat.inited&&window.FastChat?FastChat.selectPeer(e,!1,{entrypoint:"fastchat_global_search"}):e>0&&e<2e9?window.showWriteMessageBox(!1,e):nav.go("/im?sel="+e)}};const h=f},705456:(e,t,n)=>{"use strict";n.d(t,{notaBene:()=>_,updSideTopLink:()=>d,createButton:()=>p,actionsMenuItemLocked:()=>f,lockActionsMenuItem:()=>h,unlockActionsMenuItem:()=>m,linkLocked:()=>v,lockLink:()=>g,unlockLink:()=>y,lockButton:()=>E,unlockButton:()=>w,buttonLocked:()=>b,isButtonLocked:()=>D,disableButton:()=>C,sbWidth:()=>P,isChecked:()=>T,checkbox:()=>O,disable:()=>A,radioval:()=>k,radiobtn:()=>S,showProgress:()=>M,hideProgress:()=>I,disableEl:()=>x,enableEl:()=>L,initUiHelpers:()=>B});var r=n(414914),o=n(917685),a=n(442699),i=n(927663),s=n(190148),u=n(206566),l=n(116886),c=n(873078);function _(e,t,n){if(e=(0,r.ge)(e)){n||(0,r.elfocus)(e),void 0===(0,r.data)(e,"backstyle")&&(0,r.data)(e,"backstyle",e.style.backgroundColor||"");var o=(0,r.data)(e,"back")||(0,r.data)(e,"back",(0,r.getStyle)(e,"backgroundColor")),a={notice:"#FFFFE0",warning:"#FAEAEA"};(0,r.setStyle)(e,"backgroundColor",a[t]||t||a.warning),setTimeout((()=>(0,s.animate)(e,{backgroundColor:o},300,(function(){e.style.backgroundColor=(0,r.data)(e,"backstyle")}))),400)}}function d(e){if(window.scrollNode&&!u.browser.mobile&&window._tbLink){var t=(0,r.ge)("page_body");if(t){var n=(0,r.getXY)(t),o=(0,i.scrollGetY)(),a=bodyNode.scrollLeft,c=(0,r.ge)("side_bar"),_=(0,r.isVisible)(c);if(window._stlSideTop=Math.max((_?(0,r.getSize)(c)[1]:0)-o-(u.browser.mozilla?(0,r.getXY)(pageNode)[1]:0),n[1]),e||a!=__scrLeft){var d=(0,r.ge)("page_layout"),p=vk.rtl?d.offsetLeft+d.offsetWidth:0,f=vk.rtl?(window.lastWindowWidth||0)-p:d.offsetLeft;(0,r.setStyle)(_stlLeft,{width:Math.max(f-1,0)});var h=vk.rtl?n[0]+t.offsetWidth+5:f,m=vk.rtl?p-h:n[0]-5-h;(0,r.setStyle)(_stlSide,{left:h-a,width:Math.max(m,0)}),__scrLeft=a}(0,r.setStyle)(_stlSide,{top:_stlSideTop,height:Math.max((window.lastWindowHeight||0)-_stlSideTop,0)}),__adsUpdate();var v=200,g=_tbLink.loc||_stlWas||o>v,y=o>250&&cur._regBar,E=0,w=!1;if(g){1!==_stlShown&&((0,r.show)(_stlLeft,_stlSide),(0,r.addClass)(_stlLeft,"stl_active"),(0,r.addClass)(_stlSide,"stl_active"),_stlShown=1),_tbLink.loc&&cur._noUpLink&&(o=0),_stlWas&&o>500&&(_stlWas=0),o>v?(E=(o-v)/v,(_stlWasSet||_stlBack)&&(_stlWasSet=_stlBack=0,w=1,(0,r.val)(_stlText,(0,l.getLang)("global_to_top")),(0,r.removeClass)(_stlText,"down"),(0,r.removeClass)(_stlText,"back"))):(E=(v-o)/v,_stlWas?_stlWasSet||(_stlWasSet=1,w=0,(0,r.val)(_stlText,""),(0,r.addClass)(_stlText,"down"),_stlBack&&(_stlBack=0,(0,r.removeClass)(_stlText,"back"))):_tbLink.loc&&(_stlBack||(_stlBack=1,w=_tbLink.fast?1:0,(0,r.val)(_stlText,(0,l.getLang)("global_back")),(0,r.addClass)(_stlText,"back"),_stlWasSet&&(_stlWasSet=0,(0,r.removeClass)(_stlText,"down"))))),!1!==w&&(0,r.toggleClass)(_stlLeft,"over_fast",(0,r.hasClass)(_stlLeft,"over")&&w);var b={opacity:Math.min(Math.max(E,0),1)};vk.staticheader&&(b.top=-Math.min((0,r.getSize)("page_header_cont")[1],o)),(0,r.setStyle)(_stlLeft,b)}else 0!==_stlShown&&((0,r.hide)(_stlLeft,_stlSide),_stlShown=0);vk.id||(!_regBar&&y?(_regBar=1,(0,r.val)((0,r.ge)("reg_bar_content"),cur._regBar),(0,s.animate)((0,r.ge)("reg_bar"),{top:0,transition:s.Fx.Transitions.sineInOut},400),(0,s.animate)((0,r.ge)("stl_bg"),{paddingTop:60,transition:s.Fx.Transitions.sineInOut},400)):_regBar&&!y&&(_regBar=0,(0,s.animate)((0,r.ge)("reg_bar"),{top:-56,transition:s.Fx.Transitions.sineInOut},400),(0,s.animate)((0,r.ge)("stl_bg"),{paddingTop:13,transition:s.Fx.Transitions.sineInOut},400)))}}}function p(e,t){if((e=(0,r.ge)(e))&&!e.btnevents)if((0,r.hasClass)(e,"flat_button"))(0,a.isFunction)(t)&&(e.onclick=t.pbind(e));else{var n=e.parentNode;if((0,r.hasClass)(n,"button_blue")||(0,r.hasClass)(n,"button_gray"))(0,a.isFunction)(t)&&(e.onclick=t.pbind(e));else{var i=!1;(0,o.addEvent)(e,"click mousedown mouseover mouseout",(function(a){if(!(0,r.hasClass)(n,"locked"))switch(a.type){case"click":if(!i)return;return e.className="button_hover",t(e),(0,o.cancelEvent)(a);case"mousedown":e.className="button_down";break;case"mouseover":i=!0,e.className="button_hover";break;case"mouseout":e.className="button",i=!1}})),e.btnevents=!0}}}function f(e){var t=(0,r.ge)(e);if(t)return(0,r.hasClass)(t,"ui_actions_menu_item_lock")}function h(e){if((e=(0,r.ge)(e))&&(0,r.hasClass)(e,"ui_actions_menu_item")&&!(0,r.hasClass)(e,"ui_actions_menu_item_lock")){(0,r.data)(e,"inner",e.innerHTML),(0,r.addClass)(e,"ui_actions_menu_item_lock");var t=(0,r.ce)("div",{className:"ui_actions_menu_item_lock_text"});(0,r.val)(t,e.innerHTML),e.appendChild(t),M(e)}}function m(e){(e=(0,r.ge)(e))&&(0,r.hasClass)(e,"ui_actions_menu_item")&&(0,r.hasClass)(e,"ui_actions_menu_item_lock")&&((0,r.removeClass)(e,"ui_actions_menu_item_lock"),e.innerHTML=(0,r.data)(e,"inner"))}function v(e){var t=(0,r.ge)(e);if(t)return(0,r.hasClass)(t,"link_lock")}function g(e,t){var n=(0,r.ge)(e);n&&"a"===n.tagName.toLowerCase()&&!v(n)&&((0,r.addClass)(n,"link_lock"),t&&(0,a.each)(t,((e,t)=>(0,r.addClass)(n,t))))}function y(e,t){var n=(0,r.ge)(e);n&&v(n)&&((0,r.removeClass)(n,"link_lock"),t&&(0,a.each)(t,((e,t)=>(0,r.removeClass)(n,t))))}function E(e){var t=(0,r.ge)(e);if(t){if(c.FlatButton.isFlatButton(t))return c.FlatButton.lock(t);if(("button"===t.tagName.toLowerCase()||(0,r.hasClass)(t,"flat_button")||(0,r.hasClass)(t,"wr_header"))&&!D(t)){var n=(0,r.getSize)(t);(0,r.addClass)(t,"flat_btn_lock"),(0,r.data)(t,"inner",t.innerHTML),(0,r.setStyle)(t,{width:n[0],height:n[1]}),t.innerHTML="",M(t,"btn_lock")}}}function w(e){var t=(0,r.ge)(e);if(t)return c.FlatButton.isFlatButton(t)?c.FlatButton.unlock(t):void(D(t)&&(I(t),t.innerHTML=(0,r.data)(t,"inner"),(0,r.removeClass)(t,"flat_btn_lock"),(0,r.setStyle)(t,{width:null,height:null})))}function b(e){return D(e)}function D(e){var t=(0,r.ge)(e);if(t)return c.FlatButton.isFlatButton(t)?c.FlatButton.isLocked(t):(0,r.hasClass)(t,"flat_btn_lock")}function C(e,t){var n=(0,r.ge)(e);if(n&&"button"===n.tagName.toLowerCase()){if(c.FlatButton.isFlatButton(n))return c.FlatButton.setDisabled(n,t);if(t){if(!(0,r.isVisible)(n))return;n.parentNode.insertBefore((0,r.ce)("button",{innerHTML:n.innerHTML,className:n.className+" button_disabled"}),n),(0,r.hide)(n)}else{var o=(0,r.domPS)(n);o&&(0,r.hasClass)(o,"button_disabled")&&(0,r.re)(o),(0,r.show)(n)}}}function P(e){if(void 0===window._sbWidth||e){var t=(0,r.ce)("div",{innerHTML:'<div style="height: 75px;">1<br>1</div>'},{overflowY:"scroll",position:"absolute",width:"50px",height:"50px"});bodyNode.appendChild(t),window._sbWidth=Math.max(0,t.offsetWidth-t.firstChild.offsetWidth-1),bodyNode.removeChild(t)}return window._sbWidth}function T(e){return e=(0,r.ge)(e),(0,r.hasClass)(e,"on")?1:""}function O(e,t){var n=(0,r.ge)(e);if(n&&!(0,r.hasClass)(n,"disabled"))return void 0===t&&(t=!T(n)),(0,r.toggleClass)(n,"on",t),n.setAttribute("aria-checked",t?"true":"false"),!1}function A(e,t){return e=(0,r.ge)(e),void 0===t&&(t=!(0,r.hasClass)(e,"disabled")),(0,r.toggleClass)(e,"disabled",t),"INPUT"===e.tagName&&(t?e.setAttribute("readonly","readonly"):e.removeAttribute("readonly")),!1}function k(e){return!!radioBtns[e]&&radioBtns[e].val}function S(e,t,n){if(radioBtns[n]&&!(0,r.hasClass)(e,"disabled"))return(0,a.each)(radioBtns[n].els,(function(){this&&(this==e?((0,r.addClass)(this,"on"),this.setAttribute("aria-checked","true"),this.setAttribute("tabindex","0")):((0,r.removeClass)(this,"on"),this.setAttribute&&(this.setAttribute("aria-checked","false"),this.setAttribute("tabindex","-1"))))})),radioBtns[n].val=t}function M(e,t,n,o){var a;if(e=(0,r.ge)(e))return(0,r.hasClass)(e,"pr")?a=e:(a=(0,r.se)((0,r.rs)(vk.pr_tpl,{id:t||"",cls:n||""})),o?(0,r.domInsertBefore)(a,e):e.appendChild(a)),setTimeout((function(){(0,r.setStyle)(a,{opacity:1})})),a}function I(e){e&&((0,r.hasClass)(e,"pr")?(0,r.setStyle)(e,{opacity:0}):(0,r.re)((0,r.geByClass1)("pr",e)))}function x(e){(0,r.setStyle)(e,"pointer-events","none")}function L(e){(0,r.setStyle)(e,"pointer-events","")}function B(){window.__scrLeft=0,window.radioBtns={}}},960139:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{topMsg:()=>topMsg,topError:()=>topError,showMsg:()=>showMsg,showGlobalPrg:()=>showGlobalPrg});var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(66108),core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(296253),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(59357),_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(414914),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(486353),_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(611386),_shared_lib_sentry_config__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(785124),_utils_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(442699);function topMsg(e,t,n){if(n||(n="#D6E5F7"),e){clearTimeout(window.topMsgTimer);var r=(0,_dom__WEBPACK_IMPORTED_MODULE_3__.ge)("system_msg");r.style.backgroundColor=n,r.innerHTML=e,(0,_dom__WEBPACK_IMPORTED_MODULE_3__.show)(r),t&&(window.topMsgTimer=setTimeout(topMsg.pbind(!1),1e3*t))}else(0,_dom__WEBPACK_IMPORTED_MODULE_3__.hide)("system_msg")}function topError(text,opts){var prefix="VK error: ";opts||(opts={});var hasDummyStacktrace=!opts.stack;if(text.message){var error=text;text="<b>JavaScript error</b>"+((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_4__.partConfigEnabled)("extended_client_logging")?": "+error.message:""),opts.stack=error.stack,error.stack&&__debugMode&&(text+="<br/>"+error.stack.replace(/\n/g,"<br/>"));try{console.error(prefix,error.message),console.log(error.stack)}catch(e){}}else try{console.error(prefix,text)}catch(e){}if(!opts.stack){hasDummyStacktrace=!0;try{eval("0 = 1")}catch(e){opts.stack=e.stack}}if(-1!=opts.dt&&topMsg(text,opts.dt,"#FFB4A3"),1!==opts.type&&!__dev&&!(0,_dom__WEBPACK_IMPORTED_MODULE_3__.ge)("debuglogwrap")){delete opts.dt;var breadcrumb={message:text,data:{msg:opts.msg||text,module:(window.cur||{}).module,id:vk.id,host:locHost,lang:vk.lang,loc:(window.nav||{}).strLoc,realloc:location.toString()}};(0,_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_5__.logError)(opts,{environment:_shared_lib_sentry_config__WEBPACK_IMPORTED_MODULE_6__.topErrorModuleName,breadcrumb,hasDummyStacktrace})}}function showMsg(e,t,n,r){var o="msg"+("msg"!==n?" "+n:"");r&&(o+=" msg_appear"),e=(0,_dom__WEBPACK_IMPORTED_MODULE_3__.ge)(e);var a=(0,_dom__WEBPACK_IMPORTED_MODULE_3__.geByClass1)(n,e),i=a||(0,_dom__WEBPACK_IMPORTED_MODULE_3__.domFC)(e),s=e.insertBefore((0,_dom__WEBPACK_IMPORTED_MODULE_3__.ce)("div",{className:o,innerHTML:'<div class="msg_text">'+t+"</div>"}),i);a&&(0,_dom__WEBPACK_IMPORTED_MODULE_3__.re)(a),setTimeout(_dom__WEBPACK_IMPORTED_MODULE_3__.removeClass.pbind(s,"msg_appear"),0)}function showGlobalPrg(e,t){var n=(0,_dom__WEBPACK_IMPORTED_MODULE_3__.getXY)(e),r=(0,_dom__WEBPACK_IMPORTED_MODULE_3__.getSize)(e),o=t||{},a=o.w,i=void 0===a?32:a,s=o.h,u=void 0===s?13:s,l=(0,_dom__WEBPACK_IMPORTED_MODULE_3__.ge)("global_prg");l.className=o.cls||"progress",(0,_dom__WEBPACK_IMPORTED_MODULE_3__.setStyle)(l,{left:n[0]+Math.floor((r[0]-i)/2)+(0,_utils_common__WEBPACK_IMPORTED_MODULE_7__.intval)(o.shift?o.shift[0]:0),top:n[1]+Math.floor((r[1]-u)/2)+(0,_utils_common__WEBPACK_IMPORTED_MODULE_7__.intval)(o.shift?o.shift[1]:0),width:i,height:u,display:"block","z-index":o.zIndex?o.zIndex:null}),o.hide&&(e.style.visibility="hidden")}},907851:(e,t,n)=>{"use strict";n.d(t,{unpackStore:()=>p.unpackStore,parseJSON:()=>f.parseJSON,throttleAccumulate:()=>h,lplog:()=>m,toArray:()=>v,arrayUnique:()=>g,throttle:()=>y,shuffle:()=>E,parallel:()=>w,hashCode:()=>b,checkTextLength:()=>D,getSelectionText:()=>C,goAway:()=>P,isFullScreen:()=>T,updateMoney:()=>O,toggleOnline:()=>A,onlinePlatformClass:()=>k,handleScroll:()=>S,showErrorBox:()=>M,getDropdownValue:()=>I});n(751876),n(21466),n(66108),n(991181),n(296253);var r=n(442699),o=n(427813),a=n(917999),i=n(791563),s=n(414914),u=n(116886),l=n(206566),c=n(653439),_=n(917685),d=n(927663),p=n(91257),f=n(920453);function h(e,t){var n=[],r=0;return function(o){n.push(o),r||(r=setTimeout((()=>{r=!1,e(n),n=[]}),t))}}function m(e,t){var n,r;if(window.__debugMode){switch(t){case"error":n="color: red",r="background: red; color: white";break;case"success":n="color: green",r="background: green; color: white";break;default:n="color: blue;",r="background: #000; color: #fff;"}try{var o=new Date;console.debug(`%cLP:[${o.getHours()}:${o.getMinutes()}:${o.getSeconds()}:${o.getMilliseconds()}]%c ${e}`,r,n)}catch(e){}}}function v(e){var t=[];if(void 0===e.length)return Object.keys(e).map((t=>e[t]));for(var n=0;n<e.length;n++)t.push(e[n]);return t}function g(e){for(var t={},n=[],r=0;r<e.length;r++)t[e[r]]||(n.push(e[r]),t[n[r]]=1);return n}function y(e,t){var n;return function(){n||(e.apply(this,arguments),n=setTimeout((function(){n=!1}),t))}}function E(e){for(var t=e.length;t>0;){var n=Math.floor(Math.random()*t),r=e[--t];e[t]=e[n],e[n]=r}return e}function w(){var e=[].slice.call(arguments),t=e.pop(),n=new CallHub(t,e.length);(0,r.each)(e,((e,t)=>t((()=>n.done()))))}function b(e){var t=0;if(0===e.length)return t;for(var n=0,r=e.length;n<r;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return t}function D(e,t,n,r,o,a,i){var l=t.getValue?t.getValue():t.value,c=t.lastLen||0;if(t.lastLen!==l.length||a){t.lastLen=l.length;var _={"&":5,"<":4,">":4,'"':6,"\n":r?1:4,"\r":0,"!":5,"'":5,$:6,"\\":6},d={1168:1,1169:1,8211:1,8212:1,8216:1,8217:1,8218:1,8230:1,8240:1,8249:1,8250:1,8364:1,8470:1,8482:1,65533:1},p={1037:1,1104:1,1117:1};o&&(_[","]=5);var f=function(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=_[e.charAt(n)],a=e.charCodeAt(n);t+=void 0!==o?o:!i&&a>=128&&(a<1025||p[a]||a>1119)&&!d[a]&&(a<8220||a>8222)&&(a<8224||a>8226)?("&#"+a+";").length:1}return t}(l);if(n=(0,s.ge)(n),f>Math.max(e-100,.75*e))if((0,s.show)(n),f>e)if(o){var h=(0,s.val)(t,function(e,t){for(var n=0,r="",o=0,a=e.length;o<a;o++){var s=e.charAt(o),u=_[s],l=e.charCodeAt(o);if((n+=void 0!==u?u:!i&&l>=128&&(l<1025||p[l]||l>1119)&&!d[l]&&(l<8220||l>8222)&&(l<8224||l>8226)?("&#"+l+";").length:1)>t)break;r+=s}return r}(l,Math.min(e,c)));t.lastLen=h.length,n.innerHTML=(0,u.getLang)("text_N_symbols_remain",0)}else n.innerHTML=(0,u.getLang)("text_exceeds_symbol_limit",f-e);else n.innerHTML=(0,u.getLang)("text_N_symbols_remain",e-f);else(0,s.hide)(n)}}function C(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(e=document.selection.createRange().text),e}function P(e,t,n){if(-1!==(t||{}).h||(0,_.checkEvent)(n))return!0;if(-1!==(t||{}).h){var s=e.match(/https?:\/\/([a-zA-Z0-9\-_\.]+\.)?(vk\.com|vkontakte\.ru)(\/|$)/i);if(s&&"api."!==s[1].toLowerCase())return location.href=e,!1;var u=(0,r.intval)((0,o.getCookie)("remixsettings_bits"));if(/https?:\/\/([a-zA-Z0-9\-_]+\.)(vk\.com|vkontakte\.ru)(\/|$)/i.test((0,a.locBase)())||1&u)return window.open("/away.php?to="+encodeURIComponent(e)+(t&&void 0!==t.h?"&h="+t.h:""),"_blank"),!1}var l=(0,r.extend)({act:"a_go",to:e},t||{});return!(0,i.showBox)("away.php",l,{},n)}function T(){return!!(document.fullscreenElement||document.fullScreenElement||document.msFullscreenElement||document.mozFullScreen||document.webkitIsFullScreen||cur.pvPartScreen)}function O(e,t){if(void 0!==e&&!1!==e){var n="";!0===t?(vk.balanceEx=e,n="_ex"):vk.balance=e;var o=(0,s.geByClass)("votes_balance_nom"+n);(0,r.each)(o,((t,n)=>n.innerHTML=`${e} ${(0,u.getLang)("votes_flex",e)}`));var a=e*(vk.vcost||7),i=(0,s.geByClass)("money_balance_nom"+n);(0,r.each)(i,((e,t)=>t.innerHTML=(0,u.getLang)("global_money_amount_rub",a,!0))),void 0!==t&&!1!==t&&!0!==t&&O(t,!0),window.GamesCatalog&&window.GamesCatalog.updateMoney(e)}}function A(e,t){var n=k(t).split(" "),o=[];["online","mobile","_online"].forEach((function(t){(0,r.inArray)(t,n)&&!(0,s.hasClass)(e,t)?o.push(t):!(0,r.inArray)(t,n)&&(0,s.hasClass)(e,t)&&(0,s.removeClass)(e,t)})),o.length>0&&(0,s.addClass)(e,o.join(" "))}function k(e){var t=" _online";return e&&(t+=" online"),l.mobPlatforms[e]&&(t+=" mobile"),(0,c.updateOnlineText)(),t}function S(e){e=e.split(",");var t=cur.named||{},n=e[0]&&(t[e[0]]||(0,s.ge)(e[0]))||!1,r=e[1]&&(t[e[1]]||(0,s.ge)(e[1]))||!1;if(!n&&!r){if(!(n=document.getElementsByName(e[0])[0]))return;n=n.nextSibling}var o=(0,s.ge)("page_header_wrap")||(0,s.ge)("dev_top_nav_wrap");setTimeout((function(){n&&(0,d.scrollToY)((0,s.getXY)(n)[1]-(o?(0,s.getSize)(o)[1]:0),0),r&&(0,s.elfocus)(r)}),300)}function M(e,t){return void 0===t&&(t=1e4),setTimeout((0,i.showFastBox)({title:(0,u.getLang)("global_error")},e).hide,t)}function I(e){var t=(0,s.ge)(e+"_container");if(t||(t=(0,s.ge)(e)),t&&t.dropdown)return t.dropdown.val()}},442699:(e,t,n)=>{"use strict";n.d(t,{rand:()=>i.rand,replaceEntities:()=>i.replaceEntities,isArray:()=>i.isArray,isEmpty:()=>i.isEmpty,isFunction:()=>i.isFunction,isObject:()=>i.isObject,isString:()=>i.isString,isUndefined:()=>i.isUndefined,irand:()=>i.irand,escapeRE:()=>i.escapeRE,each:()=>i.each,vkNow:()=>i.vkNow,vkLocal:()=>u,lTimeout:()=>l,vkImage:()=>c,trim:()=>_,stripHTML:()=>d,intval:()=>p,floatval:()=>f,positive:()=>h,isNumeric:()=>m,isNumber:()=>v,winToUtf:()=>g,clean:()=>y,unclean:()=>E,indexOf:()=>w,inArray:()=>b,clone:()=>D,arrayKeyDiff:()=>C,extend:()=>P,addTemplates:()=>T,getTemplate:()=>O,serializeForm:()=>A,extractUrls:()=>k,isRetina:()=>S,getCaretCharacterOffsetWithin:()=>M,formatCount:()=>I,encodeHtml:()=>U,decodeHtml:()=>F,initUtilsCommon:()=>W});n(530522),n(991181),n(579665),n(95767),n(66108),n(296253),n(21466),n(59357);var r=n(414914),o=n(116886),a=n(206566),i=n(917999);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t=PageID;return function(){t===PageID&&e.apply(this,arguments)}}function l(e,t){return setTimeout(u(e),t)}var c=()=>window.Image?new Image:(0,r.ce)("img"),_=e=>(e||"").replace(/^\s+|\s+$/g,""),d=e=>e?e.replace(/<(?:.|\n|\r|\u2028|\u2029)*?>/g,""):"";function p(e){return!0===e?1:parseInt(e)||0}function f(e){return!0===e?1:parseFloat(e)||0}function h(e){return(e=p(e))<0?0:e}function m(e){return!isNaN(e)}function v(e){return"number"==typeof e&&(e===Number(e)&&(e!==1/0&&e!==-1/0))}function g(e){return e.replace(/&#(\d\d+);/g,(function(e,t){return(t=p(t))>=32?String.fromCharCode(t):e})).replace(/&quot;/gi,'"').replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&amp;/gi,"&")}function y(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}function E(e){return(0,i.replaceEntities)(e.replace(/\t/g,"\n"))}function w(e,t,n){for(var r=n||0,o=(e||[]).length;r<o;r++)if(e[r]==t)return r;return-1}function b(e,t){return-1!==w(t,e)}function D(e,t){var n=(0,i.isObject)(e)||void 0===e.length?{}:[];for(var r in e)(!/webkit/i.test(_ua)||"layerX"!=r&&"layerY"!=r&&"webkitMovementX"!=r&&"webkitMovementY"!=r)&&(t&&"object"==typeof e[r]&&"prototype"!==r&&null!==e[r]?n[r]=D(e[r]):n[r]=e[r]);return n}function C(e){var t={},n=arguments.length,r=arguments;for(var o in e)if(e.hasOwnProperty(o)){for(var a=!1,i=1;i<n;i++)r[i][o]&&r[i][o]===e[o]&&(a=!0);a||(t[o]=e[o])}return t}function P(){var e=arguments,t=e.length,n=e[0]||{},r=1,o=!1;for("boolean"==typeof n&&(o=n,n=e[1]||{},r=2),"object"==typeof n||(0,i.isFunction)(n)||(n={});r<t;r++){var a=e[r];if(null!=a)for(var s in a)if(a.hasOwnProperty(s)){var u=n[s],l=a[s];n!==l&&(o&&l&&"object"==typeof l&&!l.nodeType?n[s]=P(o,u||(null!=l.length?[]:{}),l):void 0!==l&&(n[s]=l))}}return n}function T(e){window.templates=window.templates||{},P(window.templates,e)}function O(e,t){var n=(window.templates=window.templates||{})[e];return"function"==typeof n&&(n=n()),n&&t?(0,r.rs)(n,t):n||""}function A(e){if("object"!=typeof e)return!1;var t={},n=t=>(0,r.geByTag)(t,e),o=function(n,o){if(o.name)if("text"!==o.type&&o.type)if(o.getAttribute("bool")){var i=(0,r.val)(o);if(!i||"0"===i)return;t[o.name]=1}else t[o.name]=a.browser.msie&&!o.value&&e[o.name]?e[o.name].value:o.value;else t[o.name]=(0,r.val)(o)};return(0,i.each)(n("input"),(function(e,t){if("radio"!==t.type&&"checkbox"!==t.type||t.checked)return o(0,t)})),(0,i.each)(n("select"),o),(0,i.each)(n("textarea"),o),t}function k(e,t){for(var n,r=t?/(?:([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,10}|xn--p1ai|xn--j1amh|xn--80asehdb|xn--80aswg))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)&]*(&nbsp;|[ \t\r\n \u00A0]|$))|([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9а-яєґї_\-]+\.)+(?:рф|укр|онлайн|сайт|срб))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)&]*(&nbsp;|[ \t\r\n \u00A0]|$)))/i:/(?:([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,10}|xn--p1ai|xn--j1amh|xn--80asehdb|xn--80aswg))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)]*(&nbsp;|[ \t\r\n \u00A0]))|([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9а-яєґї_\-]+\.)+(?:рф|укр|онлайн|сайт|срб))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)]*(&nbsp;|[ \t\r\n \u00A0])))/i,o=[];e&&(n=e.match(r));){e=e.substr(n.index+n[0].length);var a=0;n[4]||(a=7),o.push({url:n[2+a],query:n[5+a]||"",domain:n[4+a]})}return o}var S=()=>window.devicePixelRatio>=2;function M(e){if(!e)return[0,0];var t=0,n=0,r=e.ownerDocument||e.document,o=r.defaultView||r.parentWindow;if(o.getSelection().rangeCount>0){var a=o.getSelection().getRangeAt(0),i=a.cloneRange();i.selectNodeContents(e),i.setEnd(a.startContainer,a.startOffset),t=i.toString().length,i.setEnd(a.endContainer,a.endOffset),n=i.toString().length}return[t,n]}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.kLimit||1e3,r=t.mLimit||1e6;return e>=r&&!t.noCheck?I(e=(e=p(e/1e5))>1e3?p(e/10):e/10,P(t,{noCheck:!0}),!0)+"M":e>=n&&!t.noCheck?I(e=(e=p(e/100))>100?p(e/10):e/10,P(t,{noCheck:!0}),!0)+"K":(0,o.langNumeric)(e,"%s",!0).replace(/,/g,".")}var x,L,B,R=(B=null,[function(e){return B||(B=(0,r.se)("<span> </span>")),B.innerText=e,B.innerHTML},function(e){return B||(B=(0,r.se)("<span> </span>")),B.innerHTML=e.replace(/<br\s*\/?>/gim,"\n"),B.innerText}]),N=(L=2,function(e){if(Array.isArray(e))return e}(x=R)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}(x,L)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(x,L)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),U=N[0],F=N[1];function W(){window.PageID=window.PageID||1}},900233:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{showVideo:()=>showVideo,showInlineVideo:()=>showInlineVideo,loadInlineVideo:()=>loadInlineVideo,revertLastInlineVideo:()=>revertLastInlineVideo,pauseLastInlineVideo:()=>pauseLastInlineVideo,playLastInlineVideo:()=>playLastInlineVideo,checkMp4:()=>checkMp4,VideoConstants:()=>VideoConstants,initVideo:()=>initVideo});var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(175115),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(751876),_videoplayer_lib_player_states__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(712214),_dom_events__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(917685),_utils_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(442699),_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(414914),_lang__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(116886),_message_box__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(791563),_layout_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(51229),_web_unauthorized_unauthorized__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(874854);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function showVideo(e,t,n,r){if(cur.viewAsBox)return cur.viewAsBox();if(!(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.checkEvent)(r)){if(n||(n={}),(0,_web_unauthorized_unauthorized__WEBPACK_IMPORTED_MODULE_8__.isUnauthorizedMediaLayerBoxAvailable)()&&(r||n.openInPopup)&&!n.forceUnauth)return window.Unauthorized.showMoreBox(null,0,_web_unauthorized_unauthorized__WEBPACK_IMPORTED_MODULE_8__.UnauthorizedSourceType.VIDEO,(()=>{showVideo(e,t,_extends({},n,{openInPopup:!1,forceUnauth:!0}),r)})),!1;if(n.forceUnauth=!0,window.mvcur&&mvcur.mvShown&&mvcur.minimized&&mvcur.videoRaw==e)return Videoview.unminimize(),!1;var o=nav.objLoc.claim,a=!(!n.addParams||!/^-?\d+_\d+$/.test(n.addParams.post_id))&&n.addParams.post_id;if(!n.playlistId&&a&&(/^public|groups|profile$/.test(cur.module)&&(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hasClass)("post"+a,"own")?n.playlistId="wall_"+cur.oid:n.playlistId="post_"+n.addParams.post_id),n.playlistId&&(n.addParams=(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.extend)(n.addParams,{playlist_id:n.playlistId}),!window.VideoPlaylist||!VideoPlaylist.getList(n.playlistId)))if(/^wall_/.test(n.playlistId)){var i=cur.wallVideos&&cur.wallVideos[n.playlistId];n.addParams.load_playlist=i&&i.list.length>=50?0:1}else n.addParams.load_playlist=!/^(?:post_)?-?\d+_-?\d+$/.test(n.playlistId)||cur.pageVideosList&&cur.pageVideosList[n.playlistId]?0:1;!n.expandPlayer&&cur.videoInlinePlayer&&cur.videoInlinePlayer.getVideoId()==e&&cur.videoInlinePlayer.canExpand()&&(n.expandPlayer=cur.videoInlinePlayer),n.expandPlayer&&(n.addParams=(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.extend)(n.addParams,{expand_player:1}),delete cur.videoInlinePlayer);var s=new CallHub((function(){n.hidden?n.hidden(s.data,n,t,e):Videoview.showVideo.apply(Videoview,s.data)}),2);stManager.add(["videoview.js","videoview.css","page.js","page.css"],(()=>{s.failed||(n.hidden||(revertLastInlineVideo(),Videoview.show(r,e,t,n)),s.done())})),(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.extend)(n,{onDone:function(){var t=Array.prototype.slice.call(arguments);t.unshift(e),s.data=t,s.done()},onFail:function(t){if(s.failed=1,!n.hidden){if(window.mvcur&&mvcur.mvShown)Videoview.hide();else{var r=(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.clone)(nav.objLoc);r.z==="video"+e&&delete r.z,r[0]==="video"+e&&(r[0]="videos"+e.split("_")[0]),nav.setLoc(r)}(0,_message_box__WEBPACK_IMPORTED_MODULE_6__.showFastBox)((0,_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_error"),t||(0,_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_error_occured")),s.done()}return!0},cache:"status"!==t});var u=n.params;return u||(u={act:"show",video:e,list:t,autoplay:n.autoplay?1:0,ad_video:n.ad_video,module:n.module||window.Videoview&&window.Videoview.getVideoModule()||"",svids:n.svids}),cur.is_showcase&&!u.context&&cur.ref_context&&(u.context=cur.ref_context),n.addParams&&(u=(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.extend)(u,n.addParams)),(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.trim)(u.module)||(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.extend)(u,{_nol:JSON.stringify(nav.objLoc)}),o&&(u.claim=o),ajax.post(`al_video.php?act=${u.act}`,u,n),(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.vkImage)().src=locProtocol+"//vk.com/rtrg?r=w*Z1Flwi3QdbWaoLMc7zOA*7Cr4Nrtojr9otHjsjIhsb2CVqRWalgbvxZw3MzxZa6be3Siu2XY3gvK5fysYtWLWgNwHMpjRTupSGZrcGRNlj7fduqq9*t7ij6CX4aMcBTD5be8mIXJsbTsvP8Zl2RZEd76a4FTuCOFqzMxqGtFc-",!1}}function showInlineVideo(videoId,listId,options,ev,thumb){if((0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.checkEvent)(ev))return!0;if(options=options||{},window.mvcur&&mvcur.mvShown||options.hasRestriction)return showVideo(videoId,listId,options,ev);if((0,_dom__WEBPACK_IMPORTED_MODULE_4__.attr)(thumb,"data-loading"))return!1;var h=thumb.clientHeight,w=thumb.clientWidth,btn=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.domByClass)(thumb,"page_post_video_play_inline"),onLoaded=options.onLoaded;onLoaded&&delete options.onLoaded;var params={video:videoId,list:listId,autoplay:options.autoplay,module:options.module};return(0,_dom__WEBPACK_IMPORTED_MODULE_4__.domData)(thumb,"stretch-vertical")&&(params.stretch_vertical=1),(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.extend)(params,options.addParams),showProgress(),loadInlineVideo(params,(function(e,t){hideProgress(),e?onDone.apply(null,t):onFail.apply(null,t)}),options.cache),cur.videoInlinePlayerDestroyerSet||(cur.destroy.push(_destroyInlineVideoPlayer),cur.videoInlinePlayerDestroyerSet=1),(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.vkImage)().src="//vk.com/rtrg?r=w*Z1Flwi3QdbWaoLMc7zOA*7Cr4Nrtojr9otHjsjIhsb2CVqRWalgbvxZw3MzxZa6be3Siu2XY3gvK5fysYtWLWgNwHMpjRTupSGZrcGRNlj7fduqq9*t7ij6CX4aMcBTD5be8mIXJsbTsvP8Zl2RZEd76a4FTuCOFqzMxqGtFc-",!1;function onDone(title,html,js,opts){revertLastInlineVideo(),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(thumb);var videoWrap=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.ce)("div",{innerHTML:html,className:"inline_video_wrap"},{width:w,height:h});if(-195297477!==opts.mvData.authorId&&(window._videoLastInlined=[videoWrap,thumb]),thumb.parentNode.appendChild(videoWrap),cur.mvOpts=!(!opts||!opts.mvData)&&opts.mvData,opts.player){var container=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.domByClass)(videoWrap,"video_box_wrap");(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.isFunction)(onLoaded)&&(opts.player.params[0].onPlayerLoaded=onLoaded);var linkAttr=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.attr)(thumb,"data-link-attr");linkAttr&&(opts.player.params[0].link_attr=linkAttr),VideoInitializer.initPlayer(container,opts.player.type,opts.player.params)}try{eval("(function () {"+js+"})();")}catch(e){}if(!params.from_autoplay){var notifier=window.Notifier;notifier&&setTimeout((()=>notifier.lcSend("video_start")),0);var audioPlayer=window.ap;audioPlayer&&audioPlayer.isPlaying()&&(audioPlayer.pause(),audioPlayer.pausedByVideo=(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.vkNow)())}ev&&domClosest("bookmarks_row_type_video",ev.target)&&statlogsValueEvent("bookmarks_product_analytics",{item_type:"video",item_owner_id:cur.mvOpts.oid,item_id:cur.mvOpts.vid,time:window.getServerTime()}),thumb.setAttribute("data-playing",1)}function onFail(e){params.from_autoplay||(0,_message_box__WEBPACK_IMPORTED_MODULE_6__.showFastBox)((0,_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_error"),e||(0,_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_error_occured"))}function showProgress(){thumb.setAttribute("data-loading",1),options.no_progress||((0,_dom__WEBPACK_IMPORTED_MODULE_4__.addClass)(btn,"page_post_video_play_inline_loading"),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.val)(btn,(0,_layout_utils__WEBPACK_IMPORTED_MODULE_7__.getProgressHtml)()))}function hideProgress(){thumb.removeAttribute("data-loading"),options.no_progress||((0,_dom__WEBPACK_IMPORTED_MODULE_4__.removeClass)(btn,"page_post_video_play_inline_loading"),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.val)(btn,""))}}function loadInlineVideo(e,t,n){var r=(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.extend)({autoplay:0,module:cur.module},e);(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.trim)(r.module)||(r._nol=JSON.stringify(nav.objLoc));var o=["videoview.js","videoview.css"];function a(e,n){(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.isFunction)(t)&&t(e,n)}r.from_autoplay&&o.push("videoplayer.js","videoplayer.css","hls.min.js"),ajax.post("al_video.php?act=show_inline",r,{onDone:function(){var e=[].slice.call(arguments);a(!0,e)},onFail:function(){var e=[].slice.call(arguments);return a(!1,e),!0},stat:o,local:1,cache:n})}function revertLastInlineVideo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window._videoLastInlined){var n,r=!1,o=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.ge)(e);if(o&&(n=window._videoLastInlined[0])){for(;n=n.parentNode;)if(n==o){r=!0;break}if(!r)return}(0,_dom__WEBPACK_IMPORTED_MODULE_4__.re)(window._videoLastInlined[0]),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(window._videoLastInlined[1]),window._videoLastInlined[1].removeAttribute("data-playing"),window._videoLastInlined=!1,_destroyInlineVideoPlayer(t),delete cur.mvOpts}}function _destroyInlineVideoPlayer(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];cur.videoInlinePlayer&&(cur.videoInlinePlayer.destroy(e),delete cur.videoInlinePlayer)}function pauseLastInlineVideo(){if(window._videoLastInlined){var e=cur.videoInlinePlayer||(0,_dom__WEBPACK_IMPORTED_MODULE_4__.ge)("video_yt")&&window.VideoYoutube;if(e){if(e.isActiveLive&&e.isActiveLive())return;cur.mvOpts.lastPlayerState=e.getState(),e.togglePlay(!1)}}}function playLastInlineVideo(){if(window._videoLastInlined&&cur.mvOpts&&cur.mvOpts.lastPlayerState===_videoplayer_lib_player_states__WEBPACK_IMPORTED_MODULE_9__.PLAYING){var e=cur.videoInlinePlayer||(0,_dom__WEBPACK_IMPORTED_MODULE_4__.ge)("video_yt")&&window.VideoYoutube;e&&e.togglePlay(!0)}}function checkMp4(e){e(!0)}var VideoConstants={VIDEO_ITEM_INDEX_OWNER_ID:0,VIDEO_ITEM_INDEX_ID:1,VIDEO_ITEM_INDEX_THUMB:2,VIDEO_ITEM_INDEX_TITLE:3,VIDEO_ITEM_INDEX_FLAGS:4,VIDEO_ITEM_INDEX_DURATION:5,VIDEO_ITEM_INDEX_HASH:6,VIDEO_ITEM_INDEX_MODER_ACTS:7,VIDEO_ITEM_INDEX_OWNER:8,VIDEO_ITEM_INDEX_DATE:9,VIDEO_ITEM_INDEX_VIEWS:10,VIDEO_ITEM_INDEX_PLATFORM:11,VIDEO_ITEM_INDEX_BLOCKED:12,VIDEO_ITEM_INDEX_MUSIC_VIDEO_META:13,VIDEO_ITEM_INDEX_ARIA:14,VIDEO_ITEM_INDEX_RESTRICTION_BLOCK:15,VIDEO_ITEM_INDEX_RESTRICTION_CLASSES:16,VIDEO_ITEM_INDEX_ADMIN_INFO:17,VIDEO_ITEM_INDEX_FILE_URL:18,VIDEO_ITEM_INDEX_FILE_TYPE:19,VIDEO_ITEM_INDEX_LINK:20,VIDEO_ITEM_INDEX_TRAILER:21,VIDEO_ITEM_INDEX_VIEWED_DURATION:22,VIDEO_ITEM_FLAG_EXTERNAL:1,VIDEO_ITEM_FLAG_ACTIVE_LIVE:2,VIDEO_ITEM_FLAG_CAN_EDIT:64,VIDEO_ITEM_FLAG_CAN_DELETE:128,VIDEO_ITEM_FLAG_CAN_ADD:256,VIDEO_ITEM_FLAG_PRIVATE:512,VIDEO_ITEM_FLAG_NO_AUTOPLAY:1024,VIDEO_ITEM_FLAG_ADDED:2048,VIDEO_ITEM_FLAG_SKIP_THUMB_LOAD:4096,VIDEO_ITEM_FLAG_NEED_SIGN_IN:8192,VIDEO_ITEM_FLAG_HD:16384,VIDEO_ITEM_FLAG_DELETED:32768,VIDEO_ITEM_FLAG_CAN_DOWNLOAD:65536,VIDEO_ITEM_FLAG_CAN_DELETE_FROM_HISTORY:1<<17,VIDEO_ITEM_FLAG_PRIVATE_BY_LINK:1<<18,VIDEO_ITEM_FLAG_LIVE:1<<19,VIDEO_ITEM_FLAG_PRIVATE_NOT_PUBLISHED:1<<20};function initVideo(){window._videoLastInlined=!1}},335969:(e,t,n)=>{"use strict";n.d(t,{default:()=>h});n(283946),n(21466),n(59357),n(175115);var r=n(667294),o=(n(45697),n(705456)),a=n(41437),i=n(40897),s=n(423558),u=n(595775),l=n(927273),c=n(879059),_=n(620931),d=n(148434),p=n(641142),f=n(733024);class h extends r.Component{constructor(e){var t;super(e),t=this,this.componentDidMount=()=>{document.addEventListener("keydown",this.onDocumentKeyDown),this.setInitialState(),this.synchronizeStateWithBackend()},this.componentWillUnmount=()=>{document.removeEventListener("keydown",this.onDocumentKeyDown),this.removeResendCodeButtonTimer()},this.componentDidUpdate=(e,t)=>{this.state.initialLoading||this.state.delayedUnblockExplanation||this.state.delayedUnblockFinished||t.phone===this.state.phone&&t.code===this.state.code&&t.codeSent===this.state.codeSent||this.updateFocus()},this.sendCode=()=>{if(!this.isBusy()){this.resetMessage();var e={act:h.acts.sendCode,phone:this.getPhonePrefix()+this.state.newPhone,hash:this.state.processHash,sure:1};ajax.post(h.controller,e,{onDone:e=>{this.setStateByProcess(e),this.setResendCodeButtonTimer()},onFail:e=>(this.setErrorMessage(e),!0),showProgress:()=>this.setState({mainButtonLoading:!0}),hideProgress:()=>this.setState({mainButtonLoading:!1})})}},this.sendCodeToBoundPhone=()=>{if(!this.isBusy()){this.resetMessage();var e={act:h.acts.sendCodeToBoundPhone,hash:this.state.processHash};ajax.post(h.controller,e,{onDone:e=>{this.setStateByProcess(e),this.setResendCodeButtonTimer()},onFail:e=>(this.setErrorMessage(e),this.synchronizeStateWithBackend(),!0),showProgress:()=>this.setState({mainButtonLoading:!0}),hideProgress:()=>this.setState({mainButtonLoading:!1})})}},this.resetPhone=e=>{this.isBusy()||(this.removeResendCodeButtonTimer(),e&&this.resetMessage(),this.setState({phonePrefixIndex:h.constants.firstCountryIndex,backendCallResetsEnabled:null,phone:"",code:"",newPhone:"",newCode:"",phonePrefixInputNeeded:!0,codeSent:!1,checkCodeAttemptsAmount:void 0}))},this.resetUnblockForm=()=>{if(!this.isBusy()){var e={act:h.acts.resetUnblockForm,hash:this.state.processHash};ajax.post(h.controller,e,{onDone:e=>{this.setStateByProcess(e,{delayedUnblockExplanation:"",delayedUnblockFinished:!1})},onFail:e=>(this.setErrorMessage(e),this.synchronizeStateWithBackend(),!0),showProgress:()=>this.setState({resetUnblockDataButtonLoading:!0}),hideProgress:()=>this.setState({resetUnblockDataButtonLoading:!1})})}},this.checkCode=()=>{if(!this.isBusy())if(this.state.newCode.length<4)(0,o.notaBene)(this.references.validationCodeInput.element);else{this.resetMessage();var e={act:h.acts.checkCode,code:this.state.newCode,hash:this.state.processHash};ajax.post(h.controller,e,{onDone:e=>{this.setStateByProcess(e),this.references.passwordInput.element.focus(),this.setState({mainButtonLoading:!1})},onFail:e=>(this.synchronizeStateWithBackend((()=>{this.setErrorMessage(e),this.setState({mainButtonLoading:!1})})),!0),showProgress:()=>this.setState({mainButtonLoading:!0})})}},this.resendCode=()=>{if(!this.isBusy()){this.resetMessage();var e={act:h.acts.resendCode,hash:this.state.processHash};ajax.post(h.controller,e,{onDone:e=>{this.setStateByProcess(e,{newCode:""}),this.setInfoMessage(this.getResentInfoMessageText()),this.setResendCodeButtonTimer(),this.references.validationCodeInput.element.focus()},onFail:e=>(this.setErrorMessage(e),this.synchronizeStateWithBackend(),!0),showProgress:()=>this.setState({noCodeButtonLoading:!0}),hideProgress:()=>this.setState({noCodeButtonLoading:!1})})}},this.unblock=()=>{if(!this.isBusy())if(h.isBadPassword(this.state.newPassword))(0,o.notaBene)(this.references.passwordInput.element);else{this.resetMessage();var e={act:h.acts.unblock,pass:this.state.newPassword,hash:this.state.unblockHash};ajax.post(h.controller,e,{onDone:e=>{e.delayed_unblock_explanation?this.setState({delayedUnblockExplanation:e.delayed_unblock_explanation,mainButtonLoading:!1}):(this.setState({password:this.state.newPassword}),h.refreshAuthDataAndRedirectToFeed(e.login_hash,e.logout_hash,e.email,this.state.newPassword))},onFail:e=>(this.setErrorMessage(e),this.setState({mainButtonLoading:!1}),this.synchronizeStateWithBackend(),!0),showProgress:()=>this.setState({mainButtonLoading:!0})})}},this.redirectToAuth=()=>{this.setState({redirectToAuthButtonLoading:!0}),window.location.href=document.getElementById("top_logout_link").href},this.synchronizeStateWithBackend=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},n={act:h.acts.getStatus};ajax.post(h.controller,n,{onDone:n=>{e(),t.setStateByProcess(n)},onFail:e=>(t.setErrorMessage(e),t.synchronizeStateWithBackend(),!0)})},this.setStateByProcess=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.getStateByProcess(e);t.state.initialLoading&&(r.initialLoading=!1),n&&Object.assign(r,n),0!==t.state.unbanDataId&&void 0!==t.state.unbanDataId&&r.unbanDataId!==t.state.unbanDataId&&t.setErrorMessage(a.default.getLang("login_unban_data_expired")),t.setState(r),r.delayedUnblockExplanation||r.delayedUnblockFinished||(r.codeSent&&r.resendButtonSecondsLeft&&t.setResendCodeButtonTimer(),0===r.checkCodeAttemptsAmount&&t.resetPhone(!1))},this.getStateByProcess=e=>({phone:e.phone,code:e.code,password:e.password,phonePrefixInputNeeded:!e.phone,canEditPhone:e.can_edit_phone,codeSent:e.code_sent,checkCodeAttemptsAmount:Number(e.check_code_attempts_amount),backendCallResetsEnabled:e.call_resets_enabled,phonePrefixesCallResetsEnabledConfig:e.phone_prefixes_call_resets_enabled_config,phonePrefixesToCountryMapping:e.country_to_phone_prefixes_map,unbanDataId:e.unban_data_id,delayedUnblockExplanation:e.delayed_unblock_explanation,delayedUnblockFinished:e.delayed_unblock_finished,resendCodeTimer:h.constants.noResetCodeTimerEnabled,resendButtonSecondsLeft:e.sms_resend_delay_timer_left,resendAttemptsAmount:e.resend_attempts_amount,resendCodeDelay:e.sms_resend_delay,phonePrefixIndex:this.getInitialPhonePrefixIndex(e.country_to_phone_prefixes_map,e.phone_prefix),newPhone:e.phone,newCode:e.code,newPassword:"",processHash:e.process_hash,unblockHash:e.unblock_hash}),this.areCallResetsEnabled=()=>{if(null!==this.state.backendCallResetsEnabled)return this.state.backendCallResetsEnabled;var e=String(this.state.phonePrefixesToCountryMapping[this.state.phonePrefixIndex][0]),t=Number(e.replace("_",""));return!this.state.phonePrefixesCallResetsEnabledConfig.includes(t)},this.updateFocus=()=>{this.state.phone?this.state.phone&&!this.state.code&&this.state.codeSent?this.references.validationCodeInput.element.focus():this.state.phone&&this.state.code&&this.references.passwordInput.element.focus():this.references.phoneInput.element.focus()},this.setErrorMessage=e=>{this.setState({message:e,isError:!0})},this.setInfoMessage=e=>{this.setState({message:e,isError:!1})},this.resetMessage=()=>{this.setState({message:""})},this.isBusy=()=>this.state.mainButtonLoading||this.state.noCodeButtonLoading||this.state.resetUnblockDataButtonLoading,this.onDocumentKeyDown=e=>{switch(e.keyCode){case KEY.ENTER:this.references.mainButton.props.onClick();break;default:return}e.stopPropagation(),e.preventDefault()},this.setResendCodeButtonTimer=()=>{if(this.state.resendCodeTimer===h.constants.noResetCodeTimerEnabled){var e=this.state.resendButtonSecondsLeft||this.state.resendCodeDelay;this.setState({resendCodeTimer:setInterval(this.resendCodeButtonTimerTick,l.SECOND),resendButtonSecondsLeft:e})}},this.resendCodeButtonTimerTick=()=>{var e=this.state.resendButtonSecondsLeft-1;this.setState({resendButtonSecondsLeft:e}),0===e&&this.removeResendCodeButtonTimer()},this.removeResendCodeButtonTimer=()=>{clearInterval(this.state.resendCodeTimer),this.setState({resendCodeTimer:h.constants.noResetCodeTimerEnabled,resendButtonSecondsLeft:0})},this.noResendsWereMade=()=>this.state.resendAttemptsAmount===h.constants.noCodeResentAmount,this.isLastResendStep=()=>this.state.resendAttemptsAmount===h.constants.maxCodeResentAmount,this.shouldRenderCallResetsSteps=()=>this.areCallResetsEnabled()?this.noResendsWereMade():this.isLastResendStep(),this.getCodeBlockHeaderLabel=()=>this.shouldRenderCallResetsSteps()?a.default.getLang("login_authcheck_called_phone_label"):a.default.getLang("login_confirmation_code"),this.getCodeBlockTooltipLabel=()=>this.shouldRenderCallResetsSteps()?this.props.tooltips.codeCallReset:this.props.tooltips.code,this.getResentInfoMessageText=()=>this.shouldRenderCallResetsSteps()?a.default.getLang("login_authcheck_call_reset_sent"):a.default.getLang("login_authcheck_sms_resent"),this.getResendCodeWaitingLabel=()=>{var e;e=this.areCallResetsEnabled()?this.noResendsWereMade()?a.default.getLang("join_send_code_via_sms_time"):a.default.getLang("join_resend_code_time"):this.noResendsWereMade()?a.default.getLang("join_resend_code_time"):a.default.getLang("login_authcheck_send_call_reset_delay");var t=Math.floor(this.state.resendButtonSecondsLeft/60)+":"+(this.state.resendButtonSecondsLeft%60<10?"0":"")+this.state.resendButtonSecondsLeft%60;return e.replace("%s",t)},this.getResendCodeButtonLabel=()=>this.areCallResetsEnabled()?this.noResendsWereMade()?a.default.getLang("join_send_code_via_sms"):a.default.getLang("join_no_code"):this.noResendsWereMade()?a.default.getLang("join_no_code"):a.default.getLang("login_authcheck_send_call_reset_message"),this.getInitialPhonePrefixIndex=(e,t)=>{var n=e.findIndex((e=>e[3]==t));return-1===n&&(n=h.constants.firstCountryIndex),n},this.mapPhonePrefixesToOption=()=>this.state.phonePrefixesToCountryMapping.map(((e,t)=>({constant:t,name:e[1]}))),this.getPhonePrefix=()=>this.state.phonePrefixesToCountryMapping[this.state.phonePrefixIndex][3],this.renderResendCodeButton=()=>{var e;if(this.state.resendAttemptsAmount===h.constants.maxCodeResentAmount)e=r.createElement("div",{className:"resend_button resend_button--waiting"},a.default.getLang("reg_code_limit_exceeded"));else if(0===this.state.resendButtonSecondsLeft)e=r.createElement(s.default,{appearance:"link",loading:this.state.noCodeButtonLoading,className:"resend_button",onClick:this.resendCode},this.getResendCodeButtonLabel());else{var t=this.getResendCodeWaitingLabel();e=r.createElement("div",{className:"resend_button resend_button--waiting"},t)}return r.createElement("div",{className:"resend_button_wrap"},e)},this.renderPhonePrefixBlock=()=>{if(!this.state.phonePrefixInputNeeded)return"";var e=this.state.phone?h.constants.finishedClass:"";return r.createElement("div",{className:`input phone_number_prefix_input ${e}`},r.createElement("div",{className:"label"},a.default.getLang("join_country_label")),r.createElement(c.default,{className:`dark phone_number_prefix _phone_input_tooltip ${e}`,config:{id:"phone_number_prefix",placeholder:"",selected:[this.state.phonePrefixIndex],options:this.mapPhonePrefixesToOption()},singleSelectCrutch:!0,onFilterChange:(e,t)=>{this.setState({phonePrefixIndex:null===t?this.state.phonePrefixIndex:t})},readOnly:!!this.state.phone}))},this.renderPhoneBlock=()=>{var e=this.state.phone&&!this.state.code&&this.state.canEditPhone?r.createElement("a",{className:"_change_phone_button",onClick:()=>this.resetPhone(!0)},a.default.getLang("login_unblock_form_change_phone")):"",t=this.state.phonePrefixInputNeeded?this.getPhonePrefix():"",n=this.state.phone?h.constants.finishedClass:"",o=!this.state.phone&&!this.state.code&&this.state.phonePrefixInputNeeded,i=this.state.newPhone;return r.createElement("div",{className:"input phone_number_input"},r.createElement("div",{className:"label"},a.default.getLang("login_mobile_phone")),e,r.createElement(_.default,{text:this.getPhoneBlockTooltipLabel(),appearance:h.constants.tooltipAppearance,position:h.constants.tooltipPosition,width:h.constants.tooltipWidth,marginLeft:h.constants.tooltipMarginLeft,isShown:o},r.createElement("div",{id:"join_phone_prefixed",className:`prefix_input_wrap ${n}`},r.createElement("div",{id:"join_phone_prefix",className:"prefix_input_prefix"},r.createElement("nobr",null,t)),r.createElement("div",{className:"prefix_input_field"},r.createElement(u.default,{className:`prefix_input phone_number _phone_input_tooltip ${n}`,value:i,readOnly:!!this.state.phone,onChange:e=>this.setState({newPhone:e.target.value}),ref:e=>{this.references.phoneInput=e}}),r.createElement("div",{className:"prefix_input_border"})))))},this.renderCodeBlock=()=>{if(!this.state.phone)return"";if(!this.state.codeSent)return"";var e=this.getCodeBlockHeaderLabel(),t=this.state.code?h.constants.finishedClass:"",n=this.state.phone&&!this.state.code,o=!!this.state.code;return r.createElement("div",{className:"input verification_code_input"},r.createElement("div",{className:"label"},e),r.createElement(_.default,{text:this.getCodeBlockTooltipLabel(),appearance:h.constants.tooltipAppearance,position:h.constants.tooltipPosition,width:h.constants.tooltipWidth,marginLeft:h.constants.tooltipMarginLeft,isShown:n},r.createElement(u.default,{className:`verification_code _verification_code_input_tooltip dark ${t}`,ref:e=>{this.references.validationCodeInput=e},placeholder:a.default.getLang("login_authcheck_enter_code"),value:this.state.newCode,readOnly:o,onChange:e=>this.setState({newCode:e.target.value})})))},this.renderPasswordBlock=()=>{if(!this.state.phone||!this.state.code)return"";var e=h.checkPasswordStrength(this.state.newPassword),t=this.state.newPassword?r.createElement("div",{id:"blocked_about_pass",className:"blocked_pwd_level"+e}):"",n=this.state.newPassword?r.createElement("div",{className:"blocked_pass_strength blocked_about_login"},a.default.getLang(`join_pwd_level${e}`)):"",o=!this.state.password;return r.createElement("div",{className:"input new_password_input"},r.createElement("div",{className:"label"},a.default.getLang("login_new_password_label")),r.createElement(_.default,{text:this.props.tooltips.password,appearance:h.constants.tooltipAppearance,position:h.constants.tooltipPosition,width:h.constants.tooltipWidth,marginLeft:h.constants.tooltipMarginLeft,isShown:o},r.createElement(u.default,{className:"dark new_password _password_input_tooltip",ref:e=>{this.references.passwordInput=e},placeholder:a.default.getLang("login_enter_password"),value:this.state.newPassword,onChange:e=>this.setState({newPassword:e.target.value})})),t,n)},this.renderMainButton=()=>{var e,t,n,o=this.areCallResetsEnabled()?a.default.getLang("reg_validate_call_reset_button"):a.default.getLang("login_receive_code");if(this.state.phone||this.state.code)if(this.state.phone&&!this.state.code)this.state.codeSent?(e=this.checkCode,t=a.default.getLang("login_check_code"),n=this.renderResendCodeButton()):(e=this.sendCodeToBoundPhone,t=o,n="");else{if(!this.state.phone||!this.state.code)return"";e=this.unblock,t=a.default.getLang("login_blocked_unblock_page"),n=""}else e=this.sendCode,t=o,n="";return r.createElement("div",null,r.createElement(s.default,{className:"UnblockForm__mainButton",loading:this.state.mainButtonLoading,onClick:e,ref:e=>{this.references.mainButton=e}},t),n)},this.renderMessage=()=>{if(!this.state.message)return"";var e=this.state.isError?"error":"";return r.createElement("div",{id:"unblock_box_errors_block"},r.createElement("div",{className:"msg submit_error "+e,dangerouslySetInnerHTML:{__html:this.state.message}}))},this.renderContent=()=>this.state.initialLoading?h.renderInitialLoading():this.state.delayedUnblockExplanation?this.renderDelayedWaitExplanation():this.state.delayedUnblockFinished?this.renderDelayedUnblockFinishedScreen():r.createElement("div",{className:"UnblockForm__content__inputs"},this.renderPhonePrefixBlock(),this.renderPhoneBlock(),this.renderCodeBlock(),this.renderPasswordBlock(),this.renderMainButton()),this.renderDelayedWaitExplanation=()=>r.createElement("div",{className:"DelayedWaitExplanation"},r.createElement("div",{className:"DelayedWaitExplanation__message msg submit_error ",dangerouslySetInnerHTML:{__html:a.default.getLang("restore_change_phone_done_wait_banned").replace("{date}",this.state.delayedUnblockExplanation)}}),r.createElement("div",{className:"DelayedWaitExplanation__progressWrap"},r.createElement(s.default,{appearance:"tertiary",loading:this.state.resetUnblockDataButtonLoading,onClick:this.resetUnblockForm},a.default.getLang("login_delayed_its_not_me")))),this.renderDelayedUnblockFinishedScreen=()=>r.createElement("div",{id:"unblock_box_errors_block"},r.createElement("div",{className:"msg submit_error ",dangerouslySetInnerHTML:{__html:a.default.getLang("login_delayed_request_finished")}}),r.createElement("div",{className:"DelayedRequestFinished__button"},r.createElement(s.default,{loading:this.state.redirectToAuthButtonLoading,onClick:this.redirectToAuth},a.default.getLang("login_unblock_redirect_to_auth"))),r.createElement("div",{className:"DelayedRequestFinished__notMeButton"},r.createElement(s.default,{appearance:"tertiary",loading:this.state.resetUnblockDataButtonLoading,onClick:this.resetUnblockForm},a.default.getLang("login_delayed_its_not_me")))),this.render=()=>r.createElement("div",{className:"UnblockForm"},r.createElement("div",{className:"UnblockForm__header box_title_wrap"},r.createElement("div",{className:"box_x_button",role:"button",onClick:i.destroyComponentInBox},r.createElement(f.default,null)),r.createElement("div",{className:"box_title"},a.default.getLang("login_blocked_call_title"))),r.createElement("div",{className:"UnblockForm__content box_body clear_fix"},r.createElement("div",{className:"login_blocked_wrap"},r.createElement("div",{className:"unblock_form"},r.createElement("div",{className:"UnblockForm__content__header"},r.createElement("div",{className:"antispam_team_logo"}),r.createElement("div",{className:"reason"},a.default.getLang("login_unblock_form_explanation"))),this.renderMessage(),this.renderContent())))),this.state={initialLoading:!0},this.references={phoneInput:null,validationCodeInput:null,passwordInput:null,mainButton:null}}setInitialState(){this.setState({message:"",isError:!1,initialLoading:!0,mainButtonLoading:!1,noCodeButtonLoading:!1,resetUnblockDataButtonLoading:!1,redirectToAuthButtonLoading:!1})}getPhoneBlockTooltipLabel(){return this.areCallResetsEnabled()?this.props.tooltips.phoneCallReset:this.props.tooltips.phone}}h.controller="/al_login.php",h.acts={getStatus:"get_unblock_process_status",sendCode:"send_unblock_code",sendCodeToBoundPhone:"send_unblock_code_to_bound_phone",resendCode:"resend_unblock_code",checkCode:"check_unblock_code",unblock:"unblock",resetUnblockForm:"reset_unblock_form"},h.constants={finishedClass:"finished",maxCodeResentAmount:2,noCodeResentAmount:0,firstCountryIndex:0,noResetCodeTimerEnabled:0,tooltipWidth:250,tooltipMarginLeft:5,tooltipAppearance:"white",tooltipPosition:"r",passwordStrengths:{none:-1,incorrectTooShort:0,weakTypical:1,good:2,veryGood:3,excellent:4,incorrectHasSpaces:5}},h.refreshAuthDataAndRedirectToFeed=(e,t,n,r)=>{var o=utilsNode.appendChild(ce("div",{innerHTML:'\n      <form id="login_block_auth_form" target="login_block_auth_frame" action="" method="POST">\n        <input type="hidden" name="_origin" id="login_server_origin" />\n        <input type="hidden" name="email" id="login_block_email" />\n        <input type="hidden" name="pass" id="login_block_pass" />\n      </form>\n      <iframe name="login_block_auth_frame" id="login_block_auth_frame"></iframe>'})),a=window.onLoginDone,i=ge("login_block_auth_form");i.action=(0,p.getLoginDomain)()+"?act=login&ip_h="+t+"&lg_h="+e+"&redirect=1&role=al_frame",val("login_block_email",winToUtf(n)),val("login_block_pass",winToUtf(r)),val("login_server_origin",cur.serverOrigin),i.submit(),cur.destroy.push((()=>{re(o),window.onLoginDone=a})),window.onLoginDone=()=>{re(o),nav.go("/feed",!0)}},h.isBadPassword=e=>{var t=[h.constants.passwordStrengths.incorrectHasSpaces,h.constants.passwordStrengths.incorrectTooShort],n=h.checkPasswordStrength(e);return t.includes(n)},h.checkPasswordStrength=e=>{var t=h.constants.passwordStrengths.none,n=["qwerty","йцукен","gfhjkm","пароль","password","abc123","fuckyou","123abc","baseball","football","soccer","monkey","liverpool","princess","jordan","slipknot","superman","iloveyou"];if(e.length<6)t=h.constants.passwordStrengths.incorrectTooShort;else if(/\s/.test(e))t=h.constants.passwordStrengths.incorrectHasSpaces;else if(e.match(/^\d+$/)||n.indexOf(e)>=0||e.substr(-1).match(/\d/)&&n.indexOf(e.substr(0,e.length-1))>=0)t=h.constants.passwordStrengths.weakTypical;else{for(var r=[/[^a-z]/g,/[^A-Z]/g,/[^а-яё]/g,/[^А-ЯЁ]/g,/[^0-9]/g,/[a-zA-Zа-яА-ЯёЁ0-9]/g],o=[],a=0,i=0,s=r.length;i<s;++i){var u=e.replace(r[i],"").length;u&&(u>1&&a++,o.push({group:i,cnt:u}))}if(o.length<3&&o[o.length-1].group!=r.length-1&&a<2&&(t=h.constants.passwordStrengths.good),(a>2||o.length>2&&o[o.length-1].group==r.length-1)&&(t=h.constants.passwordStrengths.excellent),t<0&&a>1){var l=e.replace(r[r.length-1],"");l.length>1&&l.replace(new RegExp(escapeRE(l.charAt(0)),"g"),"").length&&(t=h.constants.passwordStrengths.excellent)}t<0&&(t=h.constants.passwordStrengths.veryGood),t&&t<3&&e.length>13&&t++}return t},h.renderInitialLoading=()=>r.createElement("div",{className:"InitialLoading"},r.createElement(d.default,null))},620931:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});n(175115);var r=n(667294),o=n(973935),a=(n(45697),n(121265)),i=n(163131);class s extends r.Component{constructor(e){super(e),this.addTooltip=e=>{if(this.el){var t=this.props,n=t.text,r=t.position,o=t.align,a=t.marginTop,s=t.marginLeft,u=(0,i.default)(this.el);this.update({text:n,position:r,align:o,rect:u,marginTop:a,marginLeft:s})}},this.removeTooltip=e=>{document.activeElement!==this.inputEl&&this.update({remove:!0})},this.renderTooltip=()=>{if(!this.state.tooltip)return null;var e=this.state.tooltip,t=e.x,n=e.y,o=e.position,i=e.align,s=e.text,u=e.removed,l=this.props,c=l.appearance,_=l.width,d=(0,a.classNames)("UnblockTooltip",`UnblockTooltip--${o}`,`UnblockTooltip--${c}`,{"UnblockTooltip--removed":!!u,[`UnblockTooltip--align-${i}`]:"t"===o||"b"===o}),p={top:n,left:t},f=_?{width:_}:{};return r.createElement("div",{className:d,style:p},r.createElement("div",{className:"UnblockTooltip__in",style:f,dangerouslySetInnerHTML:{__html:s}}))},this.state={}}componentDidMount(){this.el=o.findDOMNode(this),this.inputEl="INPUT"===this.el.tagName?this.el:this.el.getElementsByTagName("input")[0],this.backgroundElement=document.getElementById("box_layer_wrap"),this.el.addEventListener("mouseenter",this.addTooltip),this.el.addEventListener("mouseleave",this.removeTooltip),this.inputEl.addEventListener("focus",this.addTooltip),this.inputEl.addEventListener("blur",this.removeTooltip),this.backgroundElement.addEventListener("scroll",this.addTooltip),window.addEventListener("resize",this.addTooltip)}componentWillUnmount(){this.el.removeEventListener("mouseenter",this.addTooltip),this.el.removeEventListener("mouseleave",this.removeTooltip),this.inputEl.removeEventListener("focus",this.addTooltip),this.inputEl.removeEventListener("blur",this.removeTooltip),this.backgroundElement.addEventListener("scroll",this.addTooltip),window.removeEventListener("resize",this.addTooltip)}update(e){var t=e.position,n=e.align,r=e.text,o=e.rect,a=e.marginTop,i=e.marginLeft,s=!o||0===o.top&&0===o.left;if(!0!==e.remove&&this.props.isShown&&!s){var u=o.left,l=o.top;switch(t){case"t":u+=.5*o.width;break;case"r":u+=o.width,l+=.5*o.height;break;case"b":u+=.5*o.width,l+=o.height;break;case"l":l+=.5*o.height}u=Math.round(u+i),l=Math.round(l+a),this.setState({tooltip:{position:t,align:n,text:r,x:u,y:l}})}else this.setState({tooltip:Object.assign({},this.state.tooltip,{removed:!0})})}render(){var e=this.renderTooltip();return e?(this.defaultNode||"undefined"==typeof window||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),r.createElement(r.Fragment,null,this.props.children,o.createPortal(e,this.defaultNode))):this.props.children}}s.defaultProps={appearance:"black",position:"b",align:"center",marginTop:0,marginLeft:0}},163841:(e,t,n)=>{"use strict";n.d(t,{initLoginBoxForm:()=>c,initLoginCombinedBoxForm:()=>_,Login:()=>d});var r=n(731850),o=n(667294),a=n(335969),i=n(40897),s=n(414914),u=n(102372),l=n(876905);function c(e){e&&new l.LoginBoxForm(e)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.querySelector('.LoginRecentBox [name="ul"]'),r=e.querySelector(".LoginRecentBox__alternative"),o=e.querySelector(".LoginRecentBox .LoginBox__title");r.addEventListener("click",(t=>{t.preventDefault(),e.classList.add("LoginCombinedBox--standard")}));var a=new u.LoginRecentUsersGallery(e.querySelector(".LoginRecentBox__users"));a.onChange=e=>{var r=t.users[e];r&&(o.innerHTML=r.title,n&&(n.value=r.encrypted))},a.init(),e.querySelectorAll(".LoginRecentBox__user").forEach(((e,t)=>{e.addEventListener("click",(()=>{a.setIndex(t)}))}))}var d={init(){each(geByClass("big_text","login_form_wrap"),((e,t)=>{placeholderInit(t)})),setTimeout(s.elfocus.pbind(!isVisible("email")||val("email")?"pass":"email"),0);var e=ge("login_form"),t=ge("email"),n=ge("pass"),r=val("login_ul");return e.onsubmit=()=>{if(!window.submitQuickLoginForm)return!0;if(!r&&!trim(t.value))return notaBene(t),!1;if(!trim(n.value))return notaBene(n),!1;var e={expire_input:val("expire_input")};return r&&(e.ul=r),submitQuickLoginForm(t.value,n.value,{prg:"login_button",params:e}),!1},window.loginByCredential&&!r&&(t.onclick=loginByCredential,n.onclick=loginByCredential),!0},initBlockedPage(){r.FAQTutorial.tryInit()},initBox(){var e=curBox();e.changed=!0,e.setOptions({width:560,onClean:()=>{},hideButtons:!0,bodyStyle:"padding: 0"}),c(document.querySelector(".LoginBox"))},changeMail(e,t,n){var r=trim(val("login_new_mail")),o=1;return r?(e&&(n=cur.changeMailHash),-1==r.indexOf("@")?showMsg("login_change_mail_error",getLang("reg0_error_bad_email"),"error"):(e&&(o=0),void ajax.post("/login?act=a_change_mail",{newmail:r,hash:n,from_page:o},{onDone(t){var n="login_change_mail_form";e&&(n="login_change_mail_box",curBox().removeButtons(),curBox().addButton(getLang("global_cancel"),null,"no")),val(n,t)},onFail:e=>(showMsg("login_change_mail_error",e,"error"),!0),showProgress:lockButton.pbind(t),hideProgress:unlockButton.pbind(t)}))):notaBene("login_new_mail")},initChangeMailBox(){curBox().removeButtons(),curBox().addButton(getLang("global_cancel"),null,"no"),curBox().addButton(getLang("reg0_change_mail"),d.changeMail.pbind(1)),(0,s.elfocus)("change_mail_new")},isBanExpired:()=>cur.unblockDate<Date.now()/1e3,canUnblockFast:()=>!0===cur.canUnblockFast,showUnblockForm(){(0,i.showComponentInBox)(o.createElement(a.default,{tooltips:{phone:cur.phoneTooltip,phoneCallReset:cur.phoneCallResetTooltip,code:cur.verificationCodeTooltip,codeCallReset:cur.verificationCodeCallResetTooltip,password:cur.passwordTooltip}}))},fastUnblock:e=>{var t={act:"fast_unblock",hash:e},n=document.getElementsByClassName("unblock_button--fast")[0];n?ajax.post("/al_login.php",t,{onDone:function(){showDoneBox(getLang("login_fast_unblocked_wait_description"),{out:5e3}),nav.reload()},onFail:function(e){return unlockButton(n),showDoneBox(e),!0},showProgress:()=>lockButton(n)}):showFastBox(getLang("global_error"))},showDeletePageBox(){showFastBox(getLang("login_blocked_delete_page_header"),getLang("login_blocked_sure_delete_page_question"),getLang("box_yes"),(()=>{ajax.post("al_settings.php",{act:"a_deactivate",hash:cur.deactivate_hash},{onDone:e=>{showDoneBox(e),nav.go("/id"+vk.id)},onFail:e=>{showDoneBox(e),curBox().hideProgress()}})}),getLang("box_no"))}}},536824:(e,t,n)=>{"use strict";n.d(t,{processAliExpressMiniAppLinkClickEvent:()=>a});n(21466),n(283946);var r=n(893683),o=n(486353);function a(e){var t=e.target||e.srcElement;if(t&&t.href){var n,a=t.href,s=decodeURIComponent(a);if((0,o.partConfigEnabled)("aliexpress_app_links_redirect_web_links")){if(n=function(e){var t=[new RegExp(`(https?://)?vk.com/app${r.MARKET_ALIEXPRESS_APP_ID}(_6492794)?(#|/|#/)?$`),new RegExp(`(https?://)?vk.com/${r.MARKET_ALIEXPRESS_APP_NAME}(#|/|#/)?$`)];for(var n in t)if(e.match(t[n]))return"/away.php?to="+encodeURIComponent(r.MARKET_ALIEXPRESS_HOME_URL);return""}(s))return i(n,t),!0}else if(n=function(e){var t=e.match(new RegExp(`/app${r.MARKET_ALIEXPRESS_APP_ID}#(?:.+)product_id=(d+)`));if(t&&t[1])return"/away.php?to="+encodeURIComponent(`${r.MARKET_ALIEXPRESS_HOME_URL}/item/${t[1]}.html`)}(s))return i(n,t),!0}return!1}function i(e,t){"_blank"===t.getAttribute("target")&&void 0!==t.open?t.open(e):window.location.href=e}},930499:(e,t,n)=>{"use strict";n.d(t,{default:()=>u});n(940851),n(296253);var r=n(966925),o=n(791563),a=n(621260),i=n(414914);class s extends r.default{constructor(e,t){super(e,t),this.canBeEnabled().then((e=>{e&&(addClass(document.head,"push_notifier_supported"),this.handlerMessagesLP=this.handlerMessagesLP.bind(this))}))}isSupported(){return super.isSupported()&&(browser.chrome||browser.mozilla)}handlerMessagesLP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.peerId,r=e.upToId;"event_read_inbound"===t&&this.sw.action("removeMessageNotification",{peerId:n,msgId:r})}handlerPopup(e,t){var n=(0,a.curBox)();n&&(0,i.hide)(n.bodyNode),this.setupSubscription().then((()=>this.setState(e,t,"popup"))).then((()=>{n&&n.hide()})).catch((e=>{r.default.PUSH_NOTIFIER_BLOCKED_BY_BROWSER_SETTINGS===e?((0,i.show)(n().bodyNode),this.showPopupAllowNotification()):(0,o.showFastBox)(getLang("global_error"),getLang("notifications_native_common_error"))}))}showPopupAllowNotification(){(0,o.showBox)(r.default.SERVER_URL,{act:"popup_allow_notification"},{params:{hideButtons:!0},containerClass:"PushNotifierPopup__popup-box_type--allow-notification"})}showPopupSuggestion(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"feed";(0,o.showBox)(r.default.SERVER_URL,{act:"popup_suggestion",old:Number(ls.get("im_notify_flag")),module:e},{params:{hideButtons:!0,width:400},containerClass:"PushNotifierPopup__popup-box_type--suggest",onDone:()=>{ajax.post(r.default.SERVER_URL,{act:"open_popup"},{onFail:()=>!0})}})}_removeLongPollListener(){this.lp&&this.lp.offData(this.handlerMessagesLP),this.lp=null}_addLongPollListener(){!this.lp&&window.Notifier&&(this.lp=Notifier.getLpInstance(),this.lp&&this.lp.onData(this.handlerMessagesLP))}setState(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"settings";return new Promise(((o,a)=>{ajax.post(r.default.SERVER_URL,{act:"a_toggle_state",state:e,hash:t,from:n},{onDone:e=>e?o():a(),onFail:a})}))}update(){return super.update().then((()=>this._addLongPollListener()))}unsubscribe(e){return super.unsubscribe(e).then((()=>this._removeLongPollListener()))}}const u=s},966925:(e,t,n)=>{"use strict";n.d(t,{default:()=>c});n(83276),n(991181),n(446964),n(940851),n(296253);var r=n(486353),o=n(835217),a=n(828397),i=n(651988),s="push_notifier_endpoint",u="push_notifier_subscribed_ts";class l{constructor(e,t){this.sw=e,this.SWClient=t,vk.id&&this.canBeEnabled().then((e=>{e&&(this.listenPermission(),this.loadEndpoint()&&this.update().then(this.checkMessageState.bind(this)))}))}static getPermission(){return Notification.permission}cleanNotification(){this.sw.action("cleanNotification")}canBeEnabled(){return Promise.resolve(this.isSupported())}isSupported(){return"PushManager"in window&&"Notification"in window&&this.SWClient.isSupported()}loadEndpoint(){return i.default.get(s+vk.id)||!1}saveEndpoint(e){i.default.set(s+vk.id,e||!1)}action(e,t){return this.sw.action(e,t)}_needupdate(e){var t=Date.now(),n=this.loadEndpoint(),r=i.default.get(u+vk.id),o=!1;return(n!==e.endpoint||!r||t-r>6e4)&&(i.default.set(u+vk.id,t),o=!0),o}listenPermission(){(0,r.partConfigEnabled)("push_notifier")&&navigator.permissions&&navigator.permissions.query&&navigator.permissions.query({name:"notifications"}).then((e=>{e.onchange=()=>this.update()}))}update(){return this.updatePermission().then((e=>e===l.PUSH_NOTIFIER_PERMISSION_GRANTED?this.subscribe().catch((e=>{e!==l.SUBSCRIBE_ERROR_NETWORK&&(0,a.error)("can not update subscribe")})):Promise.reject("premession_not_granted"))).catch(a.error)}updatePermission(){var e=l.getPermission();if(e!==l.PUSH_NOTIFIER_PERMISSION_GRANTED){var t=this.loadEndpoint();if(t)return this.unsubscribe(t).then((()=>e))}return Promise.resolve(e)}processSubscribe(e){return e.subscribe({userVisibleOnly:!0,applicationServerKey:(0,o.urlBase64ToUint8Array)(l.SERVER_KEY)})}setupSubscription(){return new Promise(((e,t)=>{var n=l.getPermission(),r=()=>{this.subscribe(!0).then((()=>{e()})).catch((()=>{t()}))};n!==l.PUSH_NOTIFIER_PERMISSION_DENIED?n!==l.PUSH_NOTIFIER_PERMISSION_GRANTED?n===l.PUSH_NOTIFIER_PERMISSION_DEFAULT&&this.requestPermission().then((e=>{e===l.PUSH_NOTIFIER_PERMISSION_GRANTED?r():t()})):r():t(l.PUSH_NOTIFIER_BLOCKED_BY_BROWSER_SETTINGS)}))}subscribe(e){return this.sw.register().then((e=>{var t=e.pushManager;return t.getSubscription().then((e=>{if(e){var n=e.expirationTime;return n&&Date.now()>n-432e6?this.unsubscribe(this.loadEndpoint()).then((()=>this.processSubscribe(t))):e}return this.processSubscribe(t)}))})).then((t=>new Promise(((n,r)=>{if(e||this._needupdate(t)){var o=t.getKey("p256dh"),a=t.getKey("auth");window.ajax.post(l.SERVER_URL,{act:"a_subscribe",hash:this.sw.getPushHash(),endpoint:t.endpoint,key:o?btoa(String.fromCharCode.apply(null,new Uint8Array(t.getKey("p256dh")))):null,token:a?btoa(String.fromCharCode.apply(null,new Uint8Array(t.getKey("auth")))):null},{onDone:e=>{e?(this.saveEndpoint(t.endpoint),n()):r()},onFail:()=>(r(l.SUBSCRIBE_ERROR_NETWORK),!0)})}else n()}))))}unsubscribe(e){return this.sw.register().then((t=>t.pushManager.getSubscription().then((t=>t?t.unsubscribe().then((t=>t?new Promise(((t,n)=>{ajax.post(l.SERVER_URL,{act:"a_unsubscribe",endpoint:e},{onDone:e=>{e?(this.saveEndpoint(!1),t()):n()}})})):Promise.reject("ERROR: can not unsubscribe"))):(this.saveEndpoint(!1),Promise.reject("ERROR: no subscription"))))))}requestPermission(){var e=l.getPermission();return e===l.PUSH_NOTIFIER_PERMISSION_DEFAULT?new Promise((function(e,t){var n=Notification.requestPermission((function(t){e(t)}));n instanceof Promise&&n.then(e,t)})):Promise.resolve(e)}checkMessageState(){return new Promise((e=>setTimeout(e,5e3))).then((()=>this.action("getMessagesMetaData"))).then((e=>"object"==typeof e&&Object.keys(e).length?new Promise(((t,n)=>{window.ajax.post(l.SERVER_URL,{act:"a_update_messages_state",data:Object.entries(e)},{onDone:e=>{e?t(e):n("ERROR: act error")},onFail:()=>(n("ERROR: network error"),!0)})})):Promise.resolve({}))).then((e=>{try{return JSON.parse(e)}catch(e){return{}}})).then((e=>this.action("updateMessageNotifications",e))).catch((e=>(0,a.error)(e)))}}l.SERVER_KEY="BPrntRk2W1_ISFwlgY-vz9tQDg9i1oSQ3-N8xyjdbNAbIOdZIGFdh5FlO7zn730UwU9Sayoec-Fpqq4JZFTyv60",l.SERVER_URL="push_notifier",l.PUSH_NOTIFIER_PERMISSION_GRANTED="granted",l.PUSH_NOTIFIER_PERMISSION_DEFAULT="default",l.PUSH_NOTIFIER_PERMISSION_DENIED="denied",l.PUSH_NOTIFIER_BLOCKED_BY_BROWSER_SETTINGS="BLOCKED_BY_BROWSER_SETTINGS",l.SUBSCRIBE_ERROR_NETWORK="SUBSCRIBE_ERROR_NETWORK";const c=l},742808:(e,t,n)=>{"use strict";n.d(t,{AppOrderBox:()=>l});var r=n(414914),o=n(621260),a=n(705456),i=n(791563),s=n(907851),u=n(255528);class l{static instantSkipAppOrder(e,t){var n=gpeByClass("payments_instant_progress_wrap",e),r={act:"a_order",aid:cur.paymentsOrderAppId,order_id:cur.paymentsOrderId,votes:cur.paymentsPreferVotes,test_mode:cur.paymentsOrderTestMode,_skip_instant:t||1,hash:cur.paymentsOrderHash};void 0!==cur.checkedMaxVotes&&(r.checked_max_votes=cur.checkedMaxVotes),ajax.post("al_apps.php",r,{forceDone:1,onDone:()=>{cur.paymentsCheckOrderCnt=1,(0,o.curBox)().hide(),cur.paymentsCheckOrderCnt=0,cur.fromInstantPay=!0},showProgress:addClass.pbind(n,"loading"),hideProgress:removeClass.pbind(n,"loading")})}static processOrder(e,t){t||(t=(0,o.curBox)());var n=(0,r.isVisible)("payments_box")?2:0,c=!1;e||(e=n),n&&(c=t.btns.ok[0],(0,a.lockButton)(c));var _={act:"a_order",aid:cur.paymentsOrderAppId,order_id:cur.paymentsOrderId,votes:cur.paymentsPreferVotes,from:nav.objLoc[0],test_mode:cur.paymentsOrderTestMode,_votes_ok:e,hash:cur.paymentsOrderHash};1==e&&cur.paymentsOrderBillPeriod&&(_.payment_type=cur.votesType),!cur.paymentsOrderBillPeriod&&ge("payments_order_auto_confirm")&&(_.auto_confirm=(0,a.isChecked)("payments_order_auto_confirm")),cur.salesRef&&(_.sales_ref=cur.salesRef),ajax.post("al_apps.php",_,{forceDone:3==+e?1:0,onDone:(r,_,d,p,f)=>{if(p&&-1e3!==p&&(cur.votesBoxOptions=p),3==e&&-1e3==d)return u.Gifts.processBoxOptions((0,o.curBox)(),p),cur.paymentsCheckOrderCnt=1,t.hide(),void(cur.paymentsCheckOrderCnt=0);if(0===d||d>0)return cur.paymentsPreferVotes=1,n?cur.paymentsShowBoxError(_):(t.hide(),(0,i.showFastBox)(getLang("global_error"),_)),void((cur.paymentsOrderBillPeriod||f)&&cur.onSubscriptionFail?cur.onSubscriptionFail(d):cur.onAppOrderFail&&cur.onAppOrderFail(d));if(r.result){var h=(0,o.curBox)();return cur.isPaymentsAppOrder=!1,h&&h.hide(),(0,o.showDoneBox)(_),r.balance&&(0,s.updateMoney)(r.balance),void(cur.onSubscriptionDone&&r.subscriptionStatus&&(cur.onSubscriptionDone(r.subscriptionStatus),cur.onSubscriptionDone=!1))}var m=r.orderId;if(m){_&&(t=(0,i.showFastBox)("",_)).setOptions({title:!1,width:520,bodyStyle:"padding: 0;",hideButtons:!0}),c&&(0,a.unlockButton)(c),cur.isPaymentsAppOrder=!1,cur.paymentsOrderId=m,r.subscriptionId&&(cur.paymentsSubscriptionId=r.subscriptionId),cur.paymentsOrderCheckHash=r.checkHash;var v=getLang("payments_waiting_app_order_complete");ge("payments_box_progress_msg_wrap")?(val("payments_box_progress_msg_wrap",`<span id="payments_box_progress_msg">${v}</span>`),cur.paymentsShowProgress()):val("apps_paymentbox_progress_msg_wrap",v),cur.paymentsCheckOrderCnt=0,cur.paymentsCheckOrderInt=setInterval(l.checkOrder,2e3)}else cur.paymentGetOrderItemTO=setTimeout(l.processOrder.pbind(!1,t),1e3)},onFail:function(e){return!e||(cur.onSubscriptionFail?cur.onSubscriptionFail():cur.onAppOrderFail&&cur.onAppOrderFail(),(0,r.isVisible)("payments_box")?cur.paymentsShowBoxError(e):(t.hide(),(0,i.showFastBox)(getLang("global_error"),e)),!0)}})}static checkOrder(){if(15==cur.paymentsCheckOrderCnt)ge("payments_box_progress_msg").innerHTML=getLang("payments_waiting_payment_complete_still");else if(cur.paymentsCheckOrderCnt>30)return clearInterval(cur.paymentsCheckOrderInt),(0,o.curBox)().hide(),void(0,i.showFastBox)(getLang("payments_app_order_box_title"),getLang("payments_app_add_votes_delay"),getLang("global_close"),(()=>{cur.paymentsOrderBillPeriod&&cur.onSubscriptionCancel?cur.onSubscriptionCancel():cur.onAppOrderCancel&&cur.onAppOrderCancel(),(0,o.curBox)().hide()}));cur.paymentsCheckOrderCnt++,ajax.post("al_apps.php",{act:"a_check_order",aid:cur.paymentsOrderAppId,order_id:cur.paymentsOrderId,test_mode:cur.paymentsOrderTestMode,from:nav.objLoc[0],hash:cur.paymentsOrderCheckHash},{onDone:(e,t,n,r,a)=>{e&&((0,o.curBox)()&&(0,o.curBox)().hide(),clearInterval(cur.paymentsCheckOrderInt),cur.paymentsCheckOrderCnt=0,window.toggleFlash(!1),(0,o.showDoneBox)(t,{out:1e3,callback:()=>{window.toggleFlash(!0)}}),n&&(0,s.updateMoney)(n),1==e?(cur.paymentsOrderBillPeriod&&cur.onSubscriptionSuccess?(cur.onSubscriptionSuccess(cur.paymentsSubscriptionId),TopNotifier&&TopNotifier.invalidate()):cur.onAppOrderSuccess&&cur.onAppOrderSuccess(cur.paymentsOrderId),cur.onSubscriptionDone&&a&&(cur.onSubscriptionDone(a),cur.onSubscriptionDone=!1)):cur.paymentsOrderBillPeriod&&cur.onSubscriptionFail?cur.onSubscriptionFail(r):cur.onAppOrderFail&&cur.onAppOrderFail(r))},onFail:function(e){return clearInterval(cur.paymentsCheckOrderInt),cur.paymentsShowBoxError(e),!0}})}static initialize(e,t,n,r,o,a,i,s){extend(cur,{isPaymentsAppOrder:!0,paymentsAuthPayment:!1,paymentsOrderNotice:!1,paymentsOrderId:e,paymentsOrderAppId:t,paymentsOrderTestMode:n,paymentsOrderHash:r,paymentsPreferVotes:o,paymentsOrderDiscount:a,paymentsOrderBillPeriod:i,salesRef:s})}}},382481:(e,t,n)=>{"use strict";n.d(t,{MoneyTransfer:()=>P});n(175115),n(991181),n(579665),n(95767),n(530522),n(66108),n(296253),n(59357),n(21466);var r=n(705456),o=n(791563),a=n(414914),i=n(960139),s=n(907851),u=n(442699),l=n(519921),c=n(109847),_=n(116886),d=n(376624),p=n(322952),f=n(602872),h=n(128533),m=n(719016),v=n(619608);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=1,D=2,C=-1,P={initHandlers(){(0,h.tq)().setInteractiveHandler("MoneyTransfer/receive_method_change",(e=>{var t=e.payload.event.target;if(!hasClass(t,"disabled")){var n=e.payload.dataAttrs,r=n.value,o=n.name;P.onReceiveMethodChange(t,r,o)}})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/in_chat_focus_amount",(()=>{(0,a.elfocus)("transfer_amount")})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/check_user_message",(()=>{P.checkUserMessage()})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/show_hint",(e=>{(0,m.showHint)(e.payload.event.target)})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/send",(e=>{P.send(Boolean(e.payload.dataAttrs.newWindow))})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/check_participate",(e=>{(0,r.checkbox)(e.payload.event.target),P.checkRequestParticipate()})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/check",(e=>{(0,r.checkbox)(e.payload.event.target)})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/check_auto_accept",(e=>{(0,r.checkbox)(e.payload.event.target),P.checkAutoAccept()})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/about",(e=>{P.aboutBox(e.payload.dataAttrs.aboutKey)})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/history",(()=>{P.historyBox()})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/hide_pin_box",(()=>{P.hidePinBox()})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/check_vk_pay_offer",(()=>{P.checkVkPayOfferBox()})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/clean_amount",(e=>{P.cleanAmount(e.payload.event.target,e.payload.event,Boolean(e.payload.dataAttrs.onlyClean))})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/send_amount_on_enter",(e=>{13===e.payload.event.keyCode&&P.send(),P.autosizeAmount()})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/focus_from_to",(e=>{(0,a.elfocus)(e.payload.event,0,1e4)})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/focus_and_hide_link",(e=>{(0,a.elfocus)(e.payload.event,0,1e4),P.hideLinkCopied()})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/copy_link",(e=>{P.copyLinkToClipboard(ge(e.payload.dataAttrs.element))})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/share_qr",(()=>{P.shareQRCode()})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/download_qr",(()=>{P.downloadQRCode()})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/switch_to_transfer_box",(e=>{P.switchBoxSection(e.payload.event.target,"transfer")})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/switch_to_request_box",(e=>{P.switchBoxSection(e.payload.event.target,"request")})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/switch_to_link_box",(e=>{P.switchBoxSection(e.payload.event.target,"link")})),(0,h.tq)().setInteractiveHandler("MoneyTransfer/init_accept",(()=>{P.initAccept(cur.paymentsOptions.chkData,cur.paymentsOptions.frame,!0)}))},init(){this.initHandlers();var e=curBox();if(ge("payments_box")!=geByClass1("payments_money_transfer_box",e.bodyNode)&&_message_boxes.length>1){var t=!0;_message_boxes.forEach((function(e,n){t&&ge("payments_box")==geByClass1("payments_money_transfer_box",e.bodyNode)&&(boxLayer.removeChild(gpeByClass("popup_box_container",e.bodyNode)),boxQueue._boxes.splice(n,1),delete _message_boxes[n],t=!1)}))}if(cur.moneyLinksTooltip&&(cur.moneyLinksTooltip.destroy(),delete cur.moneyLinksTooltip),e.setOptions({grey:!0}),cur.paymentsOptions.requestId&&!cur.paymentsOptions.vkpayAvailable&&(e.changed=!0,e.setOptions({width:510}),P.send()),placeholderInit("transfer_amount"),placeholderInit("transfer_comment"),cur.paymentsOptions.isChat){if(placeholderInit("transfer_chunk_amount"),cur.autoacceptCardDD=new InlineDropdown("transfer_autoaccept_card",{items:cur.paymentsOptions.cards,selected:cur.paymentsOptions.cardSeleceted,withArrow:!0,onShow:P.enableAutoaccept,onSelect:e=>{-1==e?P.sendBind():cur.paymentsOptions.vkpayAvailable&&P.checkAmount(val("transfer_amount"))}}),cur.autoacceptCardEl=ge("transfer_autoaccept_card"),(0,a.toggleClass)("transfer_autoaccept_card","disabled",!cur.paymentsOptions.autoAcceptEnabled),cur.paymentsOptions.autoAcceptEnabled&&(0,r.checkbox)("transfer_autoaccept",!0),cur.paymentsOptions.cards.length<2){var n=(0,a.ce)("a",{id:"payments_money_transfer_new_card_lnk",innerHTML:(0,_.getLang)("payments_money_transfer_new_card")});addEvent(n,"mousedown",P.sendBind),(0,a.hide)(cur.autoacceptCardEl),cur.autoacceptCardEl.parentNode.appendChild(n)}}else if(ge("transfer_to")){(0,a.hide)("payments_money_transfer_user");var o="transfer"===cur.paymentsOptions.boxTab;cur.uiTransferTo=new Dropdown(ge("transfer_to"),cur.paymentsOptions.friends.filter((function(e){return o||!0===e[7]})),{big:!0,introText:(0,_.getLang)("votes_transfer_start_typing_recipient"),noResult:"",placeholder:(0,_.getLang)("votes_transfer_choose_recipients"),placeholderColored:!0,multiselect:!1,enableCustom:!0,autocomplete:!0,imageId:"transfer_to_photo",indexkeys:[1,4],noImageSrc:"/images/blank.gif",onChange:e=>{if(e&&-1!=e){var t=cur.uiTransferTo.val_full();cur.paymentsOptions.toId=t[0],cur.paymentsOptions.hash=t[5],val("payments_money_transfer_summary",t[6]),setTimeout(a.elfocus.pbind("transfer_amount"),100),cur.paymentsOptions.vkpayAvailable&&P.updateMethods()}}})}else ge("transfer_method")&&P.initMethods();setTimeout(a.elfocus.pbind("transfer_amount"),100),shortCurrency(),"link"===cur.paymentsOptions.boxTab&&P.genQRCode();var i=val("transfer_amount");i&&P.checkAmount(i,!1,!0),P.autosizeAmount(),P.showMoneyLinksTooltip(),cur.transferPageLoaded=!1,cur.destroy.push(P.destroy)},destroy(){P.stopCheckFrameLoad(),cur.uiTransferTo&&cur.uiTransferTo.destroy(cur.uiTransferTo),cur.qrFrame&&(0,a.re)(cur.qrFrame)},initMethods(){cur.paymentsOptions.onlyCards=!(0,a.isVisible)("payments_money_transfer_receive_methods");var e=cur.paymentsOptions.cardSelected;if([D,b].includes(parseInt(cur.paymentsOptions.forceType))){var t,n=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=E(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(cur.paymentsOptions.cards);try{for(n.s();!(t=n.n()).done;){y(t.value,1)[0]===C&&(e=C)}}catch(e){n.e(e)}finally{n.f()}}(cur.uiTransferCard=new Dropdown(ge("transfer_method"),cur.paymentsOptions.cards,{big:!0,selectedItems:e,onChange:(e,t)=>{if(-2===parseInt(e)){var n=(0,a.se)(t);return nav.go(n.getAttribute("data-url")),(0,r.lockButton)("payments_money_transfer_send"),!1}P.updateTransferType(),P.updateCardFee(!0),val("transfer_amount")||setTimeout(a.elfocus.pbind("transfer_amount"),100)}}),cur.paymentsOptions.onlyCards)||geByClass1("payments_money_transfer_receive_options","payments_money_transfer_receive_methods")&&(window.radioBtns.receiveOptions={els:Array.prototype.slice.apply((0,a.geByClass)("radiobtn")),val:e==C?"vkpay":"cards"});if(void 0!==cur.paymentsOptions.vkpayBalance&&((0,u.each)((0,a.geByClass)("_code","payments_money_transfer_code_wrap"),(function(){addEvent(this,"mousedown",P.onPinClick),addEvent(this,"keyup",P.onPinKeyUp),addEvent(this,"keypress",P.onPinEnter)})),P.isVKPayFillUpEnabled())){var o=P.getBindCards();o.length>0&&(cur.uiFillUpCard=new Dropdown(ge("fill_up_card"),o,{big:!0,selectedItems:cur.paymentsOptions.fillUpCardSelected}))}var i=!cur.paymentsOptions.transferType||cur.paymentsOptions.forceType;i&&P.updateTransferType(),P.updateCardFee(!i)},updateLocalStorageNewWindowSign(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()+20+20*Math.random());return localStorage.setItem("money_transfer_new_window",t.getTime()),t},getLocalStorageNewWindowSign(){var e,t=parseInt(null!==(e=localStorage.getItem("money_transfer_new_window"))&&void 0!==e?e:0);if(1===t)t=P.updateLocalStorageNewWindowSign().getTime();else if(0===t)return!1;return t>(new Date).getTime()},updateMethods(){var e=cur.paymentsOptions.toId;if(e&&cur.paymentsOptions.vkpayAvailable){var t=ge("payments_money_transfer_send");val("payments_box_error",""),cur.moneyTranferMethodsReq&&(cur.moneyTranferMethodsReq.abort(),cur.moneyTranferMethodsReq=null),cur.moneyTranferMethodsReq=ajax.post("al_payments.php?act=a_get_money_transfer_methods",{to_id:e},{onDone:(e,n)=>{(0,r.unlockButton)(t),val("payments_money_transfer_methods",e),cur.paymentsOptions=extend(cur.paymentsOptions,n),cur.paymentsOptions.transferType=n.transferType,P.initMethods()},onFail:e=>(e&&isString(e)&&((0,r.unlockButton)(t),P.showError(e)),!0),showProgress:r.lockButton.pbind(t)})}},send(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=curBox(),o=ge("payments_money_transfer_send");if(!(0,r.isButtonLocked)(o))if(cur.paymentsOptions.toId||!cur.uiTransferTo){var i=0;if(P.resetTransferWindow(),!(0,a.isVisible)("payments_money_transfer_no_amount_wrap")){if(!(i=val("transfer_amount"))||i<=0)return(0,a.addClass)("payments_money_transfer_amount_wrap","money_error"),setTimeout(a.removeClass.pbind("payments_money_transfer_amount_wrap","money_error"),500),void(0,a.elfocus)("transfer_amount");if(!P.checkAmount(i,!0))return;if((0,r.isChecked)("transfer_participate"))i-=P.getChunkAmount(i,!0)}if(P.hideMoneyLinksTooltip(),cur.paymentsOptions.onSendStart&&cur.paymentsOptions.onSendStart(),"request"!==cur.paymentsOptions.boxTab){P.createFrame();var s={act:"a_init_money_transfer",to_id:cur.paymentsOptions.toId,owner_id:cur.paymentsOptions.ownerId,amount:i,currency:cur.paymentsOptions.currency,comment:val("transfer_comment"),from:cur.paymentsOptions.from,hash:cur.paymentsOptions.hash,accept_vk_pay_offer:cur.paymentsOptions.shouldAcceptVkPayOffer};if(cur.paymentsOptions.vkpayAvailable&&(s.card_id=cur.uiTransferCard.val(),cur.paymentsOptions.onlyCards||(s.receive_method=radioval("receiveOptions")),"-1"===s.card_id)){if(!t)return void P.showPinBox();s.vkpay_pin=t}if(P.isVKPayTransfer()&&P.isVKPayFillUpEnabled()&&P.isFillUpCardSelectionVisible()&&(s.fill_up_card_id=cur.uiFillUpCard.val()),cur.paymentsOptions.requestId&&(s.request_id=cur.paymentsOptions.requestId),cur.paymentsOptions.statSessionId&&(s.stat_session_id=cur.paymentsOptions.statSessionId),val("payments_box_error",""),e||!localStorage||this.isVKPayTransfer()||"-1"===s.card_id||(e=P.getLocalStorageNewWindowSign()),e){cur.paymentsOptions.qid&&(s.act="a_continue_money_transfer",s.qid=cur.paymentsOptions.qid),cur.transferWindow=window.open("","Money Transfer");var u=p.PaymentsBox.popupHtml((0,_.getLang)("payments_cards_redirect"),"","");cur.transferWindow.document.write(u)}ajax.post("al_payments.php",s,{onDone:(t,o)=>{var i;o?(cur.paymentsOptions.qid=t.qid,e?cur.transferWindow?P.updateTransferWindow(o):P.showError((0,_.getLang)("payments_payment_cancelled"),"info_msg"):(cur._popup_text=o,cur._popup_callback=function(){(0,a.hide)("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_money_transfer_prg","payments_iframe_cookie_disabled_div"),show("payments_money_transfer_iframe","payments_iframe_container"),cur.uiTransferTo&&((0,a.hide)("payments_money_transfer_user_select"),show("payments_money_transfer_user")),ge("payments_iframe_container").scrollTop=0,window.addEventListener("message",P.frameMessage,!1),n.changed=!0,n.setOptions({width:510}),!cur.paymentsOptions.requestId&&(0,a.isVisible)(n.titleWrap)&&n.setBackTitle(P.resetSendBox),setStyle(i,{width:ge("payments_iframe_container").parentNode.offsetWidth-(0,r.sbWidth)()+"px"})},(i=ge("transfer_iframe")).contentWindow.document.open("text/html","replace"),i.contentWindow.document.write(o),i.contentWindow.document.close(),cur._popup_callback(),P.startCheckFrameLoad(+new Date))):(cur.paymentsOptions.receiptRedesign&&window.addEventListener("message",P.frameMessage,!1),(0,a.hide)("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_iframe_container",geByClass1("payments_money_transfer_mc_info_msg","payments_money_transfer_iframe")),cur.uiTransferTo&&((0,a.hide)("payments_money_transfer_user_select"),show("payments_money_transfer_user")),show("payments_money_transfer_iframe","payments_money_transfer_prg"));P.startCheckStatus(t,e)},onFail:e=>(P.resetTransferWindow(),P.showError(e),!0),showProgress:r.lockButton.pbind(o),hideProgress:r.unlockButton.pbind(o)})}else P.sendRequest(i)}else(0,r.notaBene)(cur.uiTransferTo.container)},sendRequest(e){var t=ge("payments_money_transfer_send"),n={to_id:cur.paymentsOptions.toId,owner_id:cur.paymentsOptions.ownerId,amount:e,currency:cur.paymentsOptions.currency,comment:val("transfer_comment"),from:cur.paymentsOptions.from,hash:cur.paymentsOptions.hash};if(cur.paymentsOptions.statSessionId&&(n.stat_session_id=cur.paymentsOptions.statSessionId),cur.paymentsOptions.isChat){if(n.total_amount=parseInt(e),n.amount=parseInt(val("transfer_chunk_amount")),n.pin_message=(0,r.isChecked)("transfer_pin_message")?1:0,(0,r.isChecked)("transfer_autoaccept")&&(cur.autoacceptCardDD&&(n.accept_card=cur.autoacceptCardDD.val()),!n.accept_card||-1==n.accept_card))return P.showError((0,_.getLang)("payments_money_request_error_no_accept_card")),!1;var o=!1,a=P.getTransferLimit("minAmount"),i=P.getTransferLimit("maxAmount");if(a&&n.amount<a?o=(0,_.getLang)("payments_money_request_error_min_chunk_amount_currency"):i&&n.amount>i?o=(0,_.getLang)("payments_money_request_error_max_chunk_amount_currency"):n.total_amount&&n.amount>n.total_amount&&(o=(0,_.getLang)("payments_money_request_error_chunk_amount_too_big")),o)return P.showError(o),(0,r.notaBene)("transfer_chunk_amount"),!1}val("payments_box_error",""),ajax.post("al_payments.php?act=a_send_money_request",n,{onDone:e=>{curBox().hide(),showDoneBox(e,{out:6e3})},onFail:e=>(P.showError(e),!0),showProgress:r.lockButton.pbind(t),hideProgress:r.unlockButton.pbind(t)})},sendBind(){var e=curBox();P.createFrame(),(0,a.hide)("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_money_transfer_summary_wrap","payments_iframe_container",geByClass1("msg","payments_money_transfer_iframe"),geByClass1("tb_tabs_wrap",e.bodyNode)),show("payments_money_transfer_iframe","payments_money_transfer_prg"),e.setBackTitle(P.resetSendBox),e.setOptions({width:510});var t={type:"card",only_auth:1,hash:cur.paymentsOptions.bindHash};val("payments_box_error",""),ajax.post("al_payments.php?act=a_getvotes_charge",t,{onDone:(t,n)=>{var o;cur._popup_text=n,cur._popup_callback=function(){(0,a.hide)("payments_money_transfer_prg"),show("payments_iframe_container"),ge("payments_iframe_container").scrollTop=0,window.addEventListener("message",P.frameMessage,!1),cur.autoacceptCardDD&&(0,a.isVisible)(cur.autoacceptCardEl)&&cur.autoacceptCardDD.select(cur.paymentsOptions.cards[0][0]),e.changed=!0,setStyle(o,{width:ge("payments_iframe_container").parentNode.offsetWidth-(0,r.sbWidth)()+"px"})},(o=ge("transfer_iframe")).contentWindow.document.open("text/html","replace"),o.contentWindow.document.write(n),o.contentWindow.document.close(),cur._popup_callback(),cur.isPaymentCanceled=cur.isPaymentFailed=!1,cur.moneyTranferCheckInt=setInterval((function(){P.checkBindStatus(t),(cur.isPaymentCanceled||cur.isPaymentFailed)&&(clearInterval(cur.moneyTranferCheckInt),cur.isPaymentFailed?P.showError((0,_.getLang)("payments_landing_cancelled")):P.showError((0,_.getLang)("payments_payment_cancelled"),"info_msg"))}),2e3)},onFail:e=>(P.showError(e),!0)})},createFrame(){var e=ge("payments_iframe_container"),t=(0,a.ce)("iframe",{id:"transfer_iframe",name:"transfer_iframe"},{border:0,height:"445px",width:510-(0,r.sbWidth)()+"px",overflowX:"hidden",overflowY:"hidden"});t.frameBorder=0,e.innerHTML="",e.appendChild(t)},popupWrite(e){if(e.document.innerHTML!==cur._popup_text){e.document.write(cur._popup_text),e.document.close();try{e.document.charset="windows-1251"}catch(e){}e.blur(),e.focus(),cur._popup_callback&&cur._popup_callback()}},resetSendBox(){var e=curBox();if(e){var t=geByClass1("tb_tabs_wrap",e.bodyNode);(0,a.hide)("payments_money_transfer_iframe"),show("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_money_transfer_summary_wrap",t,geByClass1("payments_money_transfer_mc_info_msg","payments_money_transfer_iframe")),cur.uiTransferTo&&((0,a.hide)("payments_money_transfer_user"),show("payments_money_transfer_user_select")),t&&e.setOptions({title:""}),e.changed=!1,e.setOptions({width:510}),(0,a.isVisible)(e.titleWrap)&&e.setBackTitle(!1)}},resetTransferWindow(){cur.transferWindow&&(show("payments_money_transfer_wrap","payments_money_transfer_buttons"),(0,a.hide)("payments_money_transfer_prg","payments_money_transfer_iframe"),cur.transferWindow.location=window.location,cur.transferWindow.close()),cur.transferWindow=void 0},updateTransferWindow(e){var t=cur.transferWindow.document.getElementById("wait_text_container");t&&(t.innerHTML=""),cur.transferWindow.document.write(e),setTimeout((()=>{var e;null===(e=cur.transferWindow.document.getElementById("popup_payment_form"))||void 0===e||e.submit()}),1500),window.addEventListener("message",P.frameMessage,!1),(0,a.hide)("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_iframe_safari_trouble_div","payments_iframe_container"),val("payments_transfer_box_progress_msg",(0,_.getLang)("payments_waiting_transfer_complete")),show("payments_money_transfer_iframe","payments_money_transfer_prg")},startCheckStatus(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];cur.isPaymentCanceled=cur.isPaymentFailed=!1,cur.moneyTransferRedirected=!1,cur.moneyTranferCheckInt&&clearInterval(cur.moneyTranferCheckInt),cur.moneyTranferCheckInt=setInterval((function(){if(P.checkStatus(e,t),cur.isPaymentCanceled||cur.isPaymentFailed){var n=P.resetTransferWindow();if(n&&n(),clearInterval(cur.moneyTranferCheckInt),e.accept)return void curBox().hide();cur.isPaymentFailed?P.showError((0,_.getLang)("payments_landing_cancelled")):P.showError((0,_.getLang)("payments_payment_cancelled"),"info_msg")}}),2e3)},hideBoxQueue(){for(;boxQueue.count();)boxQueue.hideLast(!1)},stopListeningFrameMessages(){window.removeEventListener("message",P.frameMessage,!1)},checkStatus(e,t){var n={act:"a_check_money_transfer",qid:e.qid,hash:e.hash};e.accept&&(n.accept=e.accept),ajax.post("al_payments.php",n,{onDone:(n,i,s,u)=>{if(!n||4==n&&cur.moneyTransferRedirected){var l;t&&(null===(l=cur.transferWindow)||void 0===l?void 0:l.closed)&&(P.showError((0,_.getLang)("payments_payment_cancelled")),P.stopListeningFrameMessages(),P.resetTransferWindow(),cur.isPaymentFailed=!1,cur.isPaymentCanceled=!1)}else{if(1==n||3==n){if(t)0===cur.paymentsOptions.transferType||cur.paymentsOptions.transferType===b?cur.transferWindow&&!cur.transferWindow.closed&&(P.resetTransferWindow(),P.hideBoxQueue()):(P.resetTransferWindow(),P.hideBoxQueue());else cur.paymentsOptions.transferType===D?(P.resetTransferWindow(),P.hideBoxQueue()):cur.paymentsOptions.receiptRedesign&&((0,a.hide)(document.querySelector(".payments_money_transfer_footer")),(null==u?void 0:u.receipt_link)&&P.setIframeByLink(u.receipt_link));u||showDoneBox(i,{out:6e3});var c=nav.objLoc;e.accept||"settings"!==c[0]||"payments"!==c.act||"transfer"!==c.section||(cur.historyOffset||(cur.historyOffset={}),cur.historyOffset.transfer=0,(0,v.showNextPaymentsHistory)(!1,c.section)),3==n&&(u&&u.title&&(0,o.showFastBox)({title:u.title},i,(0,_.getLang)("payments_remember_card_btn"),P.rememberAcceptCard.pbind(u),(0,_.getLang)("payments_dont_remember_card_btn")),TopNotifier.invalidate(),cur.acceptMoneyBtn&&hasClass((0,a.domPN)(cur.acceptMoneyBtn),"feedback_buttons")?((0,a.re)((0,a.domPN)(cur.acceptMoneyBtn)),cur.acceptMoneyBtn=!1):cur.acceptMoneyBtn&&((0,a.re)(geByClass1("_decline_btn",(0,a.domPN)(cur.acceptMoneyBtn))),domReplaceEl(cur.acceptMoneyBtn,s),cur.acceptMoneyBtn=!1))}else if(2==n||5==n)P.showError(i),P.stopListeningFrameMessages(),cur.isPaymentFailed=!1,cur.isPaymentCanceled=!1;else{if(4==n){var d;if(cur.moneyTransferRedirected=!0,cur._popup_text=s,t&&cur.transferWindow)P.updateTransferWindow(s);else cur._popup_callback=function(){(0,a.hide)("payments_money_transfer_prg"),show("payments_iframe_container"),ge("payments_iframe_container").scrollTop=0,window.addEventListener("message",P.frameMessage,!1),curBox().changed=!0,setStyle(d,{width:ge("payments_iframe_container").parentNode.offsetWidth-(0,r.sbWidth)()+"px"})},(d=ge("transfer_iframe")).contentWindow.document.open("text/html","replace"),d.contentWindow.document.write(s),d.contentWindow.document.close(),cur._popup_callback();return}if(6==n)return void((0,a.isVisible)("payments_money_transfer_prg")||((0,a.hide)("payments_iframe_container"),show("payments_money_transfer_iframe","payments_money_transfer_prg")))}clearInterval(cur.moneyTranferCheckInt)}},onFail:e=>(clearInterval(cur.moneyTranferCheckInt),P.resetTransferWindow()(),P.showError(e),!0)})},checkBindStatus(e){var t={act:"a_getvotes_check",type:"card"};e&&(e.oid||e.qid)&&(t.oid=e.oid,t.qid=e.qid,t.hash=e.hash),ajax.post("al_payments.php",t,{onDone:(e,t,n)=>{e&&(1==e?(P.resetSendBox(),P.enableAutoaccept(),n&&cur.autoacceptCardDD&&((0,a.isVisible)(cur.autoacceptCardEl)||((0,a.hide)(geByTag("A",cur.autoacceptCardEl.parentNode)[0]),show(cur.autoacceptCardEl)),cur.paymentsOptions.cards.unshift([n.bindingId,n.bin]),cur.autoacceptCardDD.setItems(cur.paymentsOptions.cards),cur.autoacceptCardDD.select(n.bindingId))):2!=e&&10!=e||P.showError(t),clearInterval(cur.moneyTranferCheckInt))},onFail:e=>(clearInterval(cur.moneyTranferCheckInt),P.showError(e),!0)})},paymentCanceled(e){e?cur.isPaymentFailed=!0:cur.isPaymentCanceled=!0,P.frameHeight()},frameHeight(e,t){var n=ge("transfer_iframe");e?(e=Math.max(e,250),cur.prevFrameHeight=n.style.height,n.style.height=e+"px"):(n.style.height=cur.prevFrameHeight,(0,a.removeClass)("payments_iframe_container","payments_threeds_frame")),t||(ge("payments_iframe_container").style.height=(e||cur.prevFrameHeight)+15+"px"),ge("payments_iframe_container").scrollTop=0},frameMessage(e){if(curBox()||!cur.paymentsOptions.receiptRedesign){if(!(e.origin.match(/^https?:\/\/([a-zA-Z0-9\-\.]+\.)?money\.mail\.ru$/)||e.origin.match(/^https?:\/\/([a-zA-Z0-9\-\.]+\.)?vk\.com$/)&&cur.paymentsOptions.receiptRedesign))return!1;var t={};if(!e.data||"{"!==e.data.substr(0,1)||"billing"===(t=(0,s.parseJSON)(e.data)).type){vk.dev&&(0,l.debugLog)(t);var n=geByClass1("payments_iframe_container",curBox().bodyNode)||ge("payments_iframe_container");if(cur.transferPageLoaded=!0,"resizeFrame"===t.action?setTimeout(P.frameHeight.pbind(t.action_params.height),200):"submit"===e.data||"3dsPage"===t.action?(setTimeout(P.frameHeight.pbind(600,!0),200),(0,a.addClass)(n,"payments_threeds_frame")):"3dsFinish"===t.action?(P.frameHeight(),(0,a.removeClass)(n,"payments_threeds_frame")):"session_fail"===t.action?((0,a.hide)(n),P.resetTransferWindow(),show("payments_iframe_safari_trouble_div"),P.updateLocalStorageNewWindowSign()):"putPixel"===t.action&&"page_load"===t.action_params.alias?(p.PaymentsBox.finishFormMeasure("dmr_transfer"),(0,c.statlogsValueEvent)("money_transfers",0,"iframe_loaded")):"paySuccess"===t.action&&setTimeout(P.frameHeight.pbind(500),300),cur.paymentsOptions.receiptRedesign){if("make_one_more_transfer"===t.action||"close_window"===t.action)switch(clearInterval(cur.moneyTranferCheckInt),P.resetTransferWindow(),P.stopListeningFrameMessages(),t.action){case"make_one_more_transfer":P.resetSendBox();break;case"close_window":P.hideBoxQueue()}if("get_transfer_source"===t.action){var r=vk.dev?"*":window.location.origin;cur.transferWindow&&cur.transferWindow.postMessage(JSON.stringify({from:cur.paymentsOptions.from}),r);var o=ge("transfer_iframe");o&&o.contentWindow.postMessage(JSON.stringify({action:"set_transfer_source",source:cur.paymentsOptions.from}),r)}}}}else P.stopListeningFrameMessages()},setIframeByLink(e){var t=geByClass1("payments_iframe_container",curBox().bodyNode)||ge("payments_iframe_container"),n=(0,a.ce)("iframe",{id:"transfer_iframe",name:"transfer_iframe"},{border:0,height:"445px",width:"510px",overflowX:"hidden",overflowY:"hidden"});n.frameBorder=0,t.innerHTML="",t.appendChild(n),(0,a.hide)(ge("payments_money_transfer_prg")),show(t),n.src=e},startCheckFrameLoad(e){cur.frameLoadChecker=setInterval((function(){cur.transferPageLoaded?P.stopCheckFrameLoad():+new Date-e>5e3&&(P.stopCheckFrameLoad(),P.resetTransferWindow(),(0,a.hide)("payments_iframe_container"),show("payments_iframe_safari_trouble_div"),P.updateLocalStorageNewWindowSign())}),1e3)},stopCheckFrameLoad(){clearInterval(cur.frameLoadChecker)},initAccept(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)cur.transferWindow=window.open("/","Money transfer"),cur.transferWindow.document.write(t),(0,a.hide)("payments_box_error","payments_iframe_container","payments_iframe_safari_trouble_div","payments_iframe_container"),val("payments_transfer_box_progress_msg",(0,_.getLang)("payments_waiting_transfer_complete")),show("payments_money_transfer_iframe","payments_money_transfer_prg");else{var r=geByClass1("payments_iframe_container",curBox().bodyNode)||ge("payments_iframe_container");show(r);var o=(0,a.ce)("iframe",{id:"transfer_iframe",name:"transfer_iframe"},{border:0,height:"445px",width:"510px",overflowX:"hidden",overflowY:"hidden"});o.frameBorder=0,r.innerHTML="",r.appendChild(o),o.contentWindow.document.open("text/html","replace"),o.contentWindow.document.write(t),o.contentWindow.document.close(),P.startCheckFrameLoad(+new Date)}window.addEventListener("message",P.frameMessage,!1),P.startCheckStatus(e,n)},rememberAcceptCard(e){var t=curBox()||{},n=t.btns.ok[0];ajax.post("al_payments.php?act=a_remember_money_transfer_accept_card",{card_id:e.card_id,hash:e.hash},{onDone:t.hide,showProgress:r.lockButton.pbind(n),hideProgress:r.unlockButton.pbind(n)})},cleanAmount(e,t,n){if(13!==t.keyCode){var r=e.value.replace(/[^0-9]/g,"");r=r.replace(/^0+/,""),e.value!=r&&(e.value=r),n||(P.checkAmount(r),P.autosizeAmount(),cur.paymentsOptions.cardsFee&&P.updateCardFee(!0))}},getTransferLimit(e){var t="request"===cur.paymentsOptions.boxTab?0:cur.paymentsOptions.transferType;return"balance"===e&&parseInt(t)===D?cur.paymentsOptions.vkpayBalance:(cur.paymentsOptions.isChat&&"request"===cur.paymentsOptions.boxTab&&"maxAmount"===e&&cur.autoacceptCardDD&&-2===cur.autoacceptCardDD.val()&&(t=2),cur.paymentsOptions.limits[t][e])},checkAmount(e,t,n){var i,s=!1,u=hasClass("payments_money_transfer_amount_wrap","money_error"),l=parseInt(null===(i=cur.uiTransferCard)||void 0===i?void 0:i.val())===C,c=P.isVKPayTransfer(),d=P.isVKPayFillUpEnabled();if(t&&u)return c&&e>P.getTransferLimit("balance")&&!d&&(0,o.showFastBox)({title:(0,_.getLang)("payments_vkpay_low_balance_title"),width:420},(0,_.getLang)("payments_vkpay_low_balance_text"),(0,_.getLang)("payments_vkpay_topup_button"),nav.go.pbind("/vkpay#action=refill"),(0,_.getLang)("global_close")),!1;var p=cur.paymentsOptions.isChat&&"request"===cur.paymentsOptions.boxTab,f=p&&(0,r.isChecked)("transfer_participate"),h=P.getTransferLimit("minAmount")*(f?2:1),m=P.getTransferLimit("maxAmount"),v=P.getTransferLimit("balance"),g=langNumeric(h,cur.paymentsOptions.currencyStr,!0),y=(0,_.getLang)("payments_money_transfer_amount_limits").replace("{min_amount}",g),E=!p;if(p&&cur.autoacceptCardDD&&-2===cur.autoacceptCardDD.val()&&(E=!0),l&&c&&d&&!(void 0!==v&&e<=v)||P.hideFillUpCardSelection(),t&&h&&e<h)s=(0,_.getLang)("payments_money_transfer_error_min_amount_currency").replace("{min_amount}",g);else if(m&&E&&e>m){var w=langNumeric(m,cur.paymentsOptions.currencyStr,!0);s=(0,_.getLang)("payments_money_transfer_error_max_amount_currency").replace("{max_amount}",w)}else if(l&&void 0!==v&&e>v){if(c&&d)P.getBindCards().length>0?P.showFillUpCardSelection():s=(0,_.getLang)("payments_money_transfer_low_balance");else s=(0,_.getLang)("payments_money_transfer_low_balance")}var b=ge("payments_money_transfer_notice");if(0!=s)return val(b,s),(0,a.addClass)("payments_money_transfer_amount_wrap","money_error"),!1;if((u||n||e<h)&&((e<h||"request"===cur.paymentsOptions.boxTab)&&val(b,y),(0,a.removeClass)("payments_money_transfer_amount_wrap","money_error")),!t&&p){var D=P.getChunkAmount(e,f);if(val("transfer_chunk_amount",D),h&&e<h)val(b,y);else{var T=langNumeric(f?e-D:e,cur.paymentsOptions.currencyStr,!0);val(b,(0,_.getLang)("payments_money_transfer_will_be_requested").replace("{amount}",T))}}return!0},getChunkAmount(e,t){var n=P.getTransferLimit("minAmount"),r=P.getTransferLimit("maxAmount"),o=Math.max(n||100,Math.ceil(e/Math.max(1,cur.paymentsOptions.chatCount-(t?0:1))));return r&&(o=Math.min(o,r)),o},autosizeAmount(){var e=ge("transfer_amount"),t=(0,a.ce)("span",{innerHTML:e.value||"0"},{fontFamily:getStyle(e,"fontFamily"),fontSize:getStyle(e,"fontSize"),fontWeight:getStyle(e,"fontWeight")});ge("utils").appendChild(t);var n=Math.floor(getSize(t)[0])+50;(0,a.re)(t),cur.amountMinSize||(cur.amountMinSize=80),n<cur.amountMinSize&&(n=cur.amountMinSize),setStyle(e,{width:n})},checkUserMessage(){checkTextLength(cur.paymentsOptions.maxTextLength,ge("transfer_comment"),ge("transfer_comment_limit_message"),!1,!0),(val("transfer_comment_limit_message")&&(0,a.isVisible)("transfer_comment_limit_message")?a.hide:show)("payments_money_transfer_fee_link")},checkRequestParticipate(){P.checkAmount(val("transfer_amount"))},checkRequestNoAmount(e,t){e&&uiTabs.switchTab(e),t?((0,a.hide)("payments_money_transfer_amount_wrap","transfer_participate"),show("payments_money_transfer_no_amount_wrap")):((0,a.hide)("payments_money_transfer_no_amount_wrap"),show("payments_money_transfer_amount_wrap","transfer_participate"),(0,a.elfocus)("transfer_amount"))},checkAutoAccept(){(0,a.toggleClass)("transfer_autoaccept_card","disabled",!(0,r.isChecked)("transfer_autoaccept"))},enableAutoaccept(){(0,r.isChecked)("transfer_autoaccept")||((0,r.checkbox)("transfer_autoaccept",!0),(0,a.removeClass)("transfer_autoaccept_card","disabled"))},showMoneyTransferBox(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return showBox("al_payments.php",g({},e,{act:"money_transfer_box"}),g({},t,{onDone(e,t){null==r||r(),cur.paymentsOptions=t,e.setOptions({width:510,bodyStyle:"padding: 0;",hideButtons:!0,onClean(){cur.moneyTranferCheckInt&&clearInterval(cur.moneyTranferCheckInt),nav.objLoc.z&&"moneysend"===nav.objLoc.z.substr(0,9)&&(delete nav.objLoc.z,nav.setLoc(nav.objLoc))}}),P.init()},onFail:n}))},aboutBox:e=>!(0,o.showFastBox)({title:(0,_.getLang)("payments_money_transfer_about_title"),width:560},(0,_.getLang)(e)),showError(e,t){e&&(ge("payments_box_error").innerHTML="",(0,i.showMsg)("payments_box_error",e,t||"error"),show("payments_box_error")),ge("payments_money_transfer_wrap")&&(P.resetSendBox(),cur.moneyTranferCheckInt&&(clearInterval(cur.moneyTranferCheckInt),cur.moneyTranferCheckInt=!1))},switchBoxSection(e,t){cur.paymentsOptions.boxTab!==t&&(e&&uiTabs.switchTab(e),"transfer"===cur.paymentsOptions.boxTab&&(0,a.isVisible)("payments_money_transfer_iframe")&&(P.resetSendBox(),cur.moneyTranferCheckInt&&(clearInterval(cur.moneyTranferCheckInt),cur.moneyTranferCheckInt=!1)),"transfer"===cur.paymentsOptions.boxTab&&cur.paymentsMoneyBoxTTHide&&cur.paymentsMoneyBoxTTHide(),"link"===cur.paymentsOptions.boxTab&&((0,a.hide)("payments_money_link_box"),show("payments_money_transfer_request_box"),P.hideMoneyLinksTooltip()),cur.paymentsOptions.boxTab=t,"link"===t?((0,a.hide)("payments_money_transfer_request_box"),show("payments_money_link_box"),P.hideMoneyLinksTooltip(),P.genQRCode(),P.showMoneyLinksTooltip()):(val("payments_money_transfer_summary",cur.paymentsOptions.boxSections[t].summary),val("payments_money_transfer_send",cur.paymentsOptions.boxSections[t].btn),val("payments_money_transfer_user_select_label",cur.paymentsOptions.boxSections[t].user_select_label),P.checkAmount(val("transfer_amount"),!1,!0),"transfer"===t&&P.updateCardFee(!0)),toggle("payments_money_transfer_nf_warning","transfer"===t),toggle("payments_money_transfer_methods","transfer"===t),toggle("payments_money_transfer_vk_pay_offer","transfer"===t),P.renderSelectBox(),setTimeout(a.elfocus.pbind("transfer_amount"),100))},genQRCode(){var e=ge("payments_money_transfer_qr");if(!e.childNodes.length){val(e,d.createQR(cur.paymentsOptions.transferLink,115,"qr-code",{isShowLogo:!0,isShowBackground:!1}))}},shareQRCode(){P.hideMoneyLinksTooltip(!0),showBox("like.php",{act:"publish_box",object:"moneysend"+vk.id+"_0",list:""})},downloadQRCode(){if(!cur.paymentsOptions.qrUrl)return!1;var e=(0,a.ce)("iframe",{src:cur.paymentsOptions.qrUrl});return utilsNode.appendChild(e),cur.qrFrame&&(0,a.re)(cur.qrFrame),cur.qrFrame=e,!1},hideLinkCopied(){(0,u.each)((0,a.geByClass)("_link_copied","payments_money_link_box"),a.hide.pbind(this))},copyLinkToClipboard(e){P.hideLinkCopied(),P.hideMoneyLinksTooltip(!0),e.select(),document.execCommand("copy");var t=geByClass1("_link_copied",gpeByClass("_link_wrap",e));show(t)},renderSelectBox(){if(cur.uiTransferTo){var e="transfer"===cur.paymentsOptions.boxTab;cur.uiTransferTo.setData([]),cur.uiTransferTo.setOptions({autocomplete:!1}),cur.uiTransferTo.setData(cur.paymentsOptions.friends.filter((function(t){return e||!0===t[7]}))),cur.uiTransferTo.setOptions({autocomplete:!0}),cur.paymentsOptions.toId=null,cur.paymentsOptions.hash=null,cur.uiTransferTo.clear(),cur.uiTransferTo.deselectTokens(),val("payments_money_transfer_methods","")}},updateImHistory(e,t,n){var r=geByClass1("_money_transfer"+t,e);if(r){var o=geByClass1("_accept_btn",r);o&&((0,a.re)(geByClass1("_decline_btn",(0,a.domPN)(o))),domReplaceEl(o,n))}},initHistoryBox(e,t,n,o){var i=ge("ui_money_transfer_load_more");if(i){var s=ge("settings_transfer_history").tBodies[0];cur.userAutoScroll=new f.default(s,{offset:n,onNoMore:a.re.pbind(i),onNeedRows:(n,r)=>{var a={act:"money_transfer_history_box",offset:r,owner_id:e};t&&(a.request_id=t),o&&(a.hash=o),ajax.post("al_payments.php",a,{onDone:n})},drawRows:(e,t)=>{if(browser.msie){var n=(0,a.se)("<table>"+r+"</table>"),r=geByTag("tr",n);for(var o in r)1==r[o].nodeType&&e.appendChild(r[o])}else e.insertAdjacentHTML("beforeEnd",t)},showProgress:r.lockButton.pbind(i),hideProgress:r.unlockButton.pbind(i),rowClass:"settings_history_row"})}},historyBox(){showBox("al_payments.php?act=money_transfer_history_box")},showMoneyLinksTooltip(){var e,t,n;cur.paymentsOptions.moneylinks_feature_tooltip&&!cur.moneyLinksTooltip&&((0,a.isVisible)("payments_money_link_box")?(e=geByClass1("payments_money_transfer_link_copy_btn","payments_money_link_box"),t=(0,_.getLang)("payments_money_link_btn_feature_text"),n={forceSide:"right",width:320,offset:[6,0]}):(e=geByClass1("ui_tab",geByClass1("_moneylink_tab","box_layer")))&&(t=(0,_.getLang)("payments_money_link_tab_feature_text"),n={forceSide:"bottom",width:250,offset:[0,4]}),e&&setTimeout((function(){cur.moneyLinksTooltip=new ElementTooltip(e,extend({content:'<div class="feature_tooltip__close" onclick="cur.moneyLinksTooltip.hide();"></div>'+t,cls:"feature_intro_tt feature_info_tooltip moneylinks_feature_tooltip",autoShow:!1,noHideOnClick:!0,noAutoHideOnWindowClick:!0,appendTo:geByClass1("ui_tabs","box_layer"),onHide:P.hideMoneyLinksTooltip.pbind(!0)},n)),cur.moneyLinksTooltip.show(),cur.destroy.push(P.hideMoneyLinksTooltip)}),500))},hideMoneyLinksTooltip(e){e&&ajax.post("al_index.php",{act:"hide_feature_tt",hash:cur.paymentsOptions.moneylinks_feature_tooltip_hash,type:"moneylinks"}),cur.moneyLinksTooltip&&(cur.moneyLinksTooltip.destroy(),delete cur.moneyLinksTooltip)},showPinBox(){(0,a.addClass)(curBox().bodyNode,"payments_box_code_showed"),show("payments_money_transfer_layer_bg","payments_money_transfer_code_box"),(0,u.each)((0,a.geByClass)("_code","payments_money_transfer_code_wrap"),(function(){val(this,"")})),(0,a.elfocus)("payments_code1"),curBox().changed=!0;var e=document.getElementById("payments_money_transfer_send");e&&(e.style.pointerEvents="none",setTimeout((()=>{e.style.pointerEvents="auto"}),0))},hidePinBox(){(0,a.hide)("payments_money_transfer_layer_bg","payments_money_transfer_code_box"),(0,a.removeClass)(curBox().bodyNode,"payments_box_code_showed"),curBox().changed=!1},checkVkPayOfferBox(){var e="payments_money_transfer_vk_pay_offer_box",t=!(0,r.isChecked)(e);(0,r.disableButton)("payments_money_transfer_send",!t),(0,r.checkbox)(e)},onPinKeyUp(e){var t=e.target;if(8==e.keyCode){var n=domPS(t);if(n){var r=n.getAttribute("data-index");val(n,""),cur.paymentsOptions.vkpcode[r]="",cur.paymentsOptions.vkpcode[r-1]="",(0,a.elfocus)(n)}}},onPinEnter(e){var t=e.target;if(!(e.keyCode>=47&&e.keyCode<=57))return cancelEvent(e);var n=t.getAttribute("data-index");cur.paymentsOptions.vkpcode||(cur.paymentsOptions.vkpcode=[]),cur.paymentsOptions.vkpcode[n-1]=e.key,val(t,String.fromCharCode(9679));var r=domNS(t);r?setTimeout(a.elfocus.pbind(r),10):setTimeout((function(){t.blur(),P.checkPin()}),10)},onPinClick(e){var t=e.target,n=domPS(t);if(n&&!val(n))return cancelEvent(e)},checkPin(){var e=cur.paymentsOptions.vkpcode.join("");delete cur.paymentsOptions.vkpcode,val("payments_money_transfer_code_error",""),ajax.post("al_payments.php?act=a_check_vkpay_pin",{code:e,hash:cur.paymentsOptions.pinHash},{onDone:t=>{if(1==t)return(0,a.hide)(geByClass1("_code_enter","payments_money_transfer_code_box")),void show(geByClass1("_code_recover","payments_money_transfer_code_box"));P.hidePinBox(),P.send(!1,e)},onFail:e=>(e&&val("payments_money_transfer_code_error",e),(0,u.each)((0,a.geByClass)("_code","payments_money_transfer_code_wrap"),(function(){val(this,""),(0,r.notaBene)(this)})),(0,a.elfocus)("payments_code1"),!0),showProgress:function(){(0,a.hide)("payments_money_transfer_code_wrap"),show("payments_money_transfer_spinner")},hideProgress:function(){(0,a.hide)("payments_money_transfer_spinner"),show("payments_money_transfer_code_wrap")}})},onReceiveMethodChange(e,t,n){(0,r.radiobtn)(e,t,n),P.updateTransferType(e),P.updateCardFee(!0)},updateTransferType(e){void 0!==cur.paymentsOptions.forceType?cur.paymentsOptions.transferType=cur.paymentsOptions.forceType:parseInt(cur.uiTransferCard.val())===C?cur.paymentsOptions.transferType=D:cur.paymentsOptions.onlyCards?cur.paymentsOptions.transferType=0:(void 0===e&&(0,u.each)(radioBtns.receiveOptions.els,(function(){hasClass(this,"on")&&(e=this)})),void 0!==e&&(cur.paymentsOptions.transferType=intval(attr(e,"data-type")))),P.checkAmount(val("transfer_amount"),!1,!0)},updateCardFee(e){if(cur.uiTransferCard&&"request"!==cur.paymentsOptions.boxTab){var t=intval(val("transfer_amount")),n=P.getTransferLimit("minAmount"),r=ge("payments_money_transfer_to_card"),o=cur.uiTransferCard.val(),i=cur.paymentsOptions.cardsFee[o],s=0===cur.paymentsOptions.transferType,u=parseInt(o)===C||cur.paymentsOptions.forceType===b||cur.paymentsOptions.forceType===D,l=parseInt(o)!==C&&!cur.paymentsOptions.receiverVkpay||0===cur.paymentsOptions.forceType,c=(0,_.getLang)("payments_transfer_without_fee"),d=(0,_.getLang)("payments_money_transfer_btn"),p=u?"payments_money_transfer_to_vkpay":"payments_money_transfer_to_card",f=l,h=0;if((0,a.toggleClass)(r,"disabled",u),(0,a.toggleClass)("payments_money_transfer_to_vkpay","disabled",l),0===parseInt(o))s&&(c=cur.paymentsOptions.mastercardPromoEnabled?(0,_.getLang)("payments_transfer_method_without_fee_for_mastercard"):(0,_.getLang)("payments_money_transfer_commission_undefined"));else if(parseInt(o)===C)f=!0;else if(s&&i&&(i.percent||i.vkPay&&i.vkPay.percent)){var m=i.free_amount_rest||0,v=i.free_amount_min||0;if(!m||t>m||v&&t<v){var g=t;t>m&&(g=t-m);var y=i.percent||0,E=i.min||0,w=i.add||0;(h=g*y)<E?h=E:h+=w,h=+(Math.round(h+"e+3")+"e-3"),h=+(Math.round(h+"e+2")+"e-2"),c=langNumeric(h,cur.paymentsOptions.cardsFeeStr,!0)}if(i.vkPay){var T=t+h,O=i.vkPay.percent||0,A=i.vkPay.min||0,k=i.vkPay.add||0,S=T*O;S<A?S=A:S+=k,h=+(Math.round(h+S+"e+2")+"e-2"),S=+(Math.round(S+"e+2")+"e-2"),c=langNumeric(h,cur.paymentsOptions.cardsFeeStr,!0),c+=langNumeric(S,cur.paymentsOptions.cardsFeeVkPayStr,!0)}}!p||e&&!f||ge(p).classList.contains("on")||ge(p).click(),t>=n&&!hasClass("payments_money_transfer_amount_wrap","money_error")&&(val("payments_money_transfer_notice",c),0===parseInt(o)&&s||(d=langNumeric(+(Math.round(t+h+"e+2")+"e-2"),cur.paymentsOptions.buttonAmountStr,!0))),val("payments_money_transfer_send",d)}},isVKPayFillUpEnabled:()=>1==cur.paymentsOptions.vkpayFillUpEnabled,isVKPayTransfer:()=>parseInt(cur.paymentsOptions.transferType)===D,getBindCards:()=>cur.paymentsOptions.cards.filter((e=>{var t=parseInt(e[0]);return 0!==t&&t!==C})),hideFillUpCardSelection(){(0,a.hide)("payments_money_transfer_fill_up_cards")},showFillUpCardSelection(){show("payments_money_transfer_fill_up_cards")},isFillUpCardSelectionVisible:()=>(0,a.isVisible)("payments_money_transfer_fill_up_cards")}},322952:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{PaymentsBox:()=>PaymentsBox});var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(66108),core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(296253),core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21466),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(59357),_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(414914),_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(621260),_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(705456),_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(442699),_web_lib_message_box__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(791563),_web_lib_tooltip_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(719016),_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(116886),_web_lib_browser__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(206566),_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(986900),_web_lib_feature_entries__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(469433),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(519921),_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(960139),_web_lib_accessibility__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(653439),_web_lib_utils__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(907851),_web_payments_app_order_box__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(742808),_shared_evbus__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(128533),_icons_desktop_getIcon24BrowserBack__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(217770);class PaymentsBox{static initHandlers(){(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/ps_promo_banner_click",(e=>{(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.statlogsValueEvent)("payments_ps_promo_banner_event","","votes_buypage","relocate"),PaymentsBox.getVotesAmounts(!1,"spasibo",e.payload.target)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/save_phone_prefix_click",(e=>{(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus)(geByTag1("input",e.payload.target.parentNode),0,0)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/save_phone_input",(e=>{13===e.payload.event.keyCode&&PaymentsBox.saveSmsPhone()})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/get_votes_amounts",(e=>{PaymentsBox.getVotesAmounts(!1,e.payload.dataAttrs.name,e.payload.target)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/phone_code_input",(e=>{13===e.payload.event.keyCode&&PaymentsBox.smsSendCode()})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/show_confirm_on_enter",(e=>{13===e.payload.event.keyCode&&PaymentsBox.showConfirm()})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/show_confirm",(()=>{PaymentsBox.showConfirm()})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/show_types",(()=>{PaymentsBox.showTypes()})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/show_terminal_tt",(e=>{PaymentsBox.paymentsShowTerminalTT(e.payload.target,e.payload.dataAttrs.name)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/show_phone_form",(()=>{PaymentsBox.showPhoneForm(2)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/show_phone_form_1",(()=>{PaymentsBox.showPhoneForm(1)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/show_all_prices",(e=>{PaymentsBox.showAllPrices(e.payload.target)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/change_option",(e=>{var t=e.payload.dataAttrs,n=t.index,r=t.name;PaymentsBox.onChangeOption(e.payload.target,n,r)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/focus_votes",(()=>{PaymentsBox.onChangeOption(geByClass1("last","payments_getvotes_amounts"),4,"payments_getvotes_amounts")})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/update_pay_amount",(e=>{PaymentsBox.updatePayAmount(e.payload.target)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/make_checkbox",(e=>{(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.checkbox)(e.payload.target)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/toggle_email",(e=>{PaymentsBox.toggleEmail(e.payload.target)}))}static initialize(e){PaymentsBox.initHandlers(),window.curNotifier&&curNotifier.idle_manager&&curNotifier.idle_manager.started&&(isArray(cur.onUnidle)||(cur.onUnidle=[]),isArray(cur.onIdle)||(cur.onIdle=[]),cur.onUnidle.push((()=>{cur.getVotesDoneHide=!0})),cur.onIdle.push((()=>{cur.getVotesDoneHide=!1})));var t={bodyStyle:"padding: 0;",hideButtons:!0};if(cur.paymentsWideBox){var n={width:cur.checkoutEnabled?800:780,height:390};cur.checkoutEnabled||(n.title=!1),t=extend(t,n)}else t=extend(t,{width:480});e.setOptions(extend(t,{onClean:()=>{var t="sms"===cur.votesType&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_box_progress");for(var n in cur.smsChkStatInt&&clearInterval(cur.smsChkStatInt),cur.paymentsWaitingCache)cur.paymentsWaitingCache[n][2]&&clearInterval(cur.paymentsWaitingCache[n][2]);cur.smsAmountsInt&&clearTimeout(cur.smsAmountsInt),cur.isPaymentsAppOrder&&(cur.isPaymentComplete||cur.isPaymentAttemted)?e.onDone?e.onDone():(e.hide(),_web_payments_app_order_box__WEBPACK_IMPORTED_MODULE_18__.AppOrderBox.processOrder(1,e)):cur.isPaymentsAppOrder&&!cur.paymentsCheckOrderCnt&&cur.paymentsOrderBillPeriod&&cur.onSubscriptionCancel?cur.onSubscriptionCancel():cur.isPaymentsAppOrder&&!cur.paymentsCheckOrderCnt&&cur.onAppOrderCancel?cur.onAppOrderCancel():cur.paymentsTryCompleteOrder&&(cur.isPaymentComplete||cur.isPaymentAttemted)&&e.onDone&&e.onDone(),PaymentsBox.removeCheckOffersEvent(),window.removeEventListener("message",PaymentsBox.frameMessage,!1),window.removeEventListener("message",PaymentsBox.handlePaymentCompleteMessage,!1),t&&(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.showDoneBox)(getLang("payments_get_votes_box_close_notice"),{out:6e3})}})),(cur.fromInstantPay||cur.paymentsAuthPayment)&&(e.onDone=!1),cur.votesBox=e,cur.destroy.push((()=>{for(;boxQueue.count();)boxQueue.hideLast(!1)})),cur.checkoutEnabled?cur.paymentsWideBox?(PaymentsBox.showProgress(""),PaymentsBox.submitDmrCheckout(cur.paymentsPreferVotes,!0)):(show("payments_getvotes_cont"),window.radioBtns.payments_getvotes_amounts={els:Array.prototype.slice.apply((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("radiobtn",ge("payments_getvotes_amounts")))},PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm)):cur.votesTypeInit&&(PaymentsBox.getVotesAmounts(!1,cur.votesTypeInit),cur.votesTypeInit=!1)}static initPhoneCountry(e,t){cur.countries=e,cur.defCountry=t,cur.uiPhoneCountry=new Dropdown(ge("phone_country"),cur.countries,{selectedItems:t,big:!0,autocomplete:!0,multiselect:!1,onChange:e=>{var t=ge("phone"),n=ge("payments_phone_prefix"),r=cur.uiPhoneCountry.val_full()[3];if(0===e||"0"===e||""===e||!1===e||void 0===e){var o=val(n);if(r==o)return;for(var a=0,i=cur.countries.length;a<i;++a)if(cur.countries[a][3]==o)return cur.uiPhoneCountry.val(cur.countries[a]);return cur.uiPhoneCountry.val(cur.defCountry,!0)}val(n,r),setTimeout(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus.pbind(t),0)}}),cur.destroy.push(cur.uiPhoneCountry.destroy.bind(cur.uiPhoneCountry))}static initPhoneNumber(e){e&&["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach((function(t){e.addEventListener(t,(e=>{var t=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.domClosestByTag)("input",e.target);t&&(t.value=t.value.replace(/\D/g,""))}))}))}static validateEmail(e){return e.length<64&&e.match(/^.{1,40}@.{1,40}$/)&&e.match(/^([a-z0-9_\-]{0,40}\.){0,10}[a-z0-9_\-*]{1,40}@(([a-z0-9][a-z0-9_\-]{0,40})?[a-z0-9]\.){1,6}[a-z]{2,7}$/i)}static getEmail(){var e=!1;if(cur.paymentsEmailCheckbox)if((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isChecked)(cur.paymentsEmailCheckbox)){if(!(e=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_7__.trim)(val(cur.paymentsEmailInput))))return(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.notaBene)(cur.paymentsEmailInput),""}else e="false";return e}static toggleEmail(e){"INPUT"===e.tagName&&(e=geByClass1("checkbox",(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.domPN)(e)),(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isChecked)(e))||((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.checkbox)(e),(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isChecked)(e)&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus)(cur.paymentsEmailInput))}static unbind(e,t,n,r){if(!(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isButtonLocked)("payments_getvotes_submit")){var o=cur.paymentsPreferVotes;if(n){var a={act:"a_del_instant_method",type:e,prefer_votes:r?-1:o,hash:t};cur.isPaymentsAppOrder&&cur.paymentsOrderAppId&&(a.aid=cur.paymentsOrderAppId),ajax.post("al_payments.php",a,{onDone:PaymentsBox.getVotesAmountsOnDone,onFail:function(e){return PaymentsBox.showBoxError(e),!0},showProgress:()=>{cur.confirmBox?cur.confirmBox.showProgress():(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton)("payments_getvotes_submit")},hideProgress:()=>{cur.confirmBox?cur.confirmBox.hide():(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit")}})}else{var i="card"==e?getLang("payments_unbind_card_confirm"):getLang("payments_revoke_token_confirm");cur.confirmBox=(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_8__.showFastBox)({title:getLang("global_action_confirmation"),dark:1,forceNoBtn:1,bodyStyle:"padding: 20px; line-height: 160%;"},i,getLang("payments_unbind_card_btn"),(()=>{PaymentsBox.unbind(e,t,!0)}),getLang("global_cancel"))}}}static instantPay(){if(!(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isButtonLocked)("payments_getvotes_submit")){var e=(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)();if(cur.isPaymentAttemted=!0,cur.paymentsAuthPayment)e.hide();else{var t,n,r;if(ge("payments_getvotes_amounts")&&(cur.votesAmountsVal=(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.radioval)("payments_getvotes_amounts")),void 0===cur.votesAmountsData[cur.votesAmountsVal]){var o=ge("votes_num")?parseInt(ge("votes_num").value,10):0;if(!(o>0))return;cur._otherVotes=o,t=cur._otherAmount,n=cur._otherAmount,r=cur.votesAmountCustomTimeHash}else t=cur.votesAmountsData[cur.votesAmountsVal][2],n=cur.votesAmountsData[cur.votesAmountsVal][3],r=cur.votesAmountsData[cur.votesAmountsVal][4];var a={act:"a_getvotes_charge",type:cur.votesType,instant_pay:1,amount:t,order_amount:n,hash:r};cur.statSessionId&&(a.stat_session_id=cur.statSessionId),cur.isPaymentsAppOrder&&cur.paymentsOrderId&&(a.order_id=cur.paymentsOrderId,a.order_app_id=cur.paymentsOrderAppId,a.order_bill_period=cur.paymentsOrderBillPeriod,a.order_hash=cur.paymentsOrderHash),PaymentsBox.disablePaymentTypesRows(),ajax.post("al_payments.php",a,{onDone:(e,t)=>{cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((()=>{PaymentsBox.checkStatus(cur.votesType,e)}),2e3),PaymentsBox.showProgress&&PaymentsBox.showProgress()},onFail:e=>(PaymentsBox.showBoxError(e),!0),showProgress:_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton.pbind("payments_getvotes_submit"),hideProgress:_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton.pbind("payments_getvotes_submit")})}}}static showAllPrices(e){return each((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("radiobtn",ge("payments_getvotes_amounts")),((e,t)=>{show(t)})),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.re)(e),!1}static paymentsShowTerminalTT(e,t){var n="";cur.paymentsTooltips[t]&&(n+=cur.paymentsTooltips[t]),n&&(0,_web_lib_tooltip_utils__WEBPACK_IMPORTED_MODULE_9__.showTooltip)(e,{text:n,dir:"auto",slide:15,className:"payments_terminal_tt",shift:[-3,3],hasover:1})}static updatePayAmount(o){var v=o.value.replace(/[^0-9]/g,""),i=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_7__.intval)(parseInt(v,10));v=i<1e4?i:parseInt(i.toString().substr(0,4),10),o.value!=v&&(o.value=v);var amount=0;if(cur.votesAmountsData.calcPayAmount){-1==cur.votesAmountsData.calcPayAmount.indexOf("return")&&(cur.votesAmountsData.calcPayAmount="return "+cur.votesAmountsData.calcPayAmount);var calcFunc="(function(votes){"+cur.votesAmountsData.calcPayAmount+";})("+v+")";try{amount=eval(calcFunc)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.logEvalError)(e,calcFunc)}amount=amount?Math.ceil(100*amount)/100:0,amount=parseInt(amount,10)==amount?amount.toFixed(0):amount.toFixed(2),cur._otherAmount=amount,cur._otherVotes=v}var bonusElement=ge("payments_other_votes_bonus");if(bonusElement&&(cur.votesAmountsData.bonusesTable||cur.votesAmountsData.calcBonusVotes)){var bonus=0;if(cur.votesAmountsData.calcBonusVotes){var _calcFunc="(function(votes){"+cur.votesAmountsData.calcBonusVotes+";})("+v+")";try{bonus=eval(_calcFunc)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.logEvalError)(e,_calcFunc)}}else for(var j in cur.votesAmountsData.bonusesTable)if(v>=j){var _bonus=Math.floor(v*cur.votesAmountsData.bonusesTable[j]/j);_bonus>bonus&&(bonus=_bonus)}bonus?(bonusElement.innerHTML=getLang("payments_bonus_votes",bonus),show(bonusElement)):hide(bonusElement)}cur.votesAmountsData.currency_str?ge("votes_amount").innerHTML=amount>0?(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.langNumeric)(amount,cur.votesAmountsData.currency_str):"":ge("votes_amount").innerHTML=amount>0?getLang("payments_votes_cost_in_rubles",amount):""}static onChangeOption(e,t,n){var r;if((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.radiobtn)(e,t,n),"payments_getvotes_amounts"===n){var o=cur.votesAmountsData[t];o?(cur.votesAmountsVal=t,r=getLang("payments_get_votes_for_X").replace("{amount}",o[1]),val("votes_num",""),val("votes_amount",""),cur.paymentsEmailCheckbox&&(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isChecked)(cur.paymentsEmailCheckbox)&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus)(cur.paymentsEmailInput)):(r=cur.payments_get_votes,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus)("votes_num")),cur.checkoutEnabled?PaymentsBox.setButtons(r,PaymentsBox.showConfirm):PaymentsBox.setButtons(r,cur.votesAmountIsInstant||o&&o.length>=5?PaymentsBox.instantPay:PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes)}}static setConfirmButtons(){if("card"!=cur.votesType&&cur.psList[cur.votesType]){var e=cur.forcedPaymentMethod?void 0:cur.paymentsWideBox?getLang("payments_back_to_ps_list"):getLang("payments_go_ps_list"),t=!cur.psList[cur.votesType].in_menu;cur.paymentsInstantPayType==cur.votesType?t?PaymentsBox.setButtons(getLang("payments_pay_order_btn"),PaymentsBox.instantPay,e,PaymentsBox.showPaySystemsList):PaymentsBox.setButtons(getLang("payments_pay_order_btn"),PaymentsBox.instantPay):t?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm,e,PaymentsBox.showPaySystemsList):PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm)}else cur.checkoutEnabled?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm):PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes)}static popupWrite(e){return!(e.document.innerHTML==cur._popup_text||!cur._popup_text)&&(e.document.write(cur._popup_text),e.document.close(),e.blur(),e.focus(),cur._popup_callback&&cur._popup_callback(),!0)}static show3DsFrame(e,t){if(cur.threeds_submitted)return!0;cur.threeds_submitted=!0;var n=ge("payments_iframe_container"),r=ge("cards_iframe");r||((r=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.ce)("iframe",{id:"card_iframe",name:"card_iframe"},{border:0,height:"435px",width:n.parentNode.offsetWidth+"px",overflowX:"hidden",overflowY:"hidden"})).frameBorder=0,n.innerHTML="",n.appendChild(r));var o=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.ce)("form",{target:"card_iframe",method:"POST",action:e});for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&o.appendChild((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.ce)("input",{type:"hidden",name:a,value:t[a]}));n.appendChild(o),addClass("payments_iframe_container",cur.checkoutEnabled?"payments_threeds_checkout_frame":"payments_threeds_frame"),show("payments_iframe_container"),hide("payments_box_progress"),o.submit()}static submitDmrCheckout(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_box_progress")||t){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton)("payments_getvotes_submit");var n=cur.psList.dmr_checkout,r=!1,o=(e*n.vote_cost).toFixed(2);if(!e||e<=0?r=getLang("payments_web_no_sum"):n.min_amount&&e<n.min_amount?r=getLang("payments_min_amount_limit_votes").replace("%s",n.min_amount):n.max_amount&&e>n.max_amount?r=getLang("payments_max_amount_limit_votes").replace("%s",n.max_amount):void 0!==n.rest_amount_day&&e>n.rest_amount_day?r=getLang("payments_rest_amount_day_votes").replace("%s",n.rest_amount_day):void 0!==n.rest_amount_week&&e>n.rest_amount_week&&(r=getLang("payments_rest_amount_week_votes").replace("%s",n.rest_amount_week)),r)return PaymentsBox.showBoxError(r),!1;var a=PaymentsBox.getEmail();if(""===a)return(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),!1;if(a&&"false"!==a&&!PaymentsBox.validateEmail(a))return(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.notaBene)(cur.paymentsEmailInput),PaymentsBox.showBoxError(getLang("payments_error_invalid_email")),!1;removeClass("payments_iframe_container","payments_threeds_checkout_frame");var i=ge("payments_iframe_container"),s=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.ce)("iframe",{id:"card_iframe",name:"card_iframe"},{border:0,height:"435px",width:i.parentNode.offsetWidth+"px",overflowX:"hidden",overflowY:"hidden",display:"block",borderRadius:"0 0 4px 4px"});s.frameBorder=0,i.innerHTML="",i.style.height=s.style.height,i.appendChild(s),window.addEventListener("message",PaymentsBox.frameMessage,!1);var u=cur.votesType;!u&&cur.votesTypeInit&&(u=cur.votesTypeInit);var l={act:"a_getvotes_charge",type:"dmr_checkout",hash:cur.paymentsHash,amount:o,stat_session_id:cur.statSessionId,votes:e};u&&(l.pay_method=u),cur.paymentsAuthPayment&&(l.only_auth=1),a&&(l.email=a),cur.votesAmountsData.appoveCode&&(l.approve_code=cur.votesAmountsData.appoveCode),cur.isPaymentsAppOrder&&cur.paymentsOrderId&&(l.order_id=cur.paymentsOrderId,l.order_app_id=cur.paymentsOrderAppId,l.order_bill_period=cur.paymentsOrderBillPeriod,l.order_hash=cur.paymentsOrderHash),cur.votesAmountsData.purchaseDescr&&(l.purchase_descr=cur.votesAmountsData.purchaseDescr),PaymentsBox.trackingProtectionEnabled((function(){(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.statlogsValueEvent)("payments",0,"votes","dmr_checkout","iframe_track_protection_enabled")}),(function(){(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.statlogsValueEvent)("payments",0,"votes","dmr_checkout","iframe_track_protection_disabled")})),ajax.post("al_payments.php",l,{onDone:function(t,r,a){if(t){if(-2==t){var i=getLang("global_money_amount_rub",Math.floor(o));return val("payments_getvotes_confirm_msg",r),val("payments_box_votes_num",e),val("payments_box_amount",i),val("payments_box_votes_money",getLang("payments_money_for_votes",e).replace("{money}",i)),cur.votesAmountsData.resend_msg&&val("payments_getvotes_sms_resend",cur.votesAmountsData.resend_msg),cur.votesAmountsData.confirm_hash=a,val("confcode",""),show("payments_box_confcode_wrap"),PaymentsBox.enablePaymentTypesRows(),void PaymentsBox.approveGetCode()}if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_confirm")&&PaymentsBox.showVotesAmounts(),!cur.paymentsWideBox){var s=ge("payments_getvotes_submit");PaymentsBox.setButtons(s.innerHTML,PaymentsBox.showConfirm,getLang("global_back"),PaymentsBox.showVotesAmounts)}cur._popup_text=r,cur._popup_callback=!1,cur._popup_callback=function(){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),hide("payments_getvotes_wrap","payments_getvotes_buttons","payments_box_progress","payments_box_error"),show("payments_iframe_container"),ge("payments_iframe_container").scrollTop=0};var u=ge("card_iframe");u.contentWindow.document.open("text/html","replace"),u.contentWindow.document.write(r),u.contentWindow.document.close(),cur._popup_callback(),cur.smsChkData=t,cur.isPaymentComplete=cur.isPaymentCanceled=cur.isPaymentFailed=!1,cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((function(){PaymentsBox.checkStatus("dmr_checkout",t),n.use_iframe&&(cur.isPaymentCanceled||cur.isPaymentFailed)?(clearInterval(cur.smsChkStatInt),PaymentsBox.showVotesAmounts(),cur.isPaymentFailed?PaymentsBox.showBoxError(getLang("payments_landing_cancelled")):PaymentsBox.showBoxError(getLang("payments_payment_cancelled")),window.removeEventListener("message",PaymentsBox.frameMessage,!1)):cur.isPaymentComplete&&"dmr_checkout"!=n.name&&PaymentsBox.showTypes()}),2e3)}},onFail:e=>((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isButtonLocked)("payments_getvotes_submit")||PaymentsBox.setConfirmButtons(),PaymentsBox.showBoxError(e),!0),frame:_web_lib_browser__WEBPACK_IMPORTED_MODULE_11__.browser.safari_mobile})}}static submitCard(e){if(!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_box_progress")){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton)("payments_getvotes_submit");var t=cur.psList.card,n=!1,r=(e*t.vote_cost).toFixed(2);if(!e||e<=0?n=getLang("payments_web_no_sum"):t.min_amount&&e<t.min_amount?n=getLang("payments_min_amount_limit_votes").replace("%s",t.min_amount):t.max_amount&&e>t.max_amount?n=getLang("payments_max_amount_limit_votes").replace("%s",t.max_amount):null!=t.rest_amount_day&&e>t.rest_amount_day?n=getLang("payments_rest_amount_day_votes").replace("%s",t.rest_amount_day):null!=t.rest_amount_week&&e>t.rest_amount_week&&(n=getLang("payments_rest_amount_week_votes").replace("%s",t.rest_amount_week)),n)return PaymentsBox.showBoxError(n),!1;var o,a=PaymentsBox.getEmail();if(""===a)return(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),!1;if(a&&"false"!==a&&!PaymentsBox.validateEmail(a))return(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.notaBene)(cur.paymentsEmailInput),PaymentsBox.showBoxError(getLang("payments_error_invalid_email")),!1;if(cur.votesAmountsData.needApprove){var i=getLang("global_money_amount_rub",Math.floor(r));return val("payments_getvotes_confirm_msg",cur.votesAmountsData.needApprove),val("payments_box_votes_num",e),val("payments_box_amount",i),val("payments_box_votes_money",getLang("payments_money_for_votes",e).replace("{money}",i)),cur.votesAmountsData.resend_msg&&val("payments_getvotes_sms_resend",cur.votesAmountsData.resend_msg),val("confcode",""),delete cur.votesAmountsData.needApprove,show("payments_box_confcode_wrap"),void PaymentsBox.approveGetCode()}if(PaymentsBox.disablePaymentTypesRows(),t.use_iframe){var s=ge("payments_iframe_container"),u=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.ce)("iframe",{id:"card_iframe",name:"card_iframe"},{border:0,height:"435px",width:s.parentNode.offsetWidth+"px",overflowX:"hidden",overflowY:"hidden"});u.frameBorder=0,s.innerHTML="",s.appendChild(u),window.addEventListener("message",PaymentsBox.frameMessage,!1)}else{o=window.open("","_blank","scrollbars=1, resizable=1, menubar=1, left=0, top=0, toolbar=1, status=1"),cur._popup_text=PaymentsBox.popupHtml(getLang("payments_cards_redirect"),"",""),PaymentsBox.popupWrite(o)}var l={act:"a_getvotes_charge",type:"card",hash:cur.paymentsHash,amount:r,stat_session_id:cur.statSessionId};cur.paymentsAuthPayment&&(l.only_auth=1),a&&(l.email=a),cur.votesAmountsData.appoveCode&&(l.approve_code=cur.votesAmountsData.appoveCode),cur.isPaymentsAppOrder&&cur.paymentsOrderId&&(l.order_id=cur.paymentsOrderId,l.order_app_id=cur.paymentsOrderAppId,l.order_bill_period=cur.paymentsOrderBillPeriod,l.order_hash=cur.paymentsOrderHash),PaymentsBox.trackingProtectionEnabled((function(){(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.statlogsValueEvent)("payments",0,"votes","dmr","iframe_track_protection_enabled")}),(function(){(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.statlogsValueEvent)("payments",0,"votes","dmr","iframe_track_protection_disabled")})),ajax.post("al_payments.php",l,{onDone:function(n,a,i){if(n){if(-2==n){t.use_iframe||o.close();var s=getLang("global_money_amount_rub",Math.floor(r));return val("payments_getvotes_confirm_msg",a),val("payments_box_votes_num",e),val("payments_box_amount",s),val("payments_box_votes_money",getLang("payments_money_for_votes",e).replace("{money}",s)),cur.votesAmountsData.resend_msg&&val("payments_getvotes_sms_resend",cur.votesAmountsData.resend_msg),cur.votesAmountsData.confirm_hash=i,val("confcode",""),show("payments_box_confcode_wrap"),PaymentsBox.enablePaymentTypesRows(),void PaymentsBox.approveGetCode()}if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_confirm")&&PaymentsBox.showVotesAmounts(),t.use_iframe||((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),PaymentsBox.showProgress()),cur._popup_text=a,cur._popup_callback=!1,t.use_iframe){cur._popup_callback=function(){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),hide("payments_getvotes_wrap","payments_getvotes_buttons","payments_box_progress","payments_box_error"),show("payments_iframe_container"),ge("payments_iframe_container").scrollTop=0};var u=ge("card_iframe");u.contentWindow.document.open("text/html","replace"),u.contentWindow.document.write(a),u.contentWindow.document.close(),cur._popup_callback()}else o.document.open("text/html","replace"),o.document.write(a),o.document.close(),o.blur(),o.focus();cur.smsChkData=n,cur.isPaymentComplete=cur.isPaymentCanceled=cur.isPaymentFailed=!1,cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((function(){PaymentsBox.checkStatus("card",n),!t.use_iframe&&o.closed?setTimeout((function(){cur.isPaymentComplete||(clearInterval(cur.smsChkStatInt),PaymentsBox.showBoxError(getLang("payments_payment_cancelled"),"info_msg"),PaymentsBox.setConfirmButtons())}),500):t.use_iframe&&(cur.isPaymentCanceled||cur.isPaymentFailed)?(clearInterval(cur.smsChkStatInt),PaymentsBox.showVotesAmounts(),cur.isPaymentFailed?PaymentsBox.showBoxError(getLang("payments_landing_cancelled")):PaymentsBox.showBoxError(getLang("payments_payment_cancelled")),window.removeEventListener("message",PaymentsBox.frameMessage,!1)):cur.isPaymentComplete&&"alfabank"!=t.name&&"dmr"!=t.name&&PaymentsBox.showTypes()}),2e3)}},onFail:function(e){return t.use_iframe||o.close(),(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isButtonLocked)("payments_getvotes_submit")||PaymentsBox.setConfirmButtons(),PaymentsBox.showBoxError(e),!0},frame:_web_lib_browser__WEBPACK_IMPORTED_MODULE_11__.browser.safari_mobile})}}static trackingProtectionEnabled(e,t){var n=new XMLHttpRequest;n.open("GET","https://top-fwz1.mail.ru/counter2?id=1",!0),n.onreadystatechange=function(){200!==n.status?e():t(),n.onreadystatechange=null},n.send()}static submitPaymentSystem(e){if(!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_box_progress")){var t=cur.votesType,n=cur.psList[t],r=!1,o=0,a=0,i=0,s=0;if(!n.simple_redirect){if(!e)return;o=(e*n.vote_cost).toFixed(2),a=(e*n.vote_cost/cur.usdRate).toFixed(2),i=Math.floor(o),s=100*(o-i),!e||e<=0?r=getLang("payments_web_no_sum"):n.min_amount&&e<n.min_amount?r=getLang("payments_min_amount_limit_votes").replace("%s",n.min_amount):n.max_amount&&e>n.max_amount?r=getLang("payments_max_amount_limit_votes").replace("%s",n.max_amount):null!=n.rest_amount_day&&e>n.rest_amount_day?r=getLang("payments_rest_amount_day_votes").replace("%s",n.rest_amount_day):null!=n.rest_amount_week&&e>n.rest_amount_week&&(r=getLang("payments_rest_amount_week_votes").replace("%s",n.rest_amount_week))}if(r)return PaymentsBox.showBoxError(r),!1;var u=PaymentsBox.getEmail();if(""!==u)if(!u||"false"===u||PaymentsBox.validateEmail(u)){if(PaymentsBox.showProgress(),PaymentsBox.disablePaymentTypesRows(),"mailmoney_vkpay"===t){var l={act:"a_getvotes_charge",type:t,hash:cur.paymentsHash,amount:o,random_auth:0,stat_session_id:cur.statSessionId};ajax.post("al_payments.php",l,{onDone:e=>{var t=(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)(),n={noLocChange:1,skipBoxesHide:1,noClickHide:1};cur.isPaymentsAppOrder?cur.app.openAppInLayer(e,!1,!0,n):(0,_web_lib_feature_entries__WEBPACK_IMPORTED_MODULE_13__.showWiki)({w:e},!1,!1,n),t._hide(!1,!0),cur.onExternalAppDone=e=>{t._show(),e.status||(PaymentsBox.showBoxError(getLang("payments_payment_cancelled"),"info_msg"),PaymentsBox.setConfirmButtons(),clearInterval(cur.smsChkStatInt)),cur.onExternalAppDone=null,window.WkView&&WkView.hide(!1,!0)},cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((function(){PaymentsBox.checkStatus(cur.votesType,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.data,null,t)}),2e3)},onFail:e=>(PaymentsBox.showBoxError(e),PaymentsBox.setConfirmButtons(),!0)})}else{if(cur.votesAmountsData.oauth_url&&(!ge("payments_remember_wallet")||(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isChecked)("payments_remember_wallet"))){var c=cur.votesAmountsData.oauth_params,_="";for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d))_+=`<input type="hidden" autocomplete="off" name="${d}" value="${c[d]}"/>`}var p=ge("paymentSystemsForm");p.action=cur.votesAmountsData.oauth_url,p.method="post",p.innerHTML=_;var f=cur.votesAmountsData.popup_params||{},h=f.width||700,m=f.height||600,v=`scrollbars=1, resizable=1, menubar=0, left=${Math.floor(window.screen.width/2)-h/2}, top=${Math.floor(window.screen.height/2)-m/2}, width=${h}, height=${m}`,g=getLang("payment_redirect").replace("%s",n.title),y=`<form action="${p.action}" method="${p.method}" id="popup_payment_form" accept-charset="UTF-8">${p.innerHTML}</form>`;cur._popup_text=PaymentsBox.popupHtml(g,y,"document.getElementById('popup_payment_form').submit()"),cur._popup_callback=!1,window.addEventListener("message",PaymentsBox.handlePaymentCompleteMessage,!1);var E=window.open("","_blank",v);cur.smsChkStatCnt=0,cur.oauthState=0;var w=0;return cur.smsChkStatInt=setInterval((function(){if(2==cur.oauthState)PaymentsBox.checkStatus(cur.votesType,cur.smsChkData);else if(0==cur.oauthState&&(w=cur.isPaymentComplete&&cur.paymentCompleteParams&&cur.paymentCompleteParams.code?cur.paymentCompleteParams.code:0)){cur.oauthState=1;var e={act:"a_getvotes_charge",type:t,oauth_code:w,hash:cur.paymentsHash,amount:o,stat_session_id:cur.statSessionId};return cur.paymentsAuthPayment&&(e.only_auth=1),u&&(e.email=u),void ajax.post("al_payments.php",e,{onDone:e=>{cur.oauthState=2,cur.smsChkData=e},onFail:e=>(clearInterval(cur.smsChkStatInt),PaymentsBox.showBoxError(e),PaymentsBox.setConfirmButtons(),!0)})}(E.closed&&!cur.isPaymentComplete||cur.isPaymentComplete&&!w)&&(clearInterval(cur.smsChkStatInt),cur.isPaymentComplete?PaymentsBox.showBoxError(getLang("payments_sms_money_fail")):PaymentsBox.showBoxError(getLang("payments_payment_cancelled"),"info_msg"),PaymentsBox.setConfirmButtons())}),2e3),void PaymentsBox.popupWrite(E)}if(cur.votesAmountsData.provider&&-1!==["dmr","paypal","yandexmoney","api_provider"].indexOf(cur.votesAmountsData.provider)){var b,D=getLang("payment_redirect").replace("%s",n.title),C={act:"a_getvotes_charge",type:t,hash:cur.paymentsHash,amount:o,random_auth:0,stat_session_id:cur.statSessionId};if(u&&(C.email=u),"paypal"===cur.votesAmountsData.provider||"yandexmoney"===cur.votesAmountsData.provider){var P;if(ge("payments_remember_wallet")?(C.remember_wallet=(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isChecked)("payments_remember_wallet")||cur.forceRebind,cur.forceRebind&&(cur.forceRebind=!1)):C.remember_wallet=1,C.remember_wallet){var T=cur.votesAmountsData.popup_params||{},O=T.width||700,A=T.height||600;P=`scrollbars=1, resizable=1, menubar=0, left=${Math.floor(window.screen.width/2)-O/2}, top=${Math.floor(window.screen.height/2)-A/2}, width=${O}, height=${A}`}else{P="scrollbars=1, resizable=1, menubar=1, left=0, top=0, toolbar=1, status=1"}b=C.remember_wallet?window.open("","",P):window.open("","_blank",P);var k=getLang("payment_redirect").replace("%s",n.title);cur._popup_text=PaymentsBox.popupHtml(k,"",""),PaymentsBox.popupWrite(b)}ajax.post("al_payments.php",C,{onDone:function(e,t,n){if(e){var r="api_provider"!==cur.votesAmountsData.provider;cur.canOpenPopup=r;var o=!r;PaymentsBox.checkStatusCallback=e=>{if("paypal"===cur.votesAmountsData.provider||"yandexmoney"===cur.votesAmountsData.provider){if(b&&!b.closed&&!o){o=!0;var t=ge("paymentSystemsForm");t.action=e.action,t.method="get";var n="";for(var r in e.params){if(Object.prototype.hasOwnProperty.call(e.params,r))n+=`<input type="hidden" autocomplete="off" name="${r}" value="${e.params[r]}"/>`}t.innerHTML=n;var a=`<form action="${t.action}" method="${t.method}" id="popup_payment_form" accept-charset="UTF-8">${t.innerHTML}</form>`;cur._popup_text=PaymentsBox.popupHtml(D,a,"document.getElementById('popup_payment_form').submit()"),PaymentsBox.popupWrite(b)}(b.closed&&!cur.isPaymentComplete||cur.isPaymentComplete)&&(clearInterval(cur.smsChkStatInt),PaymentsBox.showBoxError(cur.isPaymentComplete?getLang("payments_sms_money_fail"):getLang("payments_payment_cancelled")),PaymentsBox.setConfirmButtons())}else cur._popup||(cur._popup=window.open("","_blank"))},cur.smsChkData=e,cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((()=>{PaymentsBox.checkStatus(cur.votesType,e)}),2e3)}},onFail:function(e){return(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isButtonLocked)("payments_getvotes_submit")||PaymentsBox.setConfirmButtons(),PaymentsBox.showBoxError(e),!0}})}else{if(!cur.isAdsPayment){var S={act:"a_getvotes_invoice",type:cur.votesType,amount:o,votes:e,invoice_hash:cur.votesAmountsData.invoice_hash,stat_session_id:cur.statSessionId};ajax.post("al_payments.php",S)}var M=n.gate_params,I="",x=ge("paymentSystemsForm"),L=(new Date).getTime();for(var B in M)if(Object.prototype.hasOwnProperty.call(M,B)){var R=M[B];I+=`<input type="hidden" autocomplete="off" name="${B}" value="${R=(R=(R=(R=(R=(R=R.replace("{amount_votes}",e)).replace("{amount_rub}",o)).replace("{amount_usd}",a)).replace("{amount_rub_int}",i)).replace("{amount_rub_frac}",s)).replace("{time}",L)}"/>`}var N=n.gate_url;N=(N=(N=(N=(N=(N=N.replace("{time}",L)).replace("{amount_votes}",e)).replace("{amount_rub}",o)).replace("{amount_usd}",a)).replace("{amount_rub_int}",i)).replace("{amount_rub_frac}",s),x.action=N,x.method=n.gate_method,x.innerHTML=I;var U=!1;try{var F=getLang("payment_redirect").replace("%s",n.title),W=`<form action="${x.action}" method="${x.method}" id="popup_payment_form" accept-charset="${n.gate_charset}">${x.innerHTML}</form>`;cur._popup_text=PaymentsBox.popupHtml(F,W,`Payments.submitPopupForm("${t}", "${e}", "${o}", "${a}")`),cur._popup_callback=!1,U=window.open("","_blank","scrollbars=1, resizable=1, menubar=1, left=0, top=0, toolbar=1, status=1"),(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.statlogsValueEvent)("payments","","votes",t,"start"),cur.smsChkData=!1,cur.isPaymentComplete=!1,cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((function(){PaymentsBox.checkStatus(cur.votesType,!1),U.closed&&!cur.isPaymentComplete&&(clearInterval(cur.smsChkStatInt),PaymentsBox.showBoxError(getLang("payments_payment_cancelled"),"info_msg"),n.simple_redirect?PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes):PaymentsBox.setConfirmButtons())}),2e3),PaymentsBox.popupWrite(U)}catch(e){x.submit()}u&&ajax.post("al_payments.php",{act:"a_set_receipt_email",email:u,hash:cur.paymentsHash},{onFail:e=>!0})}}}else PaymentsBox.showBoxError(getLang("payments_error_invalid_email"))}}static approveSendCode(){var e=ge("confcode").value;if(e.length){hide("payments_box_error");for(var t=0,n=0;n<e.length;n++)t+=parseInt(e[n]);if((t%=10)!=cur.votesAmountsData.approveCodeChk)return PaymentsBox.showBoxError(getLang("payments_invalid_code")),void(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.notaBene)("confcode");cur.votesAmountsData.appoveCode=e,PaymentsBox.showConfirm()}else(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.notaBene)("confcode")}static approveGetCode(e){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton)("payments_getvotes_submit");var t={act:"a_getvotes_approve_code",hash:cur.votesAmountsData.confirm_hash};return e&&(t.resend=1),ajax.post("al_payments.php",t,{onDone:function(t,n){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),1==t?PaymentsBox.showBoxError(n):e||(cur.votesAmountsData.approveCodeChk=n,PaymentsBox.refreshBox(),show("payments_getvotes_confirm"),PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.approveSendCode,cur.paymentsChangeType,cur.checkoutEnabled?PaymentsBox.showVotesAmounts:PaymentsBox.showTypes))},onFail:function(e){return PaymentsBox.showBoxError(e),PaymentsBox.setConfirmButtons(),!0}}),!1}static smsSendPin(){if(null==cur.votesAmountsVal)return!1;var e=cur.votesAmountsData[cur.votesAmountsVal][3],t=cur.votesAmountsData[cur.votesAmountsVal][2];if(4!=e&&8!=t&&(2!=e||5!=t))return!1;var n=ge("confcode").value;n.length&&((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton)("payments_getvotes_submit"),ajax.post("al_payments.php",{act:"a_getvotes_validate",code:n,oid:cur.votesAmountsData[cur.votesAmountsVal][3],qid:cur.smsChkData.qid,hash:cur.smsChkData.hash},{onDone:function(){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),PaymentsBox.showProgress(),cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval(PaymentsBox.checkStatus.pbind("sms",cur.smsChkData),2e3)},onFail:function(e){return PaymentsBox.showBoxError(e),!0}}))}static smsSendCode(){if("card"===cur.votesType)return!1;if(null!=cur.votesAmountsVal){var e=cur.votesAmountsData[cur.votesAmountsVal][3],t=cur.votesAmountsData[cur.votesAmountsVal][2];if(4==e||8==t||2==e&&5==t)return PaymentsBox.smsSendPin()}var n=ge("confcode").value;n.length?((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton)("payments_getvotes_submit"),ajax.post("al_payments.php",{act:"a_getvotes_validate",pid:cur.votesAmountsVal,code:n,hash:cur.votesAmountsData[cur.votesAmountsVal].hash},{onDone:function(e){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),e&&3==cur.votesAmountsData[cur.votesAmountsVal][2]?PaymentsBox.getVotesCharge(!1,!0):e&&PaymentsBox.getVotesCharge()},onFail:function(e){return PaymentsBox.showBoxError(e),!0}})):(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.notaBene)("confcode")}static smsGetCode(e){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton)("payments_getvotes_submit");var t={act:"a_getvotes_validate",hash:cur.votesAmountsData[cur.votesAmountsVal].hash,pid:cur.votesAmountsVal};e&&(t.resend=1),ajax.post("al_payments.php",t,{onDone:function(e,t){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),2==e?(PaymentsBox.showBoxError(t,"ok_msg"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus)("confcode")):e&&3==cur.votesAmountsData[cur.votesAmountsVal][2]?PaymentsBox.getVotesCharge(!1,!0):e?PaymentsBox.getVotesCharge():(PaymentsBox.refreshBox(),show("payments_getvotes_confirm"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus)("confcode"),cur.paymentsWideBox?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.smsSendCode,getLang("payments_change_phone_number"),PaymentsBox.showPhoneForm):PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.smsSendCode,cur.paymentsChangeType,PaymentsBox.showTypes))},onFail:function(e){return PaymentsBox.showBoxError(e),PaymentsBox.setConfirmButtons(),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus)("confcode"),!0}})}static confirmPinCode(){var e=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_7__.trim)(ge("confcode").value);if(e.length){var t={act:"a_getvotes_confirm_pin",hash:cur.updateTnxHash,ps:cur.votesType,qid:cur.smsChkData.qid,pin:e};PaymentsBox.showProgress(),ajax.post("al_payments.php",t,{onDone:function(){cur.smsChkStatInt=setInterval((()=>{PaymentsBox.checkStatus(cur.votesType,cur.smsChkData)}),2e3)},onFail:function(e){PaymentsBox.refreshBox(),PaymentsBox.showBoxError(e)}})}else(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.notaBene)("confcode")}static checkPinKeyPress(e){if(!((e=e||window.event).ctrlKey||e.altKey||e.metaKey)){var t=null;if(null===e.which&&e.keyCode>=32?t=String.fromCharCode(e.keyCode):0!==e.which&&0!==e.charCode&&e.which>=32&&(t=String.fromCharCode(e.which)),null!==t)return!(t<"0"||t>"9")&&void 0}}static fillBDay(){var params={act:"a_getvotes_fill_bday"};ajax.post("al_payments.php",params,{onDone:function onDone(js){if(js)try{eval(js)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.logEvalError)(e,js)}}})}static showOffer(e){var t={act:"a_getvotes_offer",offer_id:e,offer_aid:cur.paymentsOfferApp||0,app_currency:cur.offersAppCurrency||0};cur.app&&cur.app.options&&(t.aid=cur.app.options.aid),cur.paymentsOfferPreview&&(t.offer_view=cur.paymentsOfferPreview),ajax.post("al_payments.php",t,{onDone:PaymentsBox.offerOnLoad,onFail:e=>(e&&(PaymentsBox.showBoxError(e),hide("payments_getvotes_wrap")),!0)})}static showNextOffers(e){var t={act:"a_getvotes_amounts",type:"offers",offset:cur.offersOffset,app_currency:cur.offersAppCurrency,hash:cur.paymentsHash};cur.app&&cur.app.options&&(t.isAppOrder=cur.paymentsOfferApp?1:0,t.aid=cur.app.options.aid),ajax.post("al_payments.php",t,{onDone:function(t,n){n&&(t||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.re)(e),cur.offersOffset+=20,ge("payments_offers_wrap").innerHTML+=n,PaymentsBox.checkOffers())},showProgress:_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton.pbind(e),hideProgress:_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton.pbind(e)})}static showConfirm(){cur.votesAmountsVal=ge("payments_getvotes_amounts")?(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.radioval)("payments_getvotes_amounts"):0;var e=ge("votes_num")?parseInt(ge("votes_num").value,10):0;if(void 0!==cur.votesAmountsVal){cur.votesAmountsVal&&null==cur.votesAmountsData[cur.votesAmountsVal]&&ge("votes_num")&&!e&&(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.notaBene)("votes_num");var t=ge("payments_spasibo_rules_accept");if(t&&!(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isChecked)(t)){var n={text:getLang("payments_spasibo_rules_not_accepted"),dir:"auto",className:"payments_terminal_tt",hasover:1};return cur.paymentsWideBox&&(n=extend(n,{shift:[-30,10]})),void(0,_web_lib_tooltip_utils__WEBPACK_IMPORTED_MODULE_9__.showTooltip)(t,n)}if((0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)().changed=!0,"sms"===cur.votesType){cur.isResetCheckedMaxSmsVotesValue&&(ge("payments_getvotes_confirm_msg").innerHTML=cur.votesAmountsData.confirm_msg_again,cur.isResetCheckedMaxSmsVotesValue=!1);var r=cur.votesAmountsData.confirm_type;if(2==r&&null!=cur.votesAmountsData.checked_max_sms_votes_val&&(cur.votesAmountsVal=cur.votesAmountsData.checked_max_sms_votes_val,cur.votesAmountsData.checked_max_sms_votes_val=0,cur.isResetCheckedMaxSmsVotesValue=!0),null==cur.votesAmountsData[cur.votesAmountsVal]&&e){if(!r)return void PaymentsBox.getVotesCharge(e,!0);cur.votesAmountsData[-1]=[e,getLang("global_money_amount_rub",cur._otherAmount),cur.votesAmountsData[0][2],0],cur.votesAmountsVal=-1}void 0===cur.votesAmountsData[cur.votesAmountsVal]&&(cur.votesAmountsVal=0);var o=cur.votesAmountsData[cur.votesAmountsVal][0],a=cur.votesAmountsData[cur.votesAmountsVal][1],i=cur.votesAmountsData[cur.votesAmountsVal][2],s=cur.votesAmountsData[cur.votesAmountsVal][3],u=cur.votesAmountsData[cur.votesAmountsVal][6];if(0==i){cur.smsChkData={oid:s,qid:0,hash:cur.votesAmountsData.check_hash};var l=getLang("payments_to_get_send_sms",o);cur.paymentsWideBox||(l+=`<br/>${getLang("payments_service_cost")}`);var c=cur.votesAmountsData[cur.votesAmountsVal];if(l=(l=(l=l.replace("{number}",cur.votesAmountsData[cur.votesAmountsVal][4])).replace("{text}",`<nobr>${cur.votesAmountsData[cur.votesAmountsVal][5]}${vk.id}</nobr>`)).replace("{amount}",cur.votesAmountsData[cur.votesAmountsVal][1]),c.invoice_hash&&cur.statSessionId){PaymentsBox.showWaiting("");var _={act:"a_getvotes_invoice",type:cur.votesType,oid:s,votes:o,invoice_hash:c.invoice_hash,stat_session_id:cur.statSessionId};ajax.post("al_payments.php",_,{onDone:function(){ge("payments_getvotes_waiting_msg").innerHTML=l},onFail:function(e){return clearInterval(cur.smsChkStatInt),PaymentsBox.needContinue=0,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_waiting")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_confirm")?PaymentsBox.showVotesAmounts():PaymentsBox.setButtons(cur.payments_get_votes,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_confirm")?PaymentsBox.getVotesCharge:PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes),PaymentsBox.showBoxError(e),!0}})}else PaymentsBox.showWaiting(l)}else if(5==i||6==i||8==i)PaymentsBox.getVotesCharge();else if(7==i){PaymentsBox.getVotesCharge(),cur._popup_text=PaymentsBox.popupHtml(getLang("payments_cards_redirect"),"",""),cur._popup_callback=!1,cur._popup_href=!1;var d="/payments?act=go_gate&type=sms",p=Math.floor(window.screen.width/2)-350,f=Math.floor(window.screen.height/2)-300;(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.debugLog)(d),cur._popup=window.open(d,"_blank",`scrollbars=1, resizable=1, menubar=0, left=${p}, top=${f}, width=700, height=600`)}else if(1!=i&&4!=i&&1!=r)PaymentsBox.getVotesCharge(!1,!0);else{if(val("payments_box_votes_num",o),val("payments_box_amount",a),val("payments_box_votes_money",u),3==s&&(PaymentsBox.checkStatusCallback=function(e){cur.isResetCheckedMaxSmsVotesValue=!1,cur.checkedMaxVotes=e,PaymentsBox.getVotesAmounts(!0)}),2==r&&o<=cur.votesAmountsData.confirm_max_votes){if(cur.paymentsWideBox)return void PaymentsBox.getVotesCharge();hide("payments_box_confcode_wrap"),PaymentsBox.refreshBox(),show("payments_getvotes_confirm"),PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.getVotesCharge,getLang("global_back"),PaymentsBox.showVotesAmounts)}else show("payments_box_confcode_wrap"),PaymentsBox.smsGetCode();cur.votesAmountsData.resend_msg&&val("payments_getvotes_sms_resend",cur.votesAmountsData.resend_msg),cur.votesAmountsData.confirm_wait_comment&&cur.votesAmountsData.confirm_wait_comment[s]?(val("payments_getvotes_confirm_comm",cur.votesAmountsData.confirm_wait_comment[s]),show("payments_getvotes_confirm_comm_wrap")):(ge("payments_getvotes_confirm_comm").innerHTML="",hide("payments_getvotes_confirm_comm_wrap"))}}else{var h;h=cur.votesAmountsData[cur.votesAmountsVal]?cur.votesAmountsData[cur.votesAmountsVal][0]:e,cur.checkoutEnabled?PaymentsBox.submitDmrCheckout(h):"card"===cur.votesType?PaymentsBox.submitCard(h):PaymentsBox.submitPaymentSystem(h)}}}static offerOnLoad(html,js){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),hide("payments_offers_list");var offerView=ge("payments_offer_view");if(offerView){offerView.innerHTML=html,show(offerView);try{eval(js)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.logEvalError)(e,js)}}}static showWaiting(e){var t=cur.votesAmountsData[cur.votesAmountsVal]?cur.votesAmountsData[cur.votesAmountsVal][3]:0;ge("payments_getvotes_waiting_msg").innerHTML=e,t&&cur.votesAmountsData.confirm_wait_comment&&cur.votesAmountsData.confirm_wait_comment[t]?(ge("payments_getvotes_waiting_comm").innerHTML=cur.votesAmountsData.confirm_wait_comment[t],show("payments_getvotes_waiting_comm")):(ge("payments_getvotes_waiting_comm").innerHTML="",hide("payments_getvotes_waiting_comm")),PaymentsBox.refreshBox(),show("payments_getvotes_waiting"),hide("payments_getvotes_buttons"),cur.paymentsWideBox&&cur.votesAmountsData[cur.votesAmountsVal]&&cur.votesAmountsData[cur.votesAmountsVal][7]?(ge("payments_getvotes_waiting_amount").innerHTML=cur.votesAmountsData[cur.votesAmountsVal][6],ge("payments_getvotes_waiting_phone").innerHTML=cur.votesAmountsData[cur.votesAmountsVal][7],show("payments_getvotes_waiting_mo")):hide("payments_getvotes_waiting_mo"),delete cur.paymentsWaitingCache[cur.votesType],cur.smsChkStatInt&&clearInterval(cur.smsChkStatInt),cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval(PaymentsBox.checkStatus.pbind(cur.votesType,cur.smsChkData),2e3)}static showPhoneForm(e,t){geByClass1("_msg","payments_getvotes_phone").innerHTML=t||getLang("payments_get_votes_input_phone"),ge("phone").value="",PaymentsBox.refreshBox(),t&&cur.paymentsWideBox?PaymentsBox.setButtons(getLang("payments_save_phone"),PaymentsBox.saveSmsPhone):PaymentsBox.setButtons(getLang("payments_save_phone"),PaymentsBox.saveSmsPhone,getLang("global_back"),2==e?PaymentsBox.getVotesAmounts:e?PaymentsBox.showVotesAmounts:PaymentsBox.showTypes),show("payments_getvotes_phone");var n=cur.uiPhoneCountry.container;if("spasibo"===cur.votesType)hide(n),val("payments_phone_prefix","+79");else{var r=cur.uiPhoneCountry.selectedItems();if(r.length>0)val("payments_phone_prefix",r[0][3]);else for(var o=0,a=cur.countries.length;o<a;++o)cur.countries[o][0]==cur.defCountry&&val("payments_phone_prefix",cur.countries[o][3]);show(n)}return cur.paymentsBoxClass=ge("payments_box").className,addClass("payments_box","payments_phone_form"),!1}static showPaySystemsList(){return PaymentsBox.refreshBox(),hide("payments_getvotes_title"),show("payments_getvotes_ps","payments_votes_vkpay_promo_banner"),cur.votesType=!1,PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes),!1}static showVotesAmounts(){return PaymentsBox.refreshBox(),cur.checkoutEnabled?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm):"card"!==cur.votesType&&cur.psList[cur.votesType]&&!cur.psList[cur.votesType].in_menu?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm,getLang("payments_go_ps_list"),PaymentsBox.showPaySystemsList):PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes),show("payments_getvotes_cont","payments_getvotes_wrap","payments_getvotes_buttons"),cur.paymentsWideBox&&cur.paymentsOrderNotice&&((0,_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_15__.showMsg)("payments_box_error",cur.paymentsOrderNotice,"info_msg",null),show("payments_box_error")),(0,_web_lib_accessibility__WEBPACK_IMPORTED_MODULE_16__.updateAriaElements)(),delete cur.votesAmountsData.appoveCode,!1}static showTypes(){if(cur.paymentsWideBox)return PaymentsBox.showVotesAmounts(),!1;(PaymentsBox.refreshBox(),cur.votesAmountsVal=void 0,cur.votesAmountsData=[],hide("payments_getvotes_buttons"),show("payments_getvotes_method","payments_votes_vkpay_promo_banner"),cur.paymentBoxTitle)&&(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)().setOptions({title:cur.paymentBoxTitle});return!1}static setButtons(e,t,n,r){if(!cur.paymentsWideBox||e){if(e){var o=ge("payments_getvotes_submit");o&&(o.innerHTML=e,o.onclick=t,o.dataset.taskClick="",show(o,"payments_getvotes_buttons"))}else hide("payments_getvotes_buttons");if(cur.paymentsWideBox){var a=ge("payments_getvotes_back");a&&(a.innerHTML="",n&&a.appendChild((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.ce)("div",{className:"button",innerHTML:n,onclick:r,"data-task-click":""})))}else{var i=(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)();i&&(cur.paymentBoxTitle||(cur.paymentBoxTitle=i.getOptions().title),n?(geByClass1("box_title",i.titleWrap).innerHTML=`<div class="back"><span class="back__icon">${(0,_icons_desktop_getIcon24BrowserBack__WEBPACK_IMPORTED_MODULE_20__.getIcon24BrowserBack)().icon}</span>${getLang("global_box_title_back")}</div>`,geByClass1("back",i.titleWrap).onclick=r,geByClass1("back",i.titleWrap).dataset.taskClick=""):geByClass1("box_title",i.titleWrap).innerHTML=cur.paymentBoxTitle)}}else hide("payments_getvotes_buttons")}static showBoxError(e,t){if("object"==typeof e&&(e=getLang("global_error_occured")),e&&cur.paymentsWideBox&&cur.checkoutEnabled){var n=new MessageBox({title:getLang("global_error"),hideButtons:!0});(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)().hide(),n.content(e).show()}else{if(e){var r=ge("payments_box_error");r&&(val(r,""),(0,_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_15__.showMsg)(r,e,t||"error"),show(r))}hide("payments_box_progress","payments_iframe_container"),show("payments_getvotes_wrap"),(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),PaymentsBox.hideRowProgress(),PaymentsBox.enablePaymentTypesRows()}}static showProgress(e){val("payments_box_progress_msg","string"==typeof e?e:getLang("payments_waiting_payment_complete")),hide("payments_box_error","payments_getvotes_wrap","payments_getvotes_buttons"),cur.paymentsWideBox&&e?show("payments_box_progress_link"):e||hide("payments_box_progress_link"),show("payments_box_progress")}static hideRowProgress(){["payments_getvotes_ps",cur.paymentsWideBox?"payments_box_menu":"payments_getvotes_method"].forEach((e=>{(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)(e)&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("payments_getvotes_active_row",ge(e)).forEach((t=>{"payments_box_menu"!==e?removeClass(t,"payments_getvotes_active_row"):removeClass(t,"payments_progress")}))}))}static refreshBox(){hide("payments_box_progress","payments_box_error","payments_getvotes_method","payments_getvotes_cont","payments_getvotes_phone","payments_getvotes_confirm","payments_getvotes_waiting","payments_getvotes_other","payments_getvotes_terminals","payments_getvotes_ps","payments_iframe_container"),show("payments_getvotes_wrap"),cur.smsChkStatInt&&!cur.paymentsWideBox&&clearInterval(cur.smsChkStatInt),cur.paymentsBoxClass&&(ge("payments_box").className=cur.paymentsBoxClass,cur.paymentsBoxClass=""),PaymentsBox.enablePaymentTypesRows()}static saveSmsPhone(){var e=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_7__.trim)(val("phone")),t=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_7__.trim)(val(ge("payments_phone_prefix")||{})||"");e&&(cur.paymentsWaitingCache.sms&&(clearInterval(cur.paymentsWaitingCache.sms[2]),delete cur.paymentsWaitingCache.sms),cur.newSmsPhone=t+e,PaymentsBox.getVotesAmounts())}static startFormMeasure(){cur.formMeasureTime=Date.now(),vk.dev&&(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.debugLog)(cur.formMeasureTime)}static finishFormMeasure(e){if(cur.formMeasureTime){var t=Date.now()-cur.formMeasureTime;vk.dev&&(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.debugLog)(t),delete cur.formMeasureTime,(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.statlogsValueEvent)("payments_frame_load_time",t,e)}}static frameMessage(e){if(!e.origin.match(/^https?:\/\/([a-zA-Z0-9\-\.]+\.)?paymentgate\.ru$/)&&!e.origin.match(/^https?:\/\/([a-zA-Z0-9\-\.]+\.)?money\.mail\.ru$/))return!1;var t={};if(!e.data||"{"!==e.data.substr(0,1)||"billing"===(t=(0,_web_lib_utils__WEBPACK_IMPORTED_MODULE_17__.parseJSON)(e.data)).type)if("pageLoad"===t.action)cur.paymentsIgnoreResize=!1;else if("paySuccess"===t.action)cur.paymentsIgnoreResize=!0,cur.checkoutEnabled&&(PaymentsBox.showProgress(),hide("payments_iframe_container"));else if("submit"===e.data||"3dsPage"===t.action)setTimeout(PaymentsBox.frameHeight.pbind(600,!0),200),addClass("payments_iframe_container",cur.checkoutEnabled?"payments_threeds_checkout_frame":"payments_threeds_frame");else if("3dsFinish"===t.action)PaymentsBox.frameHeight(),removeClass("payments_iframe_container",cur.checkoutEnabled?"payments_threeds_checkout_frame":"payments_threeds_frame");else if("resizeFrame"===t.action)if(t.action_params.height<10&&cur.paymentsIgnoreResize)cur.paymentsIgnoreResize=!1;else{var n=ge("payments_iframe_container");n&&!hasClass(n,"payments_threeds_checkout_frame")&&setTimeout(PaymentsBox.frameHeight.pbind(t.action_params.height),200)}else"putPixel"===t.action&&"page_load"===t.action_params.alias?(PaymentsBox.finishFormMeasure("dmr"),(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.statlogsValueEvent)("payments",0,"votes","dmr","iframe_loaded")):"session_fail"===t.action?(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.statlogsValueEvent)("payments",0,"votes","dmr","iframe_session_fail"):"payError"===t.action&&cur.checkoutEnabled?PaymentsBox.checkoutDecline(t.action_params):"typePaymentMethod"===t.action&&cur.checkoutEnabled&&(removeClass("payments_iframe_container","payments_threeds_checkout_frame"),t.action_params&&t.action_params.system&&PaymentsBox.checkoutPayMethodChanged(t.action_params.system))}static frameHeight(e,t){var n=ge("card_iframe");n&&(e?(cur.prevFrameHeight=n.style.height,n.style.height=e+"px"):(n.style.height=cur.prevFrameHeight,removeClass("payments_iframe_container",cur.checkoutEnabled?"payments_threeds_checkout_frame":"payments_threeds_frame")));var r=ge("payments_iframe_container");r&&(cur.paymentsWideBox&&!cur.checkoutEnabled||t||(r.style.height=(e||cur.prevFrameHeight)+(cur.checkoutEnabled?0:10)+"px"),r.scrollTop=0)}static paymentCanceled(e){e?cur.isPaymentFailed=!0:cur.isPaymentCanceled=!0,PaymentsBox.frameHeight()}static checkoutDecline(e){var t=e||{};t.act="checkout_decline",t.qid=cur.smsChkData.qid,t.hash=cur.smsChkData.declineHash,ajax.post("payments",t,{onDone:function(e){return PaymentsBox.stopCheckAndShowError(e),!0},onFail:function(e){return PaymentsBox.stopCheckAndShowError(e),!0}})}static checkoutPayMethodChanged(e){e&&ajax.post("payments",{act:"checkout_ps_choose",qid:cur.smsChkData.qid,pay_method:e})}static stopCheckAndShowError(e){clearInterval(cur.smsChkStatInt),PaymentsBox.needContinue=0,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_waiting")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_confirm")?PaymentsBox.showVotesAmounts():cur.checkoutEnabled?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm):PaymentsBox.setButtons(cur.payments_get_votes,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_confirm")?PaymentsBox.getVotesCharge:PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes),PaymentsBox.showBoxError(e)}static complete(e,t){cur.paymentCompleteParams=t,cur.isPaymentComplete=!0}static checkStatus(e,t,n,r){if("sms"===e&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_box_progress")&&!cur.paymentsWideBox&&7!=cur.votesAmountsData[cur.votesAmountsVal][2])if(15==cur.smsChkStatCnt)ge("payments_box_progress_msg").innerHTML=getLang("payments_waiting_payment_complete_still");else if(cur.smsChkStatCnt>30){return clearInterval(cur.smsChkStatInt),cur.isPaymentAttemted=!0,(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)().hide(),void(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_8__.showFastBox)(getLang("payments_internet_getting_votes"),getLang("payments_get_votes_delay"))}var o={act:"a_getvotes_check",type:e,votes_purchase:cur.isPaymentsAppOrder||cur.paymentsWideBox||cur.paymentsInstantPayType?0:1};t&&(t.oid||t.qid)?(o.oid=t.oid,o.qid=t.qid,o.hash=t.hash):o.hash=cur.psList[e].check_hash,0==cur.smsChkStatCnt&&(o.start=1),cur.statSessionId&&(o.stat_session_id=cur.statSessionId),t.test&&(o.test=1);var a=r||(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)();ajax.post("al_payments.php",o,{onDone:function(n,r,o){if("sms"===e&&cur._popup&&cur._popup.closed)return clearInterval(cur.smsChkStatInt),cur.smsChkStatCnt=0,PaymentsBox.showBoxError(getLang("payments_payment_cancelled"),"info_msg"),void PaymentsBox.setConfirmButtons();if(n){if(1==n){for("mailmoney_vkpay"===e&&WkView&&(a._show(),cur.onExternalAppDone=null,WkView.hide(!1,!0)),cur.isPaymentAttemted=!0,PaymentsBox.needContinue&&(cur.needContinue=1,PaymentsBox.needContinue=0);boxQueue.count();)boxQueue.hideLast(!1);if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.re)("left_block10_0"),r&&!cur.isPaymentsAppOrder&&(!cur.paymentsTryCompleteOrder||!a.onDone)){var i=new MessageBox({width:400,hideButtons:!0,bodyStyle:"padding: 0; border-radius: 8px;"});i.content(r),i.show()}o&&(0,_web_lib_utils__WEBPACK_IMPORTED_MODULE_17__.updateMoney)(o)}else if(2==n||10==n)(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_waiting")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_confirm")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_iframe_container")?PaymentsBox.showVotesAmounts():PaymentsBox.setButtons(cur.payments_get_votes,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_confirm")?PaymentsBox.getVotesCharge:PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes),PaymentsBox.showBoxError(r);else if(3==n){var s="sms"===e;cur.votesAmountsData[cur.votesAmountsVal]?(val("payments_box_votes_num",cur.votesAmountsData[cur.votesAmountsVal][0]),val("payments_box_amount",cur.votesAmountsData[cur.votesAmountsVal][1]),val("payments_box_votes_money",s?cur.votesAmountsData[cur.votesAmountsVal][6]:cur.votesAmountsData[cur.votesAmountsVal][1])):(val("payments_box_votes_num",cur._otherVotes),val("payments_box_amount",cur._otherAmount+" "+(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.langNumeric)(cur._otherAmount,cur.votesAmountsData.currency_price_str)),val("payments_box_votes_money",cur._otherAmount+" "+(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.langNumeric)(cur._otherAmount,cur.votesAmountsData.currency_price_str))),s||(val("payments_getvotes_confirm_msg",getLang("payments_get_votes_ps_enter_code")),hide("payments_getvotes_confirm_amount")),cur.votesAmountsData.confirm_wait_comment&&cur.votesAmountsData.confirm_wait_comment[t.oid]?(ge("payments_getvotes_confirm_comm").innerHTML=cur.votesAmountsData.confirm_wait_comment[t.oid],show("payments_getvotes_confirm_comm_wrap")):s&&(ge("payments_getvotes_confirm_comm").innerHTML="",hide("payments_getvotes_confirm_comm_wrap")),"spasibo"===e&&(cur.updateTnxHash=r),PaymentsBox.refreshBox(),show("payments_box_confcode_wrap","payments_getvotes_confirm"),s&&r&&PaymentsBox.showBoxError(r),ge("confcode").onkeypress=s?"":PaymentsBox.checkPinKeyPress,PaymentsBox.setButtons(cur.payments_get_votes,s?PaymentsBox.smsSendCode:PaymentsBox.confirmPinCode,cur.paymentsChangeType,PaymentsBox.showTypes)}else{if(4==n){if(!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_waiting")&&!cur.paymentsWaitingCache.sms){var u=getLang("payments_to_get_send_sms",cur.votesAmountsData[cur.votesAmountsVal][0]);cur.paymentsWideBox||(u+=`<br/>${getLang("payments_service_cost")}`),u=(u=(u=u.replace("{number}",r.service_number)).replace("{text}",`<nobr>${r.message_text}</nobr>`)).replace("{amount}",cur.votesAmountsData[cur.votesAmountsVal][1]),PaymentsBox.showWaiting(u)}return}if(5==n)PaymentsBox.refreshBox(),PaymentsBox.showConfirm();else if(6==n)delete cur.votesAmountsData.oauth_url,delete cur.paymentsInstantPayType,PaymentsBox.showVotesAmounts(),PaymentsBox.showBoxError(getLang("payments_instant_pay_amount_limit_error")),PaymentsBox.setConfirmButtons(),hide("payments_remember_wallet",geByClass1("payments_getvotes_confirm_descr","payments_getvotes_cont"));else{if(7==n)return void(cur._popup&&!cur._popup_href&&(cur._popup_href=r,cur._popup.location.href=r));if(8==n)return void PaymentsBox.checkStatusCallback(r);if(9==n)return void PaymentsBox.show3DsFrame(r,o)}}clearInterval(cur.smsChkStatInt),cur.smsChkStatCnt=0}},onFail:function(e){return PaymentsBox.stopCheckAndShowError(e),!0}}),cur.smsChkStatCnt++}static checkStatusCallback(e){}static getVotesCharge(e,t){if(!(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isButtonLocked)("payments_getvotes_submit")&&!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_box_progress")&&((e=parseInt(e,10))||null!=cur.votesAmountsVal&&cur.votesAmountsData[cur.votesAmountsVal])){var n={act:"a_getvotes_charge",type:cur.votesType,hash:cur.paymentsHash,stat_session_id:cur.statSessionId},r=PaymentsBox.getEmail();""!==r&&(r&&(n.email=r),t?(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton)("payments_getvotes_submit"):PaymentsBox.showProgress(),e?(n.pid=-1,n.votes=e):(n.pid=cur.votesAmountsVal,-1==cur.votesAmountsVal&&(n.votes=cur.votesAmountsData[cur.votesAmountsVal][0])),cur.isResetCheckedMaxSmsVotesValue&&(n.pay_by_repay_status=1),PaymentsBox.disablePaymentTypesRows(),ajax.post("al_payments.php",n,{onDone:n=>{PaymentsBox.votesChargeOnDone(n,e,t)},onFail:e=>((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_box_progress")&&PaymentsBox.setButtons(cur.payments_get_votes,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_confirm")?PaymentsBox.getVotesCharge:PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes),PaymentsBox.showBoxError(e),!0)}))}}static votesChargeOnDone(e,t,n){if(e)if((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),-1==e)PaymentsBox.getVotesAmounts(!0);else if(e.qid)if(cur.smsChkData=e,n){var r=getLang("payments_for_get_n_votes",t||cur.votesAmountsData[cur.votesAmountsVal][0]),o=cur.votesAmountsData.confirm_wait_msg.replace("{amount}",r);if(o+=t?`<br/>${getLang("payments_service_cost_rubles",cur._otherAmount)}`:`<br/>${getLang("payments_service_cost").replace("{amount}",cur.votesAmountsData[cur.votesAmountsVal][1])}`,cur.paymentsWideBox)o+=`<br><br/><a onclick="return PaymentsBox.showPhoneForm(1);">${getLang("payments_change_phone_number")}</a>`;PaymentsBox.showWaiting(o)}else cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval(PaymentsBox.checkStatus.pbind(cur.votesType,e),2e3)}static getVotesAmounts(e,t,n){if(null!=t&&cur.paymentsWideBox){if(cur.votesType==t&&cur.votesTypeInit!=t&&((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_cont")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_terminals")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_ps")))return;if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_waiting")?cur.paymentsWaitingCache[cur.votesType]=[ge("payments_getvotes_title").innerHTML,ge("payments_getvotes_waiting").innerHTML,cur.smsChkStatInt]:cur.smsChkStatInt&&!cur.paymentsWaitingCache[t]&&clearInterval(cur.smsChkStatInt),"ps"===t&&cur.forcedPaymentMethod)return;cur.votesType=t}else null!=t&&(cur.votesType=t);if(cur.votesType){if(cur.paymentsWideBox&&!n&&(n=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.domPN)(geByClass1("payments_method_"+cur.votesType,ge("payments_box_menu")))),cur.paymentsWideBox&&cur.paymentsTypesSum&&cur.paymentsTypesSum[t]){var r=ge("payments_summary_bill");r?r.innerHTML=cur.paymentsTypesSum[t]:val("payments_order_sum",cur.paymentsTypesSum[t]),each((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("payments_tt"),((e,t)=>{(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.re)(t)}))}var o="term"===cur.votesType||"ps"===cur.votesType;if(!o||(PaymentsBox.refreshBox(),hide("payments_getvotes_method","payments_getvotes_title"),"term"===cur.votesType?(show("payments_getvotes_terminals"),hide("payments_votes_vkpay_promo_banner")):show("payments_getvotes_ps"),PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes),cur.paymentsWideBox)){for(var a=["payments_getvotes_ps",cur.paymentsWideBox?"payments_box_menu":"payments_getvotes_method"],i=0;i<a.length;i++){var s=a[i];if(!(!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)(s)||cur.paymentsWideBox&&!n||"payments_box_menu"===s&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_ps")&&n&&hasClass(n.parentNode,"payments_getvotes_ps_list"))){var u=ge(s),l=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("payments_getvotes_active_row",u);if(!e&&l.length&&!cur.paymentsWideBox)return;l.forEach((e=>{removeClass(e,"payments_getvotes_active_row"),cur.paymentsWideBox&&!o&&removeClass(e,"payments_progress")}))}}if(n&&(!cur.paymentsWideBox||"payments_box_menu"!==n.parentNode.id||o||e||addClass(n,"payments_progress"),addClass(n,"payments_getvotes_active_row")),cur.paymentsWideBox&&cur.paymentsWaitingCache[t])return ge("payments_getvotes_title").innerHTML=cur.paymentsWaitingCache[t][0],ge("payments_getvotes_waiting").innerHTML=cur.paymentsWaitingCache[t][1],PaymentsBox.refreshBox(),show("payments_getvotes_waiting","payments_getvotes_title"),hide("payments_getvotes_buttons"),void PaymentsBox.hideRowProgress();if(!o){(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_buttons")&&!cur.paymentsWideBox&&(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton)("payments_getvotes_submit");var c={act:"a_getvotes_amounts",type:cur.votesType,prefer_votes:cur.paymentsPreferVotes,hash:cur.paymentsHash};if(cur.statSessionId&&(c.stat_session_id=cur.statSessionId),cur.isPaymentsAppOrder&&cur.paymentsOrderAppId&&(c.aid=cur.paymentsOrderAppId,cur.paymentsOrderBillPeriod&&(c.bill_period=cur.paymentsOrderBillPeriod),cur.paymentsOrderDiscount&&(c.discount=cur.paymentsOrderDiscount)),"sms"===c.type)cur.checkedMaxVotes&&(c.checked_max_votes=cur.checkedMaxVotes,cur.checkedMaxVotes=0),cur.newSmsPhone&&(c.phone=cur.newSmsPhone,cur.newSmsPhone=!1),cur.isCorpPhone&&(c.corp=cur.isCorpPhone,cur.isCorpPhone=!1);else if("offers"===c.type){if(cur.app&&cur.app.options&&(c.isAppOrder=cur.paymentsOfferApp?1:0,c.aid=cur.app.options.aid,c.orderBox=cur.isPaymentsAppOrder?1:0),cur.paymentsPreload)return PaymentsBox.getVotesAmountsOnDone.apply(this,cur.paymentsPreload),cur.paymentsPreload=!1,void(cur.paymentsOfferPreload&&(PaymentsBox.offerOnLoad.apply(this,cur.paymentsOfferPreload),cur.paymentsOfferPreload=!1,cur.paymentsOneOffer=!0))}else if("spasibo"===c.type)cur.newSmsPhone&&(c.phone=cur.newSmsPhone,cur.newSmsPhone=!1),cur.needContinue&&(c.continue=1,cur.needContinue=0);else if(cur.psList[c.type]&&cur.psList[c.type].simple_redirect)return PaymentsBox.hideRowProgress(),void PaymentsBox.submitPaymentSystem();ajax.post("al_payments.php",c,{onDone:PaymentsBox.getVotesAmountsOnDone,onFail:e=>(PaymentsBox.showBoxError(e),!0)})}}}}static getVotesAmountsOnDone(result,html,data,js,title){if(PaymentsBox.hideRowProgress(),(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),cur.paymentsWideBox&&(title&&(val("payments_getvotes_title",title),show("payments_getvotes_title")),data&&data.menu_money)){var sumWrap=ge("payments_summary_bill");sumWrap?sumWrap.innerHTML=data.menu_money:val(`payments_method_${cur.votesType}_descr`,data.menu_money)}if(hide("payments_votes_vkpay_promo_banner"),-1!=result)if(-2!=result)if(-3!=result){if(!result)return PaymentsBox.showProgress(""),void(cur.smsAmountsInt=setTimeout((()=>{PaymentsBox.getVotesAmounts(!0)}),1e3));if(html){var other;if(2==result?(other=ge("payments_getvotes_other"),val(other,html)):val("payments_getvotes_cont",html),cur.votesAmountsData=data,(cur.fromInstantPay&&2==cur.votesAmountsData.confirm_type||2!=cur.votesAmountsData.confirm_type||!cur.votesAmountsData.checked_max_sms_votes_val)&&PaymentsBox.showVotesAmounts(),cur.paymentsPreload&&"offers"===cur.votesType?PaymentsBox.setButtons(!1):"offers"===cur.votesType?PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes):cur.paymentsPreload&&PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm),window.radioBtns.payments_getvotes_amounts={els:Array.prototype.slice.apply((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("radiobtn",ge("payments_getvotes_amounts")))},data.confirm_msg&&data.confirm_type&&val("payments_getvotes_confirm_msg",data.confirm_msg),2==result&&(hide("payments_getvotes_wrap"),show(other)),js)try{eval(js)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.logEvalError)(e,js)}cur.instantNeedCVV&&(PaymentsBox.showConfirm(),cur.instantNeedCVV=!1),cur.paymentsEmailInput=ge("payments_receipt_email"),cur.paymentsEmailCheckbox=!!cur.paymentsEmailInput&&geByClass1("_checkbox",(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.domPN)(cur.paymentsEmailInput))}}else{var rows=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("payments_getvotes_method_opt","payments_box_menu");hide(geByClass1("payments_getvotes_active_row","payments_box_menu"));for(var i=0;i<rows.length;i++){var row=rows[i];if(!hasClass(row,"payments_getvotes_active_row")){row.onclick();break}}}else PaymentsBox.showPhoneForm(!1,html);else PaymentsBox.showPhoneForm()}static popupHtml(e,t,n){return`<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">\n<head>\n    <meta http-equiv="content-type" content="text/html; charset=windows-1251" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <style>\n        body {font-family:tahoma,verdana,arial,sans-serif,Lucida Sans; font-size:11px;}\n        .text {position:relative; top:40%; text-align:center; line-height:24px;}\n        .text img {margin-bottom:8px;}\n        .text_container {position:absolute; top:0; left:0; right:0; bottom:0; line-height:150%; height: 100%;}\n    </style>\n    <script type="text/javascript">\n      if (!window.vk) window.vk = {loginscheme: '${vk.loginscheme}', ip_h: '${vk.ip_h}'};\n    <\/script>\n    <script type="text/javascript" src="/dist/workers/payments.js"><\/script>\n</head>\n<body>\n${t}\n<div id="wait_text_container" class="text_container">\n    <div class="text">\n        <img src="/images/progress.gif" /><br/>${e}\n    </div>\n</div>\n<script type="text/javascript">\n  var st = setTimeout(function() {try {${n}; clearTimeout(st)} catch(e) {}}, 100)\n<\/script>\n</body>\n</html>`}static viewOffer(e){this.setButtons(e,(()=>{ge("start_offer").submit(),PaymentsBox.setButtons(getLang("payments_back_to_offers_list"),PaymentsBox.backToOffersList,getLang("global_cancel"),PaymentsBox.backToOffersList)}),getLang("global_cancel"),PaymentsBox.backToOffersList)}static backToOffersList(){if(cur.paymentsOneOffer)return(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)().hide();hide("payments_offer_view"),show("payments_offers_list"),cur.votesTypeInit||!1===cur.votesTypeInit?PaymentsBox.setButtons(!1):PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes)}static initializeOfferChecker(e,t,n,r){cur.offersOffset=e,cur.offersAppCurrency=t,PaymentsBox.checkOffersList=[],PaymentsBox.checkOffersDo=()=>{if(!n){var e=PaymentsBox.checkOffersList.join(",");PaymentsBox.checkOffersList=[],ajax.post("al_payments.php",{act:"a_offers_stat",offers:e,hash:r}),PaymentsBox.checkOffersTO=!1}},PaymentsBox.checkOffers(),addEvent(ge("box_layer_wrap"),"scroll",PaymentsBox.checkOffers)}static removeCheckOffersEvent(){removeEvent(ge("box_layer_wrap"),"scroll",PaymentsBox.checkOffers)}static checkOffers(){var e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("payments_offer",ge("payments_offers_wrap")),t=ge("box_layer_wrap").scrollTop,n=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.getSize)("box_layer_wrap")[1];e.forEach((e=>{var r=e,o=r.offsetTop;o+30<t+n&&o+(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.getSize)(r)[1]-20>t&&!r.getAttribute("checked")&&(r.setAttribute("checked",1),PaymentsBox.checkOffersList.push(r.id.substr(15)),PaymentsBox.checkOffersTO||(PaymentsBox.checkOffersTO=setTimeout(PaymentsBox.checkOffersDo,1e3)))}))}static offersRemoveButtons(){cur.votesTypeInit?PaymentsBox.setButtons(!1):PaymentsBox.setButtons(cur.paymentsChangeType,PaymentsBox.showTypes,getLang("global_close"),(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)().hide)}static disablePaymentTypesRows(){var e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("payments_getvotes_method_opt");if(e&&e.length>0)for(var t=0;t<e.length;t++){var n=e[t];n.classList.contains("payments_getvotes_active_row")?n.classList.add("payments_getvotes_noevents_row"):n.classList.add("payments_getvotes_disabled_row","payments_getvotes_noevents_row")}}static enablePaymentTypesRows(){var e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("payments_getvotes_method_opt");if(e&&e.length>0)for(var t=0;t<e.length;t++)e[t].classList.remove("payments_getvotes_disabled_row","payments_getvotes_noevents_row")}static handlePaymentCompleteMessage(e){e.origin==window.origin&&e.data.type&&"paymentCompleteMessage"===e.data.type&&window.PaymentsBox.complete(e.data.newUrl,e.data.params)}}},830242:(e,t,n)=>{"use strict";n.d(t,{getPhotoData:()=>r,getCurrentPhoto:()=>o,setPhotoData:()=>a,dropPhotoCacheData:()=>i,getIndexedFriends:()=>s,setIndexedFriends:()=>u,isImgBlurred:()=>l});n(751876);function r(e){var t=cur.pvListId,n=cur.pvIndex;if(cur.pvData&&t&&!isNaN(n)){var r=cur.pvData[t][n];return e?r[e]:r}return!1}function o(){var e=cur.pvListId,t=cur.pvIndex;return cur.pvData&&e&&!isNaN(t)?cur.pvData[e][t]:null}function a(e,t){var n=cur.pvListId,r=cur.pvIndex;return!(!cur.pvData||!n||isNaN(r))&&(cur.pvData[n][r][e]=t,cur.pvData[n][r])}function i(){delete cur.pvList,delete cur.pvData}function s(){return cur.pvIndexedFriends}function u(e,t){cur.pvIndexedFriends=new vkIndexer(e,(e=>e[1]),t)}function l(e){if(!e)return!1;var t=e.photoRaw?e.photoRaw.split("_")[0]:"";return!(!e.restrictionBlur||cur.unblurredPhotos&&cur.unblurredPhotos.indexOf(e.photoRaw)>-1||cur.unblurredOwners&&cur.unblurredOwners.indexOf(t)>-1)}},619608:(e,t,n)=>{"use strict";n.d(t,{showNextPaymentsHistory:()=>a});n(530522);var r=n(705456),o=n(414914),a=(e,t)=>{var n,a;if(!(0,r.isButtonLocked)(e))return(0,r.lockButton)(e),t||(t="votes"),void 0===cur.historyOffset[t]&&(cur.historyOffset[t]=5),"transfer"===t?(n={act:"a_transfer_history"},a=(0,o.ge)("settings_transfer_history")):"subscriptions"===t?(n={act:"a_payments_subsciptions"},a=(0,o.ge)("settings_payments_subscriptions")):"games"===t?(n={act:"a_payments_games"},a=(0,o.ge)("settings_payments_games")):(n={act:"a_votes_history"},a=(0,o.ge)("settings_votes_history")),n.offset=a.rows.length,"subscriptions"===t&&(n.extra_items_count=cur.historyExtraItemsSubscriptions),ajax.post("al_settings.php",n,{onDone:function(n,i,s){var u=a.tBodies[0];if(n){if((0,r.unlockButton)(e),browser.msie){var l=(0,o.se)("<table>"+n+"</table>");Array.from((0,o.geByTag)("tr",l)).forEach((e=>{1===e.nodeType&&u.appendChild(e)}))}else u.insertAdjacentHTML("beforeEnd",n);"subscriptions"===t&&s&&(cur.historyExtraItemsSubscriptions=s)}n&&!i||((0,o.addClass)(u.lastChild,"settings_votes_history_last"),(0,o.hide)(e))}}),!1}},731850:(e,t,n)=>{"use strict";n.d(t,{FAQTutorial:()=>l});var r=n(414914),o=n(163841),a=n(705456),i="tutorial_step",s="finished";function u(){var e=geByClass(i).slice(-1)[0],t=geByClass1("content",e);t.innerHTML=getTemplate("login_tutorial_finish_appeal")+t.innerHTML}var l={tryInit(){geByClass1(i)&&u()},select(e,t,n){var l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!cur.tutorialProcessing&&!isChecked(e)){var c=gpeByClass(i,e);hasClass(c,s)||(removeClass(geByClass1("on",c),"on"),addClass(e,"on"),ajax.post("support?act=a_select_tutorial",{name:t,id:n,load:1,ban:nav.objLoc.ban||0},{onDone(e,t){l||addClass(c,s);var n,a=!0,i=ge("page_body").offsetHeight+(vk.staticheader?0:(0,r.getH)(ge("page_header_cont")));if(l)do{(n=domNS(c))&&(re(n),a=!1)}while(n);if(ge("login_blocked_wrap").innerHTML+=e,u(),"login"===nav.objLoc[0]&&t){var _=document.querySelectorAll(".tutorial_step"),d=_[_.length-1];if(o.Login.isBanExpired()){o.Login.canUnblockFast()?d.innerHTML+=getTemplate("login_unblock_by_phone_fast"):d.innerHTML+=getTemplate("login_unblock_by_phone");var p=_[_.length-1].querySelector(".help_table_question__m");p&&hide(p)}else d.innerHTML+=getTemplate("login_wait_for_ban_expiration_message")}a&&scrollToY(i)},onFail:e=>(showDoneBox(e),!1),showProgress(){cur.tutorialProcessing=!0,(0,a.lockButton)(e)},hideProgress(){cur.tutorialProcessing=!1,(0,a.unlockButton)(e)}}))}},home:()=>{nav.go("/support?act=home")},back:e=>{var t=geByClass("tutorial_step"),n=t[t.length-1];2===t.length&&hide(e),hide(n),removeClass(geByClass1("on",t[t.length-2]),"on")}}},712214:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EMPTY:()=>r,UNSTARTED:()=>o,PLAYING:()=>a,PAUSED:()=>i,ENDED:()=>s,ERROR:()=>u});var r="empty",o="unstarted",a="playing",i="paused",s="ended",u="error"},595775:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});n(175115),n(95767),n(991181),n(296253);var r=n(667294),o=(n(45697),n(659397));function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class s extends r.Component{constructor(e){super(e),this.onChange=e=>{this.isControlledOutside||this.setState({value:e.target.value}),this.props.onChange&&this.props.onChange(e)},this.getRef=e=>{this.element=e},this.onFocus=e=>{this.props.onFocus&&this.props.onFocus(e)},void 0!==e.value||e.isControlledOutside?this.isControlledOutside=!0:this.state={value:e.initialValue||""}}render(){var e=this.props,t=e.alignment,n=e.value,s=(e.onChange,e.initialValue,e.className),u=(e.isControlledOutside,i(e,["alignment","value","onChange","initialValue","className","isControlledOutside"])),l={"Input--left":"left"===t,"Input--center":"center"===t,"Input--right":"right"===t};return r.createElement("input",a({},u,{className:(0,o.classNames)("Input",l,s),ref:this.getRef,value:this.isControlledOutside?n:this.state.value,onChange:this.onChange,onFocus:this.onFocus}))}}s.defaultProps={type:"text",initialValue:"",alignment:"left"}},148434:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});n(991181),n(66108),n(296253);var r=n(667294),o=(n(45697),n(659397));class a extends r.Component{constructor(e){super(e),this.id=Math.round(1e6*Math.random()).toString(16),this.setSpinnerParams(e)}UNSAFE_componentWillReceiveProps(e){this.setSpinnerParams(e)}setSpinnerParams(e){this.offset=Math.round(Math.PI*e.size),this.c=.5*e.size,this.animation=function(e,t){if(!e||!t)return"";var n=Object.keys(t).map((e=>e+" {"+Object.keys(t[e]).map((n=>n+":"+t[e][n])).join(";")+"}")).join("");return`@-webkit-keyframes ${e} {${n}} @keyframes ${e} {${n}}`}("dash"+this.id,{"0%":{"stroke-dashoffset":this.offset},"50%":{"stroke-dashoffset":Math.round(.25*this.offset),transform:"rotate(135deg)"},"100%":{"stroke-dashoffset":this.offset,transform:"rotate(360deg)"}})}render(){var e=this.props,t=e.style,n=e.color,a=void 0===n?"var(--icon_secondary)":n,i=e.size,s=e.duration,u=e.strokeWidth,l=e.className,c=this.id,_=this.offset,d=this.animation,p=(0,o.classNames)("Spinner",l);return r.createElement("div",{className:p,style:t},r.createElement("svg",{className:"Spinner__svg",width:i,height:i,viewBox:`0 0 ${i} ${i}`,xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{style:{width:i,height:i,transformOrigin:.5*i+"px "+.5*i+"px"}},r.createElement("style",{dangerouslySetInnerHTML:{__html:d}}),r.createElement("circle",{className:"Spinner__path",fill:"none",stroke:a,strokeDasharray:_,strokeDashoffset:_,strokeWidth:u,style:{animationName:"dash"+c,animationTimingFunction:"ease-in-out",animationDuration:s+"s",animationIterationCount:"infinite"},cx:.5*i,cy:.5*i,r:.5*i-.5*u}))))}}a.defaultProps={color:"#5181b8",size:19,strokeWidth:2,duration:1.4,className:""}},528120:(e,t,n)=>{n(209865),n(731898),n(825645).Promise},124963:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},617722:(e,t,n)=>{var r=n(286314)("unscopables"),o=Array.prototype;null==o[r]&&n(87728)(o,r,{}),e.exports=function(e){o[r][e]=!0}},376793:(e,t,n)=>{"use strict";var r=n(224496)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},83328:e=>{e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},627007:(e,t,n)=>{var r=n(755286);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},205216:(e,t,n)=>{"use strict";var r=n(820508),o=n(592337),a=n(410875);e.exports=[].copyWithin||function(e,t){var n=r(this),i=a(n.length),s=o(e,i),u=o(t,i),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?i:o(l,i))-u,i-s),_=1;for(u<s&&s<u+c&&(_=-1,u+=c-1,s+=c-1);c-- >0;)u in n?n[s]=n[u]:delete n[s],s+=_,u+=_;return n}},846852:(e,t,n)=>{"use strict";var r=n(820508),o=n(592337),a=n(410875);e.exports=function(e){for(var t=r(this),n=a(t.length),i=arguments.length,s=o(i>1?arguments[1]:void 0,n),u=i>2?arguments[2]:void 0,l=void 0===u?n:o(u,n);l>s;)t[s++]=e;return t}},879315:(e,t,n)=>{var r=n(922110),o=n(410875),a=n(592337);e.exports=function(e){return function(t,n,i){var s,u=r(t),l=o(u.length),c=a(i,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},310050:(e,t,n)=>{var r=n(500741),o=n(149797),a=n(820508),i=n(410875),s=n(716886);e.exports=function(e,t){var n=1==e,u=2==e,l=3==e,c=4==e,_=6==e,d=5==e||_,p=t||s;return function(t,s,f){for(var h,m,v=a(t),g=o(v),y=r(s,f,3),E=i(g.length),w=0,b=n?p(t,E):u?p(t,0):void 0;E>w;w++)if((d||w in g)&&(m=y(h=g[w],w,v),e))if(n)b[w]=m;else if(m)switch(e){case 3:return!0;case 5:return h;case 6:return w;case 2:b.push(h)}else if(c)return!1;return _?-1:l||c?c:b}}},842736:(e,t,n)=>{var r=n(755286),o=n(904302),a=n(286314)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},716886:(e,t,n)=>{var r=n(842736);e.exports=function(e,t){return new(r(e))(t)}},341488:(e,t,n)=>{var r=n(492032),o=n(286314)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},492032:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},825645:e=>{var t=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=t)},592811:(e,t,n)=>{"use strict";var r=n(99275),o=n(990681);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},500741:(e,t,n)=>{var r=n(124963);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},291355:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},867057:(e,t,n)=>{e.exports=!n(574253)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},862457:(e,t,n)=>{var r=n(755286),o=n(803816).document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},674430:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},505541:(e,t,n)=>{var r=n(647184),o=n(764548),a=n(14682);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var i,s=n(e),u=a.f,l=0;s.length>l;)u.call(e,i=s[l++])&&t.push(i);return t}},542985:(e,t,n)=>{var r=n(803816),o=n(825645),a=n(87728),i=n(277234),s=n(500741),u=function(e,t,n){var l,c,_,d,p=e&u.F,f=e&u.G,h=e&u.S,m=e&u.P,v=e&u.B,g=f?r:h?r[t]||(r[t]={}):(r[t]||{}).prototype,y=f?o:o[t]||(o[t]={}),E=y.prototype||(y.prototype={});for(l in f&&(n=t),n)_=((c=!p&&g&&void 0!==g[l])?g:n)[l],d=v&&c?s(_,r):m&&"function"==typeof _?s(Function.call,_):_,g&&i(g,l,_,e&u.U),y[l]!=_&&a(y,l,d),m&&E[l]!=_&&(E[l]=_)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},574253:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},528082:(e,t,n)=>{"use strict";n(118269);var r=n(277234),o=n(87728),a=n(574253),i=n(291355),s=n(286314),u=n(121165),l=s("species"),c=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),_=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=s(e),p=!a((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),f=p?!a((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[d](""),!t})):void 0;if(!p||!f||"replace"===e&&!c||"split"===e&&!_){var h=/./[d],m=n(i,d,""[e],(function(e,t,n,r,o){return t.exec===u?p&&!o?{done:!0,value:h.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),v=m[0],g=m[1];r(String.prototype,e,v),o(RegExp.prototype,d,2==t?function(e,t){return g.call(e,this,t)}:function(e){return g.call(e,this)})}}},753218:(e,t,n)=>{"use strict";var r=n(627007);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},803531:(e,t,n)=>{var r=n(500741),o=n(928851),a=n(386555),i=n(627007),s=n(410875),u=n(969002),l={},c={},_=e.exports=function(e,t,n,_,d){var p,f,h,m,v=d?function(){return e}:u(e),g=r(n,_,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(a(v)){for(p=s(e.length);p>y;y++)if((m=t?g(i(f=e[y])[0],f[1]):g(e[y]))===l||m===c)return m}else for(h=v.call(e);!(f=h.next()).done;)if((m=o(h,g,f.value,t))===l||m===c)return m};_.BREAK=l,_.RETURN=c},540018:(e,t,n)=>{e.exports=n(103825)("native-function-to-string",Function.toString)},803816:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},479181:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},87728:(e,t,n)=>{var r=n(99275),o=n(990681);e.exports=n(867057)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},240639:(e,t,n)=>{var r=n(803816).document;e.exports=r&&r.documentElement},101734:(e,t,n)=>{e.exports=!n(867057)&&!n(574253)((function(){return 7!=Object.defineProperty(n(862457)("div"),"a",{get:function(){return 7}}).a}))},640266:(e,t,n)=>{var r=n(755286),o=n(527375).set;e.exports=function(e,t,n){var a,i=t.constructor;return i!==n&&"function"==typeof i&&(a=i.prototype)!==n.prototype&&r(a)&&o&&o(e,a),e}},997242:e=>{e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},149797:(e,t,n)=>{var r=n(492032);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},386555:(e,t,n)=>{var r=n(487234),o=n(286314)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},904302:(e,t,n)=>{var r=n(492032);e.exports=Array.isArray||function(e){return"Array"==r(e)}},755286:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},355364:(e,t,n)=>{var r=n(755286),o=n(492032),a=n(286314)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},928851:(e,t,n)=>{var r=n(627007);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},249988:(e,t,n)=>{"use strict";var r=n(342503),o=n(990681),a=n(222943),i={};n(87728)(i,n(286314)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(i,{next:o(1,n)}),a(e,t+" Iterator")}},142923:(e,t,n)=>{"use strict";var r=n(4461),o=n(542985),a=n(277234),i=n(87728),s=n(487234),u=n(249988),l=n(222943),c=n(500468),_=n(286314)("iterator"),d=!([].keys&&"next"in[].keys()),p="keys",f="values",h=function(){return this};e.exports=function(e,t,n,m,v,g,y){u(n,t,m);var E,w,b,D=function(e){if(!d&&e in O)return O[e];switch(e){case p:case f:return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",P=v==f,T=!1,O=e.prototype,A=O[_]||O["@@iterator"]||v&&O[v],k=A||D(v),S=v?P?D("entries"):k:void 0,M="Array"==t&&O.entries||A;if(M&&(b=c(M.call(new e)))!==Object.prototype&&b.next&&(l(b,C,!0),r||"function"==typeof b[_]||i(b,_,h)),P&&A&&A.name!==f&&(T=!0,k=function(){return A.call(this)}),r&&!y||!d&&!T&&O[_]||i(O,_,k),s[t]=k,s[C]=h,v)if(E={values:P?k:D(f),keys:g?k:D(p),entries:S},y)for(w in E)w in O||a(O,w,E[w]);else o(o.P+o.F*(d||T),t,E);return E}},307462:(e,t,n)=>{var r=n(286314)("iterator"),o=!1;try{var a=[7][r]();a.return=function(){o=!0},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var a=[7],i=a[r]();i.next=function(){return{done:n=!0}},a[r]=function(){return i},e(a)}catch(e){}return n}},715436:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},487234:e=>{e.exports={}},4461:e=>{e.exports=!1},484728:(e,t,n)=>{var r=n(693953)("meta"),o=n(755286),a=n(479181),i=n(99275).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(574253)((function(){return u(Object.preventExtensions({}))})),c=function(e){i(e,r,{value:{i:"O"+ ++s,w:{}}})},_=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!a(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return l&&_.NEED&&u(e)&&!a(e,r)&&c(e),e}}},714351:(e,t,n)=>{var r=n(803816),o=n(574193).set,a=r.MutationObserver||r.WebKitMutationObserver,i=r.process,s=r.Promise,u="process"==n(492032)(i);e.exports=function(){var e,t,n,l=function(){var r,o;for(u&&(r=i.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){i.nextTick(l)};else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(l)}}else n=function(){o.call(r,l)};else{var _=!0,d=document.createTextNode("");new a(l).observe(d,{characterData:!0}),n=function(){d.data=_=!_}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},543499:(e,t,n)=>{"use strict";var r=n(124963);function o(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},35345:(e,t,n)=>{"use strict";var r=n(867057),o=n(647184),a=n(764548),i=n(14682),s=n(820508),u=n(149797),l=Object.assign;e.exports=!l||n(574253)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=s(e),l=arguments.length,c=1,_=a.f,d=i.f;l>c;)for(var p,f=u(arguments[c++]),h=_?o(f).concat(_(f)):o(f),m=h.length,v=0;m>v;)p=h[v++],r&&!d.call(f,p)||(n[p]=f[p]);return n}:l},342503:(e,t,n)=>{var r=n(627007),o=n(335588),a=n(674430),i=n(569335)("IE_PROTO"),s=function(){},u=function(){var e,t=n(862457)("iframe"),r=a.length;for(t.style.display="none",n(240639).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[a[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[i]=e):n=u(),void 0===t?n:o(n,t)}},99275:(e,t,n)=>{var r=n(627007),o=n(101734),a=n(121689),i=Object.defineProperty;t.f=n(867057)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),o)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},335588:(e,t,n)=>{var r=n(99275),o=n(627007),a=n(647184);e.exports=n(867057)?Object.defineProperties:function(e,t){o(e);for(var n,i=a(t),s=i.length,u=0;s>u;)r.f(e,n=i[u++],t[n]);return e}},518693:(e,t,n)=>{var r=n(14682),o=n(990681),a=n(922110),i=n(121689),s=n(479181),u=n(101734),l=Object.getOwnPropertyDescriptor;t.f=n(867057)?l:function(e,t){if(e=a(e),t=i(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},639327:(e,t,n)=>{var r=n(922110),o=n(320616).f,a={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return i&&"[object Window]"==a.call(e)?function(e){try{return o(e)}catch(e){return i.slice()}}(e):o(r(e))}},320616:(e,t,n)=>{var r=n(160189),o=n(674430).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},764548:(e,t)=>{t.f=Object.getOwnPropertySymbols},500468:(e,t,n)=>{var r=n(479181),o=n(820508),a=n(569335)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},160189:(e,t,n)=>{var r=n(479181),o=n(922110),a=n(879315)(!1),i=n(569335)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),u=0,l=[];for(n in s)n!=i&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~a(l,n)||l.push(n));return l}},647184:(e,t,n)=>{var r=n(160189),o=n(674430);e.exports=Object.keys||function(e){return r(e,o)}},14682:(e,t)=>{t.f={}.propertyIsEnumerable},551131:(e,t,n)=>{var r=n(867057),o=n(647184),a=n(922110),i=n(14682).f;e.exports=function(e){return function(t){for(var n,s=a(t),u=o(s),l=u.length,c=0,_=[];l>c;)n=u[c++],r&&!i.call(s,n)||_.push(e?[n,s[n]]:s[n]);return _}}},110188:e=>{e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},750094:(e,t,n)=>{var r=n(627007),o=n(755286),a=n(543499);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},990681:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},424408:(e,t,n)=>{var r=n(277234);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},277234:(e,t,n)=>{var r=n(803816),o=n(87728),a=n(479181),i=n(693953)("src"),s=n(540018),u="toString",l=(""+s).split(u);n(825645).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(a(n,"name")||o(n,"name",t)),e[t]!==n&&(u&&(a(n,i)||o(n,i,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[i]||s.call(this)}))},827787:(e,t,n)=>{"use strict";var r=n(341488),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var a=n.call(e,t);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},121165:(e,t,n)=>{"use strict";var r,o,a=n(753218),i=RegExp.prototype.exec,s=String.prototype.replace,u=i,l=(r=/a/,o=/b*/g,i.call(r,"a"),i.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),c=void 0!==/()??/.exec("")[1];(l||c)&&(u=function(e){var t,n,r,o,u=this;return c&&(n=new RegExp("^"+u.source+"$(?!\\s)",a.call(u))),l&&(t=u.lastIndex),r=i.call(u,e),l&&r&&(u.lastIndex=u.global?r.index+r[0].length:t),c&&r&&r.length>1&&s.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=u},227195:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},527375:(e,t,n)=>{var r=n(755286),o=n(627007),a=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(500741)(Function.call,n(518693).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:a}},102974:(e,t,n)=>{"use strict";var r=n(803816),o=n(99275),a=n(867057),i=n(286314)("species");e.exports=function(e){var t=r[e];a&&t&&!t[i]&&o.f(t,i,{configurable:!0,get:function(){return this}})}},222943:(e,t,n)=>{var r=n(99275).f,o=n(479181),a=n(286314)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},569335:(e,t,n)=>{var r=n(103825)("keys"),o=n(693953);e.exports=function(e){return r[e]||(r[e]=o(e))}},103825:(e,t,n)=>{var r=n(825645),o=n(803816),a="__core-js_shared__",i=o[a]||(o[a]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(4461)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},158364:(e,t,n)=>{var r=n(627007),o=n(124963),a=n(286314)("species");e.exports=function(e,t){var n,i=r(e).constructor;return void 0===i||null==(n=r(i)[a])?t:o(n)}},577717:(e,t,n)=>{"use strict";var r=n(574253);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},224496:(e,t,n)=>{var r=n(781467),o=n(291355);e.exports=function(e){return function(t,n){var a,i,s=String(o(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===l||(i=s.charCodeAt(u+1))<56320||i>57343?e?s.charAt(u):a:e?s.slice(u,u+2):i-56320+(a-55296<<10)+65536}}},574193:(e,t,n)=>{var r,o,a,i=n(500741),s=n(997242),u=n(240639),l=n(862457),c=n(803816),_=c.process,d=c.setImmediate,p=c.clearImmediate,f=c.MessageChannel,h=c.Dispatch,m=0,v={},g="onreadystatechange",y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},E=function(e){y.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete v[e]},"process"==n(492032)(_)?r=function(e){_.nextTick(i(y,e,1))}:h&&h.now?r=function(e){h.now(i(y,e,1))}:f?(a=(o=new f).port2,o.port1.onmessage=E,r=i(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",E,!1)):r=g in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(i(y,e,1),0)}),e.exports={set:d,clear:p}},592337:(e,t,n)=>{var r=n(781467),o=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):a(e,t)}},494843:(e,t,n)=>{var r=n(781467),o=n(410875);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw RangeError("Wrong length!");return n}},781467:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},922110:(e,t,n)=>{var r=n(149797),o=n(291355);e.exports=function(e){return r(o(e))}},410875:(e,t,n)=>{var r=n(781467),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},820508:(e,t,n)=>{var r=n(291355);e.exports=function(e){return Object(r(e))}},121689:(e,t,n)=>{var r=n(755286);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},778440:(e,t,n)=>{"use strict";if(n(867057)){var r=n(4461),o=n(803816),a=n(574253),i=n(542985),s=n(889383),u=n(791125),l=n(500741),c=n(83328),_=n(990681),d=n(87728),p=n(424408),f=n(781467),h=n(410875),m=n(494843),v=n(592337),g=n(121689),y=n(479181),E=n(341488),w=n(755286),b=n(820508),D=n(386555),C=n(342503),P=n(500468),T=n(320616).f,O=n(969002),A=n(693953),k=n(286314),S=n(310050),M=n(879315),I=n(158364),x=n(856997),L=n(487234),B=n(307462),R=n(102974),N=n(846852),U=n(205216),F=n(99275),W=n(518693),j=F.f,K=W.f,H=o.RangeError,V=o.TypeError,q=o.Uint8Array,z="ArrayBuffer",Y="SharedArrayBuffer",$="BYTES_PER_ELEMENT",G=Array.prototype,X=u.ArrayBuffer,Q=u.DataView,J=S(0),Z=S(2),ee=S(3),te=S(4),ne=S(5),re=S(6),oe=M(!0),ae=M(!1),ie=x.values,se=x.keys,ue=x.entries,le=G.lastIndexOf,ce=G.reduce,_e=G.reduceRight,de=G.join,pe=G.sort,fe=G.slice,he=G.toString,me=G.toLocaleString,ve=k("iterator"),ge=k("toStringTag"),ye=A("typed_constructor"),Ee=A("def_constructor"),we=s.CONSTR,be=s.TYPED,De=s.VIEW,Ce="Wrong length!",Pe=S(1,(function(e,t){return Se(I(e,e[Ee]),t)})),Te=a((function(){return 1===new q(new Uint16Array([1]).buffer)[0]})),Oe=!!q&&!!q.prototype.set&&a((function(){new q(1).set({})})),Ae=function(e,t){var n=f(e);if(n<0||n%t)throw H("Wrong offset!");return n},ke=function(e){if(w(e)&&be in e)return e;throw V(e+" is not a typed array!")},Se=function(e,t){if(!w(e)||!(ye in e))throw V("It is not a typed array constructor!");return new e(t)},Me=function(e,t){return Ie(I(e,e[Ee]),t)},Ie=function(e,t){for(var n=0,r=t.length,o=Se(e,r);r>n;)o[n]=t[n++];return o},xe=function(e,t,n){j(e,t,{get:function(){return this._d[n]}})},Le=function(e){var t,n,r,o,a,i,s=b(e),u=arguments.length,c=u>1?arguments[1]:void 0,_=void 0!==c,d=O(s);if(null!=d&&!D(d)){for(i=d.call(s),r=[],t=0;!(a=i.next()).done;t++)r.push(a.value);s=r}for(_&&u>2&&(c=l(c,arguments[2],2)),t=0,n=h(s.length),o=Se(this,n);n>t;t++)o[t]=_?c(s[t],t):s[t];return o},Be=function(){for(var e=0,t=arguments.length,n=Se(this,t);t>e;)n[e]=arguments[e++];return n},Re=!!q&&a((function(){me.call(new q(1))})),Ne=function(){return me.apply(Re?fe.call(ke(this)):ke(this),arguments)},Ue={copyWithin:function(e,t){return U.call(ke(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return te(ke(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return N.apply(ke(this),arguments)},filter:function(e){return Me(this,Z(ke(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return ne(ke(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return re(ke(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){J(ke(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ae(ke(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return oe(ke(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return de.apply(ke(this),arguments)},lastIndexOf:function(e){return le.apply(ke(this),arguments)},map:function(e){return Pe(ke(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ce.apply(ke(this),arguments)},reduceRight:function(e){return _e.apply(ke(this),arguments)},reverse:function(){for(var e,t=this,n=ke(t).length,r=Math.floor(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t},some:function(e){return ee(ke(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return pe.call(ke(this),e)},subarray:function(e,t){var n=ke(this),r=n.length,o=v(e,r);return new(I(n,n[Ee]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,h((void 0===t?r:v(t,r))-o))}},Fe=function(e,t){return Me(this,fe.call(ke(this),e,t))},We=function(e){ke(this);var t=Ae(arguments[1],1),n=this.length,r=b(e),o=h(r.length),a=0;if(o+t>n)throw H(Ce);for(;a<o;)this[t+a]=r[a++]},je={entries:function(){return ue.call(ke(this))},keys:function(){return se.call(ke(this))},values:function(){return ie.call(ke(this))}},Ke=function(e,t){return w(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},He=function(e,t){return Ke(e,t=g(t,!0))?_(2,e[t]):K(e,t)},Ve=function(e,t,n){return!(Ke(e,t=g(t,!0))&&w(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?j(e,t,n):(e[t]=n.value,e)};we||(W.f=He,F.f=Ve),i(i.S+i.F*!we,"Object",{getOwnPropertyDescriptor:He,defineProperty:Ve}),a((function(){he.call({})}))&&(he=me=function(){return de.call(this)});var qe=p({},Ue);p(qe,je),d(qe,ve,je.values),p(qe,{slice:Fe,set:We,constructor:function(){},toString:he,toLocaleString:Ne}),xe(qe,"buffer","b"),xe(qe,"byteOffset","o"),xe(qe,"byteLength","l"),xe(qe,"length","e"),j(qe,ge,{get:function(){return this[be]}}),e.exports=function(e,t,n,u){var l=e+((u=!!u)?"Clamped":"")+"Array",_="get"+e,p="set"+e,f=o[l],v=f||{},g=f&&P(f),y=!f||!s.ABV,b={},D=f&&f.prototype,O=function(e,n){j(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[_](n*t+r.o,Te)}(this,n)},set:function(e){return function(e,n,r){var o=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[p](n*t+o.o,r,Te)}(this,n,e)},enumerable:!0})};y?(f=n((function(e,n,r,o){c(e,f,l,"_d");var a,i,s,u,_=0,p=0;if(w(n)){if(!(n instanceof X||(u=E(n))==z||u==Y))return be in n?Ie(f,n):Le.call(f,n);a=n,p=Ae(r,t);var v=n.byteLength;if(void 0===o){if(v%t)throw H(Ce);if((i=v-p)<0)throw H(Ce)}else if((i=h(o)*t)+p>v)throw H(Ce);s=i/t}else s=m(n),a=new X(i=s*t);for(d(e,"_d",{b:a,o:p,l:i,e:s,v:new Q(a)});_<s;)O(e,_++)})),D=f.prototype=C(qe),d(D,"constructor",f)):a((function(){f(1)}))&&a((function(){new f(-1)}))&&B((function(e){new f,new f(null),new f(1.5),new f(e)}),!0)||(f=n((function(e,n,r,o){var a;return c(e,f,l),w(n)?n instanceof X||(a=E(n))==z||a==Y?void 0!==o?new v(n,Ae(r,t),o):void 0!==r?new v(n,Ae(r,t)):new v(n):be in n?Ie(f,n):Le.call(f,n):new v(m(n))})),J(g!==Function.prototype?T(v).concat(T(g)):T(v),(function(e){e in f||d(f,e,v[e])})),f.prototype=D,r||(D.constructor=f));var A=D[ve],k=!!A&&("values"==A.name||null==A.name),S=je.values;d(f,ye,!0),d(D,be,l),d(D,De,!0),d(D,Ee,f),(u?new f(1)[ge]==l:ge in D)||j(D,ge,{get:function(){return l}}),b[l]=f,i(i.G+i.W+i.F*(f!=v),b),i(i.S,l,{BYTES_PER_ELEMENT:t}),i(i.S+i.F*a((function(){v.of.call(f,1)})),l,{from:Le,of:Be}),$ in D||d(D,$,t),i(i.P,l,Ue),R(l),i(i.P+i.F*Oe,l,{set:We}),i(i.P+i.F*!k,l,je),r||D.toString==he||(D.toString=he),i(i.P+i.F*a((function(){new f(1).slice()})),l,{slice:Fe}),i(i.P+i.F*(a((function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()}))||!a((function(){D.toLocaleString.call([1,2])}))),l,{toLocaleString:Ne}),L[l]=k?A:S,r||k||d(D,ve,S)}}else e.exports=function(){}},791125:(e,t,n)=>{"use strict";var r=n(803816),o=n(867057),a=n(4461),i=n(889383),s=n(87728),u=n(424408),l=n(574253),c=n(83328),_=n(781467),d=n(410875),p=n(494843),f=n(320616).f,h=n(99275).f,m=n(846852),v=n(222943),g="ArrayBuffer",y="DataView",E="Wrong index!",w=r.ArrayBuffer,b=r.DataView,D=r.Math,C=r.RangeError,P=r.Infinity,T=w,O=D.abs,A=D.pow,k=D.floor,S=D.log,M=D.LN2,I="buffer",x="byteLength",L="byteOffset",B=o?"_b":I,R=o?"_l":x,N=o?"_o":L;function U(e,t,n){var r,o,a,i=new Array(n),s=8*n-t-1,u=(1<<s)-1,l=u>>1,c=23===t?A(2,-24)-A(2,-77):0,_=0,d=e<0||0===e&&1/e<0?1:0;for((e=O(e))!=e||e===P?(o=e!=e?1:0,r=u):(r=k(S(e)/M),e*(a=A(2,-r))<1&&(r--,a*=2),(e+=r+l>=1?c/a:c*A(2,1-l))*a>=2&&(r++,a/=2),r+l>=u?(o=0,r=u):r+l>=1?(o=(e*a-1)*A(2,t),r+=l):(o=e*A(2,l-1)*A(2,t),r=0));t>=8;i[_++]=255&o,o/=256,t-=8);for(r=r<<t|o,s+=t;s>0;i[_++]=255&r,r/=256,s-=8);return i[--_]|=128*d,i}function F(e,t,n){var r,o=8*n-t-1,a=(1<<o)-1,i=a>>1,s=o-7,u=n-1,l=e[u--],c=127&l;for(l>>=7;s>0;c=256*c+e[u],u--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===c)c=1-i;else{if(c===a)return r?NaN:l?-P:P;r+=A(2,t),c-=i}return(l?-1:1)*r*A(2,c-t)}function W(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function j(e){return[255&e]}function K(e){return[255&e,e>>8&255]}function H(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function V(e){return U(e,52,8)}function q(e){return U(e,23,4)}function z(e,t,n){h(e.prototype,t,{get:function(){return this[n]}})}function Y(e,t,n,r){var o=p(+n);if(o+t>e[R])throw C(E);var a=e[B]._b,i=o+e[N],s=a.slice(i,i+t);return r?s:s.reverse()}function $(e,t,n,r,o,a){var i=p(+n);if(i+t>e[R])throw C(E);for(var s=e[B]._b,u=i+e[N],l=r(+o),c=0;c<t;c++)s[u+c]=l[a?c:t-c-1]}if(i.ABV){if(!l((function(){w(1)}))||!l((function(){new w(-1)}))||l((function(){return new w,new w(1.5),new w(NaN),w.name!=g}))){for(var G,X=(w=function(e){return c(this,w),new T(p(e))}).prototype=T.prototype,Q=f(T),J=0;Q.length>J;)(G=Q[J++])in w||s(w,G,T[G]);a||(X.constructor=w)}var Z=new b(new w(2)),ee=b.prototype.setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||u(b.prototype,{setInt8:function(e,t){ee.call(this,e,t<<24>>24)},setUint8:function(e,t){ee.call(this,e,t<<24>>24)}},!0)}else w=function(e){c(this,w,g);var t=p(e);this._b=m.call(new Array(t),0),this[R]=t},b=function(e,t,n){c(this,b,y),c(e,w,y);var r=e[R],o=_(t);if(o<0||o>r)throw C("Wrong offset!");if(o+(n=void 0===n?r-o:d(n))>r)throw C("Wrong length!");this[B]=e,this[N]=o,this[R]=n},o&&(z(w,x,"_l"),z(b,I,"_b"),z(b,x,"_l"),z(b,L,"_o")),u(b.prototype,{getInt8:function(e){return Y(this,1,e)[0]<<24>>24},getUint8:function(e){return Y(this,1,e)[0]},getInt16:function(e){var t=Y(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Y(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return W(Y(this,4,e,arguments[1]))},getUint32:function(e){return W(Y(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return F(Y(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return F(Y(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){$(this,1,e,j,t)},setUint8:function(e,t){$(this,1,e,j,t)},setInt16:function(e,t){$(this,2,e,K,t,arguments[2])},setUint16:function(e,t){$(this,2,e,K,t,arguments[2])},setInt32:function(e,t){$(this,4,e,H,t,arguments[2])},setUint32:function(e,t){$(this,4,e,H,t,arguments[2])},setFloat32:function(e,t){$(this,4,e,q,t,arguments[2])},setFloat64:function(e,t){$(this,8,e,V,t,arguments[2])}});v(w,g),v(b,y),s(b.prototype,i.VIEW,!0),t.ArrayBuffer=w,t.DataView=b},889383:(e,t,n)=>{for(var r,o=n(803816),a=n(87728),i=n(693953),s=i("typed_array"),u=i("view"),l=!(!o.ArrayBuffer||!o.DataView),c=l,_=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");_<9;)(r=o[d[_++]])?(a(r.prototype,s,!0),a(r.prototype,u,!0)):c=!1;e.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},693953:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},630575:(e,t,n)=>{var r=n(803816).navigator;e.exports=r&&r.userAgent||""},236074:(e,t,n)=>{var r=n(803816),o=n(825645),a=n(4461),i=n(228787),s=n(99275).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:i.f(e)})}},228787:(e,t,n)=>{t.f=n(286314)},286314:(e,t,n)=>{var r=n(103825)("wks"),o=n(693953),a=n(803816).Symbol,i="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=i&&a[e]||(i?a:o)("Symbol."+e))}).store=r},969002:(e,t,n)=>{var r=n(341488),o=n(286314)("iterator"),a=n(487234);e.exports=n(825645).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||a[r(e)]}},530522:(e,t,n)=>{"use strict";var r=n(500741),o=n(542985),a=n(820508),i=n(928851),s=n(386555),u=n(410875),l=n(592811),c=n(969002);o(o.S+o.F*!n(307462)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,_,d=a(e),p="function"==typeof this?this:Array,f=arguments.length,h=f>1?arguments[1]:void 0,m=void 0!==h,v=0,g=c(d);if(m&&(h=r(h,f>2?arguments[2]:void 0,2)),null==g||p==Array&&s(g))for(n=new p(t=u(d.length));t>v;v++)l(n,v,m?h(d[v],v):d[v]);else for(_=g.call(d),n=new p;!(o=_.next()).done;v++)l(n,v,m?i(_,h,[o.value,v],!0):o.value);return n.length=v,n}})},856997:(e,t,n)=>{"use strict";var r=n(617722),o=n(715436),a=n(487234),i=n(922110);e.exports=n(142923)(Array,"Array",(function(e,t){this._t=i(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},820075:(e,t,n)=>{"use strict";var r=n(542985),o=n(124963),a=n(820508),i=n(574253),s=[].sort,u=[1,2,3];r(r.P+r.F*(i((function(){u.sort(void 0)}))||!i((function(){u.sort(null)}))||!n(577717)(s)),"Array",{sort:function(e){return void 0===e?s.call(a(this)):s.call(a(this),o(e))}})},175115:(e,t,n)=>{var r=n(542985);r(r.S+r.F,"Object",{assign:n(35345)})},296253:(e,t,n)=>{"use strict";var r=n(341488),o={};o[n(286314)("toStringTag")]="z",o+""!="[object z]"&&n(277234)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},940851:(e,t,n)=>{"use strict";var r,o,a,i,s=n(4461),u=n(803816),l=n(500741),c=n(341488),_=n(542985),d=n(755286),p=n(124963),f=n(83328),h=n(803531),m=n(158364),v=n(574193).set,g=n(714351)(),y=n(543499),E=n(110188),w=n(630575),b=n(750094),D="Promise",C=u.TypeError,P=u.process,T=P&&P.versions,O=T&&T.v8||"",A=u.Promise,k="process"==c(P),S=function(){},M=o=y.f,I=!!function(){try{var e=A.resolve(1),t=(e.constructor={})[n(286314)("species")]=function(e){e(S,S)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(S)instanceof t&&0!==O.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),x=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},L=function(e,t){if(!e._n){e._n=!0;var n=e._c;g((function(){for(var r=e._v,o=1==e._s,a=0,i=function(t){var n,a,i,s=o?t.ok:t.fail,u=t.resolve,l=t.reject,c=t.domain;try{s?(o||(2==e._h&&N(e),e._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),i=!0)),n===t.promise?l(C("Promise-chain cycle")):(a=x(n))?a.call(n,u,l):u(n)):l(r)}catch(e){c&&!i&&c.exit(),l(e)}};n.length>a;)i(n[a++]);e._c=[],e._n=!1,t&&!e._h&&B(e)}))}},B=function(e){v.call(u,(function(){var t,n,r,o=e._v,a=R(e);if(a&&(t=E((function(){k?P.emit("unhandledRejection",o,e):(n=u.onunhandledrejection)?n({promise:e,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)})),e._h=k||R(e)?2:1),e._a=void 0,a&&t.e)throw t.v}))},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){v.call(u,(function(){var t;k?P.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},U=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),L(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw C("Promise can't be resolved itself");(t=x(e))?g((function(){var r={_w:n,_d:!1};try{t.call(e,l(F,r,1),l(U,r,1))}catch(e){U.call(r,e)}})):(n._v=e,n._s=1,L(n,!1))}catch(e){U.call({_w:n,_d:!1},e)}}};I||(A=function(e){f(this,A,D,"_h"),p(e),r.call(this);try{e(l(F,this,1),l(U,this,1))}catch(e){U.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(424408)(A.prototype,{then:function(e,t){var n=M(m(this,A));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=k?P.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r;this.promise=e,this.resolve=l(F,e,1),this.reject=l(U,e,1)},y.f=M=function(e){return e===A||e===i?new a(e):o(e)}),_(_.G+_.W+_.F*!I,{Promise:A}),n(222943)(A,D),n(102974)(D),i=n(825645).Promise,_(_.S+_.F*!I,D,{reject:function(e){var t=M(this);return(0,t.reject)(e),t.promise}}),_(_.S+_.F*(s||!I),D,{resolve:function(e){return b(s&&this===i?A:this,e)}}),_(_.S+_.F*!(I&&n(307462)((function(e){A.all(e).catch(S)}))),D,{all:function(e){var t=this,n=M(t),r=n.resolve,o=n.reject,a=E((function(){var n=[],a=0,i=1;h(e,!1,(function(e){var s=a++,u=!1;n.push(void 0),i++,t.resolve(e).then((function(e){u||(u=!0,n[s]=e,--i||r(n))}),o)})),--i||r(n)}));return a.e&&o(a.v),n.promise},race:function(e){var t=this,n=M(t),r=n.reject,o=E((function(){h(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},283946:(e,t,n)=>{var r=n(803816),o=n(640266),a=n(99275).f,i=n(320616).f,s=n(355364),u=n(753218),l=r.RegExp,c=l,_=l.prototype,d=/a/g,p=/a/g,f=new l(d)!==d;if(n(867057)&&(!f||n(574253)((function(){return p[n(286314)("match")]=!1,l(d)!=d||l(p)==p||"/a/i"!=l(d,"i")})))){l=function(e,t){var n=this instanceof l,r=s(e),a=void 0===t;return!n&&r&&e.constructor===l&&a?e:o(f?new c(r&&!a?e.source:e,t):c((r=e instanceof l)?e.source:e,r&&a?u.call(e):t),n?this:_,l)};for(var h=function(e){e in l||a(l,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})},m=i(c),v=0;m.length>v;)h(m[v++]);_.constructor=l,l.prototype=_,n(277234)(r,"RegExp",l)}n(102974)("RegExp")},118269:(e,t,n)=>{"use strict";var r=n(121165);n(542985)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},176774:(e,t,n)=>{n(867057)&&"g"!=/./g.flags&&n(99275).f(RegExp.prototype,"flags",{configurable:!0,get:n(753218)})},21466:(e,t,n)=>{"use strict";var r=n(627007),o=n(410875),a=n(376793),i=n(827787);n(528082)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var u=r(e),l=String(this);if(!u.global)return i(u,l);var c=u.unicode;u.lastIndex=0;for(var _,d=[],p=0;null!==(_=i(u,l));){var f=String(_[0]);d[p]=f,""===f&&(u.lastIndex=a(l,o(u.lastIndex),c)),p++}return 0===p?null:d}]}))},59357:(e,t,n)=>{"use strict";var r=n(627007),o=n(820508),a=n(410875),i=n(781467),s=n(376793),u=n(827787),l=Math.max,c=Math.min,_=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(528082)("replace",2,(function(e,t,n,f){return[function(r,o){var a=e(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,a,o):n.call(String(a),r,o)},function(e,t){var o=f(n,e,this,t);if(o.done)return o.value;var _=r(e),d=String(this),p="function"==typeof t;p||(t=String(t));var m=_.global;if(m){var v=_.unicode;_.lastIndex=0}for(var g=[];;){var y=u(_,d);if(null===y)break;if(g.push(y),!m)break;""===String(y[0])&&(_.lastIndex=s(d,a(_.lastIndex),v))}for(var E,w="",b=0,D=0;D<g.length;D++){y=g[D];for(var C=String(y[0]),P=l(c(i(y.index),d.length),0),T=[],O=1;O<y.length;O++)T.push(void 0===(E=y[O])?E:String(E));var A=y.groups;if(p){var k=[C].concat(T,P,d);void 0!==A&&k.push(A);var S=String(t.apply(void 0,k))}else S=h(C,d,P,T,A,t);P>=b&&(w+=d.slice(b,P)+S,b=P+C.length)}return w+d.slice(b)}];function h(e,t,r,a,i,s){var u=r+e.length,l=a.length,c=p;return void 0!==i&&(i=o(i),c=d),n.call(s,c,(function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(u);case"<":s=i[o.slice(1,-1)];break;default:var c=+o;if(0===c)return n;if(c>l){var d=_(c/10);return 0===d?n:d<=l?void 0===a[d-1]?o.charAt(1):a[d-1]+o.charAt(1):n}s=a[c-1]}return void 0===s?"":s}))}}))},976142:(e,t,n)=>{"use strict";var r=n(627007),o=n(227195),a=n(827787);n(528082)("search",1,(function(e,t,n,i){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=i(n,e,this);if(t.done)return t.value;var s=r(e),u=String(this),l=s.lastIndex;o(l,0)||(s.lastIndex=0);var c=a(s,u);return o(s.lastIndex,l)||(s.lastIndex=l),null===c?-1:c.index}]}))},751876:(e,t,n)=>{"use strict";var r=n(355364),o=n(627007),a=n(158364),i=n(376793),s=n(410875),u=n(827787),l=n(121165),c=n(574253),_=Math.min,d=[].push,p=4294967295,f=!c((function(){RegExp(p,"y")}));n(528082)("split",2,(function(e,t,n,c){var h;return h="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var a,i,s,u=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),_=0,f=void 0===t?p:t>>>0,h=new RegExp(e.source,c+"g");(a=l.call(h,o))&&!((i=h.lastIndex)>_&&(u.push(o.slice(_,a.index)),a.length>1&&a.index<o.length&&d.apply(u,a.slice(1)),s=a[0].length,_=i,u.length>=f));)h.lastIndex===a.index&&h.lastIndex++;return _===o.length?!s&&h.test("")||u.push(""):u.push(o.slice(_)),u.length>f?u.slice(0,f):u}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,o,r):h.call(String(o),n,r)},function(e,t){var r=c(h,e,this,t,h!==n);if(r.done)return r.value;var l=o(e),d=String(this),m=a(l,RegExp),v=l.unicode,g=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(f?"y":"g"),y=new m(f?l:"^(?:"+l.source+")",g),E=void 0===t?p:t>>>0;if(0===E)return[];if(0===d.length)return null===u(y,d)?[d]:[];for(var w=0,b=0,D=[];b<d.length;){y.lastIndex=f?b:0;var C,P=u(y,f?d:d.slice(b));if(null===P||(C=_(s(y.lastIndex+(f?0:b)),d.length))===w)b=i(d,b,v);else{if(D.push(d.slice(w,b)),D.length===E)return D;for(var T=1;T<=P.length-1;T++)if(D.push(P[T]),D.length===E)return D;b=w=C}}return D.push(d.slice(w)),D}]}))},66108:(e,t,n)=>{"use strict";n(176774);var r=n(627007),o=n(753218),a=n(867057),i="toString",s=/./.toString,u=function(e){n(277234)(RegExp.prototype,i,e,!0)};n(574253)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?u((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?o.call(e):void 0)})):s.name!=i&&u((function(){return s.call(this)}))},95767:(e,t,n)=>{"use strict";var r=n(803816),o=n(479181),a=n(867057),i=n(542985),s=n(277234),u=n(484728).KEY,l=n(574253),c=n(103825),_=n(222943),d=n(693953),p=n(286314),f=n(228787),h=n(236074),m=n(505541),v=n(904302),g=n(627007),y=n(755286),E=n(820508),w=n(922110),b=n(121689),D=n(990681),C=n(342503),P=n(639327),T=n(518693),O=n(764548),A=n(99275),k=n(647184),S=T.f,M=A.f,I=P.f,x=r.Symbol,L=r.JSON,B=L&&L.stringify,R=p("_hidden"),N=p("toPrimitive"),U={}.propertyIsEnumerable,F=c("symbol-registry"),W=c("symbols"),j=c("op-symbols"),K=Object.prototype,H="function"==typeof x&&!!O.f,V=r.QObject,q=!V||!V.prototype||!V.prototype.findChild,z=a&&l((function(){return 7!=C(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=S(K,t);r&&delete K[t],M(e,t,n),r&&e!==K&&M(K,t,r)}:M,Y=function(e){var t=W[e]=C(x.prototype);return t._k=e,t},$=H&&"symbol"==typeof x.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof x},G=function(e,t,n){return e===K&&G(j,t,n),g(e),t=b(t,!0),g(n),o(W,t)?(n.enumerable?(o(e,R)&&e[R][t]&&(e[R][t]=!1),n=C(n,{enumerable:D(0,!1)})):(o(e,R)||M(e,R,D(1,{})),e[R][t]=!0),z(e,t,n)):M(e,t,n)},X=function(e,t){g(e);for(var n,r=m(t=w(t)),o=0,a=r.length;a>o;)G(e,n=r[o++],t[n]);return e},Q=function(e){var t=U.call(this,e=b(e,!0));return!(this===K&&o(W,e)&&!o(j,e))&&(!(t||!o(this,e)||!o(W,e)||o(this,R)&&this[R][e])||t)},J=function(e,t){if(e=w(e),t=b(t,!0),e!==K||!o(W,t)||o(j,t)){var n=S(e,t);return!n||!o(W,t)||o(e,R)&&e[R][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=I(w(e)),r=[],a=0;n.length>a;)o(W,t=n[a++])||t==R||t==u||r.push(t);return r},ee=function(e){for(var t,n=e===K,r=I(n?j:w(e)),a=[],i=0;r.length>i;)!o(W,t=r[i++])||n&&!o(K,t)||a.push(W[t]);return a};H||(s((x=function(){if(this instanceof x)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===K&&t.call(j,n),o(this,R)&&o(this[R],e)&&(this[R][e]=!1),z(this,e,D(1,n))};return a&&q&&z(K,e,{configurable:!0,set:t}),Y(e)}).prototype,"toString",(function(){return this._k})),T.f=J,A.f=G,n(320616).f=P.f=Z,n(14682).f=Q,O.f=ee,a&&!n(4461)&&s(K,"propertyIsEnumerable",Q,!0),f.f=function(e){return Y(p(e))}),i(i.G+i.W+i.F*!H,{Symbol:x});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=k(p.store),oe=0;re.length>oe;)h(re[oe++]);i(i.S+i.F*!H,"Symbol",{for:function(e){return o(F,e+="")?F[e]:F[e]=x(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),i(i.S+i.F*!H,"Object",{create:function(e,t){return void 0===t?C(e):X(C(e),t)},defineProperty:G,defineProperties:X,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var ae=l((function(){O.f(1)}));i(i.S+i.F*ae,"Object",{getOwnPropertySymbols:function(e){return O.f(E(e))}}),L&&i(i.S+i.F*(!H||l((function(){var e=x();return"[null]"!=B([e])||"{}"!=B({a:e})||"{}"!=B(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(y(t)||void 0!==e)&&!$(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!$(t))return t}),r[1]=t,B.apply(L,r)}}),x.prototype[N]||n(87728)(x.prototype,N,x.prototype.valueOf),_(x,"Symbol"),_(Math,"Math",!0),_(r.JSON,"JSON",!0)},183318:(e,t,n)=>{n(778440)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},446964:(e,t,n)=>{n(778440)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},83276:(e,t,n)=>{var r=n(542985),o=n(551131)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},796409:(e,t,n)=>{var r=n(542985),o=n(551131)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},209865:(e,t,n)=>{"use strict";var r=n(542985),o=n(825645),a=n(803816),i=n(158364),s=n(750094);r(r.P+r.R,"Promise",{finally:function(e){var t=i(this,o.Promise||a.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},731898:(e,t,n)=>{"use strict";var r=n(542985),o=n(543499),a=n(110188);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=a(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},579665:(e,t,n)=>{n(236074)("asyncIterator")},991181:(e,t,n)=>{for(var r=n(856997),o=n(647184),a=n(277234),i=n(803816),s=n(87728),u=n(487234),l=n(286314),c=l("iterator"),_=l("toStringTag"),d=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=o(p),h=0;h<f.length;h++){var m,v=f[h],g=p[v],y=i[v],E=y&&y.prototype;if(E&&(E[c]||s(E,c,d),E[_]||s(E,_,v),u[v]=d,g))for(m in r)E[m]||a(E,m,r[m],!0)}},408091:e=>{"use strict";function t(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var a=Object.keys(Object(o)),i=0,s=a.length;i<s;i++){var u=a[i],l=Object.getOwnPropertyDescriptor(o,u);void 0!==l&&l.enumerable&&(n[u]=o[u])}}return n}e.exports={assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}}},892703:(e,t,n)=>{"use strict";var r=n(150414);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},45697:(e,t,n)=>{e.exports=n(892703)()},150414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},364448:(e,t,n)=>{"use strict";var r=n(667294),o=n(925013),a=n(363840);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(i(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var _=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},h={};function m(e,t,n,r,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function E(e,t,n,r){var o=v.hasOwnProperty(t)?v[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!p.call(h,e)||!p.call(f,e)&&(d.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=60103,D=60106,C=60107,P=60108,T=60114,O=60109,A=60110,k=60112,S=60113,M=60120,I=60115,x=60116,L=60121,B=60128,R=60129,N=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var F=Symbol.for;b=F("react.element"),D=F("react.portal"),C=F("react.fragment"),P=F("react.strict_mode"),T=F("react.profiler"),O=F("react.provider"),A=F("react.context"),k=F("react.forward_ref"),S=F("react.suspense"),M=F("react.suspense_list"),I=F("react.memo"),x=F("react.lazy"),L=F("react.block"),F("react.scope"),B=F("react.opaque.id"),R=F("react.debug_trace_mode"),N=F("react.offscreen"),U=F("react.legacy_hidden")}var W,j="function"==typeof Symbol&&Symbol.iterator;function K(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=j&&e[j]||e["@@iterator"])?e:null}function H(e){if(void 0===W)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||""}return"\n"+W+e}var V=!1;function q(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var o=e.stack.split("\n"),a=r.stack.split("\n"),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(1!==i||1!==s)do{if(i--,0>--s||o[i]!==a[s])return"\n"+o[i].replace(" at new "," at ")}while(1<=i&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?H(e):""}function z(e){switch(e.tag){case 5:return H(e.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 22:return e=q(e.type._render,!1);case 1:return e=q(e.type,!0);default:return""}}function Y(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case C:return"Fragment";case D:return"Portal";case T:return"Profiler";case P:return"StrictMode";case S:return"Suspense";case M:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case I:return Y(e.type);case L:return Y(e._render);case x:t=e._payload,e=e._init;try{return Y(e(t))}catch(e){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&E(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&oe(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function oe(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ie(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function le(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var _e="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var he,me,ve=(me=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((he=he||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=he.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ee=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function be(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(ye).forEach((function(e){Ee.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var De=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(e,t){if(t){if(De[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function Pe(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Oe=null,Ae=null,ke=null;function Se(e){if(e=eo(e)){if("function"!=typeof Oe)throw Error(i(280));var t=e.stateNode;t&&(t=no(t),Oe(e.stateNode,e.type,t))}}function Me(e){Ae?ke?ke.push(e):ke=[e]:Ae=e}function Ie(){if(Ae){var e=Ae,t=ke;if(ke=Ae=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function xe(e,t){return e(t)}function Le(e,t,n,r,o){return e(t,n,r,o)}function Be(){}var Re=xe,Ne=!1,Ue=!1;function Fe(){null===Ae&&null===ke||(Be(),Ie())}function We(e,t){var n=e.stateNode;if(null===n)return null;var r=no(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var je=!1;if(_)try{var Ke={};Object.defineProperty(Ke,"passive",{get:function(){je=!0}}),window.addEventListener("test",Ke,Ke),window.removeEventListener("test",Ke,Ke)}catch(me){je=!1}function He(e,t,n,r,o,a,i,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var Ve=!1,qe=null,ze=!1,Ye=null,$e={onError:function(e){Ve=!0,qe=e}};function Ge(e,t,n,r,o,a,i,s,u){Ve=!1,qe=null,He.apply($e,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Xe(e)!==e)throw Error(i(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Je(o),e;if(a===r)return Je(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,ot,at=!1,it=[],st=null,ut=null,lt=null,ct=new Map,_t=new Map,dt=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:o,targetContainers:[r]}}function ht(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_t.delete(t.pointerId)}}function mt(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e=ft(t,n,r,o,a),null!==t&&(null!==(t=eo(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function vt(e){var t=Zr(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void ot(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=eo(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){gt(e)&&n.delete(t)}function Et(){for(at=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=eo(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==lt&&gt(lt)&&(lt=null),ct.forEach(yt),_t.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Et)))}function bt(e){function t(t){return wt(t,e)}if(0<it.length){wt(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==lt&&wt(lt,e),ct.forEach(t),_t.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)vt(n),null===n.blockedOn&&dt.shift()}function Dt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ct={animationend:Dt("Animation","AnimationEnd"),animationiteration:Dt("Animation","AnimationIteration"),animationstart:Dt("Animation","AnimationStart"),transitionend:Dt("Transition","TransitionEnd")},Pt={},Tt={};function Ot(e){if(Pt[e])return Pt[e];if(!Ct[e])return e;var t,n=Ct[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return Pt[e]=n[t];return e}_&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete Ct.animationend.animation,delete Ct.animationiteration.animation,delete Ct.animationstart.animation),"TransitionEvent"in window||delete Ct.transitionend.transition);var At=Ot("animationend"),kt=Ot("animationiteration"),St=Ot("animationstart"),Mt=Ot("transitionend"),It=new Map,xt=new Map,Lt=["abort","abort",At,"animationEnd",kt,"animationIteration",St,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Mt,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),xt.set(r,t),It.set(r,o),l(o,[r])}}(0,a.unstable_now)();var Rt=8;function Nt(e){if(0!=(1&e))return Rt=15,1;if(0!=(2&e))return Rt=14,2;if(0!=(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!=(32&e)?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):0!=(256&e)?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):0!=(4096&e)?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!=(134217728&e)?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):0!=(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var r=0,o=0,a=e.expiredLanes,i=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,o=Rt=15;else if(0!==(a=134217727&n)){var u=a&~i;0!==u?(r=Nt(u),o=Rt):0!==(s&=a)&&(r=Nt(s),o=Rt)}else 0!==(a=n&~i)?(r=Nt(a),o=Rt):0!==s&&(r=Nt(s),o=Rt);if(0===r)return 0;if(r=n&((0>(r=31-Vt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&i)){if(Nt(t),o<=Rt)return t;Rt=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-Vt(t)),r|=e[n],t&=~o;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Wt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Wt(10,t):e;case 10:return 0===(e=jt(192&~t))?Wt(8,t):e;case 8:return 0===(e=jt(3584&~t))&&(0===(e=jt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(i(358,e))}function jt(e){return e&-e}function Kt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ht(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Vt(t)]=n}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/zt|0)|0},qt=Math.log,zt=Math.LN2;var Yt=a.unstable_UserBlockingPriority,$t=a.unstable_runWithPriority,Gt=!0;function Xt(e,t,n,r){Ne||Be();var o=Jt,a=Ne;Ne=!0;try{Le(o,e,t,n,r)}finally{(Ne=a)||Fe()}}function Qt(e,t,n,r){$t(Yt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var o;if(Gt)if((o=0==(4&t))&&0<it.length&&-1<pt.indexOf(e))e=ft(null,e,t,n,r),it.push(e);else{var a=Zt(e,t,n,r);if(null===a)o&&ht(e,r);else{if(o){if(-1<pt.indexOf(e))return e=ft(a,e,t,n,r),void it.push(e);if(function(e,t,n,r,o){switch(t){case"focusin":return st=mt(st,e,t,n,r,o),!0;case"dragenter":return ut=mt(ut,e,t,n,r,o),!0;case"mouseover":return lt=mt(lt,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return ct.set(a,mt(ct.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,_t.set(a,mt(_t.get(a)||null,e,t,n,r,o)),!0}return!1}(a,e,t,n,r))return;ht(e,r)}Ir(e,t,r,null,n)}}}function Zt(e,t,n,r){var o=Te(r);if(null!==(o=Zr(o))){var a=Xe(o);if(null===a)o=null;else{var i=a.tag;if(13===i){if(null!==(o=Qe(a)))return o;o=null}else if(3===i){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return Ir(e,t,r,o,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,o="value"in en?en.value:en.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return nn=o.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?an:sn,this.isPropagationStopped=sn,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var ln,cn,_n,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=un(dn),fn=o({},dn,{view:0,detail:0}),hn=un(fn),mn=o({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_n&&(_n&&"mousemove"===e.type?(ln=e.screenX-_n.screenX,cn=e.screenY-_n.screenY):cn=ln=0,_n=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),vn=un(mn),gn=un(o({},mn,{dataTransfer:0})),yn=un(o({},fn,{relatedTarget:0})),En=un(o({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=un(o({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),bn=un(o({},dn,{data:0})),Dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Pn[e])&&!!t[e]}function On(){return Tn}var An=un(o({},fn,{key:function(e){if(e.key){var t=Dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),kn=un(o({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=un(o({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Mn=un(o({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=un(o({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=[9,13,27,32],Ln=_&&"CompositionEvent"in window,Bn=null;_&&"documentMode"in document&&(Bn=document.documentMode);var Rn=_&&"TextEvent"in window&&!Bn,Nn=_&&(!Ln||Bn&&8<Bn&&11>=Bn),Un=String.fromCharCode(32),Fn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Me(r),0<(t=Lr(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Yn=null;function $n(e){Tr(e,0)}function Gn(e){if(Q(to(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(_){var Jn;if(_){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"==typeof er.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){zn&&(zn.detachEvent("onpropertychange",nr),Yn=zn=null)}function nr(e){if("value"===e.propertyName&&Gn(Yn)){var t=[];if(qn(t,Yn,e,Te(e)),e=$n,Ne)e(t);else{Ne=!0;try{xe(e,t)}finally{Ne=!1,Fe()}}}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(zn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Yn)}function ar(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ur=Object.prototype.hasOwnProperty;function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!sr(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _r(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var hr=_&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,gr=null,yr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==J(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=Lr(vr,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}Bt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(Lt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),br=0;br<wr.length;br++)xt.set(wr[br],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Pr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,u,l){if(Ge.apply(this,arguments),Ve){if(!Ve)throw Error(i(198));var c=qe;Ve=!1,qe=null,ze||(ze=!0,Ye=c)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&o.isPropagationStopped())break e;Pr(o,s,l),a=u}else for(i=0;i<r.length;i++){if(u=(s=r[i]).instance,l=s.currentTarget,s=s.listener,u!==a&&o.isPropagationStopped())break e;Pr(o,s,l),a=u}}}if(ze)throw e=Ye,ze=!1,Ye=null,e}function Or(e,t){var n=ro(t),r=e+"__bubble";n.has(r)||(Mr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function kr(e){e[Ar]||(e[Ar]=!0,s.forEach((function(t){Cr.has(t)||Sr(t,!1,e,null),Sr(t,!0,e,null)})))}function Sr(e,t,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;o|=2,a=r}var i=ro(a),s=e+"__"+(t?"capture":"bubble");i.has(s)||(t&&(o|=4),Mr(a,e,o,t),i.add(s))}function Mr(e,t,n,r){var o=xt.get(t);switch(void 0===o?2:o){case 0:o=Xt;break;case 1:o=Qt;break;default:o=Jt}n=o.bind(null,t,n,e),o=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ir(e,t,n,r,o){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var u=i.tag;if((3===u||4===u)&&((u=i.stateNode.containerInfo)===o||8===u.nodeType&&u.parentNode===o))return;i=i.return}for(;null!==s;){if(null===(i=Zr(s)))return;if(5===(u=i.tag)||6===u){r=a=i;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Re(e,t,n)}finally{Ue=!1,Fe()}}((function(){var r=a,o=Te(n),i=[];e:{var s=It.get(e);if(void 0!==s){var u=pn,l=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":l="focus",u=yn;break;case"focusout":l="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Sn;break;case At:case kt:case St:u=En;break;case Mt:u=Mn;break;case"scroll":u=hn;break;case"wheel":u=In;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=kn}var c=0!=(4&t),_=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var p,f=r;null!==f;){var h=(p=f).stateNode;if(5===p.tag&&null!==h&&(p=h,null!==d&&(null!=(h=We(f,d))&&c.push(xr(f,h,p)))),_)break;f=f.return}0<c.length&&(s=new u(s,l,null,n,o),i.push({event:s,listeners:c}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(l=n.relatedTarget||n.fromElement)||!Zr(l)&&!l[Qr])&&(u||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?Zr(l):null)&&(l!==(_=Xe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=vn,h="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=kn,h="onPointerLeave",d="onPointerEnter",f="pointer"),_=null==u?s:to(u),p=null==l?s:to(l),(s=new c(h,f+"leave",u,n,o)).target=_,s.relatedTarget=p,h=null,Zr(o)===r&&((c=new c(d,f+"enter",l,n,o)).target=p,c.relatedTarget=_,h=c),_=h,u&&l)e:{for(d=l,f=0,p=c=u;p;p=Br(p))f++;for(p=0,h=d;h;h=Br(h))p++;for(;0<f-p;)c=Br(c),f--;for(;0<p-f;)d=Br(d),p--;for(;f--;){if(c===d||null!==d&&c===d.alternate)break e;c=Br(c),d=Br(d)}c=null}else c=null;null!==u&&Rr(i,s,u,c,!1),null!==l&&null!==_&&Rr(i,_,l,c,!0)}if("select"===(u=(s=r?to(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Vn(s))if(Qn)m=ir;else{m=or;var v=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?qn(i,m,n,o):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&oe(s,"number",s.value)),v=r?to(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,gr=null);break;case"focusout":gr=vr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,Er(i,n,o);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":Er(i,n,o)}var g;if(Ln)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Kn?Wn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Nn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Kn&&(g=rn()):(tn="value"in(en=o)?en.value:en.textContent,Kn=!0)),0<(v=Lr(r,y)).length&&(y=new bn(y,e,null,n,o),i.push({event:y,listeners:v}),g?y.data=g:null!==(g=jn(n))&&(y.data=g))),(g=Rn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Ln&&Wn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(o=new bn("onBeforeInput","beforeinput",null,n,o),i.push({event:o,listeners:r}),o.data=g))}Tr(i,t)}))}function xr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=We(e,n))&&r.unshift(xr(e,a,o)),null!=(a=We(e,t))&&r.push(xr(e,a,o))),e=e.return}return r}function Br(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Rr(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,o?null!=(u=We(n,a))&&i.unshift(xr(n,u,s)):o||null!=(u=We(n,a))&&i.push(xr(n,u,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}function Nr(){}var Ur=null,Fr=null;function Wr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function jr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"==typeof setTimeout?setTimeout:void 0,Hr="function"==typeof clearTimeout?clearTimeout:void 0;function Vr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function zr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var $r=Math.random().toString(36).slice(2),Gr="__reactFiber$"+$r,Xr="__reactProps$"+$r,Qr="__reactContainer$"+$r,Jr="__reactEvents$"+$r;function Zr(e){var t=e[Gr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qr]||n[Gr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=zr(e);null!==e;){if(n=e[Gr])return n;e=zr(e)}return t}n=(e=n).parentNode}return null}function eo(e){return!(e=e[Gr]||e[Qr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function to(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function no(e){return e[Xr]||null}function ro(e){var t=e[Jr];return void 0===t&&(t=e[Jr]=new Set),t}var oo=[],ao=-1;function io(e){return{current:e}}function so(e){0>ao||(e.current=oo[ao],oo[ao]=null,ao--)}function uo(e,t){ao++,oo[ao]=e.current,e.current=t}var lo={},co=io(lo),_o=io(!1),po=lo;function fo(e,t){var n=e.type.contextTypes;if(!n)return lo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ho(e){return null!=(e=e.childContextTypes)}function mo(){so(_o),so(co)}function vo(e,t,n){if(co.current!==lo)throw Error(i(168));uo(co,t),uo(_o,n)}function go(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(i(108,Y(t)||"Unknown",a));return o({},n,r)}function yo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lo,po=co.current,uo(co,e),uo(_o,_o.current),!0}function Eo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=go(e,t,po),r.__reactInternalMemoizedMergedChildContext=e,so(_o),so(co),uo(co,e)):so(_o),uo(_o,n)}var wo=null,bo=null,Do=a.unstable_runWithPriority,Co=a.unstable_scheduleCallback,Po=a.unstable_cancelCallback,To=a.unstable_shouldYield,Oo=a.unstable_requestPaint,Ao=a.unstable_now,ko=a.unstable_getCurrentPriorityLevel,So=a.unstable_ImmediatePriority,Mo=a.unstable_UserBlockingPriority,Io=a.unstable_NormalPriority,xo=a.unstable_LowPriority,Lo=a.unstable_IdlePriority,Bo={},Ro=void 0!==Oo?Oo:function(){},No=null,Uo=null,Fo=!1,Wo=Ao(),jo=1e4>Wo?Ao:function(){return Ao()-Wo};function Ko(){switch(ko()){case So:return 99;case Mo:return 98;case Io:return 97;case xo:return 96;case Lo:return 95;default:throw Error(i(332))}}function Ho(e){switch(e){case 99:return So;case 98:return Mo;case 97:return Io;case 96:return xo;case 95:return Lo;default:throw Error(i(332))}}function Vo(e,t){return e=Ho(e),Do(e,t)}function qo(e,t,n){return e=Ho(e),Co(e,t,n)}function zo(){if(null!==Uo){var e=Uo;Uo=null,Po(e)}Yo()}function Yo(){if(!Fo&&null!==No){Fo=!0;var e=0;try{var t=No;Vo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),No=null}catch(t){throw null!==No&&(No=No.slice(e+1)),Co(So,zo),t}finally{Fo=!1}}}var $o=w.ReactCurrentBatchConfig;function Go(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xo=io(null),Qo=null,Jo=null,Zo=null;function ea(){Zo=Jo=Qo=null}function ta(e){var t=Xo.current;so(Xo),e.type._context._currentValue=t}function na(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ra(e,t){Qo=e,Zo=Jo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Li=!0),e.firstContext=null)}function oa(e,t){if(Zo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Zo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Jo){if(null===Qo)throw Error(i(308));Jo=t,Qo.dependencies={lanes:0,firstContext:t,responders:null}}else Jo=Jo.next=t;return e._currentValue}var aa=!1;function ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function sa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function la(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ca(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _a(e,t,n,r){var a=e.updateQueue;aa=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var _=e.alternate;if(null!==_){var d=(_=_.updateQueue).lastBaseUpdate;d!==s&&(null===d?_.firstBaseUpdate=c:d.next=c,_.lastBaseUpdate=l)}}if(null!==i){for(d=a.baseState,s=0,_=c=l=null;;){u=i.lane;var p=i.eventTime;if((r&u)===u){null!==_&&(_=_.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var f=e,h=i;switch(u=t,p=n,h.tag){case 1:if("function"==typeof(f=h.payload)){d=f.call(p,d,u);break e}d=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(u="function"==typeof(f=h.payload)?f.call(p,d,u):f))break e;d=o({},d,u);break e;case 2:aa=!0}}null!==i.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[i]:u.push(i))}else p={eventTime:p,lane:u,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===_?(c=_=p,l=d):_=_.next=p,s|=u;if(null===(i=i.next)){if(null===(u=a.shared.pending))break;i=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===_&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=_,Us|=s,e.lanes=s,e.memoizedState=d}}function da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var pa=(new r.Component).refs;function fa(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lu(),o=cu(e),a=ua(r,o);a.payload=t,null!=n&&(a.callback=n),la(e,a),_u(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lu(),o=cu(e),a=ua(r,o);a.tag=1,a.payload=t,null!=n&&(a.callback=n),la(e,a),_u(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lu(),r=cu(e),o=ua(n,r);o.tag=2,null!=t&&(o.callback=t),la(e,o),_u(e,r,n)}};function ma(e,t,n,r,o,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,a))}function va(e,t,n){var r=!1,o=lo,a=t.contextType;return"object"==typeof a&&null!==a?a=oa(a):(o=ho(t)?po:co.current,a=(r=null!=(r=t.contextTypes))?fo(e,o):lo),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function ga(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ya(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=pa,ia(e);var a=t.contextType;"object"==typeof a&&null!==a?o.context=oa(a):(a=ho(t)?po:co.current,o.context=fo(e,a)),_a(e,n,o,r),o.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&ha.enqueueReplaceState(o,o.state,null),_a(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4)}var Ea=Array.isArray;function wa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===pa&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function ba(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Da(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=wa(e,t,n),r.return=e,r):((r=Vu(n.type,n.key,n.props,null,e.mode,r)).ref=wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$u(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function _(e,t,n,r,a){return null===t||7!==t.tag?((t=qu(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Vu(t.type,t.key,t.props,null,e.mode,n)).ref=wa(e,null,t),n.return=e,n;case D:return(t=$u(t,e.mode,n)).return=e,t}if(Ea(t)||K(t))return(t=qu(t,e.mode,n,null)).return=e,t;ba(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===o?n.type===C?_(e,t,n.props.children,r,o):l(e,t,n,r):null;case D:return n.key===o?c(e,t,n,r):null}if(Ea(n)||K(n))return null!==o?null:_(e,t,n,r,null);ba(e,n)}return null}function f(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case b:return e=e.get(null===r.key?n:r.key)||null,r.type===C?_(t,e,r.props.children,o,r.key):l(t,e,r,o);case D:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(Ea(r)||K(r))return _(t,e=e.get(n)||null,r,o,null);ba(t,r)}return null}function h(o,i,s,u){for(var l=null,c=null,_=i,h=i=0,m=null;null!==_&&h<s.length;h++){_.index>h?(m=_,_=null):m=_.sibling;var v=p(o,_,s[h],u);if(null===v){null===_&&(_=m);break}e&&_&&null===v.alternate&&t(o,_),i=a(v,i,h),null===c?l=v:c.sibling=v,c=v,_=m}if(h===s.length)return n(o,_),l;if(null===_){for(;h<s.length;h++)null!==(_=d(o,s[h],u))&&(i=a(_,i,h),null===c?l=_:c.sibling=_,c=_);return l}for(_=r(o,_);h<s.length;h++)null!==(m=f(_,o,h,s[h],u))&&(e&&null!==m.alternate&&_.delete(null===m.key?h:m.key),i=a(m,i,h),null===c?l=m:c.sibling=m,c=m);return e&&_.forEach((function(e){return t(o,e)})),l}function m(o,s,u,l){var c=K(u);if("function"!=typeof c)throw Error(i(150));if(null==(u=c.call(u)))throw Error(i(151));for(var _=c=null,h=s,m=s=0,v=null,g=u.next();null!==h&&!g.done;m++,g=u.next()){h.index>m?(v=h,h=null):v=h.sibling;var y=p(o,h,g.value,l);if(null===y){null===h&&(h=v);break}e&&h&&null===y.alternate&&t(o,h),s=a(y,s,m),null===_?c=y:_.sibling=y,_=y,h=v}if(g.done)return n(o,h),c;if(null===h){for(;!g.done;m++,g=u.next())null!==(g=d(o,g.value,l))&&(s=a(g,s,m),null===_?c=g:_.sibling=g,_=g);return c}for(h=r(o,h);!g.done;m++,g=u.next())null!==(g=f(h,o,m,g.value,l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===_?c=g:_.sibling=g,_=g);return e&&h.forEach((function(e){return t(o,e)})),c}return function(e,r,a,u){var l="object"==typeof a&&null!==a&&a.type===C&&null===a.key;l&&(a=a.props.children);var c="object"==typeof a&&null!==a;if(c)switch(a.$$typeof){case b:e:{for(c=a.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(a.type===C){n(e,l.sibling),(r=o(l,a.props.children)).return=e,e=r;break e}break;default:if(l.elementType===a.type){n(e,l.sibling),(r=o(l,a.props)).ref=wa(e,l,a),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}a.type===C?((r=qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Vu(a.type,a.key,a.props,null,e.mode,u)).ref=wa(e,r,a),u.return=e,e=u)}return s(e);case D:e:{for(l=a.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=o(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$u(a,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,a)).return=e,e=r):(n(e,r),(r=Yu(a,e.mode,u)).return=e,e=r),s(e);if(Ea(a))return h(e,r,a,u);if(K(a))return m(e,r,a,u);if(c&&ba(e,a),void 0===a&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(i(152,Y(e.type)||"Component"))}return n(e,r)}}var Ca=Da(!0),Pa=Da(!1),Ta={},Oa=io(Ta),Aa=io(Ta),ka=io(Ta);function Sa(e){if(e===Ta)throw Error(i(174));return e}function Ma(e,t){switch(uo(ka,t),uo(Aa,e),uo(Oa,Ta),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}so(Oa),uo(Oa,t)}function Ia(){so(Oa),so(Aa),so(ka)}function xa(e){Sa(ka.current);var t=Sa(Oa.current),n=fe(t,e.type);t!==n&&(uo(Aa,e),uo(Oa,n))}function La(e){Aa.current===e&&(so(Oa),so(Aa))}var Ba=io(0);function Ra(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Na=null,Ua=null,Fa=!1;function Wa(e,t){var n=ju(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ja(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ka(e){if(Fa){var t=Ua;if(t){var n=t;if(!ja(e,t)){if(!(t=qr(n.nextSibling))||!ja(e,t))return e.flags=-1025&e.flags|2,Fa=!1,void(Na=e);Wa(Na,n)}Na=e,Ua=qr(t.firstChild)}else e.flags=-1025&e.flags|2,Fa=!1,Na=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Na=e}function Va(e){if(e!==Na)return!1;if(!Fa)return Ha(e),Fa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!jr(t,e.memoizedProps))for(t=Ua;t;)Wa(e,t),t=qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=Na?qr(e.stateNode.nextSibling):null;return!0}function qa(){Ua=Na=null,Fa=!1}var za=[];function Ya(){for(var e=0;e<za.length;e++)za[e]._workInProgressVersionPrimary=null;za.length=0}var $a=w.ReactCurrentDispatcher,Ga=w.ReactCurrentBatchConfig,Xa=0,Qa=null,Ja=null,Za=null,ei=!1,ti=!1;function ni(){throw Error(i(321))}function ri(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function oi(e,t,n,r,o,a){if(Xa=a,Qa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Si:Mi,e=n(r,o),ti){a=0;do{if(ti=!1,!(25>a))throw Error(i(301));a+=1,Za=Ja=null,t.updateQueue=null,$a.current=Ii,e=n(r,o)}while(ti)}if($a.current=ki,t=null!==Ja&&null!==Ja.next,Xa=0,Za=Ja=Qa=null,ei=!1,t)throw Error(i(300));return e}function ai(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Za?Qa.memoizedState=Za=e:Za=Za.next=e,Za}function ii(){if(null===Ja){var e=Qa.alternate;e=null!==e?e.memoizedState:null}else e=Ja.next;var t=null===Za?Qa.memoizedState:Za.next;if(null!==t)Za=t,Ja=e;else{if(null===e)throw Error(i(310));e={memoizedState:(Ja=e).memoizedState,baseState:Ja.baseState,baseQueue:Ja.baseQueue,queue:Ja.queue,next:null},null===Za?Qa.memoizedState=Za=e:Za=Za.next=e}return Za}function si(e,t){return"function"==typeof t?t(e):t}function ui(e){var t=ii(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=Ja,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var u=s=a=null,l=o;do{var c=l.lane;if((Xa&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var _={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=_,a=r):u=u.next=_,Qa.lanes|=c,Us|=c}l=l.next}while(null!==l&&l!==o);null===u?a=r:u.next=s,sr(r,t.memoizedState)||(Li=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function li(e){var t=ii(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(Li=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ci(e,t,n){var r=t._getVersion;r=r(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,za.push(t))),e)return n(t._source);throw za.push(t),Error(i(350))}function _i(e,t,n,r){var o=Ss;if(null===o)throw Error(i(349));var a=t._getVersion,s=a(t._source),u=$a.current,l=u.useState((function(){return ci(o,t,n)})),c=l[1],_=l[0];l=Za;var d=e.memoizedState,p=d.refs,f=p.getSnapshot,h=d.source;d=d.subscribe;var m=Qa;return e.memoizedState={refs:p,source:t,subscribe:r},u.useEffect((function(){p.getSnapshot=n,p.setSnapshot=c;var e=a(t._source);if(!sr(s,e)){e=n(t._source),sr(_,e)||(c(e),e=cu(m),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var r=o.entanglements,i=e;0<i;){var u=31-Vt(i),l=1<<u;r[u]|=e,i&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=cu(m);o.mutableReadLanes|=r&o.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),sr(f,n)&&sr(h,t)&&sr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:si,lastRenderedState:_}).dispatch=c=Ai.bind(null,Qa,e),l.queue=e,l.baseQueue=null,_=ci(o,t,n),l.memoizedState=l.baseState=_),_}function di(e,t,n){return _i(ii(),e,t,n)}function pi(e){var t=ai();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:si,lastRenderedState:e}).dispatch=Ai.bind(null,Qa,e),[t.memoizedState,e]}function fi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Qa.updateQueue)?(t={lastEffect:null},Qa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function hi(e){return e={current:e},ai().memoizedState=e}function mi(){return ii().memoizedState}function vi(e,t,n,r){var o=ai();Qa.flags|=e,o.memoizedState=fi(1|t,n,void 0,void 0===r?null:r)}function gi(e,t,n,r){var o=ii();r=void 0===r?null:r;var a=void 0;if(null!==Ja){var i=Ja.memoizedState;if(a=i.destroy,null!==r&&ri(r,i.deps))return void fi(t,n,a,r)}Qa.flags|=e,o.memoizedState=fi(1|t,n,a,r)}function yi(e,t){return vi(516,4,e,t)}function Ei(e,t){return gi(516,4,e,t)}function wi(e,t){return gi(4,2,e,t)}function bi(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Di(e,t,n){return n=null!=n?n.concat([e]):null,gi(4,2,bi.bind(null,t,e),n)}function Ci(){}function Pi(e,t){var n=ii();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ri(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ti(e,t){var n=ii();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ri(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oi(e,t){var n=Ko();Vo(98>n?98:n,(function(){e(!0)})),Vo(97<n?97:n,(function(){var n=Ga.transition;Ga.transition=1;try{e(!1),t()}finally{Ga.transition=n}}))}function Ai(e,t,n){var r=lu(),o=cu(e),a={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},i=t.pending;if(null===i?a.next=a:(a.next=i.next,i.next=a),t.pending=a,i=e.alternate,e===Qa||null!==i&&i===Qa)ti=ei=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=i(s,n);if(a.eagerReducer=i,a.eagerState=u,sr(u,s))return}catch(e){}_u(e,o,r)}}var ki={readContext:oa,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useLayoutEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useMutableSource:ni,useOpaqueIdentifier:ni,unstable_isNewReconciler:!1},Si={readContext:oa,useCallback:function(e,t){return ai().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:yi,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,vi(4,2,bi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vi(4,2,e,t)},useMemo:function(e,t){var n=ai();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ai();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ai.bind(null,Qa,e),[r.memoizedState,e]},useRef:hi,useState:pi,useDebugValue:Ci,useDeferredValue:function(e){var t=pi(e),n=t[0],r=t[1];return yi((function(){var t=Ga.transition;Ga.transition=1;try{r(e)}finally{Ga.transition=t}}),[e]),n},useTransition:function(){var e=pi(!1),t=e[0];return hi(e=Oi.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ai();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},_i(r,e,t,n)},useOpaqueIdentifier:function(){if(Fa){var e=!1,t=function(e){return{$$typeof:B,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(i(355))})),n=pi(t)[1];return 0==(2&Qa.mode)&&(Qa.flags|=516,fi(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return pi(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Mi={readContext:oa,useCallback:Pi,useContext:oa,useEffect:Ei,useImperativeHandle:Di,useLayoutEffect:wi,useMemo:Ti,useReducer:ui,useRef:mi,useState:function(){return ui(si)},useDebugValue:Ci,useDeferredValue:function(e){var t=ui(si),n=t[0],r=t[1];return Ei((function(){var t=Ga.transition;Ga.transition=1;try{r(e)}finally{Ga.transition=t}}),[e]),n},useTransition:function(){var e=ui(si)[0];return[mi().current,e]},useMutableSource:di,useOpaqueIdentifier:function(){return ui(si)[0]},unstable_isNewReconciler:!1},Ii={readContext:oa,useCallback:Pi,useContext:oa,useEffect:Ei,useImperativeHandle:Di,useLayoutEffect:wi,useMemo:Ti,useReducer:li,useRef:mi,useState:function(){return li(si)},useDebugValue:Ci,useDeferredValue:function(e){var t=li(si),n=t[0],r=t[1];return Ei((function(){var t=Ga.transition;Ga.transition=1;try{r(e)}finally{Ga.transition=t}}),[e]),n},useTransition:function(){var e=li(si)[0];return[mi().current,e]},useMutableSource:di,useOpaqueIdentifier:function(){return li(si)[0]},unstable_isNewReconciler:!1},xi=w.ReactCurrentOwner,Li=!1;function Bi(e,t,n,r){t.child=null===e?Pa(t,null,n,r):Ca(t,e.child,n,r)}function Ri(e,t,n,r,o){n=n.render;var a=t.ref;return ra(t,o),r=oi(e,t,n,r,a,o),null===e||Li?(t.flags|=1,Bi(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,ns(e,t,o))}function Ni(e,t,n,r,o,a){if(null===e){var i=n.type;return"function"!=typeof i||Ku(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ui(e,t,i,r,o,a))}return i=e.child,0==(o&a)&&(o=i.memoizedProps,(n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)?ns(e,t,a):(t.flags|=1,(e=Hu(i,r)).ref=t.ref,e.return=t,t.child=e)}function Ui(e,t,n,r,o,a){if(null!==e&&lr(e.memoizedProps,r)&&e.ref===t.ref){if(Li=!1,0==(a&o))return t.lanes=e.lanes,ns(e,t,a);0!=(16384&e.flags)&&(Li=!0)}return ji(e,t,n,r,a)}function Fi(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},yu(t,n);else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},yu(t,e),null;t.memoizedState={baseLanes:0},yu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,yu(t,r);return Bi(e,t,o,n),t.child}function Wi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function ji(e,t,n,r,o){var a=ho(n)?po:co.current;return a=fo(t,a),ra(t,o),n=oi(e,t,n,r,a,o),null===e||Li?(t.flags|=1,Bi(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,ns(e,t,o))}function Ki(e,t,n,r,o){if(ho(n)){var a=!0;yo(t)}else a=!1;if(ra(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),va(t,n,r),ya(t,n,r,o),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var u=i.context,l=n.contextType;"object"==typeof l&&null!==l?l=oa(l):l=fo(t,l=ho(n)?po:co.current);var c=n.getDerivedStateFromProps,_="function"==typeof c||"function"==typeof i.getSnapshotBeforeUpdate;_||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||u!==l)&&ga(t,i,r,l),aa=!1;var d=t.memoizedState;i.state=d,_a(t,r,i,o),u=t.memoizedState,s!==r||d!==u||_o.current||aa?("function"==typeof c&&(fa(t,n,c,r),u=t.memoizedState),(s=aa||ma(t,n,s,r,d,u,l))?(_||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4)):("function"==typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=l,r=s):("function"==typeof i.componentDidMount&&(t.flags|=4),r=!1)}else{i=t.stateNode,sa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Go(t.type,s),i.props=l,_=t.pendingProps,d=i.context,"object"==typeof(u=n.contextType)&&null!==u?u=oa(u):u=fo(t,u=ho(n)?po:co.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==_||d!==u)&&ga(t,i,r,u),aa=!1,d=t.memoizedState,i.state=d,_a(t,r,i,o);var f=t.memoizedState;s!==_||d!==f||_o.current||aa?("function"==typeof p&&(fa(t,n,p,r),f=t.memoizedState),(l=aa||ma(t,n,l,r,d,f,u))?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,u),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,u)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=u,r=l):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Hi(e,t,n,r,a,o)}function Hi(e,t,n,r,o,a){Wi(e,t);var i=0!=(64&t.flags);if(!r&&!i)return o&&Eo(t,n,!1),ns(e,t,a);r=t.stateNode,xi.current=t;var s=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Ca(t,e.child,null,a),t.child=Ca(t,null,s,a)):Bi(e,t,s,a),t.memoizedState=r.state,o&&Eo(t,n,!0),t.child}function Vi(e){var t=e.stateNode;t.pendingContext?vo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vo(0,t.context,!1),Ma(e,t.containerInfo)}var qi,zi,Yi,$i={dehydrated:null,retryLane:0};function Gi(e,t,n){var r,o=t.pendingProps,a=Ba.current,i=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(i=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),uo(Ba,1&a),null===e?(void 0!==o.fallback&&Ka(t),e=o.children,a=o.fallback,i?(e=Xi(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$i,e):"number"==typeof o.unstable_expectedLoadTime?(e=Xi(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$i,t.lanes=33554432,e):((n=zu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,i?(o=Ji(e,t,o.children,o.fallback,n),i=t.child,a=e.child.memoizedState,i.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=$i,o):(n=Qi(e,t,o.children,n),t.memoizedState=null,n))}function Xi(e,t,n,r){var o=e.mode,a=e.child;return t={mode:"hidden",children:t},0==(2&o)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=zu(t,o,0,null),n=qu(n,o,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function Qi(e,t,n,r){var o=e.child;return e=o.sibling,n=Hu(o,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Ji(e,t,n,r,o){var a=t.mode,i=e.child;e=i.sibling;var s={mode:"hidden",children:n};return 0==(2&a)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=s,null!==(i=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=i,i.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hu(i,s),null!==e?r=Hu(e,r):(r=qu(r,a,o,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Zi(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),na(e.return,t)}function es(e,t,n,r,o,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o,i.lastEffect=a)}function ts(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Bi(e,t,r.children,n),0!=(2&(r=Ba.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zi(e,n);else if(19===e.tag)Zi(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(uo(Ba,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Ra(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),es(t,!1,o,n,a,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Ra(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}es(t,!0,n,null,a,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Us|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!Fa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function os(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ho(t.type)&&mo(),null;case 3:return Ia(),so(_o),so(co),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:La(t);var a=Sa(ka.current);if(n=t.type,null!==e&&null!=t.stateNode)zi(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(i(166));return null}if(e=Sa(Oa.current),Va(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Gr]=t,r[Xr]=s,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(e=0;e<Dr.length;e++)Or(Dr[e],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":ee(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":ue(r,s),Or("invalid",r)}for(var l in Ce(n,s),e=null,s)s.hasOwnProperty(l)&&(a=s[l],"children"===l?"string"==typeof a?r.textContent!==a&&(e=["children",a]):"number"==typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(l)&&null!=a&&"onScroll"===l&&Or("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),ce(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Nr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===a.nodeType?a:a.ownerDocument,e===_e&&(e=pe(n)),e===_e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Gr]=t,e[Xr]=r,qi(e,t),t.stateNode=e,l=Pe(n,r),n){case"dialog":Or("cancel",e),Or("close",e),a=r;break;case"iframe":case"object":case"embed":Or("load",e),a=r;break;case"video":case"audio":for(a=0;a<Dr.length;a++)Or(Dr[a],e);a=r;break;case"source":Or("error",e),a=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),a=r;break;case"details":Or("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Or("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=o({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Or("invalid",e);break;default:a=r}Ce(n,a);var c=a;for(s in c)if(c.hasOwnProperty(s)){var _=c[s];"style"===s?be(e,_):"dangerouslySetInnerHTML"===s?null!=(_=_?_.__html:void 0)&&ve(e,_):"children"===s?"string"==typeof _?("textarea"!==n||""!==_)&&ge(e,_):"number"==typeof _&&ge(e,""+_):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=_&&"onScroll"===s&&Or("scroll",e):null!=_&&E(e,s,_,l))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ie(e,!!r.multiple,s,!1):null!=r.defaultValue&&ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Nr)}Wr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yi(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));n=Sa(ka.current),Sa(Oa.current),Va(t)?(r=t.stateNode,n=t.memoizedProps,r[Gr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Gr]=t,t.stateNode=r)}return null;case 13:return so(Ba),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Va(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ba.current)?0===Bs&&(Bs=3):(0!==Bs&&3!==Bs||(Bs=4),null===Ss||0==(134217727&Us)&&0==(134217727&Fs)||hu(Ss,Is))),(r||n)&&(t.flags|=4),null);case 4:return Ia(),null===e&&kr(t.stateNode.containerInfo),null;case 10:return ta(t),null;case 17:return ho(t.type)&&mo(),null;case 19:if(so(Ba),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(l=r.rendering))if(s)rs(r,!1);else{if(0!==Bs||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Ra(e))){for(t.flags|=64,rs(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return uo(Ba,1&Ba.current|2),t.child}e=e.sibling}null!==r.tail&&jo()>Hs&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ra(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Fa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*jo()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=jo(),n.sibling=null,t=Ba.current,uo(Ba,s?1&t|2:1&t),n):null;case 23:case 24:return Eu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(i(156,t.tag))}function as(e){switch(e.tag){case 1:ho(e.type)&&mo();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ia(),so(_o),so(co),Ya(),0!=(64&(t=e.flags)))throw Error(i(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return so(Ba),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return so(Ba),null;case 4:return Ia(),null;case 10:return ta(e),null;case 23:case 24:return Eu(),null;default:return null}}function is(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o}}function ss(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}qi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zi=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Sa(Oa.current);var i,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=Nr)}for(_ in Ce(n,r),n=null,a)if(!r.hasOwnProperty(_)&&a.hasOwnProperty(_)&&null!=a[_])if("style"===_){var l=a[_];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==_&&"children"!==_&&"suppressContentEditableWarning"!==_&&"suppressHydrationWarning"!==_&&"autoFocus"!==_&&(u.hasOwnProperty(_)?s||(s=[]):(s=s||[]).push(_,null));for(_ in r){var c=r[_];if(l=null!=a?a[_]:void 0,r.hasOwnProperty(_)&&c!==l&&(null!=c||null!=l))if("style"===_)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(_,n)),n=c;else"dangerouslySetInnerHTML"===_?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(_,c)):"children"===_?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(_,""+c):"suppressContentEditableWarning"!==_&&"suppressHydrationWarning"!==_&&(u.hasOwnProperty(_)?(null!=c&&"onScroll"===_&&Or("scroll",e),s||l===c||(s=[])):"object"==typeof c&&null!==c&&c.$$typeof===B?c.toString():(s=s||[]).push(_,c))}n&&(s=s||[]).push("style",n);var _=s;(t.updateQueue=_)&&(t.flags|=4)}},Yi=function(e,t,n,r){n!==r&&(t.flags|=4)};var us="function"==typeof WeakMap?WeakMap:Map;function ls(e,t,n){(n=ua(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,$s=r),ss(0,t)},n}function cs(e,t,n){(n=ua(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return ss(0,t),r(o)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var _s="function"==typeof WeakSet?WeakSet:Set;function ds(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Nu(e,t)}else t.current=null}function ps(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Go(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Vr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(i(163))}function fs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var o=e;r=o.next,0!=(4&(o=o.tag))&&0!=(1&o)&&(Lu(n,e),xu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Go(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&da(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}da(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Wr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&bt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(i(163))}function hs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=null!=o&&o.hasOwnProperty("display")?o.display:null,r.style.display=we("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ms(e,t){if(bo&&"function"==typeof bo.onCommitFiberUnmount)try{bo.onCommitFiberUnmount(wo,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,o=r.destroy;if(r=r.tag,void 0!==o)if(0!=(4&r))Lu(t,n);else{r=t;try{o()}catch(e){Nu(r,e)}}n=n.next}while(n!==e)}break;case 1:if(ds(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Nu(t,e)}break;case 5:ds(t);break;case 4:bs(e,t)}}function vs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function gs(e){return 5===e.tag||3===e.tag||4===e.tag}function ys(e){e:{for(var t=e.return;null!==t;){if(gs(t))break e;t=t.return}throw Error(i(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(i(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||gs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):ws(e,n,t)}function Es(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Nr));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function ws(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function bs(e,t){for(var n,r,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(i(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var s=e,u=o,l=u;;)if(ms(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=o.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(ms(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function Ds(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var o=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Pe(e,o),t=Pe(e,r),o=0;o<a.length;o+=2){var s=a[o],u=a[o+1];"style"===s?be(n,u):"dangerouslySetInnerHTML"===s?ve(n,u):"children"===s?ge(n,u):E(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?ie(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?ie(n,!!r.multiple,r.defaultValue,!0):ie(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,bt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Ks=jo(),hs(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 17:return;case 23:case 24:return void hs(t,null!==t.memoizedState)}throw Error(i(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new _s),t.forEach((function(t){var r=Fu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ps(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ts=Math.ceil,Os=w.ReactCurrentDispatcher,As=w.ReactCurrentOwner,ks=0,Ss=null,Ms=null,Is=0,xs=0,Ls=io(0),Bs=0,Rs=null,Ns=0,Us=0,Fs=0,Ws=0,js=null,Ks=0,Hs=1/0;function Vs(){Hs=jo()+500}var qs,zs=null,Ys=!1,$s=null,Gs=null,Xs=!1,Qs=null,Js=90,Zs=[],eu=[],tu=null,nu=0,ru=null,ou=-1,au=0,iu=0,su=null,uu=!1;function lu(){return 0!=(48&ks)?jo():-1!==ou?ou:ou=jo()}function cu(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Ko()?1:2;if(0===au&&(au=Ns),0!==$o.transition){0!==iu&&(iu=null!==js?js.pendingLanes:0),e=au;var t=4186112&~iu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ko(),0!=(4&ks)&&98===e?e=Wt(12,au):e=Wt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),au),e}function _u(e,t,n){if(50<nu)throw nu=0,ru=null,Error(i(185));if(null===(e=du(e,t)))return null;Ht(e,t,n),e===Ss&&(Fs|=t,4===Bs&&hu(e,Is));var r=Ko();1===t?0!=(8&ks)&&0==(48&ks)?mu(e):(pu(e,n),0===ks&&(Vs(),zo())):(0==(4&ks)||98!==r&&99!==r||(null===tu?tu=new Set([e]):tu.add(e)),pu(e,n)),js=e}function du(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function pu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Vt(s),l=1<<u,c=a[u];if(-1===c){if(0==(l&r)||0!=(l&o)){c=t,Nt(l);var _=Rt;a[u]=10<=_?c+250:6<=_?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(r=Ut(e,e===Ss?Is:0),t=Rt,0===r)null!==n&&(n!==Bo&&Po(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Bo&&Po(n)}15===t?(n=mu.bind(null,e),null===No?(No=[n],Uo=Co(So,Yo)):No.push(n),n=Bo):14===t?n=qo(99,mu.bind(null,e)):n=qo(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(i(358,e))}}(t),fu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function fu(e){if(ou=-1,iu=au=0,0!=(48&ks))throw Error(i(327));var t=e.callbackNode;if(Iu()&&e.callbackNode!==t)return null;var n=Ut(e,e===Ss?Is:0);if(0===n)return null;var r=n,o=ks;ks|=16;var a=Du();for(Ss===e&&Is===r||(Vs(),wu(e,r));;)try{Tu();break}catch(t){bu(e,t)}if(ea(),Os.current=a,ks=o,null!==Ms?r=0:(Ss=null,Is=0,r=Bs),0!=(Ns&Fs))wu(e,0);else if(0!==r){if(2===r&&(ks|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(n=Ft(e))&&(r=Cu(e,n))),1===r)throw t=Rs,wu(e,0),hu(e,n),pu(e,jo()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(i(345));case 2:ku(e);break;case 3:if(hu(e,n),(62914560&n)===n&&10<(r=Ks+500-jo())){if(0!==Ut(e,0))break;if(((o=e.suspendedLanes)&n)!==n){lu(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Kr(ku.bind(null,e),r);break}ku(e);break;case 4:if(hu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,o=-1;0<n;){var s=31-Vt(n);a=1<<s,(s=r[s])>o&&(o=s),n&=~a}if(n=o,10<(n=(120>(n=jo()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ts(n/1960))-n)){e.timeoutHandle=Kr(ku.bind(null,e),n);break}ku(e);break;case 5:ku(e);break;default:throw Error(i(329))}}return pu(e,jo()),e.callbackNode===t?fu.bind(null,e):null}function hu(e,t){for(t&=~Ws,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function mu(e){if(0!=(48&ks))throw Error(i(327));if(Iu(),e===Ss&&0!=(e.expiredLanes&Is)){var t=Is,n=Cu(e,t);0!=(Ns&Fs)&&(n=Cu(e,t=Ut(e,t)))}else n=Cu(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(ks|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(t=Ft(e))&&(n=Cu(e,t))),1===n)throw n=Rs,wu(e,0),hu(e,t),pu(e,jo()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e),pu(e,jo()),null}function vu(e,t){var n=ks;ks|=1;try{return e(t)}finally{0===(ks=n)&&(Vs(),zo())}}function gu(e,t){var n=ks;ks&=-2,ks|=8;try{return e(t)}finally{0===(ks=n)&&(Vs(),zo())}}function yu(e,t){uo(Ls,xs),xs|=t,Ns|=t}function Eu(){xs=Ls.current,so(Ls)}function wu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ms)for(n=Ms.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&mo();break;case 3:Ia(),so(_o),so(co),Ya();break;case 5:La(r);break;case 4:Ia();break;case 13:case 19:so(Ba);break;case 10:ta(r);break;case 23:case 24:Eu()}n=n.return}Ss=e,Ms=Hu(e.current,null),Is=xs=Ns=t,Bs=0,Rs=null,Ws=Fs=Us=0}function bu(e,t){for(;;){var n=Ms;try{if(ea(),$a.current=ki,ei){for(var r=Qa.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ei=!1}if(Xa=0,Za=Ja=Qa=null,ti=!1,As.current=null,null===n||null===n.return){Bs=1,Rs=t,Ms=null;break}e:{var a=e,i=n.return,s=n,u=t;if(t=Is,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var l=u;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var _=0!=(1&Ba.current),d=i;do{var p;if(p=13===d.tag){var f=d.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var h=d.memoizedProps;p=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!_)}}if(p){var m=d.updateQueue;if(null===m){var v=new Set;v.add(l),d.updateQueue=v}else m.add(l);if(0==(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=ua(-1,1);g.tag=2,la(s,g)}s.lanes|=1;break e}u=void 0,s=t;var y=a.pingCache;if(null===y?(y=a.pingCache=new us,u=new Set,y.set(l,u)):void 0===(u=y.get(l))&&(u=new Set,y.set(l,u)),!u.has(s)){u.add(s);var E=Uu.bind(null,a,l,s);l.then(E,E)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((Y(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Bs&&(Bs=2),u=is(u,s),d=i;do{switch(d.tag){case 3:a=u,d.flags|=4096,t&=-t,d.lanes|=t,ca(d,ls(0,a,t));break e;case 1:a=u;var w=d.type,b=d.stateNode;if(0==(64&d.flags)&&("function"==typeof w.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Gs||!Gs.has(b)))){d.flags|=4096,t&=-t,d.lanes|=t,ca(d,cs(d,a,t));break e}}d=d.return}while(null!==d)}Au(n)}catch(e){t=e,Ms===n&&null!==n&&(Ms=n=n.return);continue}break}}function Du(){var e=Os.current;return Os.current=ki,null===e?ki:e}function Cu(e,t){var n=ks;ks|=16;var r=Du();for(Ss===e&&Is===t||wu(e,t);;)try{Pu();break}catch(t){bu(e,t)}if(ea(),ks=n,Os.current=r,null!==Ms)throw Error(i(261));return Ss=null,Is=0,Bs}function Pu(){for(;null!==Ms;)Ou(Ms)}function Tu(){for(;null!==Ms&&!To();)Ou(Ms)}function Ou(e){var t=qs(e.alternate,e,xs);e.memoizedProps=e.pendingProps,null===t?Au(e):Ms=t,As.current=null}function Au(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=os(n,t,xs)))return void(Ms=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&xs)||0==(4&n.mode)){for(var r=0,o=n.child;null!==o;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=as(t)))return n.flags&=2047,void(Ms=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ms=t);Ms=t=e}while(null!==t);0===Bs&&(Bs=5)}function ku(e){var t=Ko();return Vo(99,Su.bind(null,e,t)),null}function Su(e,t){do{Iu()}while(null!==Qs);if(0!=(48&ks))throw Error(i(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,a=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var l=31-Vt(a),c=1<<l;o[l]=0,s[l]=-1,u[l]=-1,a&=~c}if(null!==tu&&0==(24&r)&&tu.has(e)&&tu.delete(e),e===Ss&&(Ms=Ss=null,Is=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(o=ks,ks|=32,As.current=null,Ur=Gt,fr(s=pr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,a=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(e){u=null;break e}var _=0,d=-1,p=-1,f=0,h=0,m=s,v=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(d=_+a),m!==l||0!==c&&3!==m.nodeType||(p=_+c),3===m.nodeType&&(_+=m.nodeValue.length),null!==(g=m.firstChild);)v=m,m=g;for(;;){if(m===s)break t;if(v===u&&++f===a&&(d=_),v===l&&++h===c&&(p=_),null!==(g=m.nextSibling))break;v=(m=v).parentNode}m=g}u=-1===d||-1===p?null:{start:d,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;Fr={focusedElem:s,selectionRange:u},Gt=!1,su=null,uu=!1,zs=r;do{try{Mu()}catch(e){if(null===zs)throw Error(i(330));Nu(zs,e),zs=zs.nextEffect}}while(null!==zs);su=null,zs=r;do{try{for(s=e;null!==zs;){var y=zs.flags;if(16&y&&ge(zs.stateNode,""),128&y){var E=zs.alternate;if(null!==E){var w=E.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&y){case 2:ys(zs),zs.flags&=-3;break;case 6:ys(zs),zs.flags&=-3,Ds(zs.alternate,zs);break;case 1024:zs.flags&=-1025;break;case 1028:zs.flags&=-1025,Ds(zs.alternate,zs);break;case 4:Ds(zs.alternate,zs);break;case 8:bs(s,u=zs);var b=u.alternate;vs(u),null!==b&&vs(b)}zs=zs.nextEffect}}catch(e){if(null===zs)throw Error(i(330));Nu(zs,e),zs=zs.nextEffect}}while(null!==zs);if(w=Fr,E=pr(),y=w.focusedElem,s=w.selectionRange,E!==y&&y&&y.ownerDocument&&dr(y.ownerDocument.documentElement,y)){null!==s&&fr(y)&&(E=s.start,void 0===(w=s.end)&&(w=E),"selectionStart"in y?(y.selectionStart=E,y.selectionEnd=Math.min(w,y.value.length)):(w=(E=y.ownerDocument||document)&&E.defaultView||window).getSelection&&(w=w.getSelection(),u=y.textContent.length,b=Math.min(s.start,u),s=void 0===s.end?b:Math.min(s.end,u),!w.extend&&b>s&&(u=s,s=b,b=u),u=_r(y,b),a=_r(y,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((E=E.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),b>s?(w.addRange(E),w.extend(a.node,a.offset)):(E.setEnd(a.node,a.offset),w.addRange(E))))),E=[];for(w=y;w=w.parentNode;)1===w.nodeType&&E.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<E.length;y++)(w=E[y]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Gt=!!Ur,Fr=Ur=null,e.current=n,zs=r;do{try{for(y=e;null!==zs;){var D=zs.flags;if(36&D&&fs(y,zs.alternate,zs),128&D){E=void 0;var C=zs.ref;if(null!==C){var P=zs.stateNode;switch(zs.tag){case 5:E=P;break;default:E=P}"function"==typeof C?C(E):C.current=E}}zs=zs.nextEffect}}catch(e){if(null===zs)throw Error(i(330));Nu(zs,e),zs=zs.nextEffect}}while(null!==zs);zs=null,Ro(),ks=o}else e.current=n;if(Xs)Xs=!1,Qs=e,Js=t;else for(zs=r;null!==zs;)t=zs.nextEffect,zs.nextEffect=null,8&zs.flags&&((D=zs).sibling=null,D.stateNode=null),zs=t;if(0===(r=e.pendingLanes)&&(Gs=null),1===r?e===ru?nu++:(nu=0,ru=e):nu=0,n=n.stateNode,bo&&"function"==typeof bo.onCommitFiberRoot)try{bo.onCommitFiberRoot(wo,n,void 0,64==(64&n.current.flags))}catch(e){}if(pu(e,jo()),Ys)throw Ys=!1,e=$s,$s=null,e;return 0!=(8&ks)||zo(),null}function Mu(){for(;null!==zs;){var e=zs.alternate;uu||null===su||(0!=(8&zs.flags)?et(zs,su)&&(uu=!0):13===zs.tag&&Ps(e,zs)&&et(zs,su)&&(uu=!0));var t=zs.flags;0!=(256&t)&&ps(e,zs),0==(512&t)||Xs||(Xs=!0,qo(97,(function(){return Iu(),null}))),zs=zs.nextEffect}}function Iu(){if(90!==Js){var e=97<Js?97:Js;return Js=90,Vo(e,Bu)}return!1}function xu(e,t){Zs.push(t,e),Xs||(Xs=!0,qo(97,(function(){return Iu(),null})))}function Lu(e,t){eu.push(t,e),Xs||(Xs=!0,qo(97,(function(){return Iu(),null})))}function Bu(){if(null===Qs)return!1;var e=Qs;if(Qs=null,0!=(48&ks))throw Error(i(331));var t=ks;ks|=32;var n=eu;eu=[];for(var r=0;r<n.length;r+=2){var o=n[r],a=n[r+1],s=o.destroy;if(o.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===a)throw Error(i(330));Nu(a,e)}}for(n=Zs,Zs=[],r=0;r<n.length;r+=2){o=n[r],a=n[r+1];try{var u=o.create;o.destroy=u()}catch(e){if(null===a)throw Error(i(330));Nu(a,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return ks=t,zo(),!0}function Ru(e,t,n){la(e,t=ls(0,t=is(n,t),1)),t=lu(),null!==(e=du(e,1))&&(Ht(e,1,t),pu(e,t))}function Nu(e,t){if(3===e.tag)Ru(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ru(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){var o=cs(n,e=is(t,e),1);if(la(n,o),o=lu(),null!==(n=du(n,1)))Ht(n,1,o),pu(n,o);else if("function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Uu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=lu(),e.pingedLanes|=e.suspendedLanes&n,Ss===e&&(Is&n)===n&&(4===Bs||3===Bs&&(62914560&Is)===Is&&500>jo()-Ks?wu(e,0):Ws|=n),pu(e,t)}function Fu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Ko()?1:2:(0===au&&(au=Ns),0===(t=jt(62914560&~au))&&(t=4194304))),n=lu(),null!==(e=du(e,t))&&(Ht(e,t,n),pu(e,n))}function Wu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ju(e,t,n,r){return new Wu(e,t,n,r)}function Ku(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=ju(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vu(e,t,n,r,o,a){var s=2;if(r=e,"function"==typeof e)Ku(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case C:return qu(n.children,o,a,t);case R:s=8,o|=16;break;case P:s=8,o|=1;break;case T:return(e=ju(12,n,t,8|o)).elementType=T,e.type=T,e.lanes=a,e;case S:return(e=ju(13,n,t,o)).type=S,e.elementType=S,e.lanes=a,e;case M:return(e=ju(19,n,t,o)).elementType=M,e.lanes=a,e;case N:return zu(n,o,a,t);case U:return(e=ju(24,n,t,o)).elementType=U,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case O:s=10;break e;case A:s=9;break e;case k:s=11;break e;case I:s=14;break e;case x:s=16,r=null;break e;case L:s=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=ju(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function qu(e,t,n,r){return(e=ju(7,e,r,t)).lanes=n,e}function zu(e,t,n,r){return(e=ju(23,e,r,t)).elementType=N,e.lanes=n,e}function Yu(e,t,n){return(e=ju(6,e,null,t)).lanes=n,e}function $u(e,t,n){return(t=ju(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Kt(0),this.expirationTimes=Kt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kt(0),this.mutableSourceEagerHydrationData=null}function Xu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:D,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Qu(e,t,n,r){var o=t.current,a=lu(),s=cu(o);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(i(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(ho(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(i(171))}if(1===n.tag){var l=n.type;if(ho(l)){n=go(n,l,u);break e}}n=u}else n=lo;return null===t.context?t.context=n:t.pendingContext=n,(t=ua(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),la(o,t),_u(o,s,a),s}function Ju(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function el(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function tl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Gu(e,t,null!=n&&!0===n.hydrate),t=ju(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ia(t),e[Qr]=n.current,kr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var o=(t=r[e])._getVersion;o=o(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}function nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rl(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a._internalRoot;if("function"==typeof o){var s=o;o=function(){var e=Ju(i);s.call(e)}}Qu(t,i,e,o)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tl(e,0,t?{hydrate:!0}:void 0)}(n,r),i=a._internalRoot,"function"==typeof o){var u=o;o=function(){var e=Ju(i);u.call(e)}}gu((function(){Qu(t,i,e,o)}))}return Ju(i)}function ol(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(t))throw Error(i(200));return Xu(e,t,null,n)}qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||_o.current)Li=!0;else{if(0==(n&r)){switch(Li=!1,t.tag){case 3:Vi(t),qa();break;case 5:xa(t);break;case 1:ho(t.type)&&yo(t);break;case 4:Ma(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;uo(Xo,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Gi(e,t,n):(uo(Ba,1&Ba.current),null!==(t=ns(e,t,n))?t.sibling:null);uo(Ba,1&Ba.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),uo(Ba,Ba.current),r)break;return null;case 23:case 24:return t.lanes=0,Fi(e,t,n)}return ns(e,t,n)}Li=0!=(16384&e.flags)}else Li=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=fo(t,co.current),ra(t,n),o=oi(null,t,r,e,o,n),t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ho(r)){var a=!0;yo(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ia(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&fa(t,r,s,e),o.updater=ha,t.stateNode=o,o._reactInternals=t,ya(t,r,e,n),t=Hi(null,t,r,!0,a,n)}else t.tag=0,Bi(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(a=o._init)(o._payload),t.type=o,a=t.tag=function(e){if("function"==typeof e)return Ku(e)?1:0;if(null!=e){if((e=e.$$typeof)===k)return 11;if(e===I)return 14}return 2}(o),e=Go(o,e),a){case 0:t=ji(null,t,o,e,n);break e;case 1:t=Ki(null,t,o,e,n);break e;case 11:t=Ri(null,t,o,e,n);break e;case 14:t=Ni(null,t,o,Go(o.type,e),r,n);break e}throw Error(i(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,ji(e,t,r,o=t.elementType===r?o:Go(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ki(e,t,r,o=t.elementType===r?o:Go(r,o),n);case 3:if(Vi(t),r=t.updateQueue,null===e||null===r)throw Error(i(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,sa(e,t),_a(t,r,null,n),(r=t.memoizedState.element)===o)qa(),t=ns(e,t,n);else{if((a=(o=t.stateNode).hydrate)&&(Ua=qr(t.stateNode.containerInfo.firstChild),Na=t,a=Fa=!0),a){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(a=e[o])._workInProgressVersionPrimary=e[o+1],za.push(a);for(n=Pa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Bi(e,t,r,n),qa();t=t.child}return t;case 5:return xa(t),null===e&&Ka(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,jr(r,o)?s=null:null!==a&&jr(r,a)&&(t.flags|=16),Wi(e,t),Bi(e,t,s,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return Gi(e,t,n);case 4:return Ma(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ca(t,null,r,n):Bi(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Ri(e,t,r,o=t.elementType===r?o:Go(r,o),n);case 7:return Bi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Bi(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value;var u=t.type._context;if(uo(Xo,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=sr(u,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===o.children&&!_o.current){t=ns(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&a)){1===u.tag&&((c=ua(-1,n&-n)).tag=2,la(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),na(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Bi(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(a=t.pendingProps).children,ra(t,n),r=r(o=oa(o,a.unstable_observedBits)),t.flags|=1,Bi(e,t,r,n),t.child;case 14:return a=Go(o=t.type,t.pendingProps),Ni(e,t,o,a=Go(o.type,a),r,n);case 15:return Ui(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Go(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ho(r)?(e=!0,yo(t)):e=!1,ra(t,n),va(t,r,o),ya(t,r,o,n),Hi(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return Fi(e,t,n)}throw Error(i(156,t.tag))},tl.prototype.render=function(e){Qu(e,this._internalRoot,null,null)},tl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Qu(null,e,null,(function(){t[Qr]=null}))},tt=function(e){13===e.tag&&(_u(e,4,lu()),el(e,4))},nt=function(e){13===e.tag&&(_u(e,67108864,lu()),el(e,67108864))},rt=function(e){if(13===e.tag){var t=lu(),n=cu(e);_u(e,n,t),el(e,n)}},ot=function(e,t){return t()},Oe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=no(r);if(!o)throw Error(i(90));Q(r),ne(r,o)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ie(e,!!n.multiple,t,!1)}},xe=vu,Le=function(e,t,n,r,o){var a=ks;ks|=4;try{return Vo(98,e.bind(null,t,n,r,o))}finally{0===(ks=a)&&(Vs(),zo())}},Be=function(){0==(49&ks)&&(function(){if(null!==tu){var e=tu;tu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,pu(e,jo())}))}zo()}(),Iu())},Re=function(e,t){var n=ks;ks|=2;try{return e(t)}finally{0===(ks=n)&&(Vs(),zo())}};var al={Events:[eo,to,no,Me,Ie,Iu,{current:!1}]},il={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},sl={bundleType:il.bundleType,version:il.version,rendererPackageName:il.rendererPackageName,rendererConfig:il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:il.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{wo=ul.inject(sl),bo=ul}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=al,t.createPortal=ol,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=ks;if(0!=(48&n))return e(t);ks|=1;try{if(e)return Vo(99,e.bind(null,t))}finally{ks=n,zo()}},t.hydrate=function(e,t,n){if(!nl(t))throw Error(i(200));return rl(null,e,t,!0,n)},t.render=function(e,t,n){if(!nl(t))throw Error(i(200));return rl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nl(e))throw Error(i(40));return!!e._reactRootContainer&&(gu((function(){rl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Qr]=null}))})),!0)},t.unstable_batchedUpdates=vu,t.unstable_createPortal=function(e,t){return ol(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return rl(e,t,n,!1,r)},t.version="17.0.2"},973935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(364448)},925013:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,a){for(var i,s,u=o(e),l=1;l<arguments.length;l++){for(var c in i=Object(arguments[l]))n.call(i,c)&&(u[c]=i[c]);if(t){s=t(i);for(var _=0;_<s.length;_++)r.call(i,s[_])&&(u[s[_]]=i[s[_]])}}return u}},872408:(e,t,n)=>{"use strict";var r=n(409424),o=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var _=Symbol.for;o=_("react.element"),a=_("react.portal"),t.Fragment=_("react.fragment"),t.StrictMode=_("react.strict_mode"),t.Profiler=_("react.profiler"),i=_("react.provider"),s=_("react.context"),u=_("react.forward_ref"),t.Suspense=_("react.suspense"),l=_("react.memo"),c=_("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function m(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||f}function v(){}function g(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var y=g.prototype=new v;y.constructor=g,r(y,m.prototype),y.isPureReactComponent=!0;var E={current:null},w=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function D(e,t,n){var r,a={},i=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,r)&&!b.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:o,type:e,key:i,ref:s,props:a,_owner:E.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var P=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return i=i(u=e),e=""===r?"."+T(u,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(P,"$&/")+"/"),O(i,t,n,"",(function(e){return e}))):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(P,"$&/")+"/")+e)),t.push(i)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+T(s=e[l],l);u+=O(s,t,n,c,i)}else if("function"==typeof(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),l=0;!(s=e.next()).done;)u+=O(s=s.value,t,n,c=r+T(s,l++),i);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function A(e,t,n){if(null==e)return e;var r=[],o=0;return O(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function k(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var S={current:null};function M(){var e=S.current;if(null===e)throw Error(p(321));return e}var I={ReactCurrentDispatcher:S,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(p(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var a=r({},e.props),i=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=E.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!b.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var _=0;_<c;_++)l[_]=arguments[_+2];a.children=l}return{$$typeof:o,type:e.type,key:i,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=D,t.createFactory=function(e){var t=D.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return M().useCallback(e,t)},t.useContext=function(e,t){return M().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return M().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return M().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return M().useLayoutEffect(e,t)},t.useMemo=function(e,t){return M().useMemo(e,t)},t.useReducer=function(e,t,n){return M().useReducer(e,t,n)},t.useRef=function(e){return M().useRef(e)},t.useState=function(e){return M().useState(e)},t.version="17.0.2"},667294:(e,t,n)=>{"use strict";e.exports=n(872408)},409424:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,a){for(var i,s,u=o(e),l=1;l<arguments.length;l++){for(var c in i=Object(arguments[l]))n.call(i,c)&&(u[c]=i[c]);if(t){s=t(i);for(var _=0;_<s.length;_++)r.call(i,s[_])&&(u[s[_]]=i[s[_]])}}return u}},286702:()=>{window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)}},560053:(e,t)=>{"use strict";var n,r,o,a;if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,_=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(_,0),e}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(_,0))},r=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var f=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var h=!1,m=null,v=-1,g=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,w=E.port2;E.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();y=e+g;try{m(!0,e)?w.postMessage(null):(h=!1,m=null)}catch(e){throw w.postMessage(null),e}}else h=!1},n=function(e){m=e,h||(h=!0,w.postMessage(null))},r=function(e,n){v=d((function(){e(t.unstable_now())}),n)},o=function(){p(v),v=-1}}function b(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<P(o,t)))break e;e[r]=t,e[n]=o,n=r}}function D(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var a=2*(r+1)-1,i=e[a],s=a+1,u=e[s];if(void 0!==i&&0>P(i,n))void 0!==u&&0>P(u,i)?(e[r]=u,e[s]=n,r=s):(e[r]=i,e[a]=n,r=a);else{if(!(void 0!==u&&0>P(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function P(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],O=[],A=1,k=null,S=3,M=!1,I=!1,x=!1;function L(e){for(var t=D(O);null!==t;){if(null===t.callback)C(O);else{if(!(t.startTime<=e))break;C(O),t.sortIndex=t.expirationTime,b(T,t)}t=D(O)}}function B(e){if(x=!1,L(e),!I)if(null!==D(T))I=!0,n(R);else{var t=D(O);null!==t&&r(B,t.startTime-e)}}function R(e,n){I=!1,x&&(x=!1,o()),M=!0;var a=S;try{for(L(n),k=D(T);null!==k&&(!(k.expirationTime>n)||e&&!t.unstable_shouldYield());){var i=k.callback;if("function"==typeof i){k.callback=null,S=k.priorityLevel;var s=i(k.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?k.callback=s:k===D(T)&&C(T),L(n)}else C(T);k=D(T)}if(null!==k)var u=!0;else{var l=D(O);null!==l&&r(B,l.startTime-n),u=!1}return u}finally{k=null,S=a,M=!1}}var N=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){I||M||(I=!0,n(R))},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return D(T)},t.unstable_next=function(e){switch(S){case 1:case 2:case 3:var t=3;break;default:t=S}var n=S;S=t;try{return e()}finally{S=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=N,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=S;S=e;try{return t()}finally{S=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"==typeof i&&null!==i?i="number"==typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:A++,callback:a,priorityLevel:e,startTime:i,expirationTime:u=i+u,sortIndex:-1},i>s?(e.sortIndex=i,b(O,e),null===D(T)&&e===D(O)&&(x?o():x=!0,r(B,i-s))):(e.sortIndex=u,b(T,e),I||M||(I=!0,n(R))),e},t.unstable_wrapCallback=function(e){var t=S;return function(){var n=S;S=t;try{return e.apply(this,arguments)}finally{S=n}}}},363840:(e,t,n)=>{"use strict";e.exports=n(560053)},362548:function(e,t,n){e.exports=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;var t=e((function(e,t){!function(t,n){e.exports=n()}(0,(function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function n(n,r){return r&&!0===r.clone&&e(n)?a(t(n),n,r):n}function r(t,r,o){var i=t.slice();return r.forEach((function(r,s){void 0===i[s]?i[s]=n(r,o):e(r)?i[s]=a(t[s],r,o):-1===t.indexOf(r)&&i.push(n(r,o))})),i}function o(t,r,o){var i={};return e(t)&&Object.keys(t).forEach((function(e){i[e]=n(t[e],o)})),Object.keys(r).forEach((function(s){e(r[s])&&t[s]?i[s]=a(t[s],r[s],o):i[s]=n(r[s],o)})),i}function a(e,t,a){var i=Array.isArray(t),s=(a||{arrayMerge:r}).arrayMerge||r;return i?Array.isArray(e)?s(e,t,a):n(t,a):o(e,t,a)}return a.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return a(e,n,t)}))},a}))}));function r(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).map((function(e){e(n)})),(e["*"]||[]).map((function(e){e(t,n)}))}}}var o=e((function(e,t){var n={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};t.default=n,e.exports=t.default})),a=function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")},i=o.svg,s=o.xlink,u={};u[i.name]=i.uri,u[s.name]=s.uri;var l,c=function(e,n){void 0===e&&(e="");var r=t(u,n||{});return"<svg "+a(r)+">"+e+"</svg>"},_=o.svg,d=o.xlink,p={attrs:(l={style:["position: absolute","width: 0","height: 0"].join("; "),"aria-hidden":"true"},l[_.name]=_.uri,l[d.name]=d.uri,l)},f=function(e){this.config=t(p,e||{}),this.symbols=[]};f.prototype.add=function(e){var t=this.symbols,n=this.find(e.id);return n?(t[t.indexOf(n)]=e,!1):(t.push(e),!0)},f.prototype.remove=function(e){var t=this.symbols,n=this.find(e);return!!n&&(t.splice(t.indexOf(n),1),n.destroy(),!0)},f.prototype.find=function(e){return this.symbols.filter((function(t){return t.id===e}))[0]||null},f.prototype.has=function(e){return null!==this.find(e)},f.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map((function(e){return e.stringify()})).join("");return c(t,e)},f.prototype.toString=function(){return this.stringify()},f.prototype.destroy=function(){this.symbols.forEach((function(e){return e.destroy()}))};var h=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};h.prototype.stringify=function(){return this.content},h.prototype.toString=function(){return this.stringify()},h.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var m=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},v=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return m(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(h),g={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},y=function(e){return Array.prototype.slice.call(e,0)},E={isChrome:function(){return/chrome/i.test(navigator.userAgent)},isFirefox:function(){return/firefox/i.test(navigator.userAgent)},isIE:function(){return/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)},isEdge:function(){return/edge/i.test(navigator.userAgent)}},w=function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!1,!1,t),window.dispatchEvent(n)},b=function(e){var t=[];return y(e.querySelectorAll("style")).forEach((function(e){e.textContent+="",t.push(e)})),t},D=function(e){return(e||window.location.href).split("#")[0]},C=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",(function(t,n,r){w(e,{oldUrl:r,newUrl:n})}))}])},P="linearGradient, radialGradient, pattern, mask, clipPath",T=function(e,t){return void 0===t&&(t=P),y(e.querySelectorAll("symbol")).forEach((function(e){y(e.querySelectorAll(t)).forEach((function(t){e.parentNode.insertBefore(t,e)}))})),e};function O(e,t){return y(e).reduce((function(e,n){if(!n.attributes)return e;var r=y(n.attributes),o=t?r.filter(t):r;return e.concat(o)}),[])}var A=o.xlink.uri,k="xlink:href",S=/[{}|\\\^\[\]`"<>]/g;function M(e){return e.replace(S,(function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()}))}function I(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(e,t,n){return y(e).forEach((function(e){var r=e.getAttribute(k);if(r&&0===r.indexOf(t)){var o=r.replace(t,n);e.setAttributeNS(A,k,o)}})),e}var L=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],B=L.map((function(e){return"["+e+"]"})).join(","),R=function(e,t,n,r){var o=M(n),a=M(r);O(e.querySelectorAll(B),(function(e){var t=e.localName,n=e.value;return-1!==L.indexOf(t)&&-1!==n.indexOf("url("+o)})).forEach((function(e){return e.value=e.value.replace(new RegExp(I(o),"g"),a)})),x(t,o,a)},N={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"};return function(e){function n(n){var o=this;void 0===n&&(n={}),e.call(this,t(g,n));var a=r();this._emitter=a,this.node=null;var i=this.config;if(i.autoConfigure&&this._autoConfigure(n),i.syncUrlsWithBaseTag){var s=document.getElementsByTagName("base")[0].getAttribute("href");a.on(N.MOUNT,(function(){return o.updateUrls("#",s)}))}var u=this._handleLocationChange.bind(this);this._handleLocationChange=u,i.listenLocationChangeEvent&&window.addEventListener(i.locationChangeEvent,u),i.locationChangeAngularEmitter&&C(i.locationChangeEvent),a.on(N.MOUNT,(function(e){i.moveGradientsOutsideSymbol&&T(e)})),a.on(N.SYMBOL_MOUNT,(function(e){i.moveGradientsOutsideSymbol&&T(e.parentNode),(E.isIE()||E.isEdge())&&b(e)}))}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var o={isMounted:{}};return o.isMounted.get=function(){return!!this.node},n.prototype._autoConfigure=function(e){var t=this.config;void 0===e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter=void 0!==window.angular),void 0===e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=E.isFirefox())},n.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,r=t.newUrl;this.updateUrls(n,r)},n.prototype.add=function(t){var n=this,r=e.prototype.add.call(this,t);return this.isMounted&&r&&(t.mount(n.node),this._emitter.emit(N.SYMBOL_MOUNT,t.node)),r},n.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e;return n.node=r,this.symbols.forEach((function(e){e.mount(n.node),t._emitter.emit(N.SYMBOL_MOUNT,e.node)})),y(r.querySelectorAll("symbol")).forEach((function(e){var t=v.createFromExistingNode(e);t.node=e,n.add(t)})),this._emitter.emit(N.MOUNT,r),r},n.prototype.destroy=function(){var e=this,t=e.config,n=e.symbols,r=e._emitter;n.forEach((function(e){return e.destroy()})),r.off("*"),window.removeEventListener(t.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},n.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);var n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e,o=n.render();return this.node=o,t&&r.childNodes[0]?r.insertBefore(o,r.childNodes[0]):r.appendChild(o),this._emitter.emit(N.MOUNT,o),o},n.prototype.render=function(){return m(this.stringify())},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},n.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return R(this.node,n,D(e)+"#",D(t)+"#"),!0},Object.defineProperties(n.prototype,o),n}(f)}()},887854:function(e,t,n){e.exports=function(){"use strict";var e=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var t=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n};function r(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;var o=r((function(e,t){!function(t,n){e.exports=n()}(0,(function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function n(n,r){return r&&!0===r.clone&&e(n)?a(t(n),n,r):n}function r(t,r,o){var i=t.slice();return r.forEach((function(r,s){void 0===i[s]?i[s]=n(r,o):e(r)?i[s]=a(t[s],r,o):-1===t.indexOf(r)&&i.push(n(r,o))})),i}function o(t,r,o){var i={};return e(t)&&Object.keys(t).forEach((function(e){i[e]=n(t[e],o)})),Object.keys(r).forEach((function(s){e(r[s])&&t[s]?i[s]=a(t[s],r[s],o):i[s]=n(r[s],o)})),i}function a(e,t,a){var i=Array.isArray(t),s=(a||{arrayMerge:r}).arrayMerge||r;return i?Array.isArray(e)?s(e,t,a):n(t,a):o(e,t,a)}return a.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return a(e,n,t)}))},a}))})),a=r((function(e,t){var n={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};t.default=n,e.exports=t.default})),i=function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")},s=a.svg,u=a.xlink,l={};l[s.name]=s.uri,l[u.name]=u.uri;var c=function(e,t){void 0===e&&(e="");var n=o(l,t||{});return"<svg "+i(n)+">"+e+"</svg>"};return function(e){function n(){e.apply(this,arguments)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},n.createFromExistingNode=function(e){return new n({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},n.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},n.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},n.prototype.render=function(){var e=this.stringify();return t(c(e)).childNodes[0]},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(n.prototype,r),n}(e)}()},111317:function(e){e.exports=function(){"use strict";class e{constructor(e=0,t=0){this.first=null,this.items=Object.create(null),this.last=null,this.max=e,this.size=0,this.ttl=t}has(e){return e in this.items}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(e){if(this.has(e)){const t=this.items[e];delete this.items[e],this.size--,null!==t.prev&&(t.prev.next=t.next),null!==t.next&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev)}return this}evict(){const e=this.first;return delete this.items[e.key],this.first=e.next,this.first.prev=null,this.size--,this}get(e){let t;if(this.has(e)){const n=this.items[e];this.ttl>0&&n.expiry<=(new Date).getTime()?this.delete(e):(t=n.value,this.set(e,t,!0))}return t}keys(){return Object.keys(this.items)}set(e,t,n=!1){let r;if(n||this.has(e)){if(r=this.items[e],r.value=t,!1===n&&(r.expiry=this.ttl>0?(new Date).getTime()+this.ttl:this.ttl),this.last!==r){const e=this.last,t=r.next,n=r.prev;this.first===r&&(this.first=r.next),r.next=null,r.prev=this.last,e.next=r,null!==n&&(n.next=t),null!==t&&(t.prev=n)}}else this.max>0&&this.size===this.max&&this.evict(),r=this.items[e]={expiry:this.ttl>0?(new Date).getTime()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:t},1==++this.size?this.first=r:this.last.next=r;return this.last=r,this}}return function(t=1e3,n=0){if(isNaN(t)||t<0)throw new TypeError("Invalid max value");if(isNaN(n)||n<0)throw new TypeError("Invalid ttl value");return new e(t,n)}}()},848366:(e,t,n)=>{"use strict";n.d(t,{API_VERSION:()=>s,VK_WEB_APP_ID:()=>u,makeAuthAndApiGlobal:()=>g});var r=n(570655),o=n(34004),a=n(790914),i=n(486353),s="5.133",u=6287487,l=!1,c=!1,_=!1,d=!1,p="QbYic1K3lEV5kTGiqlq2",f=function(e){c||((0,o.setLoginConfig)((0,r.__assign)({appId:u},e)),c=!0)},h=function(e,t,n,a){return c?(0,o.login)(e,t,n,a).then((function(e){return d=Boolean(e.access_token),e})).catch((function(e){if(console.error("[VKJS][AUTH]:",e),"unauthorized"===e.error&&"login_error"===e.type){var t=(0,i.partConfigEnabled)("loginvk_unauthorized_force_logout");if(console.error("[VKJS][AUTH]: logout "+(t?"enabled":"disabled")+" because ","loginvk_unauthorized_force_logout = ",t),t){(0,o.removeLoginCache)();var n=window.location.origin;return window.location.href=window.vk.loginDomain+"?act=logout&hash="+window.vk.ip_h+"&reason=tn&_origin="+n,new Promise((function(e,t){setTimeout((function(){return t("[VKJS][API]: forced logout")}),200)}))}}return(0,r.__assign)({access_token:"",error:!0},e)})):Promise.reject("[VKJS][LOGIN]: login didn't init. Use setLoginConfig function")},m=function(e){l?(0,a.setApiConfig)((0,r.__assign)({},e)):((0,a.setApiConfig)((0,r.__assign)({appId:u,version:s,onTokenExpired:function(){return h("web_token",{},{},!0).then((function(e){return e.access_token||""}))}},e)),l=!0)},v=function(e,t,n,o){if(void 0===o&&(o={}),!l)return Promise.reject("[VKJS][API]: api didn't init. Use setApiConfig function");if(!_)return h("web_token").then((function(i){_=!0,m({accessToken:i.access_token});var s=d?t:(0,r.__assign)({client_secret:p},t);return(0,a.api)(e,s,n,o)}));var i=d?t:(0,r.__assign)({client_secret:p},t);return(0,a.api)(e,i,n,o)},g=function(){window.vkApi||(window.vkApi={api:v,login:h,setLoginConfig:f,setApiConfig:m,removeLoginCache:o.removeLoginCache})}},262643:(e,t,n)=>{"use strict";n.d(t,{setLoginConfig:()=>r,setApiConfig:()=>o,api:()=>a,login:()=>i,removeLoginCache:()=>s});var r=function(e){return window.vkApi?window.vkApi.setLoginConfig(e):console.error("[VKJS]: setLoginConfig didn't allowed. Use makeAuthAndApiGlobal function")},o=function(e){return window.vkApi?window.vkApi.setApiConfig(e):console.error("[VKJS]: setApiConfig didn't allowed. Use makeAuthAndApiGlobal function")},a=function(e,t,n,r){return void 0===r&&(r={}),window.vkApi?window.vkApi.api(e,t,n,r):Promise.reject("[VKJS][API]: api didn't allowed. Use makeAuthAndApiGlobal function")},i=function(e,t,n,r){return window.vkApi?window.vkApi.login(e,t,n,r):Promise.reject("[VKJS]: login didn't allowed. Use makeAuthAndApiGlobal function")},s=function(e,t){return window.vkApi?window.vkApi.removeLoginCache(e,t):console.error("[VKJS]: removeLoginCache didn't allowed. Use makeAuthAndApiGlobal function")}},434220:(e,t,n)=>{"use strict";n.d(t,{AudioHlsNode:()=>c});var r=n(570655),o=n(176663),a=n(282312),i=n(780781),s=n(163705),u=n(422124),l=n(651988),c=function(){function e(e,t){var n=this;this.fullyLoaded=!1,this.url="",this.audioElement=new Audio,this.audioElement.crossOrigin="anonymous",this.audioElement.preload="auto",this.volume=e.volume,this.addEventListeners(e),t&&this.setUrl(t).then((function(){n.audioElement.load()}));var r=new i.NetworkStatCollector;this.audioNetworkStatCollector=new i.AudioNetworkStatCollector(r)}return Object.defineProperty(e.prototype,"isFullyLoaded",{get:function(){return this.fullyLoaded},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this.audioElement.error||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"played",{get:function(){return this.audioElement.played},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"src",{get:function(){return this.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hls",{get:function(){return this.hlsInstance||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return isFinite(this.audioElement.duration)?this.audioElement.duration:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this.audioElement.readyState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this.audioElement.currentTime},set:function(e){this.audioElement.currentTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.audioElement.volume},set:function(e){this.audioElement.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playbackRate",{set:function(e){this.audioElement.playbackRate=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentProgress",{get:function(){return isNaN(this.audioElement.duration)?0:Math.max(0,Math.min(1,this.audioElement.currentTime/this.audioElement.duration))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentBuffered",{get:function(){return this.audioElement.buffered.length?Math.min(1,this.audioElement.buffered.end(0)/this.audioElement.duration):0},enumerable:!1,configurable:!0}),e.prototype.play=function(){return(0,u.wrapAudioPlay)(this.audioElement).catch((function(e){switch(e.code){case e.NOT_SUPPORTED_ERR:case e.ABORT_ERR:break;default:throw e}}))},e.prototype.pause=function(){this.audioElement.pause()},e.prototype.addEventListeners=function(e){var t=this;this.audioElement.addEventListener("pause",(function(){return e.onPause()})),this.audioElement.addEventListener("play",(function(){return e.onPlay()})),this.audioElement.addEventListener("progress",(function(){if(e.onBufferUpdate(),!t.hlsInstance){var n=t.audioElement.buffered;n.length&&Math.abs(n.end(n.length-1)-t.audioElement.duration)<1&&(t.fullyLoaded=!0)}})),this.audioElement.addEventListener("timeupdate",(function(){e.onProgressUpdate&&e.onProgressUpdate()})),this.audioElement.addEventListener("ended",(function(){e.onEnd&&e.onEnd()})),this.onFail=e.onFail||function(){},this.audioElement.addEventListener("error",(function(){t.onFail()})),this.audioElement.addEventListener("canplay",(function(){e.onCanPlay&&e.onCanPlay()})),this.audioElement.addEventListener("durationchange",(function(){e.onDurationChange&&e.onDurationChange()}))},e.isHlsUrl=function(e){return(0,o.audioUnmaskSource)(e).includes(".m3u8")},e.prototype.setUrl=function(t){var n=this,r=(0,o.audioUnmaskSource)(t);return this.url=r,e.isHlsUrl(r)&&!e.shouldUseNativeHls()&&"function"==typeof window.MediaSource?this.initHls(r).catch((function(){return n.onFail()})):(this.hlsInstance&&this.hlsInstance.destroy(),this.audioElement.src=r,this.audioElement.load(),Promise.resolve())},e.shouldUseNativeHls=function(){var e=(0,r.__read)(window.browser.version.split("."),1)[0],t=parseInt(e);return window.browser.safari||window.browser.msie_edge&&t>11&&t<78},e.prototype.initHls=function(t){var n=this;return e.loadHls().then((function(e){var o=e.default;return new Promise((function(e){var u=!1,c=!!l.default.get("_audio_hls_debug");n.hlsInstance&&n.hlsInstance.destroy();var _=new o({debug:c,maxBufferHole:3,nudgeOffset:.5,nudgeMaxRetry:5,maxFragLookUpTolerance:.2});_.on(o.Events.BUFFER_EOS,(function(){return n.fullyLoaded=!0})),_.on(o.Events.ERROR,(function(e,t){t.details===o.ErrorDetails.BUFFER_STALLED_ERROR&&(u=!0),(c||t.fatal)&&console.log("audio hls error",e,t),t.details===o.ErrorDetails.BUFFER_STALLED_ERROR&&(_.stopLoad(),_.startLoad()),t.fatal&&n.onFail({type:t.type,details:t.details,url:t.frag&&t.frag.url||t.context&&t.context.url,code:t.networkDetails?t.networkDetails.status:0})})),_.on(o.Events.FRAG_BUFFERED,(function(e,t){var o=(0,a.getCurrentAudio)(),l={owner_id:o.ownerId,audio_id:o.id,fragment_id:t.frag.sn.toString(),fragment_duration:Math.ceil(1e3*t.frag.duration).toString(),time_to_first_byte:Math.ceil(t.stats.tfirst-t.stats.trequest).toString(),time_to_first_frame:Math.ceil(t.stats.tload-t.stats.trequest).toString(),buffering_time:Math.ceil(t.stats.tbuffered-t.stats.trequest).toString()};u&&n.audioNetworkStatCollector.logEvent((0,r.__assign)((0,r.__assign)({},l),{event_type:i.AudioNetworkType.FRAGMENT_STALLED}),s.default.getConnectionType(),s.default.getConnectionEffectiveType()),u=!1,n.audioNetworkStatCollector.logEvent((0,r.__assign)((0,r.__assign)({},l),{event_type:i.AudioNetworkType.FRAGMENT_LOADED}),s.default.getConnectionType(),s.default.getConnectionEffectiveType())})),_.loadSource(t),_.attachMedia(n.audioElement),n.hlsInstance=_,e()}))}))},e.loadHls=function(){return n.e(4817).then(n.t.bind(n,867631,23))},e}()},203793:(e,t,n)=>{"use strict";n.d(t,{TaskName:()=>r,AudioTaskManager:()=>a});var r,o=n(767334);!function(e){e.URL="url",e.PLAYBACK_RATE="playback_rate",e.DELAY="delay",e.SEEK="seek",e.PAUSE="pause",e.PLAY="play",e.VOL_SET="vol_set",e.VOL_UP="vol_up",e.VOL_DOWN="vol_down"}(r||(r={}));var a=function(){function e(e){this.impl=e,this.taskIDCounter=1,this.tasks=[],this.taskInProgress=null,this.taskAbort=null}return e.prototype.newTask=function(e,t){var n,r,o=new Promise((function(e,t){n=e,r=t}));return this.tasks.push({name:e,fn:function(){return t().then(n).catch(r)},id:e+"_"+this.taskIDCounter++}),this.doTasks(),o},e.prototype.clearAllTasks=function(){this.taskAbort=this.taskInProgress,this.taskInProgress=null,this.tasks=[]},e.prototype.clearTask=function(e){this.tasks=this.tasks||[],this.tasks=this.tasks.filter((function(t){return t.name!==e}))},e.prototype.doTasks=function(){var e=this;if(!this.taskInProgress){var t=this.tasks.shift();t&&(this.taskInProgress=t.id,this.ensureImplReady().then((function(){return t.fn()})).then((function(){e.taskAbort!==t.id?(e.taskInProgress=null,e.doTasks()):e.taskAbort=null})))}},e.prototype.ensureImplReady=function(){var e=this;return new Promise((function(t){return e.impl.onReady(t)}))},e.prototype.delay=function(e){return this.newTask(r.DELAY,(function(){return new Promise((function(t){return(0,o.setWorkerTimeout)(t,e)}))}))},e.prototype.setUrl=function(e){var t=this;return this.newTask(r.URL,(function(){return new Promise((function(n){return t.impl.setUrl(e,n)}))}))},e.prototype.seekImmediate=function(e){this.impl.seek(e)},e.prototype.seek=function(e){var t=this;return this.clearTask(r.SEEK),this.newTask(r.SEEK,(function(){return new Promise((function(n){t.seekImmediate(e),n()}))}))},e.prototype.pause=function(){var e=this;return this.newTask(r.PAUSE,(function(){return new Promise((function(t){e.impl.pause(),t()}))}))},e.prototype.play=function(){var e=this;return window.browser.safari&&this.impl.play(),this.newTask(r.PLAY,(function(){return new Promise((function(t,n){e.impl.play().then(t).catch(n)}))}))},e.prototype.setVolume=function(e,t,n){var o=this;if(void 0===n&&(n=null),t){var a=e?r.VOL_UP:r.VOL_DOWN;return this.newTask(a,(function(){return new Promise((function(t){return o.impl.fadeVolume(e,n,(function(){return t()}))}))}))}return this.newTask(r.VOL_SET,(function(){return new Promise((function(t){o.impl.setVolume(e),t()}))}))},e.prototype.updatePlaybackRate=function(e){var t=this;return this.newTask(r.PLAYBACK_RATE,(function(){return new Promise((function(n){t.impl.setPlaybackRate(e),n()}))}))},e}()},951242:(e,t,n)=>{"use strict";n.d(t,{EventBus:()=>o});var r=n(570655),o=function(){function e(){this.subscriptions={}}return e.prototype.subscribe=function(e,t){var n=this;return Array.isArray(e)&&e.forEach((function(e){return n.subscribe(e,t)})),this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(t),{unsubscribe:function(){return n.unsubscribe(e,t)}}},e.prototype.unsubscribe=function(e,t){if(this.subscriptions[e]){var n=this.subscriptions[e].indexOf(t);n>=0&&this.subscriptions[e].splice(n,1)}},e.prototype.emit=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.precheck&&!this.precheck.apply(this,(0,r.__spreadArray)([e],(0,r.__read)(n)))||(this.onAnyCallBack&&setTimeout((function(){return t.onAnyCallBack.apply(t,(0,r.__spreadArray)([e],(0,r.__read)(n)))})),this.subscriptions[e]&&this.subscriptions[e].forEach((function(e){return setTimeout((function(){return e.apply(void 0,(0,r.__spreadArray)([],(0,r.__read)(n)))}))})))},e}()},240852:(e,t,n)=>{"use strict";n.d(t,{QueueListener:()=>r});var r=function(e){this.queueHandler=e}},340975:(e,t,n)=>{"use strict";function r(e){var t={};return e&&e.length&&e.filter((function(e){return!!e})).map((function(e){return e.queues&&e.queues[0]})).forEach((function(e){return t[e.type]=e})),t}n.d(t,{unpackQueues:()=>r})},275951:(e,t,n)=>{"use strict";n.d(t,{logDonutEvent:()=>i});var r=n(980400),o=n(136471),a=n(920453);function i(e,t){var n=(0,a.parseJSON)(e),i=n.type,s=n.type_property,u=n.params;s===o.ActionProductionStatEventTypes.TYPE_DONUT_PAYMENT_ITEM?r.donutStats.logEventAction({event_type:u.event_type,source:u.source,owner_id:u.owner_id}):t&&i===o.ProductionStatEventTypes.TYPE_NAVGO&&function(e,t){var n=t.params;if(t.typeProperty===o.NavigationProductionStatEventTypes.TYPE_DONUT_DESCRIPTION_NAV_ITEM){var a=n.owner_id,i=n.track_code;if(!n||"number"!=typeof a||"string"!=typeof i)return;r.donutStats.logEventDescriptionClick({ownerId:a,trackCode:i})}}(0,{typeProperty:s,params:u})}},980400:(e,t,n)=>{"use strict";n.d(t,{donutStats:()=>s});var r=n(570655),o=n(76238),a=n(136471),i=n(422402),s=new(function(){function e(){this.productionStatCollector=new o.ProductionStatCollector,this.actionStatCollector=new o.ActionStatCollector(this.productionStatCollector),this.navStatCollector=new o.NavigationStatCollector(this.productionStatCollector)}return e.prototype.logEventAction=function(t){return this.actionStatCollector.logEvent(e.createDonutActionStatEvent(t))},e.prototype.logEventActionView=function(e){return this.logEventAction((0,r.__assign)((0,r.__assign)({},e),{event_type:i.DonutActionEventType.PAYMENT_FORM}))},e.prototype.logEventDescriptionClick=function(t){this.navStatCollector.logEvent((0,r.__assign)((0,r.__assign)({},e.createNavStatEventBase()),e.createDescriptionClickStatEvent(t)))},e.createDonutActionStatEvent=function(e){var t;return(t={type:a.ActionProductionStatEventTypes.TYPE_DONUT_PAYMENT_ITEM})[a.ActionProductionStatEventTypes.TYPE_DONUT_PAYMENT_ITEM]=e,t},e.createNavStatEventBase=function(){return{screen:"wall",subtype:a.NavigationProductionStatEventTypes.GO}},e.createDescriptionClickStatEvent=function(t){var n;return(n={item:e.processClickParamsToEventItem(t),type:a.NavigationProductionStatEventTypes.TYPE_DONUT_DESCRIPTION_NAV_ITEM})[a.NavigationProductionStatEventTypes.TYPE_DONUT_DESCRIPTION_NAV_ITEM]={},n},e.processClickParamsToEventItem=function(e){return{type:a.EventItemType.BROWSER,owner_id:e.ownerId,track_code:e.trackCode}},e}())},72209:(e,t,n)=>{"use strict";n.d(t,{TaskQueue:()=>s});var r,o=n(570655),a=n(194795),i=n.n(a);!function(e){e.EV_GC_START="ev_gc_start",e.EV_GC_END="ev_gc_end",e.EV_PAUSED="ev_paused",e.EV_RESTARTED="ev_restarted",e.EV_NEW_HANDLER="ev_new_handler",e.EV_RM_HANDLER="ev_rm_handler",e.EV_TASK_START="ev_task_start"}(r||(r={}));var s=function(){function e(e){var t=this;void 0===e&&(e=function(){}),this._errorHandler=e,this._timerInterval=15,this._handlers=Object.create(null),this._emitter=new(i()),this._q=[],this.destroy=function(){t.pause(),clearInterval(t._gcTimer)},this.pause=function(){t._timer&&(clearTimeout(t._timer),t._timer=void 0,t._emitter.emit(r.EV_PAUSED))},this.restart=function(){t._timer||(t._next(),t._emitter.emit(r.EV_RESTARTED))},this.push=function(e){t._q.push(e),t.restart()},this.setHandler=function(e,n,o){void 0===o&&(o=!1),n.once=o,t._handlers[e]=n,t._emitter.emit(r.EV_NEW_HANDLER,e)},this.removeHandler=function(e){delete t._handlers[e],t._emitter.emit(r.EV_RM_HANDLER,e)},this._next()}return Object.defineProperty(e.prototype,"events",{get:function(){return this._emitter},enumerable:!1,configurable:!0}),e.migrate=function(t,n){void 0===n&&(n=function(){});var r=new e(n);return r.pause(),t&&t.destroy&&t._handlers&&t._q&&(t.destroy(),Object.keys(t._handlers).forEach((function(e){var n=t._handlers[e];r.setHandler(e,n,n.once)})),t._q.forEach((function(e){return r.push(e)}))),r.restart(),r},e.prototype.setupGc=function(t){this._gcTimer&&clearInterval(this._gcTimer),this._gcTimer=setInterval(this._gcTask.bind(this),t||e._gcDefaultInterval)},e.prototype._next=function(e){void 0===e&&(e=!1),this._timer=setTimeout(this._processNext.bind(this),e?0:this._timerInterval)},e.prototype._gcTask=function(){this.pause(),this._emitter.emit(r.EV_GC_START);var e=this._q.filter((function(e){return e.postponed}));this._q=this._q.filter((function(e){return!e.postponed})),this._emitter.emit(r.EV_GC_END,e),this.restart()},e.prototype._processNext=function(){var e=this,t=(0,o.__read)(this._q.splice(0,1),1)[0];if(t){var n,a=this._handlers[t.selector];if((null==a?void 0:a.once)&&this.removeHandler(t.selector),!a)return t.postponed||(t.postponed=!0),this._q.push(t),void(this._timer&&this._next());this._emitter.emit(r.EV_TASK_START,t.selector),window._tqVerbose&&console.info("Running evbus task",t.selector);try{n=Promise.resolve(a(t))}catch(e){n=Promise.reject(e)}n.then((function(){e._next(!0)}),(function(n){e._errorHandler&&e._errorHandler(t,n),e._next(!0)}))}else this.pause()},e._gcDefaultInterval=5e3,e}()},128533:(e,t,n)=>{"use strict";n.d(t,{init:()=>r.init,tq:()=>r.tq,processExecData:()=>o.processExecData});var r=n(957542),o=n(946333)},957542:(e,t,n)=>{"use strict";n.d(t,{init:()=>c,tq:()=>d,tqi:()=>p,tqs:()=>f});var r=n(72209),o=n(946333),a=n(611386),i=function(e,t){var n={message:"Task execution error",data:{taskName:e.selector,type:void 0===e.payload.dataAttrs?"startup_task":"interactive_task",params:JSON.stringify(void 0===e.payload.dataAttrs?e.payload.data:e.payload.dataAttrs)}};(0,a.logError)(t,{environment:"task_queue",breadcrumb:n}),console.error(t)},s=function(){if(!document.head)throw new Error("Document must be loaded before queue init");return document.head},u=function(e){document.addEventListener("DOMContentLoaded",e),"interactive"!==document.readyState&&"complete"!==document.readyState||e()},l=function(){return u((function(){(0,o.unregisterGlobalTqHandlers)(document.body,s()._tqhl),s()._tqhl=(0,o.registerGlobalTqHandlers)(document.body)}))},c=function(){var e=s();e._tq?(e._tqi=r.TaskQueue.migrate(e._tqi,i),e._tqs=r.TaskQueue.migrate(e._tqs,i),l()):function(){var e=s();e._tqs=new r.TaskQueue(i),e._tqi=new r.TaskQueue(i),l(),e._tq={setInteractiveHandler:function(t,n,r){return void 0===r&&(r=!1),e._tqi.setHandler(t,n,r)},setStartupHandler:function(t,n,r){void 0===r&&(r=!1),e._tqs.setHandler(t,n,r),u((function(){e._tqs.setupGc(),e._tqs.restart()}))}},u((function(){e._tqi.setupGc(),(0,o.initMutationObserver)(),(0,o.processTreeOfNodes)(document)})),(0,o.registerCommonEvents)()}()},_=function(e){return function(){var t=s();if(!t["_"+e])throw new Error(e+" not initialized");return t["_"+e]}},d=_("tq"),p=_("tqi"),f=_("tqs")},946333:(e,t,n)=>{"use strict";n.d(t,{processExecData:()=>u,processTreeOfNodes:()=>_,initMutationObserver:()=>d,registerCommonEvents:()=>p,registerGlobalTqHandlers:()=>f,unregisterGlobalTqHandlers:()=>h});var r=n(570655),o=n(957542),a={click:1,mouseover:1,mouseout:1,keyup:1,keydown:1,change:1,paste:1},i=["focus"],s=function(e){return function(t){var n;if(t.type===e&&t.target&&e&&(n=t.target.nodeType===Node.TEXT_NODE?t.target.parentNode:t.target,r=n,!Object.keys(r).some((function(e){return e.startsWith("_react")||e.startsWith("__react")}))&&n.dataset)){var r,a=n.dataset["task"+(e.toUpperCase()[0]+e.slice(1))];if(!a){if("click"!==t.type)return;var i=n.closest("[data-task-click]");if(!i)return;n=i,a=i.dataset["task"+(e.toUpperCase()[0]+e.slice(1))]}return a&&((0,o.tqi)().push({selector:a,payload:{target:n,dataAttrs:n.dataset,event:t},postponed:!1,createTime:Date.now()}),n.dataset.prevent)?(t.preventDefault(),!1):void 0}}},u=function(e,t){var n={};try{n=JSON.parse(e)}catch(t){console.error("Failed to parse JSON: ",e)}for(var r in n)n.hasOwnProperty(r)&&(0,o.tqs)().push({selector:r,payload:{target:t,data:n[r]},postponed:!1,createTime:Date.now()})},l=function(e){if(e.matches("[data-exec]")){var t=e.dataset.exec||"{}";e.removeAttribute("data-exec"),u(t,e)}},c=function(e){var t,n,a,s=function(t){var n="data-task-"+t;if(e.hasAttribute(n)){var r=null!==(a=e.getAttribute(n))&&void 0!==a?a:"";e.removeAttribute(n),e.addEventListener(t,(function(t){var n=(0,o.tqi)()._handlers[r];Promise.resolve(null).then((function(){return null==n?void 0:n({selector:r,payload:{dataAttrs:{},target:e,event:t},postponed:!1,createTime:Date.now()})})).catch((function(e){return console.error(e)}))}))}};try{for(var u=(0,r.__values)(i),l=u.next();!l.done;l=u.next()){s(l.value)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}},_=function(e){var t,n,o,a,s,u;void 0===e&&(e=document);try{for(var _=(0,r.__values)(e.querySelectorAll("[data-exec]")),d=_.next();!d.done;d=_.next()){((g=d.value)instanceof HTMLElement||g instanceof SVGElement)&&l(g)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=_.return)&&n.call(_)}finally{if(t)throw t.error}}try{for(var p=(0,r.__values)(i),f=p.next();!f.done;f=p.next()){var h=f.value;try{for(var m=(s=void 0,(0,r.__values)(e.querySelectorAll("[data-task-"+h+"]"))),v=m.next();!v.done;v=m.next()){var g;((g=v.value)instanceof HTMLElement||g instanceof SVGElement)&&c(g)}}catch(e){s={error:e}}finally{try{v&&!v.done&&(u=m.return)&&u.call(m)}finally{if(s)throw s.error}}}}catch(e){o={error:e}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}},d=function(){window._obs=new MutationObserver((function(e){var t,n,o,a;try{for(var i=(0,r.__values)(e),s=i.next();!s.done;s=i.next()){var u=s.value;try{for(var d=(o=void 0,(0,r.__values)(u.addedNodes)),p=d.next();!p.done;p=d.next()){var f=p.value;(f instanceof HTMLElement||f instanceof SVGElement)&&(l(f),c(f),_(f))}}catch(e){o={error:e}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}})),window._obs.observe(document,{subtree:!0,childList:!0,attributes:!0})},p=function(){(0,o.tqi)().setHandler("Common/nav_go",(function(e){var t,n;(null===(t=e.payload.event)||void 0===t?void 0:t.target)&&window.nav.go(e.payload.event.target,e.payload.event,JSON.parse((null===(n=e.payload.dataAttrs)||void 0===n?void 0:n.options)||"{}"))}),!1),(0,o.tqi)().setHandler("Common/cur_box_hide",(function(){var e,t,n=null===(e=window._message_boxes)||void 0===e?void 0:e[null===(t=window.boxQueue)||void 0===t?void 0:t.curBox],r=(null==n?void 0:n.isVisible())?n:null;null==r||r.hide()}),!1)},f=function(e){var t={};for(var n in a)if(a.hasOwnProperty(n)){var r=s(n);e.addEventListener(n,r),t[n]=r}return t},h=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.removeEventListener(n,t[n])}},668660:(e,t,n)=>{"use strict";n.d(t,{post:()=>a,plaingetCancelable:()=>i});var r=n(570655),o=n(182408);function a(e,t,n){return t&&(t.im_v=3),new Promise((function(o,a){window.ajax.post(e,t,{timeout:n,onDone:function(){o.apply(null,[(0,r.__spreadArray)([],(0,r.__read)(arguments))])},onFail:function(){return a.apply(null,(0,r.__spreadArray)([],(0,r.__read)(arguments))),!0}})}))}function i(e,t,n){void 0===n&&(n={});var r=new XMLHttpRequest;return{request:new Promise((function(a,i){var s,u=Date.now(),l=n.timeout||60,c=(0,o.toQueryString)(t);r.onreadystatechange=function(){4==r.readyState&&(window.clearInterval(s),r.status>=200&&r.status<300?a([r.responseText,r]):i([r.responseText,r]))};try{r.open("GET",e+"?"+c,!0)}catch(e){return i([e,r])}r.send(),s=window.setInterval((function(){Date.now()-u>1e3*l&&(window.browser.safari&&r.abort(),i(["",{}]),window.clearInterval(s))}),1e3)})),cancel:function(){r.abort()}}}},229804:(e,t,n)=>{"use strict";n.d(t,{ColorSchemeMode:()=>r,ColorScheme:()=>u,colorScheme:()=>s});var r,o,a=n(427813),i=n(736557);!function(e){e.Light="light",e.Dark="dark",e.Auto="auto"}(r||(r={})),function(e){e.Dark="space_gray",e.Light="bright_light"}(o||(o={}));var s,u=function(){function e(){this.currentMode="",this.subscribers=[],this.initSubscribers=[],this.isExecuted=!1,this.isModeSavingAllowed=!0,this.isSchemeSavingAllowed=!0}return e.prototype.init=function(t){var n=this;this.isExecuted||(this.schemesMap=t.schemesMap,this.setMode(t.mode),this.initSubscribers.forEach((function(e){e()})),e.isSchemesAutoSwitchingSupported()&&(window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(e){n.currentMode===r.Auto&&n.setScheme(e.matches)})),this.isExecuted=!0))},e.prototype.setScheme=function(t){e.isSchemesSupported()&&(this.applyScheme(document.body,t?o.Dark:o.Light),this.currentIsDark=t,this.isSchemeSavingAllowed&&(0,a.setCookie)("remixdark_color_scheme",Number(t),365),this.subscribers.forEach((function(e){e()})))},e.prototype.isDarkScheme=function(){return this.currentIsDark},e.prototype.getMode=function(){return this.currentMode},e.prototype.setMode=function(t){this.currentMode=t;var n=!1;switch(t){case r.Light:n=!1;break;case r.Dark:n=!0;break;case r.Auto:if(e.isSchemesAutoSwitchingSupported())n=window.matchMedia("(prefers-color-scheme: dark)").matches}this.setScheme(n),this.isModeSavingAllowed&&(0,a.setCookie)("remixcolor_scheme_mode",t,365)},e.prototype.applyScheme=function(e,t){var n,r=(null===(n=this.schemesMap)||void 0===n?void 0:n[t])||t;e.setAttribute("scheme",r)},e.prototype.subscribe=function(e){var t=this;return this.subscribers.push(e),function(){t.subscribers=t.subscribers.filter((function(t){return e!==t}))}},e.prototype.onInit=function(e){var t=this;return this.initSubscribers.push(e),function(){t.initSubscribers=t.initSubscribers.filter((function(t){return e!==t}))}},e.isSchemesSupported=function(){return(!(0,i.isMvk)()||window.isNewMail)&&window.CSS&&CSS.supports&&CSS.supports("color","var(--custom-property)")},e.isSchemesAutoSwitchingSupported=function(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme)").matches},e}();s=window.colorScheme?window.colorScheme:new u,window.colorScheme=s,window.isSchemesSupported=u.isSchemesSupported.bind(null)},947992:(e,t,n)=>{"use strict";function r(e){return navigator.clipboard?function(e){return navigator.clipboard.writeText(e)}(e):(o(e),Promise.resolve())}function o(e){var t=document.createElement("input"),n=document.activeElement;t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),n.focus()}n.d(t,{copyToClipboard:()=>r,_copyWithFakeElement:()=>o})},712459:(e,t,n)=>{"use strict";function r(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function o(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}function a(e){var t=e.getBoundingClientRect();return{left:t.left,top:t.top}}function i(){var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function s(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return n&&r?{width:n,height:r}:{width:e.offsetWidth,height:e.offsetHeight}}n.d(t,{createElementFromHTML:()=>r,emptyNode:()=>o,getElementOffset:()=>a,getViewportSize:()=>i,getElementSize:()=>s,getJsonDataValue:()=>u,setGlobalCustomProperty:()=>l});var u=function(e,t){var n=e.getAttribute(t);if(n)try{return JSON.parse(n)}catch(e){return}},l=function(e,t){document.documentElement.style.setProperty(e,t)}},89722:(e,t,n)=>{"use strict";n.d(t,{logError:()=>a,logEvalError:()=>i,debugBufferLog:()=>s});var r=n(598609),o=n(785124);function a(e,t){if(void 0===t&&(t={}),null===window||void 0===window?void 0:window.Raven){var n=t.breadcrumb,a=t.environment;n&&window.Raven.captureBreadcrumb({message:n.message,category:o.customBreadcrumbCategory,data:n.data}),a?window.Raven.captureException(e,{environment:a}):window.Raven.captureException(e),(0,r.logError)(e,t)}}function i(e,t){window.Raven&&(t&&t.length>2e3&&(t=t.slice(0,1e3)+"..."+t.slice(-1e3)),e.message+=": "+t,a(e))}function s(e){return a(e,{environment:"debugLog"})}},2013:(e,t,n)=>{"use strict";n.d(t,{isStuckError:()=>h,pruneRequestFromStuckErrors:()=>m});var r,o,a=n(570655),i=n(486353),s=n(736726),u=n(742604),l="mvk"===(null===(o=null===(r=window.vk)||void 0===r?void 0:r.statsMeta)||void 0===o?void 0:o.platform)&&(0,i.partConfigEnabled)("mute_mvk_err_peaks"),c=n(111317),_=10,d=l&&c(_),p=l&&c(_,5e3),f=function(e){var t=e.value,n=e.stacktrace,r=e.file,o=e.page;return[t,n.join(""),r,o].join("_")},h=function(e){if(!l||!p||!d)return!1;var t=f(e),n=(0,a.__read)([d.get(t)||0,p.get(t)||0],2),r=n[0],o=n[1];return d.set(t,++r),p.set(t,++o),o>=_||r>=50},m=l?function(e){var t,n,r=Date.now(),o="jsErrorLogs",i=(0,s.getWebStatsStringValue)(o,e);if(((null===(t=i.match(new RegExp("},{","g")))||void 0===t?void 0:t.length)||0)<_)return e;try{n=JSON.parse(i)}catch(e){(0,u.logProcessingTime)(1,"dedupe-fail")}if(!n)return e;var l=Object.values(n.reduce((function(e,t){var n,r=f(t),o=e[r]||[];return(0,a.__assign)((0,a.__assign)({},e),((n={})[r]=o.length<_?o.concat(t):o,n))}),{})),c=e.replace('"jsErrorLogs":'+i,'"jsErrorLogs":'+JSON.stringify([].concat.apply([],l))),d=Date.now()-r;return d>16&&(0,u.logProcessingTime)(d,"dedupe"),c}:function(e){return e}},611386:(e,t,n)=>{"use strict";n.d(t,{prepareError:()=>r.prepareError,getRavenXhrTransport:()=>o.getRavenXhrTransport,logError:()=>a.logError,debugBufferLog:()=>a.debugBufferLog,logEvalError:()=>a.logEvalError});var r=n(920066),o=n(901479),a=n(89722)},920066:(e,t,n)=>{"use strict";function r(e,t){var n=e.exception&&e.exception.values[0]||{type:"Message",value:e.message+o(e),stacktrace:e.stacktrace||{frames:[]}};"Error"===n.type&&n.value.startsWith("Non-Error exception captured with keys:")&&(n.value+=o(e)),!n.value&&e.message&&(n.value=e.message);var r=n.type,s=n.value,u=n.stacktrace,l=window.location,c=l.origin,_=l.protocol,d=l.hostname,p=l.port,f=l.href;p=p?":"+p:"",c=c||_+"//"+d+p;var h=e.environment,m=e.transaction,v=e.breadcrumbs;return{id:e.event_id,module:h||t(m,u,s),type:r,value:s,file:m,breadcrumbs:a(v),stacktrace:i(u,c),page:f,release:window.vk.rv,time:window.vk.ts+Math.floor(((new Date).getTime()-window.vk.started)/1e3)}}function o(e){return e.extra&&e.extra.__serialized__?"\n"+JSON.stringify(e.extra.__serialized__).slice(0,500):""}function a(e){if(!e||!e.values||0===e.values.length)return"";var t=e.values[0],n=t.data,r=t.category,o=t.message;return"xhr"===r?n.method+":"+n.status_code+":"+n.url:"custom"===r?o+":"+JSON.stringify(n):""}function i(e,t){var n=[];return e.frames.forEach((function(e,r){0===r&&(e.filename.includes("raven_logger.js")||e.filename.includes("raven.js"))||n.push(e.filename.replace(t,"")+":"+e.lineno+":"+e.colno+":"+e.function)})),n}n.d(t,{prepareError:()=>r})},901479:(e,t,n)=>{"use strict";n.d(t,{getRavenXhrTransport:()=>a});var r=n(124961),o=n(2013),a=function(e){return function(t){var n=t.data,a=t.onSuccess,i=e(n);!(0,o.isStuckError)(i)&&(0,r.saveJsErrorLogs)(i),a()}}},240469:(e,t,n)=>{"use strict";n.d(t,{NarrativeAnalyticEventType:()=>r,NarrativeAnalyticNavScreen:()=>o,sendNarrativeAnalytic:()=>s});var r,o,a=n(986900),i=n(486353);function s(e,t,n){var r;void 0===n&&(n=o.other);var s=(null==t?void 0:t.title)||void 0,u=(null==t?void 0:t.customCover)?0:(null==t?void 0:t.coverStoryId)||0,l=(null==t?void 0:t.id)||0,c=(null==t?void 0:t.ownerId)||0,_=null===(r=null==t?void 0:t.stories)||void 0===r?void 0:r.map((function(e){return e.id})),d={event_type:e,nav_screen:n,narrative_owner_id:c,narrative_id:l,narrative_title:s,story_ids:(null==_?void 0:_.length)?_:void 0,cover_story_id:u};(0,a.statlogsValueEvent)("narrative_product_analytic",d),(0,i.partConfigEnabled)("narratives_web_analytic_debug")&&console.log("-- narrative analytic",d)}!function(e){e.clickToAddToNarrative="click_to_add_to_narrative",e.addStoryToNarrative="add_story_to_narrative",e.openNarrativeList="open_narrative_list",e.close="close",e.changeSort="change_sort",e.publishNarrative="publish_narrative",e.createNarrative="create_narrative",e.deleteNarrative="delete_narrative",e.clickToEditNarrative="click_to_edit_narrative",e.editNarrative="edit_narrative",e.addToBookmarks="add_to_bookmarks",e.shareNarrative="share_narrative",e.seeMore="see_more",e.addToNarrativeFromActionSheet="add_to_narrative_from_action_sheet"}(r||(r={})),function(e){e.storyArchive="story_archive",e.storyViewer="story_viewer",e.profile="profile",e.feedBlock="narratives_feed_block",e.club="club",e.other="other"}(o||(o={}))},920453:(e,t,n)=>{"use strict";n.d(t,{parseJSON:()=>a});var r=n(611386),o=n(785124);function a(e){try{return JSON.parse(e)}catch(n){var t={environment:"parseJsonError",breadcrumb:{message:"Uncaught json parse error",data:{json:e},category:o.customBreadcrumbCategory}};return(0,r.logError)(n,t),{}}}},663197:(e,t,n)=>{"use strict";function r(e,t){var n,r=t.timeout,o=t.onLoad,a=t.onError,i=document.createElement("script");function s(){i.readyState&&"loaded"!==i.readyState&&"complete"!==i.readyState||(l(),o&&o())}function u(){l(),a&&a()}function l(){clearTimeout(n),i.removeEventListener("load",s),i.removeEventListener("readystatechange",s),i.removeEventListener("error",u)}return i.addEventListener("load",s),i.addEventListener("readystatechange",s),i.addEventListener("error",u),i.src=e,document.head.appendChild(i),r&&(n=setTimeout(u,r)),{destroy:function(){l()}}}n.d(t,{loadScript:()=>r})},785124:(e,t,n)=>{"use strict";n.d(t,{errorEventNames:()=>o,filenameToVkModule:()=>a,commonIgnoreErrors:()=>i,PROTECTED_MODULE_NAME_TAG:()=>s,topErrorModuleName:()=>u,customBreadcrumbCategory:()=>l,anonymousName:()=>c,nativeCode:()=>_});var r=n(130360),o={0:"common_type_error",1:"static_load_error",3:"ajax_bad_response",4:"ajax_error_code",5:"ajax_parse_error",6:"nav_go_script_error",7:"eval_box_script_error",8:"eval_frame_script_error",100:"root_al_server_error",101:"html_audio_load_error",102:"photo_upload_error",103:"show_box_script_error"},a={"bundles/fastchat_reforged":"messenger","bundles/audioplayer":"audioplayer","web/imn":"im","web/stories":"stories","web/notifier":"notifier","web/videoplayer":"videoplayer","web/article":"articles","web/calls":"calls"},i=[/^AbortError:/],s="__protectedModuleName",u="genericVkError",l="custom",c=(0,r.getFunctionName)(void 0),_="[native code]"},598609:(e,t,n)=>{"use strict";n.d(t,{logError:()=>o});var r=n(785124);function o(e,t){var n,o=void 0===t?{}:t,a=o.breadcrumb,i=o.environment,s=void 0===i?null===(n=null===window||void 0===window?void 0:window.cur)||void 0===n?void 0:n.module:i,u=o.hasDummyStacktrace;if(null===window||void 0===window?void 0:window.Sentry)return u&&"object"==typeof e&&(null==e?void 0:e.stack)&&delete e.stack,window.Sentry.captureException(e,(function(e){var t;return s&&e.setTags(((t={module:s})[r.PROTECTED_MODULE_NAME_TAG]=!0,t)),a&&e.addBreadcrumb({message:a.message,category:r.customBreadcrumbCategory,data:a.data}),e}))}},736557:(e,t,n)=>{"use strict";n.d(t,{isMvk:()=>o,getVideoDuration:()=>a,getAverageRGB:()=>i,loadImage:()=>s,loadImages:()=>u,loadFontFace:()=>l,loadFontFacePromise:()=>c,getCroppedImage:()=>_});var r=n(570655);function o(){return!!window.isMVK}function a(e){return void 0===e&&(e=""),new Promise((function(t,n){var r=document.createElement("video");r.addEventListener("loadedmetadata",(function(){return t(r.duration)}),{once:!0}),r.addEventListener("error",n,{once:!0}),r.crossOrigin="anonymous",r.preload="metadata",r.src=e}))}function i(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=0);var a,i={r:0,g:0,b:0};r=r||e.canvas.width,o=o||e.canvas.height;try{a=e.getImageData(t,n,r,o)}catch(e){return i}for(var s=-4,u=0;(s+=20)<a.data.length;)++u,i.r+=a.data[s],i.g+=a.data[s+1],i.b+=a.data[s+2];return i.r=~~(i.r/u),i.g=~~(i.g/u),i.b=~~(i.b/u),i}function s(e){return new Promise((function(t,n){var r=new Image;r.crossOrigin=e.startsWith("data:")?null:"Anonymous",r.onerror=function(){return n(new Error("Failed to load image's URL: "+e))},r.onload=function(){return t(r)},r.src=e}))}var u=function(e){return new Promise((function(t){var n=e.map((function(e){return s(e)}));Promise.all(n).then((function(e){return t(e)})).catch((function(){}))}))};function l(e,t){var n,r,o,a,i,s,u,l,c={normal:"400",500:"500",600:"600",bold:"700"},_={tolerance:2,delay:100,glyphs:"",success:function(){},error:function(){},timeout:5e3,weight:"400",style:"normal"},d={display:"block","font-size":"48px","line-height":"normal","font-variant":"normal","white-space":"nowrap",position:"absolute",visibility:"hidden",top:"-9999px",left:"-9999px",width:"auto",height:"auto",margin:"0",padding:"0"};function p(e){var t=[];return each(e,(function(e,n){t.push(e+":"+n)})),t.join(";")}function f(e,t,n){return Math.abs(e.width-t.offsetWidth)>n||Math.abs(e.height-t.offsetHeight)>n}function h(){a||(utilsNode.appendChild(i),a=!0,o={sansSerif:{width:u.offsetWidth,height:u.offsetHeight},serif:{width:s.offsetWidth,height:s.offsetHeight}},browser.opera&&!browser.chrome?(u.style.fontFamily='"'+e+'", sans-serif',s.style.fontFamily='"'+e+'", serif'):(setStyle(u,"font-family",'"'+e+'", sans-serif'),setStyle(s,"font-family",'"'+e+'", serif'))),a&&o&&(f(o.sansSerif,u,t.tolerance)||f(o.serif,s,t.tolerance))?(re(i),t.success()):(new Date).getTime()-r.getTime()>t.timeout?(re(i),t.error()):!a&&"requestAnimationFrame"in window?window.requestAnimationFrame(h):window.setTimeout(h,t.delay)}for(var m in _)t.hasOwnProperty(m)||(t[m]=_[m]);d["font-weight"]=t.weight,d["font-style"]=t.style,!t.glyphs&&"fonts"in document?(t.timeout&&(n=setTimeout((function(){t.error()}),t.timeout)),function(n){each(null===document||void 0===document?void 0:document.fonts,(function(r){r.family.toLowerCase()===e.toLowerCase()&&(c[r.weight]||r.weight)===""+t.weight&&r.style===t.style&&r.load().then((function(){t.success(),clearTimeout(n)}))}))}(n)):(l="AxmTYklsjo190QW"+t.glyphs,r=new Date,i=ce("div"),u=ce("div",{innerHTML:l}),s=ce("div",{innerHTML:l}),u.setAttribute("style",p(extend({"font-family":"sans-serif"},d))),s.setAttribute("style",p(extend({"font-family":"serif"},d))),i.appendChild(u),i.appendChild(s),h())}function c(e,t){return new Promise((function(n,o){l(e,(0,r.__assign)((0,r.__assign)({},t),{glyphs:"",success:function(){var e=function(){n(),(null==t?void 0:t.success)&&t.success()};browser.safari?setTimeout(e,150):e()},error:function(){o(),(null==t?void 0:t.error)&&t.error()}}))}))}function _(e,t,n,r,o,a){return void 0===a&&(a=0),new Promise((function(i,u){("string"==typeof e?s(e):Promise.resolve(e)).then((function(e){var l=document.createElement("canvas");l.width=90===a||270===a?e.naturalHeight:e.naturalWidth,l.height=90===a||270===a?e.naturalWidth:e.naturalHeight;var c=l.getContext("2d");if(c){c.fillStyle="#fff",c.fillRect(0,0,c.canvas.width,c.canvas.height),a?(c.translate(l.width/2,l.height/2),c.rotate(a*Math.PI/180),c.drawImage(e,-e.naturalWidth/2,-e.naturalHeight/2)):c.drawImage(e,0,0);var _=c.getImageData(t,n,r,o),d=document.createElement("canvas");d.width=r,d.height=o;var p=d.getContext("2d");if(p)return p.putImageData(_,0,0),s(d.toDataURL("image/jpeg",1)).then(i).catch(u);i(e)}else i(e)})).catch(u)}))}},190302:(e,t,n)=>{"use strict";n.d(t,{vkLocalStorage:()=>l,vkSessionStorage:()=>_});var r,o=function(){function e(){var e=this;this.data={},this.getItem=function(t){return e.data.hasOwnProperty(t)?e.data[t]:null},this.keys=function(){return Object.keys(e.data)}}return e.prototype.setItem=function(e,t){this.data[e]=String(t)},e.prototype.removeItem=function(e){delete this.data[e]},e.prototype.clear=function(){this.data={}},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.data).length},enumerable:!1,configurable:!0}),e.prototype.key=function(e){return Object.keys(this.data)[e]},e}(),a="vk-ls-dummy",i="test";function s(){if(r)return r;try{if(window.localStorage.setItem(a,i),i!==window.localStorage.getItem(a))throw new Error("localStorage is broken");window.localStorage.removeItem(a),r=window.localStorage}catch(e){r=new o}return r}var u,l={setItem:function(e,t){return s().setItem(e,t)},getItem:function(e){return s().getItem(e)},removeItem:function(e){return s().removeItem(e)},clear:function(){return s().clear()},length:function(){return s().length},key:function(e){return s().key(e)},keys:function(){var e=s();return e instanceof o?e.keys():Object.keys(e)},getPrefixedKeys:function(e){return l.keys().filter((function(t){return t.startsWith(e)}))}};function c(){if(u)return u;try{if(window.sessionStorage.setItem(a,i),i!==window.sessionStorage.getItem(a))throw new Error("sessionStorage is broken");window.sessionStorage.removeItem(a),u=window.sessionStorage}catch(e){u=new o}return u}var _={setItem:function(e,t){return c().setItem(e,t)},getItem:function(e){return c().getItem(e)},removeItem:function(e){return c().removeItem(e)},clear:function(){return c().clear()},length:function(){return c().length},key:function(e){return c().key(e)},keys:function(){var e=c();return e instanceof o?e.keys():Object.keys(e)},getPrefixedKeys:function(e){return _.keys().filter((function(t){return t.startsWith(e)}))}}},927067:(e,t,n)=>{"use strict";n.d(t,{saveStats:()=>v});var r,o=n(570655),a=n(736726),i=n(537607),s=n(742604),u=n(314561),l=n(2013),c=n(35004),_=1e4,d=0,p=function(){return d*_},f=function(){return!(Date.now()-(0,a.getLastSendTime)()>45e3+p())},h=function(){return r=void 0},m=function(){!0!==r&&(clearTimeout(r),r=window.setTimeout((function(){var e=(0,a.getWebStatDataLs)();h(),e.length>a.emptyStatsDataLs.length&&v(e)}),Math.max(_,(0,a.getLastSendTime)()+45e3-Date.now()+p())))};function v(e,t){var n=e.length>=s.MAX_BODY_SIZE,p=(null==t?void 0:t.force)||n;return!p&&(r||f()||e.length<=a.emptyStatsDataLs.length)?((0,i.logWebStatsEvent)("WebStats delayed.",r),m()):(r=!0,function(e,t){var n=function(t){return setTimeout((function(){return e()}),t)};return(null==t?void 0:t.force)?n(0):window.requestIdleCallback((function(){return n(_)}),{timeout:5e3})}((function(){var e=(0,a.getWebStatDataLs)();if(p||!0===r&&!f()&&e.length>a.emptyStatsDataLs.length)return(0,a.setLastSendTime)(),function(e){var t=window.vk.wsTransport+"/web-stats/"+(window.vk.statsMeta.st?"s":"p"),n=e.length>s.MAX_BODY_SIZE,r=n?(0,c.getMaximumWebStats)(e):e,o=!1;if(!r)return h(),(0,a.clearLsData)();var i=new XMLHttpRequest;i.withCredentials=t.includes("tau.vk.com"),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){var t=Date.now();i.status<500&&(n&&200===i.status?Object.keys((0,a.getEmptyStatsData)()).forEach((function(e){return(0,u.pullFromWebStats)(e,r)})):(0,a.clearLsData)(),d=0,o=!0),(n||400===i.status)&&(0,s.logProcessingTime)(Date.now()-t,(n?"prune":"clean")+(400===i.status?"-fail":""),(e.length>>>20)+"M "+(r.length>>>20)+"M"),h(),m()}},i.onerror=function(){return!o&&(0,a.clearLsData)()},i.open("POST",t,!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.send((0,l.pruneRequestFromStuckErrors)((0,s.appendStatsMeta)(++d,r)))}(e);clearTimeout(Number(r)),h(),m()}),(0,o.__assign)((0,o.__assign)({},t),{force:p})))}},35004:(e,t,n)=>{"use strict";n.d(t,{getMaximumWebStats:()=>i});var r=n(570655),o=n(736726),a=n(742604),i=function(e){var t=Date.now(),n=function(e){return"{"+(null==e?void 0:e.map((function(e){var t=(0,r.__read)(e,2);return'"'+t[0]+'":'+t[1]})).join(","))+"}"},i=(0,r.__read)(Object.keys((0,o.getEmptyStatsData)()).reduce((function(t,n){var a=(0,o.getWebStatsStringValue)(n,e);return"[]"===a?t:(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(t)),[[n,a]])}),[]).sort((function(e,t){var n=(0,r.__read)(e,2)[1];return(0,r.__read)(t,2)[1].length-n.length})).reduce((function(e,t){var o=(0,r.__read)(e,2),i=o[0],s=o[1],u=(0,r.__read)(t,2),l=u[0],c=u[1],_=[[l,c]];return c.length+n(i).length<a.MAX_BODY_SIZE?[i.concat(_),s]:[i,s.concat(_)]}),[[],[]]),2),s=i[0],u=i[1],l=n(s);if((0,a.logProcessingTime)(Date.now()-t,"chunk"),Date.now()-t<500&&u[0]&&l.length<.1*a.MAX_BODY_SIZE){var c=Date.now();try{var _=function(e,t){var n=(0,r.__read)(t,2),o=n[0],i=n[1],s='{"'+o+'":['+JSON.parse(i).reduce((function(t,n,r){return t.length<a.MAX_BODY_SIZE-e.length?t+(0===r?"":",")+JSON.stringify(n):t}),"")+"]}";return"{}"===e?s:(0,a.concatJSONS)(e,s)||e}(l,u.reverse()[0]);return(0,a.logProcessingTime)(Date.now()-c,"batch"),_}catch(e){return(0,a.logProcessingTime)(Date.now()-c,"batch-fail"),""}}return l}},124961:(e,t,n)=>{"use strict";n.d(t,{saveJsErrorLogs:()=>r.saveJsErrorLogs,saveStatlogEvents:()=>r.saveStatlogEvents,saveNetworkStats:()=>r.saveNetworkStats,saveCustomStats:()=>r.saveCustomStats,saveProductionStats:()=>r.saveProductionStats});var r=n(314561)},742604:(e,t,n)=>{"use strict";n.d(t,{MAX_BODY_SIZE:()=>i,concatJSONS:()=>u,appendStatsMeta:()=>l,makeWebStatsRequest:()=>c,logProcessingTime:()=>_});var r=n(570655),o=n(986900),a=n(2013),i=1.8*Math.pow(10,6),s=function(e){return e.startsWith("{")&&e.endsWith("}")},u=function(e,t){return[e,t].every(s)?e.slice(0,-1)+","+t.substring(1):"{}"},l=function(e,t){var n=window.vk,o=n.id,a=n.statsMeta,i=a.st,l=a.platform,c=(0,r.__rest)(a,["st","platform"]);return u(JSON.stringify({id:o,st:i,platform:l,attempt:e,signTime:c.time,sign:c.hash}),s(t)?t:"{}")},c=function(e,t){return e=e||window.vk.wsTransport+"/web-stats/"+(window.vk.statsMeta.st?"s":"p"),new Promise((function(n,r){var o=new XMLHttpRequest;o.open("POST",e),e.includes("tau.vk.com")&&(o.withCredentials=!0),o.onload=function(){return this.status>=200&&this.status<300?n(o.response):r({status:this.status,statusText:o.statusText})},o.onerror=function(){return r({status:this.status,statusText:o.statusText})},o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.send((0,a.pruneRequestFromStuckErrors)("string"==typeof t?t:JSON.stringify(t)))}))};function _(e,t,n){(0,o.statlogsValueEvent)("web_stats_batching_time",e,window.vk.statsMeta.platform,t,n)}},314561:(e,t,n)=>{"use strict";n.d(t,{pullFromWebStats:()=>c,saveJsErrorLogs:()=>d,saveStatlogEvents:()=>p,saveProductionStats:()=>f,saveNetworkStats:()=>h,saveCustomStats:()=>m,saveStoryViewBaseStats:()=>v,saveStoryViewStats:()=>g,saveWebPerfStats:()=>y});var r=n(570655),o=n(736726),a=n(372135),i=n(537607),s=n(486353),u=n(927067),l=n(190302),c=function(e,t){var n=(0,o.getWebStatsStringValue)(e,t);if("[]"!==n){var r=(0,o.getWebStatDataLs)().replace(n.slice(1,-1),"").replace(/\[\,/,"[");(0,o.writeLocked)((function(){return l.vkLocalStorage.setItem(o.lsDataKey,r)}))}},_=function(e,t,n,r){if((0,s.partConfigEnabled)("batchify_web_stats")){var c=function(e,t){var n=(0,o.getWebStatsStringValue)(e);return(0,o.getWebStatDataLs)().replace('"'+e+'":'+n,'"'+e+'":'+n.replace(/]$/,("[]"===n?"":",")+JSON.stringify(t)+"]"))}(t,n);(0,o.writeLocked)((function(){return l.vkLocalStorage.setItem(o.lsDataKey,c)})),(0,u.saveStats)(c,r)}else(0,o.writeLocked)((function(){var e=(0,o.fetchDataFromLs)().webStatsData;e[t].push(n),(0,a.saveStats)(e)}));(0,i.logWebStatsEvent)(e,n)},d=function(e){return _("saveJsErrorLogs","jsErrorLogs",e)},p=function(e){var t=e.name,n=e.value,o=e.keys,a=(0,r.__spreadArray)([Math.round(Number(Date.now())/1e3),t,n],(0,r.__read)(o));return(0,s.partConfigEnabled)("web_stats_transport_debugger")&&console.log("Data was transformed!"),_("saveStatlogEvents","statlogEvents",a)},f=function(e,t){return _("saveProductionStats","productionStats",e,t)},h=function(e){return _("saveNetworkStats","networkStats",e)},m=function(e){return _("saveCustomStats","customStats",e)},v=function(e){return _("saveStoryViewStats","storyViewStats",e)},g=function(e){return v(e)},y=function(e){return _("saveWebPerfStats","webPerfStats",e)}},537607:(e,t,n)=>{"use strict";n.d(t,{logWebStatsEvent:()=>o});var r=n(486353);function o(e,t){(0,r.partConfigEnabled)("web_stats_transport_debugger")&&console.log("[new transport debug] "+e,t)}},736726:(e,t,n)=>{"use strict";n.d(t,{lsDataKey:()=>i,getEmptyStatsData:()=>l,emptyStatsDataLs:()=>c,writeLocked:()=>_,getWebStatDataLs:()=>d,serializeDataToLs:()=>p,getWebStatsStringValue:()=>f,fetchDataFromLs:()=>h,clearLsData:()=>m,setLastSendTime:()=>v,getLastSendTime:()=>g,getWebStatsItemsCount:()=>y});var r=n(190302),o=n(537607),a=(0,n(736557).isMvk)()?"mvk":"web",i="XHR_STATS_TRANSPORT_DATA_"+a,s="XHR_STATS_TRANSPORT_META_"+a,u="XHR_STATS_TRANSPORT_DATA_LOCK_"+a,l=function(){return{jsErrorLogs:[],statlogEvents:[],productionStats:[],storyViewStats:[],networkStats:[],customStats:[],webPerfStats:[]}},c=JSON.stringify(l());function _(e){if("locked"!==r.vkSessionStorage.getItem(u)){(0,o.logWebStatsEvent)("writeLocked","lock"),r.vkSessionStorage.setItem(u,"locked");try{e()}catch(e){}return(0,o.logWebStatsEvent)("writeLocked","free"),void r.vkSessionStorage.setItem(u,"free")}setTimeout((function(){return _(e)}),100)}var d=function(){return r.vkLocalStorage.getItem(i)||c},p=function(e){return r.vkLocalStorage.setItem(i,JSON.stringify(e))},f=function(e,t){var n;void 0===t&&(t=d());var r,o=Object.keys(l()).filter((function(t){return t!==e})).join("|"),a=(null===(n=null==t?void 0:t.match(new RegExp('"'+e+'":(\\[.*?\\])(?:,"('+o+')":\\[|}$)')))||void 0===n?void 0:n[1])||"";return(r=a).startsWith("[")&&r.endsWith("]")?a:"[]"};function h(){var e,t=!0;try{var n=d();if(!n)throw new Error("empty data");e=l();var r=JSON.parse(n);Object.keys(e).forEach((function(n){Array.isArray(r[n])&&(t=!1,e[n]=r[n])}))}catch(t){e=l()}return{webStatsData:e,isEmpty:t}}function m(e){e&&(0,o.logWebStatsEvent)("WebStats cleared. "+(e?"Reason: LS is broken.":""),e),_((function(){return r.vkLocalStorage.setItem(i,"")}))}function v(e){void 0===e&&(e=Number(new Date)),r.vkSessionStorage.setItem(s,e.toString())}function g(){return parseInt(""+(r.vkSessionStorage.getItem(s)||0))}function y(e){return Object.values(e).reduce((function(e,t){return e+=t.length}),0)}},372135:(e,t,n)=>{"use strict";n.d(t,{saveStats:()=>p});var r,o=n(570655),a=n(736726),i=n(537607),s=n(486353),u=n(742604),l=6e4,c=12e4,_=1;function d(e){return!!(0,s.partConfigEnabled)("web_stats_send_on_events_limit")&&(1===_&&(0,a.getWebStatsItemsCount)(e)>300)}function p(e){var t=+new Date,n=(0,a.getLastSendTime)();0===n&&(n=t,(0,a.setLastSendTime)(n));var o,u=t-n,_=u/1e3,p=d(e);(0,i.logWebStatsEvent)("saveStats",{nowMs:t,lastTransferTimeMs:n,timePassed:_+"s",statsData:e}),(0,s.partConfigEnabled)("web_stats_debounce")?((0,a.serializeDataToLs)(e),o=function(e,t){return t?0:0===e||e>l?3e3:c}(u,p),window.clearTimeout(r),r=window.setTimeout((function(){return(0,a.writeLocked)((function(){var e=(0,a.fetchDataFromLs)().webStatsData,t=+new Date;h(e),(0,a.clearLsData)(),(0,a.setLastSendTime)(t)}))}),o)):u>l||p?(h(e),(0,a.clearLsData)(),(0,a.setLastSendTime)(t)):((0,a.serializeDataToLs)(e),window.setTimeout(f,c))}function f(){(0,a.writeLocked)((function(){var e=(0,a.fetchDataFromLs)(),t=e.webStatsData;e.isEmpty||p(t)}))}function h(e){(0,i.logWebStatsEvent)("send",e);var t=window.vk,n=t.id,r=t.wsTransport,s=t.statsMeta,l=r+(window.vk&&window.vk.statsMeta&&window.vk.statsMeta.st?"/web-stats/s":"/web-stats/p"),c=(0,o.__assign)((0,o.__assign)({},e),{id:n,st:s.st,platform:s.platform,signTime:s.time,sign:s.hash,attempt:_});(0,u.makeWebStatsRequest)(l,c).then((function(e){(0,i.logWebStatsEvent)("sendStats success",e),_=1})).catch((function(t){return _++,(0,a.writeLocked)((function(){(0,i.logWebStatsEvent)("sendStats try",_),p(e)})),(0,i.logWebStatsEvent)("sendStats error",t),!0})),(0,a.setLastSendTime)(+new Date)}},461209:(e,t,n)=>{"use strict";var r,o;n.d(t,{MODULE_THROTTLE_MS:()=>s,IGNORED_MODULES:()=>u,MODULE_SKIP_RATIO:()=>l,PoorValueOf:()=>c});var a="mvk"===(null===(o=null===(r=window.vk)||void 0===r?void 0:r.statsMeta)||void 0===o?void 0:o.platform),i=36e5,s={feed:8*i,im:6*i,profile:6*i,audio:6*i,apps:6*i,group:4*i,groups:4*i,public:4*i,video:8*i,wall:8*i,board:4*i,photos:4*i,activation:6*i,"i-oauth":6*i,mail:6*i},u=["unknown","app","docs","invite","wall_donut","wall_archive","support","helpdesk","abuse","noSpam","sf"],l=a?{group:.05,index:.05,profile:.05,video:.1,feed:.05,mail:.1,wall:.2,login:.2,"i-oauth":.05,notifications:.3,recommended:.3,search:.4,menu:.4,join:.5}:{feed:.025,im:.05,profile:.075,public:.1,groups:.2,groups_list:.3,audio:.3,photos:.3,friends:.4,board:.5,video:.5,wall:.5},c={FID:300,LCP:4e3,CLS:.25,TTFB:600,FCP:3e3}},933127:(e,t,n)=>{"use strict";n.d(t,{NavigationProductionStatEventTypes:()=>r.NavigationProductionStatEventTypes,navigationStat:()=>a});var r=n(76238),o=new r.ProductionStatCollector,a=new r.NavigationStatCollector(o)},738225:(e,t,n)=>{"use strict";n.d(t,{AudioNetworkStatCollector:()=>o});var r=n(839912),o=function(){function e(e){this.networkStatCollector=e}return e.prototype.logEvent=function(e,t,n){var o,a=((o={network_type:t,network_effective_type:n,type:r.NetworkStatEventTypes.TYPE_NETWORK_AUDIO_ITEM})[r.NetworkStatEventTypes.TYPE_NETWORK_AUDIO_ITEM]=e,o);this.networkStatCollector.logEvent(a)},e}()},780781:(e,t,n)=>{"use strict";n.d(t,{NetworkStatCollector:()=>r.NetworkStatCollector,NetworkStatCollectorInstance:()=>r.NetworkStatCollectorInstance,AudioNetworkStatCollector:()=>o.AudioNetworkStatCollector,AudioNetworkType:()=>a.AudioNetworkType});var r=n(980024),o=n(738225),a=n(839912)},66239:(e,t,n)=>{"use strict";n.d(t,{ModuleNavigationStatCollector:()=>_});var r=n(570655),o=n(839912),a=n(163705),i=n(933127),s=n(486353),u=n(461209),l=n(736557),c=n(124801),_=function(){function e(t,n){this.moduleNavigationStatCollector=t,this.storage=n,this.storage.setItem(e.LS_LOCK_NAME,JSON.stringify(this.getActualNavDurationTimestamps()))}return e.prototype.getActualNavDurationTimestamps=function(){return Object.entries(this.getNavDurationTimestamps()).reduce((function(e,t){var n,o=(0,r.__read)(t,2),a=o[0],i=o[1],s=i+c.MODULE_THROTTLE_MS[a];return s&&s>Date.now()?(0,r.__assign)((0,r.__assign)({},e),((n={})[a]=i,n)):e}),{})},e.prototype.getNavDurationTimestamps=function(){var t={};try{t=JSON.parse(this.storage.getItem(e.LS_LOCK_NAME)||"{}")}catch(e){}return t},e.clearPerformanceMeasures=function(e){var t=c.ModuleNavigationStatMarks[e],n=t.PERF_MARK,r=t.PERF_MEASURE;"performance"in window&&(window.performance.clearMeasures(r),window.performance.clearMarks(n))},e.measurementMustBeSkipped=function(e){return u.IGNORED_MODULES.includes(e)||(0,s.randEnabled)(1-(u.MODULE_SKIP_RATIO[e]||1))},e.prototype.logEvent=function(){var t,n,s,u,l,_,d,p="mvk"===(null===(u=null===(s=window.vk)||void 0===s?void 0:s.statsMeta)||void 0===u?void 0:u.platform)?"mvk":"web2",f=a.default.getConnectionEffectiveType(),h=i.navigationStat.getModule();try{var m=c.ModuleNavigationStatMarks[p],v=m.PERF_MARK,g=m.PERF_MEASURE;window.performance.measure(g,v),_=null===(l=window.performance.getEntriesByType("measure").find((function(e){return e.name===g})))||void 0===l?void 0:l.duration}catch(e){}if(e.clearPerformanceMeasures(p),_&&!e.measurementMustBeSkipped(h)){if(Object.keys(c.MODULE_THROTTLE_MS).includes(h)){var y=Date.now(),E=this.getNavDurationTimestamps();if(void 0===(d=E[h])&&(d=0),d+c.MODULE_THROTTLE_MS[h]>=y)return;this.storage.setItem(e.LS_LOCK_NAME,JSON.stringify((0,r.__assign)((0,r.__assign)({},E),((t={})[h]=y,t))))}this.moduleNavigationStatCollector.logEvent(((n={network_type:"UNKNOWN",network_effective_type:f,type:o.NetworkStatEventTypes.TYPE_MODULE_NAVIGATION_STATS_ITEM})[o.NetworkStatEventTypes.TYPE_MODULE_NAVIGATION_STATS_ITEM]={module:h,value:Math.round(_).toString()},n))}},e.LS_LOCK_NAME="NAV_DURATION_TIMESTAMPS_"+((0,l.isMvk)()?"MVK":"WEB"),e}()},124801:(e,t,n)=>{"use strict";var r,o;n.d(t,{ModuleNavigationStatMarks:()=>i,MODULE_THROTTLE_MS:()=>s});var a=36e5,i={web2:{PERF_MARK:"__navmark",PERF_MEASURE:"__navmeasure"},mvk:{PERF_MARK:"__navmark_mvk",PERF_MEASURE:"__navmeasure_mvk"}},s="mvk"===(null===(o=null===(r=window.vk)||void 0===r?void 0:r.statsMeta)||void 0===o?void 0:o.platform)?{video:6*a,group:6*a,groups_list:6*a,feed:6*a,audio:6*a,notifications:6*a,profile:6*a,wall:6*a,mail:6*a,search:6*a,menu:6*a,recommended:6*a,join:4*a,photos:4*a,login:4*a,friends:4*a}:{im:6*a,profile:6*a,feed:6*a,audio:6*a,video:6*a,apps:6*a,friends:6*a,groups_list:6*a,groups:4*a,public:4*a}},980024:(e,t,n)=>{"use strict";n.d(t,{NetworkStatCollector:()=>a,NetworkStatCollectorInstance:()=>i});var r=n(611386),o=n(124961),a=function(){function e(){}return e.prototype.logEvent=function(e){e.type&&e[e.type]?(0,o.saveNetworkStats)(e):(0,r.logError)(new Error("NetworkStatCollector: invalid event."))},e}(),i=new a},839912:(e,t,n)=>{"use strict";var r,o;n.d(t,{NetworkStatEventTypes:()=>r,AudioNetworkType:()=>o}),function(e){e.TYPE_NETWORK_AUDIO_ITEM="type_network_audio_item",e.TYPE_MODULE_NAVIGATION_STATS_ITEM="type_module_navigation_stats_item"}(r||(r={})),function(e){e.FRAGMENT_LOADED="fragment_loaded",e.FRAGMENT_STALLED="fragment_stalled"}(o||(o={}))},148553:(e,t,n)=>{"use strict";n.d(t,{ActionStatCollector:()=>a});var r=n(570655),o=n(136471),a=function(){function e(e){this.productionStatCollector=e}return e.prototype.logEvent=function(e,t){var n,a=(0,r.__assign)((0,r.__assign)({},this.productionStatCollector.getBaseEvent()),((n={type:o.ProductionStatEventTypes.TYPE_ACTION})[o.ProductionStatEventTypes.TYPE_ACTION]=e,n));this.productionStatCollector.logEvent(a,t)},e}()},308770:(e,t,n)=>{"use strict";n.d(t,{BridgeEventStatsCollector:()=>a});var r=n(136471),o=n(76238),a=function(){function e(){this.productStatCollector=new o.ProductionStatCollector,this.actionStatCollector=new o.ActionStatCollector(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,o){var a,i={webview_url:e,mini_app_id:t,event:n,error:o},s=((a={type:r.ActionProductionStatEventTypes.TYPE_BRIDGE_EVENT_ITEM})[r.ActionProductionStatEventTypes.TYPE_BRIDGE_EVENT_ITEM]=i,a);this.actionStatCollector.logEvent(s)},e}()},602901:(e,t,n)=>{"use strict";n.d(t,{EasterEggsItemStatCollector:()=>a});var r=n(136471),o=n(76238),a=function(){function e(){this.productStatCollector=new o.ProductionStatCollector,this.actionStatCollector=new o.ActionStatCollector(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,o){var a,i={egg_id:e,egg_event_id:t,position_id:n,event_type:o},s=((a={type:r.ActionProductionStatEventTypes.TYPE_EASTER_EGGS_ITEM})[r.ActionProductionStatEventTypes.TYPE_EASTER_EGGS_ITEM]=i,a);this.actionStatCollector.logEvent(s)},e}()},405441:(e,t,n)=>{"use strict";n.d(t,{MarketingTransitionItemStatCollector:()=>i});var r=n(136471),o=n(76238),a=n(427813),i=function(){function e(){this.productStatCollector=new o.ProductionStatCollector,this.actionStatCollector=new o.ActionStatCollector(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,o){var i;void 0===o&&(o="");var s={campaign:e,source:n,event:t,unauth_id:(0,a.getCookie)("remixstid")};o&&(s.url=o);var u=((i={type:r.ActionProductionStatEventTypes.TYPE_MARKETING_TRANSITION_ITEM})[r.ActionProductionStatEventTypes.TYPE_MARKETING_TRANSITION_ITEM]=s,i);this.actionStatCollector.logEvent(u)},e}()},707532:(e,t,n)=>{"use strict";n.d(t,{VkConnectNavigationCollector:()=>i});var r=n(570655),o=n(136471),a=n(76238),i=function(){function e(){this.lastNavEventId=0,this.productionStatCollector=new a.ProductionStatCollector}return e.prototype.logEvent=function(e,t){var n,a,i=this.productionStatCollector.getBaseEvent(),s=(0,r.__assign)((0,r.__assign)({},i),((n={screen:"main",prev_nav_id:this.lastNavEventId,prev_event_id:i.prev_id||0,type:o.ProductionStatEventTypes.TYPE_ACTION})[o.ProductionStatEventTypes.TYPE_ACTION]=((a={type:o.ActionProductionStatEventTypes.TYPE_VK_CONNECT_NAVIGATION_ITEM})[o.ActionProductionStatEventTypes.TYPE_VK_CONNECT_NAVIGATION_ITEM]=e,a),n));this.lastNavEventId=s.id,this.productionStatCollector.logEvent(s,t)},e.prototype.logServiceNavigationOpen=function(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_OPEN})},e.prototype.logServiceNavigationClose=function(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_CLOSE})},e.prototype.logServiceNavigationClick=function(e,t){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_CLICK,fields:[{name:e,str_value:t}]})},e.prototype.logAccountActionsOpen=function(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.POPUP_OPEN})},e.prototype.logAccountActionsClose=function(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.POPUP_CLOSE})},e.prototype.logAccountActionsEnterLk=function(e){void 0===e&&(e="account_actions"),this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_ENTER_LK,flow_service:e})},e.prototype.logAccountActionsVkPay=function(e){void 0===e&&(e="account_actions"),this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_VK_PAY,flow_service:e})},e.prototype.logAccountActionsVkCombo=function(e){void 0===e&&(e="account_actions"),this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_VK_COMBO,flow_service:e})},e}()},313488:(e,t,n)=>{"use strict";n.d(t,{ClickStatCollector:()=>a});var r=n(570655),o=n(136471),a=function(){function e(e){this.productionStatCollector=e}return e.prototype.logEvent=function(e,t){var n,a=(0,r.__assign)((0,r.__assign)({},this.productionStatCollector.getBaseEvent()),((n={type:o.ProductionStatEventTypes.TYPE_CLICK})[o.ProductionStatEventTypes.TYPE_CLICK]=(0,r.__assign)({item:t},e),n));this.productionStatCollector.logEvent(a)},e}()},999886:(e,t,n)=>{"use strict";n.d(t,{VkAppsActionMenuStatsCollector:()=>a});var r=n(136471),o=n(76238),a=function(){function e(){this.productStatCollector=new o.ProductionStatCollector,this.clickStatCollector=new o.ClickStatCollector(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n){var o,a={type:n},i=((o={type:r.ClickProductionStatEventTypes.TYPE_MINI_APP_ITEM})[r.ClickProductionStatEventTypes.TYPE_MINI_APP_ITEM]=a,o),s={type:t,id:e};this.clickStatCollector.logEvent(i,s)},e}()},422402:(e,t,n)=>{"use strict";var r,o;n.d(t,{DonutActionEventType:()=>r,DonutActionEventScreen:()=>o}),function(e){e.PAYMENT_FORM="payment_form",e.PAYMENT_FORM_CLICK_OFFER="payment_form_click_offer",e.PAYMENT_FORM_CLICK_PAY="payment_form_click_pay",e.PAYMENT_FORM_CLICK_CLOSE="payment_form_click_close",e.PAYMENT_FORM_CHANGE_CLICK_CHANGE="payment_form_change_click_change",e.CLICK_SHOW_MORE="click_show_more",e.WIDGET_VIEW="widget_view",e.DESCRIPTION_VIEW="description_view"}(r||(r={})),function(e){e.PAYMENT_START="payment_start",e.DATA_ACCESS="data_access",e.RESULT_PAYMENT_SUCCESS_OK="result_payment_success_ok",e.RESULT_PAYMENT_SUCCESS_WAITING="result_payment_success_waiting",e.RESULT_PAYMENT_SUCCESS_WAITING_TIMEOUT="result_payment_success_waiting_timeout",e.RESULT_RESUB_SUCCESS_WAITING="result_resub_success_waiting",e.RESULT_RESUB_SUCCESS_WAITING_OK="result_resub_success_waiting_ok",e.RESULT_PAYMENT_UNAVAILABLE="result_payment_unavailable",e.RESULT_PAYMENT_CANCEL="result_payment_cancel",e.RESULT_ERROR="result_error",e.CHANGE_START="change_start",e.RESULT_CHANGE_ERROR="result_change_error",e.RESULT_CHANGE_SUCCESS_OK="result_change_success_ok",e.RESULT_CHANGE_SUCCESS_WAITING="result_change_success_waiting",e.RESULT_CHANGE_SUCCESS_WAITING_TIMEOUT="result_change_success_waiting_timeout",e.RESULT_CHANGE_UNAVAILABLE="result_change_unavailable",e.UNKNOWN="donut_payment_screen_unknown"}(o||(o={}))},76238:(e,t,n)=>{"use strict";n.d(t,{NavigationStatCollector:()=>l.NavigationStatCollector,ProductionStatCollector:()=>c.ProductionStatCollector,ActionStatCollector:()=>_.ActionStatCollector,ClickStatCollector:()=>d.ClickStatCollector,ViewStatCollector:()=>p.ViewStatCollector,RegistrationItemStatCollector:()=>f.RegistrationItemStatCollector,NavigationProductionStatEventTypes:()=>h.NavigationProductionStatEventTypes,RegistrationFieldItemNames:()=>h.RegistrationFieldItemNames,RegistrationItemEventTypes:()=>h.RegistrationItemEventTypes,EventScreens:()=>h.EventScreens,EventFieldValues:()=>h.EventFieldValues,marketingTransitionItemStat:()=>m,easterEggsItemStat:()=>v,bridgeEventItemStat:()=>g,miniAppsItemStats:()=>y,vkConnectNavigationCollector:()=>E});var r=n(405441),o=n(308770),a=n(602901),i=n(999886),s=n(678927),u=n(707532),l=n(880203),c=n(357509),_=n(148553),d=n(313488),p=n(771168),f=n(843130),h=n(136471),m=new r.MarketingTransitionItemStatCollector,v=new a.EasterEggsItemStatCollector,g=new o.BridgeEventStatsCollector,y=(new i.VkAppsActionMenuStatsCollector,new s.MiniAppsEventStatsCollector),E=new u.VkConnectNavigationCollector},880203:(e,t,n)=>{"use strict";n.d(t,{NavigationStatCollector:()=>s});var r=n(570655),o=n(136471),a=n(611386),i=n(486353),s=function(){function e(e){this.ProductionStatCollector=e,this.tabId=this.ProductionStatCollector.getIntId()%128}return e.prototype.logEvent=function(e){var t,n=(0,r.__assign)((0,r.__assign)({},this.ProductionStatCollector.getBaseEvent()),((t={type:o.ProductionStatEventTypes.TYPE_NAVGO})[o.ProductionStatEventTypes.TYPE_NAVGO]=e,t));return this.ProductionStatCollector.logEvent(n),{statEvent:n}},e.prototype.getEventTabOpen=function(e){return{subtype:o.NavigationProductionStatEventTypes.TAB_OPEN,tab_id:this.tabId,screen:e}},e.prototype.getEventMove=function(e,t){var n,r,i=this.lastStatEvents,s=this.lastNavEvents;return i&&s?(s.subtype===o.NavigationProductionStatEventTypes.TAB_OPEN?n=s.screen:(n=s.screen_to,r=s.screen),{prev_navgo_id:i.id,subtype:t,screen:n,screen_to:e,screen_prev:r,prev_navgo_timestamp:i.timestamp,tab_id:this.tabId}):((0,a.logError)(new Error("NavigationStatCollector: previous event not found.")),null)},e.prototype.addStatEvent=function(e,t){if(void 0===t&&(t=o.NavigationProductionStatEventTypes.GO),(0,i.partConfigEnabled)("navigation_timespent")){var n;if(t===o.NavigationProductionStatEventTypes.TAB_OPEN)n=this.getEventTabOpen(e);else{var r=this.getEventMove(e,t);if(!r)return;n=r}var a=this.logEvent(n).statEvent;this.lastStatEvents=a,this.lastNavEvents=n}},e.prototype.getModule=function(){var e,t;return null!==(t=null===(e=window.cur)||void 0===e?void 0:e.module)&&void 0!==t?t:"unknown"},e}()},357509:(e,t,n)=>{"use strict";n.d(t,{ProductionStatCollector:()=>i});var r=n(611386),o=n(828397),a=n(124961),i=function(){function e(){this.DEBUG=!1}return e.prototype.getCurrentTime=function(e){void 0===e&&(e=!0);var t=Date.now().toString(10);return e?t+"000":t},e.prototype.getIntId=function(){return Math.floor(Math.random()*e.MAX_INT32)},e.prototype.logEvent=function(e,t){this.DEBUG&&(0,o.log)(e),e.type&&e[e.type]?((0,a.saveProductionStats)(e,t),this.lastEvent=e):(0,r.logError)(new Error("ProductionStatCollector: invalid event."))},e.prototype.getLastEvent=function(){return this.lastEvent},e.prototype.getBaseEvent=function(){var e;return{id:this.getIntId(),prev_id:null===(e=this.lastEvent)||void 0===e?void 0:e.id,timestamp:this.getCurrentTime(),url:window.location.href}},e.MAX_INT32=2147483647,e}()},843130:(e,t,n)=>{"use strict";n.d(t,{RegistrationItemStatCollector:()=>s});var r=n(570655),o=n(136471),a=n(486353),i=n(427813),s=function(){function e(e){this.actionStatCollector=e,this.fields={}}return e.prototype.logFieldInteraction=function(e,t,n){void 0===n&&(n=!1),[o.RegistrationFieldItemNames.PASSWORD,o.RegistrationFieldItemNames.SMS_CODE,o.RegistrationFieldItemNames.RULES_ACCEPT].includes(e)&&(t=t?"1":"0");var r=n?"0":this.actionStatCollector.productionStatCollector.getCurrentTime(!1),a=this.fields[e];a?(a.value=t,a.end_interaction_time=r):this.fields[e]={name:e,value:t,start_interaction_time:r,end_interaction_time:r}},e.prototype.getFieldInteractions=function(){return Object.values(this.fields)},e.prototype.resetFieldInteractions=function(){var e,t;try{for(var n=(0,r.__values)(Object.getOwnPropertyNames(this.fields)),o=n.next();!o.done;o=n.next()){var a=o.value;delete this.fields[a]}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.logEvent=function(e,t,n,r){var s;if((0,a.partConfigEnabled)("registration_item_stat")){var u={event_type:e,screen:t,unauth_id:(0,i.getCookie)("remixstid"),sid:(0,i.getCookie)("remixnreg_sid")};[o.RegistrationItemEventTypes.SCREEN_PROCEED,o.RegistrationItemEventTypes.SCREEN_SKIP,o.RegistrationItemEventTypes.SCREEN_RETURN,o.RegistrationItemEventTypes.INCORRECT_SMS_CODE].includes(e)&&(u.screen_to=n,u.fields=this.getFieldInteractions(),this.resetFieldInteractions()),e!==o.RegistrationItemEventTypes.SELECT_COUNTRY_DONE&&e!==o.RegistrationItemEventTypes.PROCEED_OTHER_COUNTRY_CODE||!this.fields[o.RegistrationFieldItemNames.SELECT_COUNTRY_NAME]||(u.fields=this.getFieldInteractions().filter((function(e){return e.name===o.RegistrationFieldItemNames.SELECT_COUNTRY_NAME})),delete this.fields[o.RegistrationFieldItemNames.SELECT_COUNTRY_NAME]);var l=((s={type:o.ActionProductionStatEventTypes.TYPE_REGISTRATION_ITEM})[o.ActionProductionStatEventTypes.TYPE_REGISTRATION_ITEM]=u,s);this.actionStatCollector.logEvent(l,r)}},e}()},136471:(e,t,n)=>{"use strict";var r,o,a,i,s,u,l,c,_,d,p,f,h,m,v,g,y,E,w,b,D,C,P,T,O;n.d(t,{EventScreens:()=>r,EventFieldValues:()=>o,ProductionStatEventTypes:()=>a,NavigationProductionStatEventTypes:()=>i,YoulaEventTypes:()=>s,ActionProductionStatEventTypes:()=>u,ClickProductionStatEventTypes:()=>l,ViewProductionStatEventTypes:()=>c,MarketScreenNames:()=>_,MarketEventTypes:()=>d,WorkiEventTypes:()=>p,EventItemType:()=>h,RegistrationItemEventTypes:()=>v,RegistrationFieldItemNames:()=>g,MarketingTransitionItemCampaignType:()=>y,MarketingTransitionItemEventType:()=>E,MyGamesCloudItemType:()=>D,AlertInAppType:()=>C,IEasterEggsItemEventType:()=>P,MessagingActionType:()=>T,IVkConnectNavigationItemEventType:()=>O}),function(e){e.NOWHERE="nowhere",e.OTHER="other",e.START="start",e.START_BOX="start_box",e.START_PROCEED_AS="start_proceed_as",e.REGISTRATION_COMPLETE="registration_complete",e.REGISTRATION_COUNTRY="registration_country",e.REGISTRATION_PHONE="registration_phone",e.REGISTRATION_PHONE_VERIFY="registration_phone_verify",e.REGISTRATION_PASSWORD="registration_password",e.REGISTRATION_EDUCATION="registration_education",e.REGISTRATION_EMAIL="registration_email",e.REGISTRATION_NAME="registration_name",e.REGISTRATION_INVITE_CONFIRM="registration_invite_confirm",e.REGISTRATION_LIST_FRIENDS_FACEBOOK="registration_list_friends_facebook",e.PHONE_2FA_VERIFY="phone_2fa_verify",e.OAUTH_FB="oauth_fb"}(r||(r={})),function(e){e.REGISTERED_VIA_FB="1"}(o||(o={})),function(e){e.TYPE_NAVGO="type_navgo",e.TYPE_ACTION="type_action",e.TYPE_CLICK="type_click",e.TYPE_VIEW="type_view"}(a||(a={})),function(e){e.GO="go",e.BACK="back",e.TAB_OPEN="tab_open"}(i||(i={})),function(e){e.TYPE_DONUT_DESCRIPTION_NAV_ITEM="type_donut_description_nav_item",e.TYPE_MARKET_NAVGO="type_market_navgo",e.TYPE_YOULA_SNIPPET_NAVGO="type_youla_snippet_navgo"}(i||(i={})),function(e){e.TYPE_YOULA_SNIPPET_ITEM="type_youla_snippet_item"}(s||(s={})),function(e){e.TYPE_REGISTRATION_ITEM="type_registration_item",e.TYPE_MARKETING_TRANSITION_ITEM="type_marketing_transition_item",e.TYPE_DONUT_PAYMENT_ITEM="type_donut_payment_item",e.TYPE_CALL_ITEM="type_voip_call_item",e.TYPE_BRIDGE_EVENT_ITEM="type_bridge_event_item",e.TYPE_EASTER_EGGS_ITEM="type_easter_eggs_item",e.TYPE_CUSTOM_METRICS_ITEM="type_ab_custom_metrics_item",e.TYPE_MESSAGING_ACTION_ITEM="type_messaging_action_item",e.TYPE_MESSAGING_CONTACT_RECOMMENDATIONS_ITEM="type_messaging_contact_recommendations_item",e.TYPE_VK_CONNECT_NAVIGATION_ITEM="type_vk_connect_navigation_item"}(u||(u={})),function(e){e.TYPE_MARKET_CLICK="type_market_click",e.TYPE_WORKI_CLICK="type_worki_click",e.TYPE_CATALOG_BANNER_ITEM="type_catalog_banner_item",e.TYPE_MINI_APP_ITEM="type_mini_app_item",e.TYPE_MESSAGING_CONTACT_RECOMMENDATIONS_ITEM="type_messaging_contact_recommendations_item"}(l||(l={})),function(e){e.TYPE_CATALOG_BANNER_ITEM="type_catalog_banner_item",e.TYPE_MARKET_VIEW="type_market_view",e.TYPE_MINI_APPS_VIEW_ITEM="type_mini_app_view_item"}(c||(c={})),function(e){e.MARKETPLACE="marketplace",e.MARKETPLACE_BLOCK="marketplace_block",e.MARKETPLACE_SEARCH="marketplace_search"}(_||(_={})),function(e){e.TYPE_MARKET_ORDERS_ITEM="type_market_orders_item",e.TYPE_MARKET_CARTS_ITEM="type_market_carts_item",e.TYPE_MARKET_GOODS_ITEM="type_market_item",e.TYPE_MARKET_MARKETPLACE_ITEM="type_market_marketplace_item"}(d||(d={})),function(e){e.TYPE_WORKI_SNIPPET_ITEM="type_worki_snippet_item"}(p||(p={})),function(e){e.CATALOG_PROMO_BANNER_VIEWED="catalog_promo_banner_viewed"}(f||(f={})),function(e){e.ARTICLE="article",e.GROUP="group",e.PHOTO="photo",e.POST="post",e.STORY="story",e.USER="user",e.BROWSER="browser",e.NARRATIVE="narrative",e.MINI_APP="mini_app",e.GAME="game",e.VIDEO="video",e.MARKET_ITEM="market_item",e.MARKET_ITEM_ALBUM="market_item_album",e.MARKET_ORDER="market_order",e.CATALOG_BANNER="catalog_banner",e.AUDIO_FULLSCREEN_BANNER="audio_fullscreen_banner",e.WORKI_SNIPPET="worki_snippet",e.MINI_APPS_CATALOG_BANNER_VIEWED="catalog_promo_banner_viewed",e.MINI_APPS_CATALOG_BANNER="catalog_promo_banner",e.TYPE_MESSAGING_CONTACT_RECOMMENDATIONS_ITEM="type_messaging_contact_recommendations_item"}(h||(h={})),function(e){e.SWITCH_ITEM_VARIANT_1="switch_item_variant_1",e.SWITCH_ITEM_VARIANT_2="switch_item_variant_2",e.OPEN_WIKI="open_wiki"}(m||(m={})),function(e){e.SCREEN_PROCEED="screen_proceed",e.SCREEN_SKIP="screen_skip",e.SCREEN_RETURN="screen_return",e.COMMON_SERVER_ERROR="common_server_error",e.RESEND_SMS_CODE="resend_sms_code",e.RESEND_SMS_CODE_FAILED="resend_sms_code_failed",e.INCORRECT_SMS_CODE="incorrect_sms_code",e.INCORRECT_PASSWORD="incorrect_password",e.INCORRECT_NAME="incorrect_name",e.INCORRECT_CAPTCHA="incorrect_captcha",e.INCORRECT_PHONE_NUMBER="incorrect_phone_number",e.INCORRECT_BDAY="incorrect_bday",e.INCORRECT_SEX="incorrect_sex",e.INCORRECT_EMAIL="incorrect_email",e.EXISTING_EMAIL="existing_email",e.INCORRECT_EDUCATION="incorrect_education",e.SUCCESS_2FA="success_2fa",e.LOGIN_TAP="login_tap",e.PASSWORD_TAP="passw_tap",e.START_REG_TAP="start_reg_tap",e.FIRST_COUNTRY="first_country",e.FIRST_EDUCATION="first_education",e.FIRST_EMAIL="first_email",e.FIRST_FRIEND_ASK="first_friend_ask",e.SELECT_COUNTRY="select_country",e.SELECT_COUNTRY_DONE="select_country_done",e.INPUT_NUMBER_INTERACTION="input_number_interaction",e.INPUT_CODE_INTERACTION="input_code_interaction",e.PROCEED_OTHER_COUNTRY_CODE="proceed_other_country_code"}(v||(v={})),function(e){e.PHONE_COUNTRY="phone_country",e.PHONE_NUMBER="phone_number",e.COUNTRY="country",e.CITY="city",e.EMAIL="email",e.UNIVERSITY="university",e.FACULTY="faculty",e.SCHOOL="school",e.CHAIR="chair",e.YEAR_FROM="year_from",e.YEAR_TO="year_to",e.CLASS="class",e.EDU_FORM="edu_form",e.EDU_STATUS="edu_status",e.GRADUATION="graduation",e.SPECIALIZATION="specialization",e.RULES_ACCEPT="rules_accept",e.SMS_CODE="sms_code",e.FIRST_NAME="first_name",e.LAST_NAME="last_name",e.SEX="sex",e.BDAY="bday",e.PASSWORD="password",e.FACEBOOK_REGISTRATION="facebook_registration",e.FRIEND_ASK="friend_ask",e.VERIFICATION_TYPE="verification_type",e.SELECT_COUNTRY_NAME="select_country_name"}(g||(g={})),function(e){e.UNAUTH_BOTTOM_BANNER="unauth_bottom_banner",e.UNAUTH_ACTION_BOX="unauth_action_box"}(y||(y={})),function(e){e.OPEN="open",e.CLOSE="close",e.CLICK_SIGN_UP="click_sign_up",e.CLICK_SIGN_IN="click_sign_in",e.CLICK_OPEN_IN_APP="click_open_in_app"}(E||(E={})),function(e){e.LIKE="like",e.SHARE="share",e.MORE="more"}(w||(w={})),function(e){e.ACTION_MENU_SHARE="action_menu_share",e.ACTION_MENU_ADD_TO_FAVOURITES="action_menu_add_to_favourites",e.ACTION_MENU_REMOVE_FROM_FAVOURITES="action_menu_remove_from_favourites",e.ACTION_MENU_ENABLE_NOTIFICATIONS="action_menu_enable_notifications",e.ACTION_MENU_DISABLE_NOTIFICATIONS="action_menu_disable_notifications",e.ACTION_MENU_ALL_APPS="action_menu_all_apps",e.ACTION_MENU_ALL_GAMES="action_menu_all_games",e.ACTION_MENU_COPY="action_menu_copy",e.ACTION_MENU_DELETE="action_menu_delete"}(b||(b={})),function(e){e.CLICK_GAME_CARD="cloud_games_game_click",e.CLICK_DOWNLOAD_GAME="cloud_games_client_download",e.OPEN_SECTION="cloud_games_section_open"}(D||(D={})),function(e){e.SHOW="notifications_request_sent",e.CLOSE="notifications_request_close",e.TIMEOUT_CLOSE="notifications_request_timeout",e.SETTING_OPEN="notifications_request_settings_open"}(C||(C={})),function(e){e.EGG_SHOW="egg_show",e.POPUP_SHOW="popup_show",e.POPUP_ACTION="popup_action"}(P||(P={})),function(e){e.OPEN_MR="OPEN_MR"}(T||(T={})),function(e){e.CLICK_ENTER_LK="click_enter_lk",e.CLICK_VK_PAY="click_vk_pay",e.CLICK_VK_COMBO="click_vk_combo",e.POPUP_OPEN="popup_open",e.POPUP_CLOSE="popup_close",e.SERVICE_NAVIGATION_CLICK="service_navigation_click",e.SERVICE_NAVIGATION_OPEN="service_navigation_open",e.SERVICE_NAVIGATION_CLOSE="service_navigation_close"}(O||(O={}))},771168:(e,t,n)=>{"use strict";n.d(t,{ViewStatCollector:()=>a});var r=n(570655),o=n(136471),a=function(){function e(e){this.productionStatCollector=e}return e.prototype.logEvent=function(e,t){var n,a=(0,r.__assign)((0,r.__assign)({},this.productionStatCollector.getBaseEvent()),((n={type:o.ProductionStatEventTypes.TYPE_VIEW})[o.ProductionStatEventTypes.TYPE_VIEW]=(0,r.__assign)({item:t},e),n));this.productionStatCollector.logEvent(a)},e}()},678927:(e,t,n)=>{"use strict";n.d(t,{MiniAppsEventStatsCollector:()=>i});var r=n(570655),o=n(136471),a=n(76238),i=function(){function e(){this.productStatCollector=new a.ProductionStatCollector,this.viewStatCollector=new a.ViewStatCollector(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,a){var i;void 0===n&&(n=""),void 0===a&&(a="");var s=(0,r.__assign)((0,r.__assign)({},e),t),u=((i={type:o.ViewProductionStatEventTypes.TYPE_MINI_APPS_VIEW_ITEM})[o.ViewProductionStatEventTypes.TYPE_MINI_APPS_VIEW_ITEM]=s,i.start_view=n,i.end_view=a,i);this.viewStatCollector.logEvent(u,e)},e}()},780576:(e,t,n)=>{"use strict";n.d(t,{UnauthorizedSourceType:()=>r});var r={PHOTO:"photo",VIDEO:"video",AUDIO:"audio",COMMENTS:"comments"}},594353:(e,t,n)=>{"use strict";n.d(t,{logout:()=>o});var r=n(262643),o=function(e,t){(0,r.removeLoginCache)(e,t)}},873050:(e,t,n)=>{"use strict";n.d(t,{handleCaptcha:()=>a});var r=n(791563),o=null,a=function(e){return new Promise((function(t){var n={imgSrc:e.captcha_img,onSubmit:function(e,n){t({captcha_sid:e,captcha_key:n}),o&&o.hide()},onHide:function(){return o=null}};o=(0,r.showCaptchaBox)(e.captcha_sid,o,null,n)}))}},919369:(e,t,n)=>{"use strict";n.d(t,{RegistrationFieldItemNames:()=>r.RegistrationFieldItemNames,RegistrationItemEventTypes:()=>r.RegistrationItemEventTypes,EventScreens:()=>r.EventScreens,EventFieldValues:()=>r.EventFieldValues,registrationItemStat:()=>i});var r=n(76238),o=new r.ProductionStatCollector,a=new r.ActionStatCollector(o),i=new r.RegistrationItemStatCollector(a)},121265:(e,t,n)=>{"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[];return e.forEach((function(e){if(e)switch(typeof e){case"string":n.push(e);break;case"object":Object.keys(e).forEach((function(t){e[t]&&n.push(t)}));break;default:n.push(""+e)}})),n.join(" ")}n.d(t,{classNames:()=>r})},443158:(e,t,n)=>{"use strict";n.d(t,{initVKComboIndexPromo:()=>a});var r=n(128533),o=n(874854);function a(){(0,r.tq)().setInteractiveHandler("IndexComboPromo/register",(function(e){var t=(e.payload.dataAttrs||{}).source;o.Unauthorized.showMoreBox(null,0,t)}))}},382419:(e,t,n)=>{"use strict";n.d(t,{initJoinForm:()=>p});var r=n(570655),o=n(705456),a=n(414914),i=n(621260),s=n(313020),u=n(960139),l=n(270442),c=n(919369),_=n(873078),d="join_form_sex";function p(e,t){var n,p=t.from,f=t.bdateMonths,h=t.bdateYears,m=t.proceedAs,v=t.fbApp,g=t.fbState,y=t.fbLocale,E=t.ref,w=t.values,b=void 0===w?{}:w,D=t.onSignInClick,C=t.onNotNowClick,P=window.cur.options||{},T=P.bday||0,O=P.bmonth||0,A=P.byear||0;n="invite"===E?c.EventScreens.REGISTRATION_INVITE_CONFIRM:m?c.EventScreens.START_PROCEED_AS:"box"===E?c.EventScreens.START_BOX:c.EventScreens.START,window.cur.eventScreen=n,c.registrationItemStat.logEvent(c.RegistrationItemEventTypes.SCREEN_PROCEED,c.EventScreens.NOWHERE,n,{force:!0});var k,S,M,I=e.querySelector(".JoinForm__error"),x=e.querySelector('.JoinForm__textInput[name="first_name"]'),L=e.querySelector('.JoinForm__textInput[name="last_name"]'),B=e.querySelector(".JoinForm__birthdateDayInput"),R=e.querySelector(".JoinForm__birthdateMonthInput"),N=e.querySelector(".JoinForm__birthdateYearInput"),U=e.querySelector(".JoinForm__sex"),F=e.querySelectorAll(".JoinForm__sexRadio"),W=e.querySelector(".JoinForm__birthdate"),j=e.querySelector(".JoinForm__submitButton"),K=e.querySelector(".JoinForm__facebookLogin"),H=e.querySelector(".JoinForm__facebookLogin .FacebookLogin__button"),V=e.querySelector(".JoinForm__signIn"),q=e.querySelector(".JoinForm__notNowLink");if(x&&L&&j){var z=function(){if(!_.FlatButton.isLocked(j)){var e={fname:x.value.trim(),lname:L.value.trim(),bday:k.val(),bmonth:S.val(),byear:M.val(),from:p,frm:1,event_screen:n};(0,a.isVisible)(U)&&(e.sex=Number((0,o.radioval)(d))||0),window.tooltips&&window.tooltips.hideAll();var t=function(e,t){e&&t&&window.Index.showRegTT(e,t)};I&&(I.innerHTML=""),window.ajax.post("join.php?act=start",e,{onDone:function(e,n){switch(e){case"first_name":return t(x,n),void(0,o.notaBene)(x);case"last_name":return t(L,n),void(0,o.notaBene)(L);case"sex_row":return(0,a.show)(U),void t(U,n);case"birthdate_row":return void t(W,n)}n&&(0,u.showMsg)(I,n,"error",!0)},showProgress:function(){return _.FlatButton.lock(j)},hideProgress:function(){return _.FlatButton.unlock(j)}})}},Y=function(){var e=Number(k.val())||0,t=Number(S.val())||0,n=Number(M.val())||0,r=new Date(0);e&&r.setDate(e),t&&r.setMonth(t),n&&r.setFullYear(n),c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.BDAY,r.getTime().toString())},$=function(){var e=window.cur;e.isJoinFieldDirty||(c.registrationItemStat.logEvent(c.RegistrationItemEventTypes.START_REG_TAP,e.eventScreen,void 0,{force:!0}),e.isJoinFieldDirty=!0)};if(c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.FIRST_NAME,x.value,!0),x.addEventListener("keyup",(function(){$(),c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.FIRST_NAME,x.value)})),c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.LAST_NAME,L.value,!0),L.addEventListener("keyup",(function(){$(),c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.LAST_NAME,L.value)})),[x,L].forEach((function(e){(0,s.placeholderInit)(e),e.addEventListener("keydown",(function(e){10!==e.keyCode&&13!==e.keyCode||z()}))})),"index"!==E&&requestAnimationFrame((function(){return(0,a.elfocus)(x)})),c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.BDAY,"",!0),k=new window.Dropdown(B,(0,l.generateDays)(A,O),{big_text:!0,multiselect:!1,zeroPlaceholder:!0,selectedItems:T,onChange:function(){$(),Y()}}),S=new window.Dropdown(R,f,{big_text:!0,multiselect:!1,zeroPlaceholder:!0,selectedItems:O,onChange:function(e){$(),Y(),(0,l.updateDayDropdown)(M.val(),e,k,T)}}),M=new window.Dropdown(N,h,{big_text:!0,multiselect:!1,zeroPlaceholder:!0,selectedItems:A,onChange:function(e){$(),Y(),(0,l.updateDayDropdown)(e,S.val(),k,T)}}),window.radioBtns.join_form_sex={els:(0,r.__spreadArray)([],(0,r.__read)(F)),val:0},c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.SEX,Number((0,o.radioval)(d)).toString(),!0),F.forEach((function(e){e.addEventListener("click",(function(){var t=Number(e.dataset.sex);(0,o.radiobtn)(e,t,d),$(),c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.SEX,t.toString())}))})),void 0!==b.sex){var G=b.sex,X=e.querySelector('.JoinForm__sexRadio[data-sex="'+G+'"]');X&&X.click()}if(j.addEventListener("click",(function(e){e.preventDefault(),z()})),v){var Q=window.cur;Q.fbApp=v,Q.fbState=g,Q.fbLocale=y,window.Index.fbCheck(v,"",K)}null==H||H.addEventListener("click",(function(e){e.preventDefault(),window.Index.fbJoin("",H)})),V&&D&&V.addEventListener("click",D),q&&C&&q.addEventListener("click",C);var J=(0,i.curBox)();J&&J.setOptions({onClean:function(){k&&k.destroy(),S&&S.destroy(),M&&M.destroy()}}),window.stManager.add([window.jsc("web/tooltips.js"),"tooltips.css"]).catch((function(){}))}}},270442:(e,t,n)=>{"use strict";n.d(t,{generateDays:()=>a,updateDayDropdown:()=>i});var r=n(659397),o=n(116886);function a(e,t){for(var n=[[0,(0,o.getLang)("index_sel_bday")]],a=(0,r.getLastDayOfMonth)(e,t),i=1;i<=a;++i)n.push([i,String(i)]);return n}function i(e,t,n,o){Number(n.val())>(0,r.getLastDayOfMonth)(e,t)&&n.clear(),n.setData(a(e,t).slice(Number(o)?1:0))}},541575:(e,t,n)=>{"use strict";n.d(t,{replaceExtraHandler:()=>s,_handleResponseExtraPayloads:()=>u});var r=n(257451),o=n(970793),a=n(611386),i=(0,r.makeSharedState)("ajax-extra-handlers",(function(){return new o.default}),{}),s=function(e,t){return i().removeAllListeners(e),function(e,t){return i().addListener(e,t),function(){i().removeListener(e,t)}}(e,t)},u=function(e){var t;null!==(t=e)&&"object"==typeof t&&Object.keys(e).forEach((function(t){try{r=t,o=e[t],i().emit(r,o)}catch(e){var n={message:"Extra response error",data:{extraKey:t}};(0,a.logError)(e,{environment:"ajax_request",breadcrumb:n}),console.error(e)}var r,o}))}},594632:(e,t,n)=>{"use strict";n.d(t,{subscribeOnModuleEvaluated:()=>a,unsubscribeOnModuleEvaluated:()=>i,triggerSubscribersOnModuleEvaluated:()=>s});var r=[],o=[];function a(e,t){void 0===t&&(t=!1),"function"==typeof e&&(t?o.push(e):r.push(e))}function i(e){var t=r.indexOf(e),n=o.indexOf(e);t>=0&&r.splice(t,1),n>=0&&o.splice(n,1)}function s(){r.forEach((function(e){return e()})),o.forEach((function(e){return e()})),o.splice(0,o.length)}},641142:(e,t,n)=>{"use strict";function r(){return window.vk.loginDomain}n.d(t,{getLoginDomain:()=>r})},41437:(e,t,n)=>{"use strict";n.d(t,{getLang:()=>i,default:()=>s});var r=n(897557),o=n(116886),a={};function i(e,t,n){void 0===t&&(t=!1);var i="number"==typeof t,s=t||i,u=e+(s?".raw":"");if(void 0===a[u]){var l=s?(0,o.getLang)(e,"raw"):(0,o.getLang)(e);"string"==typeof l?a[u]=(0,r.decodeHTMLEntities)(l):Array.isArray(l)?a[u]=l.map(r.decodeHTMLEntities):a[u]="object"==typeof l&&null!==l?Object.keys(l).reduce((function(e,t){return e[t]=(0,r.decodeHTMLEntities)(l[t]),e}),{}):l}if(i){var c=t;return(0,o.langNumeric)(c,a[u],n)}return a[u]||""}const s={getLang:i}},91257:(e,t,n)=>{"use strict";n.d(t,{default:()=>u,unpackStore:()=>l});var r=n(503369),o=n(713075),a=n(651988),i=n(442699);function s(e,t){if(!t)return a.default.get(e);a.default.set(e,t)}function u(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=(0,r.debounce)(s,300),u=(0,i.extend)({},e),l=[],c=[];return t.store&&(u=a.default.get(t.key)||u),{get:function(){return u},set:function(e){var r=this,a=(0,o.isWeirdLogging)()?function(e){try{var t={};return Error.captureStackTrace(t,e),t.stack}catch(e){return""}}(this.set):null;return e(u).then((function(e){return u=e,t.store&&n(t.key,e),r.emit(),r})).catch((function(e){return(0,o.imWeirdCatch)("store_set_catch",e,{stack:a})}))},setState:function(e){var t=this;return this.set((function(n){return n=(0,i.extend)(n,e),t.emit(),Promise.resolve(n)}))},stash:function(){l.push(u),u=(0,i.extend)({},e),this.emit()},reset:function(){u=(0,i.extend)({},e),this.emit()},unmount:function(){u={},e=!1,c=[]},pop:function(){l.length>0&&(u=l.pop(),this.emit())},emit:function(){var e=this;c.length>0&&c.forEach((function(t){return t(e)}))},subscribe:function(e){c.includes(e)||c.push(e)},unsubscribe:function(e){c=c.filter((function(t){return t!==e}))},mutate:function(e){e(u),t.store&&n(t.key,u),this.emit()}}}function l(e){return function(e){return!!e.get}(e)?e.get():e}},876905:(e,t,n)=>{"use strict";n.d(t,{LoginBoxForm:()=>s});var r=n(313020),o=n(705456),a=n(791563),i=n(873078),s=function(){function e(e){this.rootEl=e,this.init()}return e.prototype.init=function(){var e=this.rootEl,t=e.querySelector(".LoginBox__form");if(t){var n=e.querySelector(".LoginBox__formExpire"),s=e.querySelector(".LoginBox__buttonSignIn"),u=e.querySelector(".LoginBox__buttonSignUp"),l=e.querySelector('[name="email"]'),c=e.querySelector('[name="pass"]'),_=e.querySelector('[name="ul"]');s&&(l&&(0,r.placeholderInit)(l),c&&(0,r.placeholderInit)(c),null==n||n.addEventListener("click",(function(e){e.preventDefault(),(0,o.checkbox)(n)})),c&&c.addEventListener("input",(function(){t.classList.toggle("LoginBox--showExpire",c.value.trim().length>0)})),u&&(u.onclick=function(){return(0,a.showBox)("join.php",{act:"box",from:window.nav.strLoc}),!1}),t.onsubmit=function(){if(i.FlatButton.isLocked(s))return!1;var e=window.submitQuickLoginForm;if(!e)return!0;var t=l?l.value.trim():"",r=c?c.value.trim():"",a=Number((0,o.isChecked)(n));if(l&&!t)return(0,o.notaBene)(l),!1;if(!r)return(0,o.notaBene)(c),!1;var u={expire_input:a};return _&&_.value&&(u.ul=_.value),e(t,r,{prg:"login_button",params:u}),i.FlatButton.lock(s),!1},requestAnimationFrame((function(){var e;null===(e=l||c)||void 0===e||e.focus()})))}},e}()},102372:(e,t,n)=>{"use strict";n.d(t,{LoginRecentUsersGallery:()=>o});var r=n(570655),o=function(){function e(e){this.containerEl=e,this.viewportEl=e.firstElementChild,this.layerEl=this.viewportEl.firstElementChild,this.initializeSlides()}return e.prototype.init=function(){this.setIndex(0)},e.prototype.initializeSlides=function(){var e;this.slides=(0,r.__spreadArray)([],(0,r.__read)(this.layerEl.children)).map((function(e,t){return{coordX:t*e.offsetWidth,width:e.offsetWidth,el:e}})),this.viewportEl.style.width=(null===(e=this.slides[0])||void 0===e?void 0:e.width)+"px";var t=this.containerEl.offsetWidth,n=this.viewportEl.offsetWidth;this.layerWidth=this.slides.reduce((function(e,t){return t.width+e}),0),this.min=n-(t-n)/2-this.layerWidth,this.max=0},e.prototype.validateIndent=function(e){var t=this.min,n=this.max;return e<t?t:e>n?n:e},e.prototype.calculateIndent=function(e){var t=this.slides,n=t.length?t[e]:null;if(n){var r=n.coordX;return this.validateIndent(-1*r)}return 0},e.prototype.render=function(){var e=this,t=this.calculateIndent(this.currentIndex);requestAnimationFrame((function(){e.layerEl.style.transform="translateX("+t+"px)"})),(0,r.__spreadArray)([],(0,r.__read)(this.layerEl.children)).forEach((function(t,n){t.classList.toggle("LoginRecentUsersGallery__slide--prev2",n===e.currentIndex-2),t.classList.toggle("LoginRecentUsersGallery__slide--active",n===e.currentIndex),t.classList.toggle("LoginRecentUsersGallery__slide--next2",n===e.currentIndex+2)}))},e.prototype.setRelativeIndex=function(e){this.currentIndex=Math.max(0,Math.min(this.currentIndex+e,this.slides.length-1)),this.onChange(this.currentIndex),this.render()},e.prototype.setIndex=function(e){this.currentIndex=Math.max(0,Math.min(e,this.slides.length-1)),this.onChange(this.currentIndex),this.render()},e}()},893683:(e,t,n)=>{"use strict";n.d(t,{MARKET_ALIEXPRESS_APP_ID:()=>r,MARKET_ALIEXPRESS_APP_NAME:()=>o,MARKET_ALIEXPRESS_HOME_URL:()=>a,MARKET_ALIEXPRESS_GROUP_ID:()=>i,MARKET_YOULA_GROUP_ID:()=>s,GROUP_ORDERS_COLUMNS_STORAGE_KEY:()=>u,GROUP_ORDERS_DEFAULT_COLUMNS:()=>l});var r=6706576,o="ae_app",a="https://aliexpress.com",i=36941068,s=198582766,u="GroupOrdersPageTableSettings",l=["fullId","date","status","userName","deliveryOption","totalPrice","merchantComment","colorTags"]},781183:(e,t,n)=>{"use strict";n.d(t,{MARKET_EVENT_COUNTER_SECTION_ID:()=>o,updateMarketMenuEventCounter:()=>a});var r=n(414914),o="page_menu_group_market";function a(e,t){var n=document.querySelector(e+" .ui_rmenu_count");n&&(n.innerHTML=String(t),t>0?(0,r.removeClass)(n,"unshown"):(0,r.addClass)(n,"unshown"))}},324466:(e,t,n)=>{"use strict";n.d(t,{MENTION:()=>i,MENTION_RAW:()=>s,CONTROLLER:()=>u,FAVORITES_ICON_URL:()=>l,ConvoListFolder:()=>o,FOLDER_ALL:()=>d,FOLDER_IMPORTANT:()=>p,FOLDER_MARKED_UNREAD:()=>f,FOLDER_MESSAGE_REQUEST:()=>h,FOLDER_MESSAGE_REQUEST_REJECTED:()=>m,FOLDER_UNREAD:()=>v,FOLDER_UNRESPOND:()=>g,FOLDER_PEER_TAGS:()=>y,FOLDER_NOT_IMPORTANT_MESSAGE_REQUEST:()=>E,FOLDER_BUSINESS_NOTIFY:()=>w,FOLDER_MASKS:()=>b,ConvoAction:()=>_});var r,o,a=n(486353),i=/\[(id|club)(\d+)(?:\:([a-z0-9_\-]+))?\|([^\$]+?)\]/g,s=/(^|[\s.,:\'\";>\)\(])(\*|@)([A-Za-z0-9_\.]{2,32})\s*\((.+?)\)/g,u="al_im.php",l="/images/icons/im_favorites_100.png";!function(e){e.ALL="all",e.IMPORTANT="important",e.MR="mr",e.UNREAD="unread",e.UNRESPOND="unrespond",e.AD_TAG="ad_tag",e.BUSINESS_NOTIFY="business_notify",e.PEER_TAGS="custom_tag"}(o||(o={}));o.AD_TAG;var c,_,d=o.ALL,p=o.IMPORTANT,f="marked_unread",h=o.MR,m="mr_rejected",v=o.UNREAD,g=o.UNRESPOND,y="custom_tag",E="mr_not_important",w=o.BUSINESS_NOTIFY,b=((r={})[o.UNRESPOND]=2,r[o.IMPORTANT]=1,r[o.MR]=256,r[o.BUSINESS_NOTIFY]=8192,r[m]=512,r[o.AD_TAG]=32768,r[f]=1<<20,r);(0,a.partConfigEnabled)("test_folder_masks")&&(b[E]=1<<22),function(e){e.USER="user",e.COMMUNITY="community",e.CHAT="chat",e.CHANNEL="channel",e.MR="mr",e.CHAT_MR="chat_mr",e.EMAIL="email",e.CONTACT="contact",e.BUSINESS_NOTIFY="business_notify"}(c||(c={})),function(e){e.SETTINGS="settings",e.BLOCK="block",e.CHAT_INVITE="chat_invite",e.USER_INVITE="user_invite",e.CREATE_CHAT="create_chat",e.MEDIA="media",e.SEARCH="search",e.PIN_HIDE="pin_hide",e.PIN_UNHIDE="pin_unhide",e.UNPIN="unpin",e.MUTE="mute",e.UNMUTE="unmute",e.CLEAR="clear",e.LEAVE="leave",e.RETURN="return",e.BLOCK_COMMUNITY="block_community",e.ALLOW_COMMUNITY="allow_community",e.BLOCK_NOTIFY="block_notify",e.CALL_AUDIO="call_audio",e.CALL_VIDEO="call_video",e.CALL_APP="call_app",e.UNREAD="unread",e.PIN_CONVO="pin_convo",e.UNPIN_CONVO="unpin_convo",e.CALL_BY_NAME="call_by_name",e.ENABLE_BUSINESS_NOTIFY="enable_business_notify",e.DISABLE_BUSINESS_NOTIFY="disable_business_notify",e.BUSINESS_NOTIFY="business_notify"}(_||(_={}))},575e3:(e,t,n)=>{"use strict";n.d(t,{addChatMembers:()=>i,getConversations:()=>s,renewHash:()=>u,HintsSearchType:()=>r,hints:()=>l,ownerPhoto:()=>c,multiStart:()=>_,ownerPhotoSave:()=>d,kickUser:()=>p,pinConvo:()=>f,unpinConvo:()=>h,getRecommendedContacts:()=>m,resetTopMessageCounter:()=>v,toggleHideFolder:()=>g,start:()=>y});var r,o=n(668660),a=n(324466),i=function(e,t,n,r,i){return(0,o.post)(a.CONTROLLER,{act:"a_add_chat_members",peer:e,new_peer:t.join(","),gid:n,hash:r,show_history:i?1:0})},s=function(e,t,n,r,i){return(0,o.post)(a.CONTROLLER,{act:"a_get_conversations",offset:i,count:r,filter:n,gid:t,hash:e})},u=function(e,t){return(0,o.post)(a.CONTROLLER,{act:"a_renew_hash",peers:e.join(","),gid:t})};!function(e){e.FRIENDS="friends",e.FRIENDS_AND_CONTACTS="friends_and_contacts",e.ALL="all"}(r||(r={}));var l=function(e,t,n,r){return(0,o.post)(a.CONTROLLER,{act:"a_hints",str:e,gid:t,query:n,peerIds:r.join(",")})},c=function(e,t){return(0,o.post)(a.CONTROLLER,{act:"a_owner_photo",photo:e,peer:t})},_=function(e,t,n,r){return(0,o.post)(a.CONTROLLER,{act:"a_multi_start",hash:e,peers:t.join(","),title:n,flags:r})},d=function(e,t,n){return(0,o.post)("al_page.php",{act:"owner_photo_save",peer:e,_query:t,gid:n})},p=function(e,t,n,r){return(0,o.post)(a.CONTROLLER,{act:"a_kick_user",chat:e,hash:n,mid:t,gid:r})},f=function(e,t){return(0,o.post)(a.CONTROLLER,{act:"a_pin_convo",peer_id:e,hash:t})},h=function(e,t){return(0,o.post)(a.CONTROLLER,{act:"a_unpin_convo",peer_id:e,hash:t})},m=function(){return(0,o.post)(a.CONTROLLER,{act:"a_recommend_contacts"})},v=function(){return(0,o.post)(a.CONTROLLER,{act:"a_reset_top_counter"})},g=function(e,t,n){return(0,o.post)(a.CONTROLLER,{act:"a_toggle_hide_folder",folder:e,hidden:Number(t),hash:n})},y=function(e,t,n,r,i,s){return(0,o.post)(a.CONTROLLER,{act:"a_start",peer:e,msgid:t,history:Number(n),prevpeer:r,gid:i,block:s})}},607534:(e,t,n)=>{"use strict";n.d(t,{createAppearanceModifier:()=>o,createSizeModifier:()=>a,createElement:()=>i,setContent:()=>s});var r=n(712459);function o(e){return"FlatButton--"+e}function a(e){return"FlatButton--size-"+e}function i(e,t){var n=document.createElement(e);return t&&(n.className=t),n}function s(e,t){null!=t&&((0,r.emptyNode)(e),"string"==typeof t?e.innerHTML=t:e.appendChild(t))}},873078:(e,t,n)=>{"use strict";n.d(t,{FlatButton:()=>c,FlatButtonAppearance:()=>s.FlatButtonAppearance});var r=n(659397),o=n(717874),a=n(15410),i=n(607534),s=n(287401),u=n(108358);function l(e){return!!e&&e.classList.contains("FlatButton--locked")}var c={isFlatButton:function(e){return Boolean(e&&e.classList&&e.classList.contains("FlatButton"))},lock:function(e){if(e&&!l(e)){var t=e.classList.contains((0,i.createSizeModifier)(s.FlatButtonSize.L)),n=t?(0,a.getIcon24Spinner)().icon:(0,o.getIcon16Spinner)().icon,u=(0,i.createElement)("span",(0,r.classNames)("FlatButton__spinner",{"FlatButton__spinner--l":t}));u.innerHTML=n,e.appendChild(u),e.classList.add("FlatButton--locked")}},unlock:function(e){var t;e&&(null===(t=e.querySelector(".FlatButton__spinner"))||void 0===t||t.remove(),e.classList.remove("FlatButton--locked"))},isLocked:l,render:u.render,setDisabled:function(e,t){void 0===t&&(t=!0),e&&("button"===e.tagName.toLowerCase()&&(e.disabled=t),e.classList.toggle("FlatButton--disabled",t))},setAppearance:function(e,t){e&&Object.values(s.FlatButtonAppearance).forEach((function(n){e.classList.toggle((0,i.createAppearanceModifier)(n),n===t)}))},setSize:function(e,t){e&&Object.values(s.FlatButtonSize).forEach((function(n){e.classList.toggle((0,i.createSizeModifier)(n),n===t)}))},setLabel:function(e,t){var n=null==e?void 0:e.querySelector(".FlatButton__content");n&&(0,i.setContent)(n,t)},setBefore:function(e,t){var n=null==e?void 0:e.querySelector(".FlatButton__in");if(n){var r=e.querySelector(".FlatButton__before");null!=t?r?(0,i.setContent)(r,t):n.prepend((0,u.renderBefore)(t)):null==r||r.remove()}},setAfter:function(e,t){var n=null==e?void 0:e.querySelector(".FlatButton__in");if(n){var r=e.querySelector(".FlatButton__after");null!=t?r?(0,i.setContent)(r,t):n.prepend((0,u.renderAfter)(t)):null==r||r.remove()}}}},108358:(e,t,n)=>{"use strict";n.d(t,{render:()=>i,renderBefore:()=>s,renderAfter:()=>u});var r=n(570655),o=n(659397),a=n(607534);function i(e){var t,n=e.children,i=e.before,l=e.after,c=e.className,_=e.appearance,d=e.size,p=e.round,f=e.wide,h=e.flexWide,m=e.href,v=e.disabled,g=e.restAttrs,y=void 0===g?{}:g,E=(0,r.__assign)({},y);m?(t=document.createElement("a"),E.href=m):(t=document.createElement("button"),E.type||(E.type="button")),t.className=(0,o.classNames)("FlatButton",(0,a.createAppearanceModifier)(_),(0,a.createSizeModifier)(d),{"FlatButton--round":p,"FlatButton--wide":f,"FlatButton--flexWide":h,"FlatButton--disabled":v},c),Object.entries(E).forEach((function(e){var n=(0,r.__read)(e,2),o=n[0],a=n[1];null!=a&&t.setAttribute(o,String(a))})),v&&"button"===t.tagName.toLowerCase()&&(t.disabled=!0);var w=(0,a.createElement)("span","FlatButton__in");t.appendChild(w);var b=(0,a.createElement)("span","FlatButton__content");return(0,a.setContent)(b,n),i&&w.appendChild(s(i)),w.appendChild(b),l&&w.appendChild(u(l)),t}function s(e){var t=(0,a.createElement)("span","FlatButton__before");return(0,a.setContent)(t,e),t}function u(e){var t=(0,a.createElement)("span","FlatButton__after");return(0,a.setContent)(t,e),t}},287401:(e,t,n)=>{"use strict";n.d(t,{FlatButtonAppearance:()=>r,FlatButtonSize:()=>o});var r={PRIMARY:"primary",SECONDARY:"secondary",TERTIARY:"tertiary",POSITIVE:"positive",OVERLAY_PRIMARY:"overlay-primary"},o={S:"s",M:"m",L:"l"}},523845:(e,t,n)=>{"use strict";n.d(t,{UnauthActionBox:()=>_});var r=n(570655),o=n(76238),a=n(136471),i=n(618775),s=n(791563),u=n(659397),l=n(163841),c=n(382419);var _={show:function(e,t){var n=e.withForm,_=new s.MessageBox({title:"",width:n?796:450,hideButtons:!0,containerClass:(0,u.classNames)("UnauthActionBoxContainer",{"UnauthActionBoxContainer--form":n}),onHide:function(){t&&t()}});_.content(e.html),_.changed=!0;var d=_.bodyNode.querySelector(".UnauthActionBox__close"),p=_.bodyNode.querySelector(".UnauthActionBox__join"),f=_.bodyNode.querySelector(".UnauthActionBox__login"),h=function(t){o.marketingTransitionItemStat.logEvent(a.MarketingTransitionItemCampaignType.UNAUTH_ACTION_BOX,t,e.action,window.location.href)};null==d||d.addEventListener("click",(function(){h(a.MarketingTransitionItemEventType.CLOSE),_.hide()})),null==p||p.addEventListener("click",(function(){h(a.MarketingTransitionItemEventType.CLICK_SIGN_UP),(0,i.showJoinBox)()})),null==f||f.addEventListener("click",(function(){h(a.MarketingTransitionItemEventType.CLICK_SIGN_IN),(0,i.showQuickLoginBox)()})),h(a.MarketingTransitionItemEventType.OPEN),_.show();var m=_.bodyNode.querySelector(".LoginCombinedBox"),v=_.bodyNode.querySelector(".JoinForm"),g=function(e){e.preventDefault(),h(a.MarketingTransitionItemEventType.CLOSE),_.hide()};return _.bodyNode.querySelectorAll(".LoginBox").forEach((function(e){(0,l.initLoginBoxForm)(e)})),_.bodyNode.querySelectorAll(".LoginBox__notNow").forEach((function(e){e.addEventListener("click",g)})),_.bodyNode.querySelectorAll(".JoinForm__signIn, .LoginRecentBox__alternative").forEach((function(e){e.addEventListener("click",(function(){h(a.MarketingTransitionItemEventType.CLICK_SIGN_IN)}))})),_.bodyNode.querySelectorAll(".LoginBox__buttonSignUp").forEach((function(e){e.addEventListener("click",(function(){h(a.MarketingTransitionItemEventType.CLICK_SIGN_UP)}))})),m?(0,l.initLoginCombinedBoxForm)(m,e.formOptions):v&&(0,c.initJoinForm)(v,(0,r.__assign)((0,r.__assign)({},e.formOptions),{onSignInClick:function(){(0,i.showQuickLoginBox)()},onNotNowClick:g,ref:"box"})),requestAnimationFrame((function(){return window.tooltips&&window.tooltips.hideAll()})),_}}},874854:(e,t,n)=>{"use strict";n.d(t,{isUnauthorizedMediaLayerBoxAvailable:()=>s,UnauthorizedSourceType:()=>i.UnauthorizedSourceType,Unauthorized:()=>l});var r,o=n(523845),a=n(486353),i=n(780576);function s(){return!window.vk.id&&!window.layers.visible&&(0,a.partConfigEnabled)("unauthorized_media_layer_box")&&!!document.querySelector(".PageBottomBanner--unauth")}var u=!1;var l={initScrollMoreBox:function(e){var t,n=function(){u=!1,window.removeEventListener("scroll",r)};n(),r=function(){var t;u||((null===(t=window.layers)||void 0===t?void 0:t.visible)||window.cur.unauthScrollMoreBox||window.pageYOffset>=2*window.innerHeight&&(u=!0,o.UnauthActionBox.show(e)))},e.showOnLoad&&(u=!0,o.UnauthActionBox.show(e)),window.addEventListener("scroll",r),null===(t=window.cur.beforeNavigateRequestHandlers)||void 0===t||t.push((function(){return n()}))},showMoreBox:function(e,t,n,r){e&&e.preventDefault(),window.ajax.post("/al_index.php?act=a_unauthorized_box",{action:"more",owner_id:t,source:n},{loader:!0,onDone:function(e){e.unauth_action_box?o.UnauthActionBox.show(e.unauth_action_box,r):r&&r()}})}}},881150:(e,t,n)=>{"use strict";n.d(t,{default:()=>i});var r=n(570655),o=n(667294),a=n(659397);const i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.appearance,i=e.wide,s=e.overflow,u=e.size,l=(0,r.__rest)(e,["className","appearance","wide","overflow","size"]),c=e.disabled,_=a.classNames.apply(void 0,(0,r.__spreadArray)((0,r.__spreadArray)(["Button"],(0,r.__read)(function(e){return Array.isArray(e)?e.map((function(e){return"Button--"+e})):["Button--"+e]}(n))),["Button--size-"+u,{"Button--wide":i,"Button--overflow":!!s,"Button--disabled":c},t]));return o.createElement("button",(0,r.__assign)({},l,{className:_}),e.children)},t.defaultProps={appearance:"primary",size:"m",wide:!1,disabled:!1},t}(o.Component)},423558:(e,t,n)=>{"use strict";n.d(t,{default:()=>u});var r=n(570655),o=n(667294),a=n(659397),i=n(880767),s=n(881150);const u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.loading,u=e.children,l=(0,r.__rest)(e,["className","loading","children"]),c=["primary","positive"].some((function(e){return e===l.appearance}));return o.createElement(s.default,(0,r.__assign)({},l,{className:(0,a.classNames)("ButtonWithProgress",{"ButtonWithProgress--loading":n},t)}),o.createElement("span",{className:"ButtonWithProgress__content"},u),n&&o.createElement(i.default,{inverted:c,className:"ButtonWithProgress__progress"}))},t.defaultProps={appearance:"primary",size:"m",wide:!1,disabled:!1,loading:!1},t}(o.Component)},880767:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});var r=n(570655),o=n(667294),a=n(659397),i=function(e){var t=e.inverted,n=e.size,i=e.className,s=(0,r.__rest)(e,["inverted","size","className"]),u=(0,a.classNames)("Progress",{"Progress--inverted":!!t},"Progress--size-"+n,i);return o.createElement("div",(0,r.__assign)({className:u},s),o.createElement("div",{className:"Progress__item"}),o.createElement("div",{className:"Progress__item"}),o.createElement("div",{className:"Progress__item"}))};i.defaultProps={inverted:!1,size:"s"};const s=i},570655:(e,t,n)=>{"use strict";n.d(t,{__extends:()=>o,__assign:()=>a,__rest:()=>i,__awaiter:()=>s,__generator:()=>u,__values:()=>l,__read:()=>c,__spreadArray:()=>_,__asyncValues:()=>d});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}Object.create;function l(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function _(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||t)}function d(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=l(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}Object.create},45327:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},685217:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},171171:(e,t,n)=>{var r=n(685217),o=n(45327);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[a+s]=i[s];return t||o(i)}},194795:function(e,t,n){var r;!function(t){"use strict";function o(){}var a=o.prototype,i=t.EventEmitter;function s(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function u(e){return function(){return this[e].apply(this,arguments)}}function l(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&l(e.listener)}a.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},a.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},a.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},a.addListener=function(e,t){if(!l(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),o="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===s(r[n],t)&&r[n].push(o?t:{listener:t,once:!1});return this},a.on=u("addListener"),a.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},a.once=u("addOnceListener"),a.defineEvent=function(e){return this.getListeners(e),this},a.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},a.removeListener=function(e,t){var n,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&-1!==(n=s(o[r],t))&&o[r].splice(n,1);return this},a.off=u("removeListener"),a.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},a.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},a.manipulateListeners=function(e,t,n){var r,o,a=e?this.removeListener:this.addListener,i=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)a.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"==typeof o?a.call(this,r,o):i.call(this,r,o));return this},a.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},a.removeAllListeners=u("removeEvent"),a.emitEvent=function(e,t){var n,r,o,a,i=this.getListenersAsObject(e);for(a in i)if(i.hasOwnProperty(a))for(n=i[a].slice(0),o=0;o<n.length;o++)!0===(r=n[o]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},a.trigger=u("emitEvent"),a.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},a.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},a._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},a._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=i,o},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof window?window:this||{})}}]);try{stManager.done("dist/common.152e3a9858f6ed65aeb8.js")}catch(e){}