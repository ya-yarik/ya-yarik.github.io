!function(e){function t(t){for(var r,o,n=t[0],c=t[1],s=t[2],_=0,h=[];_<n.length;_++)o=n[_],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(d&&d(t);h.length;)h.shift()();return l.push.apply(l,s||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],r=!0,n=1;n<a.length;n++){var c=a[n];0!==i[c]&&(r=!1)}r&&(l.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},i={"web/article_layer":0},l=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/js/cmodules/";var n=window.webpackJsonp=window.webpackJsonp||[],c=n.push.bind(n);n.push=t,n=n.slice();for(var s=0;s<n.length;s++)t(n[s]);var d=c;l.push([109,"bundles/common","bundles/637aa6036536cb04f3a1f378656a0595","bundles/3113b7f72dc7a6cb1bd72a96856988db"]),a()}({109:function(e,t,a){e.exports=a("VmBg")},VmBg:function(e,t,a){"use strict";a.r(t);a("pIFo"),a("rGqo"),a("Btvt");var r,i,l,o=a("31O9"),n=a("EE0W"),c=a("4+be"),s=a("t7n3"),d=a("zxIV"),_={open:function(e,t,a){var l=this,o=Object(n.getAppropriateImage)(e[0],window.innerWidth,!0),c=o[0],s=h({width:o[1],height:o[2]},{width:window.innerWidth,height:window.innerHeight}),_=Object(d.getW)(a)<s.width&&Object(d.getH)(a)<s.height;if(c&&_){var g=Object(d.se)('<div class="article_full_view"><img class="article_full_view__image"></div>'),u=Object(d.geByTag1)("figcaption",a);u&&u.innerHTML&&g.appendChild(Object(d.se)('<div class="article_full_view__caption"><div class="article_full_view__caption_inner">'+u.innerHTML+"</div></div>")),i=Object(d.se)('<div class="article_full_view__counter"><div class="article_full_view__counter_text"></div><div class="article_full_view__close"></div></div>'),g.appendChild(i),e.length>1&&Object(d.toggleClass)(i,"article_full_view__carousel",e.length>1),Object(d.geByClass1)("_article_layer").appendChild(g),g.addEventListener("click",(function(e){Object(d.domClosest)("article_full_view__caption_inner",e.target)||l.close()})),g.addEventListener("mousewheel",this.close),r=g;var b=Object(d.geByTag1)("img",g);this._showImage(b,e,t),window.articleCloseImageFullSize=this.close.bind(this)}},_showImage:function(e,t,a){(Object(d.toggleClass)(void 0,"article_full_view__nav_hidden",0==a),Object(d.toggleClass)(void 0,"article_full_view__nav_hidden",a==t.length-1),t.length>1)&&(Object(d.geByClass1)("article_full_view__counter_text",i).innerHTML=Object(c.getLang)("global_article_carousel_counter").replace("{counter}",a+1).replace("{total}",t.length));l=a;var r=!1,o=Object(n.getAppropriateImage)(t[a],window.innerWidth,!0),_=o[0],g=h({width:o[1],height:o[2]},{width:window.innerWidth,height:window.innerHeight});if(Object(n.preloadImage)(_,(function(){if(l===a){r=!0,g.width&&Object(s.isNumeric)(g.width)?Object(d.setStyle)(e,{width:g.width,height:g.height}):Object(d.setStyle)(e,{width:null,height:null}),e.src=_,Object(d.removeClass)(e,"article_full_view__image_blurred");for(var i=a;i<Math.min(a+3,t.length);i++){var o=Object(n.getAppropriateImage)(t[i],window.innerWidth,!0)[0];Object(n.preloadImage)(o)}}})))Object(d.removeClass)(e,"article_full_view__image_blurred");else{var u=Object(n.getAppropriateImage)(t[a],200,!0)[0];Object(n.preloadImage)(u,(function(){l===a&&(r||(Object(d.setStyle)(e,{width:g.width,height:g.height}),e.src=u))})),Object(d.addClass)(e,"article_full_view__image_blurred")}},close:function(){return delete window.articleCloseImageFullSize,!!r&&(Object(d.re)(r),r=null,!0)}};function h(e,t){var a=e.width/e.height,r={width:0,height:0};return a>t.width/t.height?(r.width=Math.min(t.width,e.width),r.height=e.height*(r.width/e.width)):(r.height=Math.min(t.height,e.height),r.width=r.height*a),r}var g,u=[],b=!1;function p(e,t,a,r){u.push(`${a}/${e.owner_id}_${e.id}/${r}`),clearTimeout(g),g=setTimeout(()=>{var e=b?"article.php":"al_articles.php";ajax.post(e,{act:"ads_event",events:u.join(","),is_web_view:intval(t.isWebView)}),u=[]},200)}var w,v,y,f,m,j,O,C,S,k,B=a("RbYe"),L=a("FThC"),x=a("v+DW"),T=a("EasH"),A=a("/PiP"),E={},D={},M="",F=!1,I={},P={},R=[],V=[],H=!1;class W{static openEditor(e,t,a,r){if(!W.isStandalone())return W.close(!0),setTimeout(()=>{nav.change({z:`article_edit${t}_${a}`,from_rev:!!r&&1})},100),cancelEvent(e)}static isStandalone(){return!F}static setFaded(e){toggleClass(P.layer,"article_layer__faded",e)}static updateLocation(){var e=0,t=!1;V.forEach(a=>{var r=a.getScreenVisibilityRatio();r>=e&&(t=a.getArticle(),e=r)}),t&&m.raw_id!=t.raw_id&&(m=t,history.replaceState({layer:!0},t.title,t.url),Object(d.lockDocumentTitle)(!1),setDocumentTitle(t.title),Object(d.lockDocumentTitle)(!0))}static _toggleArticleVisibility(e,t){var a=Object(d.ge)("article_view_"+e);t=Object(s.intval)(t),Object(s.intval)(domData(a,"visible"))!=t&&(domData(a,"visible",t),setStyle(a,"visibility",t?"":"hidden"))}static _initArticleView(e,t){if(!W.isArticleWithoutData(e)){var a=gpeByClass("article_layer__content",Object(d.ge)("article_view_"+e.raw_id));a||(Object(d.removeClass)(W._getLastContentEl(),"article_layer__content_wait_next"),a=se(t),V.length>0&&(Object(d.addClass)(a,"article_layer__next_prepared"),requestAnimationFrame(()=>{Object(d.removeClass)(a,"article_layer__next_prepared")})),P.viewsList.appendChild(a));var r=V.length,i=new o.default(e,{getScrollNode:this.getScrollNode.bind(this),getScrollTop:this.getScrollTop.bind(this),isStandalone:W.isStandalone(),objectsInitDelay:0==r?0:350,onScroll:t=>{if(!vk.widget){e.next_article_url&&t>.6&&W._canShowMoreView()&&(W.prepare(e.next_article_url,null,{ref:"scroll"}),Object(d.addClass)(W._getLastContentEl(),"article_layer__content_wait_next")),t>0&&t<1&&0==r&&W._updateScrollSet(e);var a=i.getScreenVisibilityRatio();W.updateLocation(),W._toggleArticleVisibility(e.raw_id,a>0)}},onImageOpen:(e,t,a)=>{_.open(e,a,t)}},{},!0);V.push(i);var l=Object(d.geByClass1)("article_layer_ads_place",a);(class{static init(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(b=a.mobile||a.isWebView,t&&e.ads&&!isEmpty(e.ads)&&!(e.has_more||isArray(e.ads)&&0==e.ads.length)){var r=ce("ins");addClass(r,"mrg-tag"),addClass(r,"article_adsblock"),a.mobile&&addClass(r,"article_adsblock_mobile"),setStyle(r,{display:"block","text-decoration":"none"});var i="";for(var l in a.deviceInfo)a.deviceInfo.hasOwnProperty(l)&&(i+="&"+l+"="+a.deviceInfo[l]);for(var o in e.ads.data["ad-query"]=e.ads.data["ad-query"].replace("%device_info%",i),e.ads.data)e.ads.data.hasOwnProperty(o)&&domData(r,o,""+e.ads.data[o]);t.appendChild(r),window.MRGtag||(window.MRGtag=[]);var n=a.isWebView?{iframeMode:!0}:{},c=e.ads.eventsHash;if(p(e,a,"requested",c),n.onNoAds=()=>{p(e,a,"no_ads",c)},n.onAdsLoaded=()=>{p(e,a,"ads_loaded",c)},n.onAdsClosed=()=>{p(e,a,"ads_closed",c)},n.onAdsSuccess=()=>{p(e,a,"ads_success",c)},n.onAdsClicked=()=>{p(e,a,"ads_clicked",c)},n.onScriptError=()=>{p(e,a,"script_error",c)},window.MRGtagOnAdsImpression=()=>{p(e,a,"ads_impression",c)},window.MRGtag.push(n),!window.mailRuSdsScriptLoaded){var s=document.createElement("script");s.setAttribute("src",e.ads.script),s.setAttribute("async","true"),document.head.appendChild(s),window.mailRuSdsScriptLoaded=!0}}}static wasShown(){return!1}}).init(e,l,I),W._checkBottomReach(),W.moderActionsInit(e,a);var c=Object(d.geByClass1)("article_layer__mentions",a);c&&c.addEventListener("click",e=>{i.sendStats({type:n.ArticleStatsEvents.clickOnMentions})})}}static _getLastContentEl(){var e=geByClass("article_layer__content");return e[e.length-1]}static _initBottomReached(){R.push(()=>{W._checkBottomReach()})}static _checkBottomReach(){var e=Object(d.geByClass1)("article_layer__views");if(W.getScrollTop()+window.innerHeight+200>=e.offsetHeight){if(k)return;var t=V[V.length-1].getArticle();W._canShowMoreView()&&t.next_article_url&&(W.prepare(t.next_article_url),k=setTimeout(()=>{W._loadNextArticle(t.next_article_url),k=!1},300))}}static _canShowMoreView(){return V.length<20}static closeImageFullSize(){return _.close()}static _loadNextArticle(e){W.prepare(e,(e,t)=>{W._initArticleView(t,e)})}static _restoreScroll(e){var t=W._getSavedScroll(e.url);W.setScrollTop(t)}static _deinitLayer(){R.forEach(e=>{var t=W.getScrollNode();t&&t.removeEventListener("scroll",e)}),R.splice(0,R.length),clearTimeout(k)}static _removeAllViews(){V.forEach(e=>{e.deinit()}),V.splice(0,V.length),P.viewsList&&(P.viewsList.innerHTML="")}static show(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!W.isArticleWithoutData(e))if(F=t,void 0!==r&&(I=r),a&&(boxRefreshCoords(boxLoader),Object(d.show)(boxLoader),Object(d.show)(boxLayerWrap)),W._deinitLayer(),layers.fullhide=!1,Object(s.isObject)(e)){var i=e;W._initLayer(),W._initArticleView(i),m=i,W._restoreScroll(i),W._initFooter()}else W.setFaded(!0),W.prepare(e,(e,t,i)=>{W.setFaded(!1),a&&(Object(d.hide)(boxLoader),Object(d.hide)(boxLayerWrap)),W._removeAllViews(),!0!==i.error?(W._initLayer(),W._initArticleView(t,e),m=t,W._restoreScroll(t),W._initFooter(),t.title&&(f=document.title,Object(d.lockDocumentTitle)(!1),setDocumentTitle(Object(s.replaceEntities)(Object(s.stripHTML)(t.title))),Object(d.lockDocumentTitle)(!0)),r.ev&&domClosest("bookmarks_row_type_article",r.ev.target)&&statlogsValueEvent("bookmarks_product_analytics",{item_type:"article",item_owner_id:t.owner_id,item_id:t.id,time:window.getServerTime()}),Object(s.isFunction)(r.onShowDone)&&r.onShowDone()):Object(T.showFastBox)({title:Object(c.getLang)("global_error")},i.error_message||Object(c.getLang)("global_unknown_error"))},{async:r.prepareAsync})}static isShown(){return!!P.layer}static isArticleWithoutData(e){return Object(s.isArray)(e)&&0===e.length}static back(){var e=V.length&&V[0].getArticle();if(W.isStandalone())if(e&&e.is_blog){if(e.from_blog&&window.history&&window.history.length>1)return window.history.back(),!0;location.href=e.owner_href}else location.href="/feed";else history.go(-1)}static close(e){if(!W.isShown())return!0;var t=V.length&&V[0].getArticle(),a=t?t.owner_href:"",r=m.back_url;if(W.isStandalone())return t.is_blog&&t.from_blog&&window.history&&window.history.length>1?(window.history.back(),!0):(window.location.href=r||a||"/feed",!0);if(window.onbeforeunload=!1,layers&&layers.hide&&layers.hide(),vk.widget)window.Rpc&&window.Rpc.callMethod("destroy");else{if(e){W._deinitLayer();var i=-1;window.cur&&cur.articleSequence&&(i=-cur.articleSequence),history.go(i),cur.articleSequence=0}else W._removeAllViews(),Object(d.removeClass)(bodyNode,"body_article_layer"),f&&(Object(d.lockDocumentTitle)(!1),setDocumentTitle(f)),Object(d.re)(P.layer),P.layer=!1,Object(s.isFunction)(C)&&C();y&&y.destroy(),window.FastChat&&FastChat.toggleFastChats(!0),w&&window.removeEventListener("beforeunload",w),w=!1}}static getScrollNode(){return W.isStandalone()?window:P.layer}static getScrollTop(){return W.isStandalone()?scrollGetY():P.layer.scrollTop}static setScrollTop(e){(W.isStandalone()?window.scrollNode:P.layer).scrollTop=e}static _initLayer(){if(!P.layer){if(P.layer=Object(d.geByClass1)("_article_layer"),!P.layer){if(!M)throw new Error("Article layer html not found");P.layer=se(M),document.body.appendChild(P.layer),Object(d.addClass)(bodyNode,"body_article_layer"),setStyle(P.layer,{opacity:1})}P.up=Object(d.geByClass1)("article_layer__up",P.layer),P.darkBtn=Object(d.geByClass1)("article_layer__dark",P.layer),P.closeBtn=Object(d.geByClass1)("article_layer__close",P.layer),P.placeholderCloseBtn=Object(d.geByClass1)("article_layer_placeholder__back_button",P.layer),P.viewsList=Object(d.geByClass1)("article_layer__views",P.layer),j&&P.darkBtn.removeEventListener("click",j),P.darkBtn.addEventListener("click",j=()=>{W._toggleDarkMode(),V[V.length-1].sendStats({type:H?n.ArticleStatsEvents.nightModeOn:n.ArticleStatsEvents.nightModeOff})}),O&&P.closeBtn.removeEventListener("click",O),P.closeBtn.addEventListener("click",O=()=>{(W.close(!0),V.length)&&V[V.length-1].sendStats({type:n.ArticleStatsEvents.close})}),vk.widget&&Object(d.re)(P.up),P.placeholderCloseBtn&&(S&&P.placeholderCloseBtn.removeEventListener("click",S),P.placeholderCloseBtn.addEventListener("click",S=W.close.bind(null,!0))),P.scrollNode=vk.widget||!W.isStandalone()?P.layer:document.scrollingElement,W.isStandalone()||(w&&window.removeEventListener("beforeunload",w),window.addEventListener("beforeunload",w=()=>{window.scrollTo(0,0)})),W.getScrollNode().addEventListener("scroll",e=>{R.forEach(t=>{t(e)})}),R.push(()=>{toggleClass(P.up,"article_layer__up--shown",W.getScrollTop()>0)});var e=Object(d.geByClass1)("article_layer__inner",P.layer);v=se(`<div class='article_anchor_tooltip_content'>${Object(c.getLang)("pages_article_anchor_copy")}</div>`),y=new ElementTooltip(P.layer,{content:v,autoShow:!1,customShow:!0,forceSide:"top",cls:"article_anchor_tooltip",noBorder:!0,onHide:()=>{v.innerHTML=Object(c.getLang)("pages_article_anchor_copy")}}),P.layer.addEventListener("mousemove",t=>{if(toggleClass(P.layer,"article_layer__hover_left",e.contains(t.target)&&t.pageX<115),Object(d.hasClass)(t.target,"article_anchor_button")&&y&&!y.isShown()){var a=t.target.getBoundingClientRect(),r=a.top,i=a.left;y.show();var l=y._ttel.getBoundingClientRect(),o=W.getScrollTop();setStyle(y._ttel,{top:r+o-l.height-5,left:i-l.width/2+13}),t.target.addEventListener("mouseout",()=>{y.hide()})}}),P.layer.addEventListener("click",e=>{if(Object(d.hasClass)(P.layer,"article_layer__hover_left")&&(Object(d.hasClass)(P.up,"article_layer__up--shown")?W.setScrollTop(0):W.back()),Object(d.hasClass)(e.target,"article_anchor_button")&&e.target.id){var t=gpeByClass("article_view",e.target),a=domData(t,"article-url"),r=`${location.protocol}//${location.host}${a}`;Object(d.domClosestByTag)("h1",e.target)?Object(B.copyToClipboard)(r):Object(B.copyToClipboard)(`${r}?anchor=${e.target.id}`),v.innerHTML=Object(c.getLang)("pages_article_anchor_copied")}Object(d.hasClass)(P.layer,"article_layer__hover_right")&&W.close(!0)}),window.FastChat&&window.FastChat.toggleFastChats(!1),W._initBottomReached()}}static _initFooter(){if(vk.id){var e,t,a,r="static",i="fix_shown",l="fix_hidden",o=!1,n=W.getScrollTop(),c=!0;R.push(a=()=>{m||(m=V[0].getArticle());var e=Object(d.ge)("article_view_"+m.raw_id),a=gpeByClass("article_layer__content",e),s=Object(d.geByClass1)("article_layer__content_footer",a);if(a&&s){var h=W.getScrollTop(),g=h<=n;n=h,o!=s&&(t=a.offsetTop+s.offsetTop,_(o,r)),o=s;var u=h+window.innerHeight<t-100;_(s,u?!u||g?i:l:r,c),c=!1}}),a()}function s(e,t){setStyle(e,"transform","translateY("+(t?"0%":"100%"))}function _(t,a,o){var n=domData(t,"state")||r;n!=a&&(e||(n==r?a==i?(s(t,!1),o?(Object(d.addClass)(t,"article_layer__content_footer--fix"),s(t,!0)):e=setTimeout(()=>{Object(d.addClass)(t,"article_layer__content_footer--fix"),e=setTimeout(()=>{s(t,!0),e=!1})})):a==l&&(s(t,!1),e=setTimeout(()=>{Object(d.addClass)(t,"article_layer__content_footer--fix"),e=!1})):n==i?a==l?s(t,!1):a==r&&(s(t,!1),e=setTimeout(()=>{Object(d.removeClass)(t,"article_layer__content_footer--fix"),s(t,!0),e=!1},350)):n==l&&(a==i?s(t,!0):a==r&&(Object(d.removeClass)(t,"article_layer__content_footer--fix"),s(t,!0))),domData(t,"state",a)))}}static onShareBtnClick(e,t){showBox("like.php",{act:"publish_box",object:t},{stat:["page.js","page.css","wide_dd.js","wide_dd.css",jsc("web/sharebox.js")],onFail:function(e){return Object(T.showFastBox)(Object(c.getLang)("global_error"),e||Object(c.getLang)("global_error")),!0}})}static onFaveBtnClick(e,t,a,r,i,l){var o=gpeByClass("article_layer__content",domQuery1(`[data-article-url="${i}"]`));window.stManager.add(["notifier.css","notifier.js"]);var n=!1;Object(s.each)(geByClass("article_layer__content_footer_button_bookmark",o),(e,t)=>{n=toggleClass(t,"activated")}),Object(A.bookmarkArticle)(null,null,t,a,"article",l,!n)}static onReportBtnClick(e,t,a,r){var i=showBox("al_articles.php",{act:"report_box"},{onDone:()=>{var e=geByClass("radiobtn","article_report");radioBtns.article_report={val:0,els:e}},params:{onClean:()=>{delete radioBtns.article_report}}});i.removeButtons(),i.addButton(Object(c.getLang)("box_send"),e=>{W._sendReport(e,t,a,r)}),i.addButton(Object(c.getLang)("global_cancel"),!1,"no")}static _sendReport(e,t,a,r){ajax.post("al_articles.php",{act:"report",owner_id:t,article_id:a,hash:r,reason:radioBtns.article_report.val},{onDone:()=>{curBox().hide(),showDoneBox(Object(c.getLang)("pages_article_report_sent"),{className:"article_done_msg",parentEl:"_article_layer"})},showProgress:x.lockButton.pbind(e),hideProgress:x.unlockButton.pbind(e)})}static _getSavedScroll(e){return(window.ls.get("articles_scrolls")||{})[e]||0}static _updateScrollSet(e){var t=W.getScrollTop(),a=ls.get("articles_scrolls")||{};Object.keys(a).length>100&&(a={}),a[e.url]=t,ls.set("articles_scrolls",a)}static getDarkMode(){return!!Object(s.intval)(localStorage.getItem("article_dark_mode"))}static _toggleDarkMode(e,t){H=toggleClass(P.layer,"article_dark",t),W.isStandalone()&&toggleClass(document.body,"article_dark",H),t?toggleClass(P.layerSubscribeBtn,"black",H):(Object(d.addClass)(P.layerSubscribeBtn,"article_layer_btn_transition"),setTimeout(()=>{Object(d.removeClass)(P.layerSubscribeBtn,"article_layer_btn_transition")},450),Object(d.toggleClassDelayed)(P.layerSubscribeBtn,"black",H)),void 0===t&&vk.id&&ajax.post("al_articles.php",{act:"set_dark_mode",is_on:Object(s.intval)(H)}),localStorage.setItem("article_dark_mode",Object(s.intval)(H))}static clearAllPrepared(){E={}}static clearPrepared(e){e=e.replace(/^\//,""),delete E[e]}static prepare(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t||(t=()=>{}),Object(s.isObject)(e)&&(e=e.url),e=e.replace(/^\//,""),Object(s.isObject)(E[e])){var r=()=>t(...E[e].result);return a.async?void setTimeout(r,0):r()}if(E[e]=E[e]||[],E[e].push(t),!(E[e].length>1)){var i=Object(s.inArray)(cur.module,["groups","profile","public"])?cur.oid:"",l="",o="";a.ref&&(o=a.ref),Object(s.isFunction)(a.onCloseCallBack)&&(C=a.onCloseCallBack),l=cur.authorPage?"author_page_"+cur.authorPage.sortType:cur.module,ajax.post("al_articles.php",{act:"view",url:e,layer:1,wall_owner_id:i,context:l,ref:o},{onDone:(t,a,r,i)=>{var l=E[e]||[];M=t,E[e]={result:[a,r,i]},l.forEach(t=>t.apply(null,E[e].result))},onFail:()=>(Object(s.isFunction)(a.onCloseCallBack)&&a.onFailCallBack(),!0)}),window.cur&&cur.destroy.push(()=>{W.clearPrepared()})}}static clearPrepared(){E={}}static onSubscribeBtnClick(e){if(!Object(x.isButtonLocked)(e)){var t=JSON.parse(domData(e,"data")),a=Object(d.hasClass)(e,"secondary"),r={showProgress:x.lockButton.pbind(e),hideProgress:x.unlockButton.pbind(e),onDone:function(){D[t.oid]=!a,toggleClass(e,"secondary"),t.confirm&&a&&Object(d.hide)(e)}};if(t.oid>0)ajax.post("al_friends.php",{act:a?"remove":"add",mid:t.oid,hash:t.hash},r);else{var i=ajax.post.pbind("al_groups.php",{act:a?"a_leave":"a_enter",gid:-t.oid,hash:t.hash},r);if(t.confirm&&a)var l=Object(T.showFastBox)(t.confirm.title,t.confirm.text,t.confirm.btn,(function(){l.hide(),i()}),Object(c.getLang)("global_cancel"));else i()}}}static moderActionsInit(e,t){var a=e.moder_actions_hash,r=domQuery1("#article_moder_rev_sel",t);r&&r.addEventListener("change",e=>{nav.change({rev:e.target.value}),location.reload()});var i=domQuery1("#article_moder__rev_restore",t);i&&i.addEventListener("click",()=>{r.value&&ajax.post("al_articles.php",{act:"moder_restore_article_rev",hash:a,article_owner_id:e.owner_id,article_id:e.id,revision:Object(s.intval)(r.value)},{showProgress:x.lockButton.pbind(i),onDone:()=>{nav.change({rev:!1}),location.reload()}})});var l=domQuery1("#article_moder__ban_btn",t);if(l){var o=Object(s.intval)(l.getAttribute("data-banned"))?0:1;l.addEventListener("click",()=>{var t={act:"moder_ban_article",hash:a,article_owner_id:e.owner_id,article_id:e.id,do_ban:Object(s.intval)(o)};Object(L.isClaimContent)()&&(t.claim=window.nav.objLoc.claim),ajax.post("al_articles.php",t,{showProgress:x.lockButton.pbind(l),onDone:()=>{location.reload()}})})}}}window.ArticleLayer=W;try{window.stManager.done(window.jsc("web/article_layer.js"))}catch(e){}}});