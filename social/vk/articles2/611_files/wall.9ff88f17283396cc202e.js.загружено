(()=>{"use strict";var e,o,t,r={709857:(e,o,t)=>{var r=t(104855);window.FullWall=r.FullWall;try{stManager.done(jsc("web/wall.js"))}catch(e){}},791139:(e,o,t)=>{t.d(o,{FullWall:()=>i});t(59357),t(283946),t(21466),t(751876);var r=t(414914),a=t(791563),l=t(313020),n=t(109847),i={failed:function(e){if(e)return setTimeout((0,a.showFastBox)(getLang("global_error"),e).hide,2e3),!0},go:function(e,o){return nav.go(e,o,{onFail:i.failed})},scrollCheck:function(e,o){var t,r,a,l,n=lastWindowHeight,s=0,c=[];if(domPN(cur.topRow)!=cur.pgCont&&(cur.topRow=domFC(cur.pgCont)),vk.id&&cur.topRow&&!((window.curNotifier||{}).idle_manager||{}).is_idle){var d=[];for(r=domPS(cur.topRow);r;r=domPS(r))cur.topRow.offsetTop>o&&(cur.topRow=r),r.unseen||(r.unseen=!0,d.push(i.postsGetRaws(r)));for(Page.postsUnseen(d),r=cur.topRow;r&&!((t=s||r.offsetTop)>=o+n);r=a)(s=(a=domNS(r))?a.offsetTop:t+r.offsetHeight)<o&&a&&(cur.topRow=a),LongView&&LongView.register(r,"FullWall"),(l=r.bits||0)>=3||(l|=(t>=o&&t<o+n?1:0)|(s>=o&&s<o+n?2:0))&&(r.bits=l,3==l&&c.push(i.postsGetRaws(r)));LongView&&LongView.onScroll(o,n),Page.postsSeen(c)}},postsGetRaws:function(e){var o,t=indexOf(domPN(e).children,e),r={};if("block_"===e.id.substr(0,6)){r[e.id]=1,r.block=e.id.substr(6);var a=attr(e,"data-contain");a&&(a=a.split(",")).forEach((function(e){e=e.split(":"),r[e[0]]=intval(e[1])||1}))}else(o=e.id.match(new RegExp("^post("+cur.oid+"_\\d+)$","")))&&(r[o[1]]=1,(o=(e.getAttribute("data-copy")||"").match(/^(-?\d+_\d+)$/))&&(r[o[1]]=-1));r.index=t,r.module=cur.module;var l=e.getAttribute("post_view_hash");return l&&(r.hash=l),r},init:function(e,o){if(extend(cur,{options:e,module:"wall",pgStart:e.start,pgOffset:e.offset,pgCount:e.count,pgPerPage:e.per_page,pgCont:ge("page_wall_posts"),pgMore:ge("fw_load_more"),pgPages:ge("fw_pages"),pgMorePrg:ge("fw_more_progress"),pgPreload:o,pgUrl:e.url,pgOnScroll:i.scrollCheck,pgParams:e.params,pgHref:e.href,pgPostProcess:i.loadedPosts,pgNoArrowNav:i.noArrowNav,pgNoNavScroll:!0,articleConvert:e.article_convert_suggest,articleConvertThreshold:e.article_convert_threshold,oid:e.owner_id,postTo:e.owner_id}),Wall.init(e),e.wall_type&&("cards"==e.wall_type||"supp"==e.wall_type||"restore"==e.wall_type||"phone_info"==e.wall_type||nav.objLoc.postponed)||Pagination.init(),cur.destroy.push(Pagination.deinit),!e.with_id&&(Wall.initUpdates(e.add_queues),(!e.wall_type||"cards"!=e.wall_type&&"supp"!=e.wall_type&&"restore"!=e.wall_type&&"phone_info"!=e.wall_type)&&(cur.nav.push((function(e,o,t){var r=e.own;if(delete e.own,delete e.offset,isEmpty(e)&&void 0!==r)return ajax.post("al_wall.php",{act:"s",owner_id:cur.oid,own:t.own||void 0,q:t.q||void 0,lnav:1,offset:t.offset||void 0},{onDone:function(e,o,r,a,n,i,s,c,d,p){ge("fw_summary_wrap").innerHTML=e,Pagination.deinit(),extend(cur,{pgStart:n,pgOffset:i,pgCount:c,pgParams:!!t.own&&{own:1},pgHref:a,pgPages:ge("fw_pages"),pgPreload:d}),toggle(cur.pgMore,c>i+cur.pgPerPage),Wall.cancelEdit();var u=ge("page_wall_posts");u.innerHTML=o,each(geByTag("textarea",u),(function(){(0,l.placeholderSetup)(this,{fast:1})})),Pagination.init(),Wall.initUpdates(p),cur.options.reply_names=extend({},cur.options.reply_names,r),cur.wallType="full_"+(t.own?"own":"all"),nav.setLoc(t),scrollToTop()},showProgress:function(){hide("fw_search_toggler")},hideProgress:function(){show("fw_search_toggler"),window.uiRightMenu&&uiRightMenu.hideProgress(domFC(ge("narrow_column")))},onFail:i.failed}),!1})),ge("wall_search")&&nav.objLoc.q))){var t=cur.options&&cur.options.count;(0,n.saveSearchAttemptStats)(n.serviceWall,0,t,nav.objLoc.q)}},loadedPosts:function(e,o,t,r,a,n,s){if(n)each(geByTag("textarea",cur.pgCont),(function(){(0,l.placeholderSetup)(this,{fast:1})})),Wall.cancelEdit();else{for(var c=0,d=cur.pgCont.lastChild;d&&++c<=cur.pgPerPage;d=d.previousSibling)(0,l.placeholderSetup)(geByTag1("textarea",d),{fast:1});s=r}cur.options.reply_names=extend({},cur.options.reply_names,s),i.updateSummary(e)},updateSummary:function(e){ge("fw_summary").innerHTML=e?langNumeric(e,"%s",!0):""},noArrowNav:function(){return cur.__focused||(ge("own_reply_field")||{}).focused||cur.editingPost},initOnePost:function(e,o){var t=e.post_raw;e.view_hash&&!window._postsViewHash&&(window._postsViewHash=e.view_hash),Page.postsSeen(e.seen),extend(cur,{onepost:!0,options:e,module:"wall",docked:!1,pgStart:e.start,pgOffset:e.offset,pgCount:e.count,pgPerPage:e.per_page,pgCont:ge("replies"+t),pgMore:ge("fw_load_more"),pgPages:ge("fw_pages"),pgPreload:o,pgUrl:e.url,pgParams:e.params,pgHref:e.href,pgPostProcess:i.loadedReplies,pgOnScroll:i.onePostOnScroll,pgNoArrowNav:i.noArrowNav,pgNoNavScroll:!0,oid:e.owner_id,pid:e.post_id,nid:e.note_id,named:{replies:ge("fw_one_replies_wrap")},wallUploadOpts:e.upload,deepActive:hasClass(ge("post"+t),"deep_active")&&!e.note_id}),Wall.init(e),cur.deepActive?(e.scroll&&("scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),setTimeout((function(){scrollToY(e.scroll)}),0)),addEvent(window,"scroll",i.onePostOnScroll),addEvent(window,"resize",i.onePostOnScroll),cur.destroy.push((function(){removeEvent(window,"scroll",i.onePostOnScroll),removeEvent(window,"resize",i.onePostOnScroll)}))):(Pagination.init(e.scroll),cur.destroy.push(Pagination.deinit)),i.onePostOnScroll(),Wall.initUpdates(e.add_queues)},scrollToEnd:function(){var e=cur.addBlockTop+cur.addBlockHeight+20-lastWindowHeight;scrollGetY()<e&&(cur.deepActive?scrollToY(e,0):Pagination.setScroll(e))},onePostOnScroll:function(e,o){var t=cur.options.post_raw||"",a=ge("reply_box_wrap"+t)||ge("reply_box_donut"+t),l=a&&domFC(a);if(l){if(!1!==o&&void 0!==o||(o=intval(scrollGetY())),cur.addBlockTop=intval(getXY(a)[1]),cur.deepActive){var n=ge("reply_fakebox"+t);if(n){cur.addBlockHeight=(0,r.getSize)(n)[1];var i=getStyle(n,["marginTop","marginBottom"]);cur.addBlockHeight+=intval(i.marginTop)+intval(i.marginBottom)}else cur.addBlockHeight=(0,r.getSize)(l)[1]}else cur.addBlockHeight=(0,r.getSize)(l)[1];var s=o+lastWindowHeight<cur.addBlockTop+cur.addBlockHeight,c=s?Math.min(0,Math.max(-bodyNode.scrollLeft,bodyNode.clientWidth-(0,r.getSize)(ge("page_layout"))[0])):null,d=Math.min(0,o+lastWindowHeight-getXY("fw_replies_header")[1]-cur.addBlockHeight);if(setStyle(l,{marginLeft:c,bottom:d}),s?(e&&cur.docked||setStyle(a,"height",cur.addBlockHeight),cur.docked||(setStyle(l,"width",(0,r.getSize)(a)[0]),addClass(l,"fixed"),cur.docked=!0)):cur.docked&&(setStyle(l,{width:null,marginLeft:null}),setStyle(a,"height",""),removeClass(l,"fixed"),cur.docked=!1),cur.deepActive){var p=ge("replies"+t),u=domLC(p);if(u&&hasClass(u,"replies_next")&&isVisible(u))o+500>getXY(u,!0)[1]&&u.onclick()}}},onNewReplySent:function(e,o,t,r){var a=cur.oid+"_"+cur.pid;cur.wallMyReplied[a]=0;var l=ge("replies"+a);val(l,o);var n=ge("post"+a);Wall.incReplyCounter(n,1,e),Wall.isDescRepliesOrder(a)?scrollToY(getXY(l)[1]-30):setTimeout(i.scrollToEnd,0),extend(cur.options.reply_names,r),nav.setLoc(extend(nav.objLoc,{offset:t||null}))},onReplySent:function(e,o,t,r,a,l,n){cur.wallMyReplied[cur.oid+"_"+cur.pid]=0,Pagination.loaded.apply(window,arguments),setTimeout(i.scrollToEnd,0),a&&r&&nav.setLoc(extend(nav.objLoc,{offset:r}))},loadedReplies:function(e,o,t,r,a,l,n){l||(n=r),cur.options.reply_names=extend({},cur.options.reply_names,n),i.onePostOnScroll(),i.repliesSummary(e)},repliesSummary:function(e){var o=ge("fw_summary");o&&(o.innerHTML=e?getLang("wall_n_replies",e):getLang("wall_no_replies"),show(o.parentNode),Likes.update("wall"+cur.oid+"_"+cur.pid,{comment_num:e}))},addTetaTet:function(e,o){var t={own_reply_link:"",tet_a_tet:""};return o[9]&&o[9]!=o[2].split("_")[0]&&cur.wallTpl.tet_a_tet?t.tet_a_tet=cur.wallTpl.tet_a_tet.replace("%from_uid%",o[9]):t.own_reply_link=cur.wallTpl.own_reply_link.replace("%post_id%",o[2]),t},notePart:function(e,o){hide(e),show(o)},doSearch:function(e,o){uiSearch.showProgress(e),nav.objLoc[0].split("/").length>1?nav.change({0:"wall"+cur.oid,q:o||!1,search:!o&&1,offset:!1}):nav.change({q:o||!1,search:!o&&1,offset:!1,own:!1})},calendar:function(){stManager.add(["ui_controls.js",window.jsc("web/datepicker.js"),"datepicker.css"],(function(){cur.wallDP||(cur.wallSD=val("wall_datesearch"),cur.wallDP=new Datepicker(ge("wall_datesearch"),{width:140,resfmt:"plain",addRows:nav.objLoc.day?`<tr><td class="cal_clear" colspan="7"><a onclick="uiSearch.showProgress('wall_search'); nav.change({day: false, offset: false, search: nav.objLoc.q ? false : 1})" id="wall_cal_clear_lnk">${getLang("wall_clear_date_filter")}</a></td></tr>`:"",onUpdate:function(){if(cur.wallSD!=val("wall_datesearch")){var e=val("wall_datesearch").split(".");uiSearch.showProgress("wall_search"),nav.change({day:(e[0]<10?"0":"")+e[0]+(e[1]<10?"0":"")+e[1]+e[2],search:!1,offset:!1})}},pastActive:!0,noFuture:!0})),triggerEvent(geByClass1("datepicker_control",ge("wall_datesearch_cont")),"mousedown",!1,!0)}))}}},104855:(e,o,t)=>{t.d(o,{FullWall:()=>r.FullWall});var r=t(791139)}},a={};function l(e){var o=a[e];if(void 0!==o)return o.exports;var t=a[e]={id:e,loaded:!1,exports:{}};return r[e].call(t.exports,t,t.exports,l),t.loaded=!0,t.exports}l.m=r,e=[],l.O=(o,t,r,a)=>{if(!t){var n=1/0;for(d=0;d<e.length;d++){for(var[t,r,a]=e[d],i=!0,s=0;s<t.length;s++)(!1&a||n>=a)&&Object.keys(l.O).every((e=>l.O[e](t[s])))?t.splice(s--,1):(i=!1,a<n&&(n=a));if(i){e.splice(d--,1);var c=r();void 0!==c&&(o=c)}}return o}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[t,r,a]},l.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return l.d(o,{a:o}),o},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var a=Object.create(null);l.r(a);var n={};o=o||[null,t({}),t([]),t(t)];for(var i=2&r&&e;"object"==typeof i&&!~o.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((o=>n[o]=()=>e[o]));return n.default=()=>e,l.d(a,n),a},l.d=(e,o)=>{for(var t in o)l.o(o,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},l.e=()=>Promise.resolve(),l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),l.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={3744:0};l.O.j=o=>0===e[o];var o=(o,t)=>{var r,a,[n,i,s]=t,c=0;for(r in i)l.o(i,r)&&(l.m[r]=i[r]);if(s)var d=s(l);for(o&&o(t);c<n.length;c++)a=n[c],l.o(e,a)&&e[a]&&e[a][0](),e[n[c]]=0;return l.O(d)},t=self.webpackChunkvk=self.webpackChunkvk||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var n=l.O(void 0,[8592],(()=>l(709857)));n=l.O(n)})();