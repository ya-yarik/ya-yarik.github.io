(()=>{"use strict";var r,e,s,t={79860:(r,e,s)=>{s.d(e,{default:()=>i});s(940851),s(296253);var t=s(64385),o=s(414914);class i{static enter(r,e){var s={act:"enter",gid:r,hash:e,context:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",trackcode:arguments.length>3&&void 0!==arguments[3]?arguments[3]:""};return new Promise(((r,e)=>{t.ajax.post("al_groups.php",s,{onDone(e){r(e)},onFail(){e()}})}))}static inlineProgress(r){r.backhtml||(r.backhtml=r.innerHTML);return[()=>{var e=(0,o.getSize)(r).w;r.innerHTML='<span class="progress_inline"></span>',setStyle((0,o.domFC)(r),{width:e})},()=>{r.innerHTML=r.backhtml}]}}},903283:(r,e,s)=>{s.d(e,{GROUPS_LIST_STATUS_DECLINED:()=>t,GROUPS_LIST_STATUS_MARKED_AS_SPAM:()=>o,GROUPS_LIST_STATUS_UNSUBSCRIBED:()=>i,GROUPS_LIST_STATUS_INVITED:()=>c,GROUPS_LIST_STATUS_ACCEPTED:()=>n,GROUPS_LIST_STATUS_UNSURE:()=>a,GROUPS_LIST_STATUS_UNDECIDED:()=>l,GROUPS_LIST_STATUS_SUBSCRIBED:()=>u});var t=-1,o=-2,i=-3,c=0,n=1,a=3,l=4,u=5},79018:(r,e,s)=>{s.d(e,{initGroupLinksTracking:()=>c,getGroupsTrackCodeAttr:()=>a});s(991181),s(296253);var t=s(917685),o=s(414914),i=s(705456);function c(){setTimeout((function(){var r=(0,o.domQuery)("a[data-group-track-type='link']",ge("page_body"));Object.keys(r).forEach((e=>{var s=r[e];(0,t.addEvent)(s,"click",n),cur.destroy.push(t.removeEvent.pbind(s,"click"))}))}),3e3)}function n(r){var e=r.target;if(!e)return!0;if((0,i.linkLocked)(e))return!0;var s=(0,o.domData)(e,"group-track-code"),t=(0,o.domData)(e,"group-track-type");if(!s||!t)return!0;var c={act:"track",group_id:-cur.oid,track_code:s,type:t};return ajax.post("al_groups.php",c,{onDone:function(){(0,i.unlockLink)(e)}}),!0}function a(r){return(0,o.domData)(r,"trackcode")}},600005:(r,e,s)=>{s.d(e,{GroupsList:()=>f});s(530522),s(66108),s(991181),s(579665),s(95767),s(820075),s(976142),s(283946),s(59357),s(940851),s(296253),s(209865);var t=s(705456),o=s(190148),i=s(791563),c=s(116886),n=s(903283),a=s(109847),l=s(79860),u=s(414914),h=s(79018),d=s(901659);function p(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(r)))return;var s=[],t=!0,o=!1,i=void 0;try{for(var c,n=r[Symbol.iterator]();!(t=(c=n.next()).done)&&(s.push(c.value),!e||s.length!==e);t=!0);}catch(r){o=!0,i=r}finally{try{t||null==n.return||n.return()}finally{if(o)throw i}}return s}(r,e)||function(r,e){if(!r)return;if("string"==typeof r)return g(r,e);var s=Object.prototype.toString.call(r).slice(8,-1);"Object"===s&&r.constructor&&(s=r.constructor.name);if("Map"===s||"Set"===s)return Array.from(s);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return g(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(r,e){(null==e||e>r.length)&&(e=r.length);for(var s=0,t=new Array(e);s<e;s++)t[s]=r[s];return t}var f={rand:function(){return Math.floor(1e4*Math.random())},toggleFave:function(r,e,s,o){var i=parseInt(r.getAttribute("data-value"))?1:0;ajax.post("fave.php",{act:i?"a_delete_group":"a_add_group",gid:e,hash:s},{onDone:s=>{val(r,s),r.setAttribute("data-value",1-i),this.updateGroupField(e,12,1-i)},showProgress:t.lockActionsMenuItem.pbind(r),hideProgress:t.unlockActionsMenuItem.pbind(r)}),cancelEvent(o)},toggleSubscription:function(r,e,s,o){var i=parseInt(r.getAttribute("data-value"))?1:0;ajax.post("al_wall.php",{act:"a_toggle_posts_subscription",subscribe:i?0:1,oid:-e,hash:s},{onDone:s=>{val(r,s),r.setAttribute("data-value",1-i),this.updateGroupField(e,13,1-i)},showProgress:t.lockActionsMenuItem.pbind(r),hideProgress:t.unlockActionsMenuItem.pbind(r)}),cancelEvent(o)},subscribe:function(r,e,s,o){var n=hasClass(r,"flat_button");if(!(n&&(0,t.isButtonLocked)(r)||(0,t.actionsMenuItemLocked)(r))){var a=n?hasClass(r,"secondary"):!cur.scrollList.deleted[e];!function o(l){ajax.post("al_groups.php",{act:a?"list_leave":"list_enter",gid:e,hash:s,confirm:l},{showProgress:(n?t.lockButton:t.lockActionsMenuItem).pbind(r),hideProgress:(n?t.unlockButton:t.unlockActionsMenuItem).pbind(r),onDone:function(s,t,l){if(t){var u=(0,i.showFastBox)((0,c.getLang)("global_warning"),t,(0,c.getLang)("group_leave_group"),(function(){u.hide(),o(1)}),(0,c.getLang)("global_cancel"));return!0}if(val(r,s),cur.scrollList.deleted[e]=a,n)toggleClass(r,"secondary",!a);else{var h=domClosest("_gl_row",r);toggleClass(h,"deleted",a),l&&addClass(h,"closed")}},onFail:function(r){setTimeout((0,i.showFastBox)((0,c.getLang)("global_error"),r).hide,3e3)}})}()}},updateGroupField:function(r,e,s){cur.scrollList&&cur.scrollList.lists&&each(cur.scrollList.lists,(function(){if(this&&this.length)for(var t=0,o=this.length;t<o;++t)if(this[t][2]==r){this[t][e]=s;break}}))},subscribeFromGroupsRecommendations(r,e,s){if((0,t.linkLocked)(r))return!0;var i=(0,u.domPN)(r),c=p(l.default.inlineProgress(i),2),n=c[0],a=c[1];return(0,t.lockLink)(r),n(),l.default.enter(e,s,"",(0,h.getGroupsTrackCodeAttr)(r)).then((()=>{var e=(0,u.domPN)((0,u.domPN)(i)),s=(0,u.domPN)(e),t=(0,u.geByClass1)("unshown",s);t&&(0,u.domInsertBefore)(t,r),(0,o.fadeOut)(e,500,(()=>{(0,u.re)(e),t||(0,u.geByClass1)("right_list_row",s)?(0,o.fadeIn)(t,200,(()=>(0,u.removeClass)(t,"unshown"))):(0,o.slideUp)("groups_recommendations",100)}))})).finally((()=>{(0,t.unlockLink)(r),a()})),!0},enter:function(r,e,s,o,a){if(cur.invSwitching)return setTimeout((()=>this.enter(r,e,s,o,a)),100),!1;var h,d,g=cur.scrollList.tab;if("button"!=r.tagName.toLowerCase()){var f=p(l.default.inlineProgress(r),2);h=f[0],d=f[1]}else h=t.lockButton.pbind(r),d=t.unlockButton.pbind(r);var _=this.rand(),v=this.rand();cur.scrollList[_]=v,cur.invSwitching=!0,ajax.post("/al_groups.php",{act:"enter",gid:e,hash:s,context:"2"+(o?"_"+o:"")},{onDone:(r,s)=>{if(cur.invSwitching=!1,cur.scrollList&&cur.scrollList[_]==v){var t=cur.scrollList.lists[g],i=a?n.GROUPS_LIST_STATUS_SUBSCRIBED:n.GROUPS_LIST_STATUS_ACCEPTED;if("unsure"==o?i=a?n.GROUPS_LIST_STATUS_SUBSCRIBED:n.GROUPS_LIST_STATUS_UNSURE:"decline"==o?i=a?n.GROUPS_LIST_STATUS_UNSUBSCRIBED:n.GROUPS_LIST_STATUS_DECLINED:"undecided"==o&&(i=n.GROUPS_LIST_STATUS_UNDECIDED),t&&"loading"!=t&&"update"!=t)for(var c=0,l=t.length;c<l;++c)t[c][2]==e&&(t[c][1]=i);else cur.scrollList.processed[g][e]=i;if(r&&cur.scrollList.lists.groups){var h=cur.scrollList.lists.groups;if("join"!=o&&"unsure"!=o&&o){if("undecided"==o)for(var d in h)h[d][2]==r[2]&&(h.splice(d,1),cur.scrollList.counts.groups--)}else h.unshift(r),cur.scrollList.counts.groups++;this.updateIndexer(h),this.showMore(!0)}TopNotifier&&!TopNotifier.shown()&&TopNotifier.invalidate();var p=ge("gl_inv"+e),f=p&&(0,u.geByClass1)("group_row_status",p);p&&(f.basehtml=f.innerHTML,f.innerHTML=s)}},onFail:function(r){if(r)return setTimeout((0,i.showFastBox)((0,c.getLang)("global_error"),r).hide,3e3),!0},showProgress:h,hideProgress:d})},leave:function(r,e,s,o){if(cur.invSwitching)return setTimeout((()=>this.leave(r,e,s,o)),100),!1;if(!r.firstChild||"progress_inline"!=r.firstChild.className){var i,c,a=this.rand(),l=this.rand(),h=cur.scrollList.tab;cur.scrollList[a]=l,"button"!=r.tagName.toLowerCase()?(r.backhtml||(r.backhtml=r.innerHTML),i=function(){var e=getSize(r)[0];r.innerHTML='<span class="progress_inline"></span>',setStyle(domFC(r),{width:e})},c=function(){r.innerHTML=r.backhtml}):(i=t.lockButton.pbind(r),c=t.unlockButton.pbind(r)),cur.invSwitching=!0,ajax.post("/al_groups.php",{act:"leave",gid:e,hash:s,context:2},{onDone:function(r,s){if(cur.invSwitching=!1,cur.scrollList&&cur.scrollList[a]==l){var t=cur.scrollList.lists[h];if(t&&"loading"!=t&&"update"!=t)for(var o=0,i=t.length;o<i;++o)t[o][2]==e&&(t[o][1]=n.GROUPS_LIST_STATUS_DECLINED);else cur.scrollList.processed[h][e]=n.GROUPS_LIST_STATUS_DECLINED;TopNotifier&&!TopNotifier.shown()&&TopNotifier.invalidate();var c=ge("gl_inv"+e),d=c&&(0,u.geByClass1)("group_row_status",c);c&&(d.basehtml=d.innerHTML,d.innerHTML=s)}},showProgress:i,hideProgress:c})}},spam:function(r,e,s){if(!domFC(r)||"progress_inline"!=domFC(r)){var t=this.rand(),o=this.rand(),i=cur.scrollList.tab;cur.scrollList[t]=o,ajax.post("/al_groups.php",{act:"spam",gid:e,hash:s,context:1},{onDone:function(r){if(cur.scrollList&&cur.scrollList[t]==o){var s=cur.scrollList.lists[i];if(s&&"loading"!=s&&"update"!=s)for(var c=0,a=s.length;c<a;++c)s[c][2]==e&&(s[c][1]=n.GROUPS_LIST_STATUS_MARKED_AS_SPAM);else cur.scrollList.processed[i][e]=n.GROUPS_LIST_STATUS_MARKED_AS_SPAM;var l=ge("gl_inv"+e),h=l&&(0,u.geByClass1)("group_row_status",l);l&&(h.innerHTML=r)}},showProgress:function(){r.oldhtml=r.innerHTML;var e=getSize(r)[0];r.innerHTML='<span class="progress_inline"></span>',setStyle(domFC(r),{width:e})},hideProgress:function(){r.innerHTML=r.oldhtml}})}},cancel:function(r,e,s){if(!domFC(r)||"progress_inline"!=domFC(r).className){var t=this.rand(),o=this.rand(),i=cur.scrollList.tab;cur.scrollList[t]=o,ajax.post("/al_groups.php",{act:"cancel",gid:e,hash:s,context:1},{onDone:()=>{if(cur.scrollList&&cur.scrollList[t]==o){var r=cur.scrollList.lists[i];if(r&&"loading"!=r&&"update"!=r){for(var s in r)r[s][2]==e&&(r.splice(s,1),cur.scrollList.counts.groups--);this.updateIndexer(r),this.showMore(!0)}else cur.scrollList.processed[i][e]=n.GROUPS_LIST_STATUS_INVITED;var c=ge("gl_inv"+e),a=c&&(0,u.geByClass1)("group_row_status",c);c&&a&&a.basehtml&&(a.innerHTML=a.basehtml)}},showProgress:function(){r.oldhtml=r.innerHTML;var e=getSize(r)[0];r.innerHTML='<span class="progress_inline"></span>',setStyle(domFC(r),{width:e})},hideProgress:function(){r.innerHTML=r.oldhtml}})}},updateIndexer:function(r){cur.scrollList.cache.groups={all:[]};var e=cur.scrollList.cache.groups;for(var s in r)r.hasOwnProperty(s)&&e.all.push(s);cur.scrollList.index.groups=new vkIndexer(e.all,(function(e){return r[e][0]}))},rejectAll:function(r,e){(0,i.showFastBox)((0,c.getLang)("global_warning"),(0,c.getLang)("groups_sure_reject_all"),(0,c.getLang)("groups_reject_all_inv"),(function(r){ajax.post("/al_groups.php",{act:"reject_all",hash:e},{showProgress:t.lockButton.pbind(r),hideProgress:t.unlockButton.pbind(r)})}),(0,c.getLang)("global_cancel"))},scrollCheck:function(){if(!browser.mobile&&cur.scrollList){var r=ge("ui_"+cur.scrollList.tab+"_load_more"),e=ge("ui_search_load_more");if(isVisible(r)||(r=e,isVisible(r))){var s=document.documentElement,t=window.innerHeight||s.clientHeight||bodyNode.clientHeight,o=scrollGetY();(o+t>r.offsetTop||cur.searchOffset&&o+2*t>r.offsetTop)&&this.showMore()}}},initScroll:function(){this.destroyScroll(),this._scrollCheck=()=>this.scrollCheck(),addEvent(window,"scroll",this._scrollCheck),addEvent(window,"resize",this._scrollCheck)},destroyScroll:function(){removeEvent(window,"scroll",this._scrollCheck),removeEvent(window,"resize",this._scrollCheck)},locNav:function(r,e,s){var t=r.tab,o=t||("events"==s.act?"future":"groups");if(delete r.tab,isEmpty(r)&&void 0!==t)return hide("groups_list_tab_"+cur.scrollList.tab),this.updateSummary(cur.scrollList.counts[cur.scrollList.tab]),cur.scrollList.tab=o,cur.scrollList.summary=(0,u.geByClass1)("ui_tab_count",ge("groups_"+o+"_tab")),show("groups_list_tab_"+o),checkPageBlocks(),nav.setLoc(s),window.uiSearch&&uiSearch.reset(cur.scrollList.query,!0),elfocus(cur.scrollList.query),this.updateSummary(cur.scrollList.counts[o]),cur.scrollList.offset=ge("groups_list_"+o).childNodes.length,this.showMore(!0),window.uiTabs&&uiTabs.hideProgress(ge("groups_"+o+"_tab")),!1},init:function(r){extend(cur,{module:"groups_list",_back:{text:(0,c.getLang)("groups_back_to_list"),show:[()=>this.initScroll,elfocus.pbind("groups_list_search")],hide:[()=>this.destroyScroll]},scrollList:{tab:r.tab,url:"al_groups.php",params:{act:"get_list",mid:r.mid},prefix:"groups_list_",query:ge("groups_list_search"),queryCont:gpeByClass("_wrap",ge("groups_list_search")),queryWrap:ge("group_u_search_input_wrap"),summary:(0,u.geByClass1)("ui_tab_count",ge("groups_"+(r.tab||"groups")+"_tab")),searchSummary:ge("groups_search_summary"),invites:ge("groups_invites_wrap"),invitesPreload:ge("groups_invites_preload"),invitesMoreLnk:ge("ui_invites_load_more"),searchWrap:ge("groups_list_search_wrap"),searchCont:ge("groups_list_search_cont"),eventsPopular:ge("events_popular_list"),perpage:20,offset:ge("groups_list_"+r.tab).childNodes.length,lists:{},cache:{},index:{},deleted:{},processed:{groups:{},admin:{},inv:{},future:{},past:{},events_concerts:{}},filtered:{},queries:{},counts:r.counts,genEmpty:r.genEmpty,genRow:r.genRow,genSummary:r.genSummary,genGroupsSummary:r.genGroupsSummary,invShown:r.invShown},filter:r.filter}),setTimeout(elfocus.pbind(cur.scrollList.query),0),cur.nav.push((()=>this.locNav)),setTimeout((()=>this.load),0),vk.version?addEvent(window,"load",(()=>this.initScroll)):this.initScroll(),cur.destroy.push((r=>{r==cur&&this.destroyScroll()})),"search"===nav.objLoc.from&&(cur.searchSeoMode=!0)},updateSummary:function(r,e){val(e?cur.scrollList.searchSummary:cur.scrollList.summary,r?langNumeric(r,"%s",!0):"")},load:function(r,e){var s=e||cur.scrollList.tab;if(!cur.scrollList.lists[s]){var t=this.rand(),o=this.rand();cur.scrollList[t]=o,cur.scrollList.lists[s]="loading",ajax.post(cur.scrollList.url,extend(cur.scrollList.params,{tab:s}),{onDone:e=>{if(cur.scrollList&&cur.scrollList[t]==o){var i="update"==cur.scrollList.lists[s];if(i||"loading"==cur.scrollList.lists[s]){cur.scrollList.cache[s]={all:[]};for(var c=cur.scrollList.processed[s],n=0,a=e.length;n<a;++n){var l=c[e[n][2]];l&&(e[n][1]=l),cur.scrollList.cache[s].all.push(n)}cur.scrollList.indexing||(cur.scrollList.indexing={}),cur.scrollList.indexing[s]=!0,cur.scrollList.lists[s]=e;var u=i?()=>{cur.scrollList&&cur.scrollList[t]==o&&cur.scrollList.tab==s&&this.showMore(r)}:function(){};cur.scrollList.index[s]=new vkIndexer(cur.scrollList.cache[s].all,(function(r){return delete cur.scrollList.indexing[s],cur.scrollList.lists[s][r][0]}),u)}}},local:1})}},getHighlight:function(r){var e=cur.scrollList.index[cur.scrollList.tab],s=e.delimiter,t=e.trimmer;return r+=" "+((0,c.parseLatin)(r)||""),r=(r=escapeRE(r).replace(/&/g,"&amp;")).replace(t,"").replace(s,"|").replace(/(^\||\|$)/g,""),{re:new RegExp("("+r+")","gi"),val:'<span class="highlight">$1</span>'}},onSearchChange:function(){delete cur.exactSearch,this.showMore(!1)},onSearchEnter:function(){cur.exactSearch=1,this.showMore(!0)},showMore:function(r){var e=(0,a.generateQID)(),s=cur.scrollList.tab,t=cur.scrollList.lists[s];if(!t||"loading"==t||"update"==t)return t||this.load(r,cur.scrollList.tab),void(cur.scrollList.lists[s]="update");if(!cur.scrollList.indexing||!cur.scrollList.indexing[s]){s=cur.scrollList.tab,t=cur.scrollList.cache[s].all;var o=trim(cur.scrollList.query.value),i=cur.searchStr!==o;cur.searchStr=o,0===o.length&&(0,a.removeSearchPositionTracker)("groups"),void 0===cur.scrollList.queries[s]&&(cur.scrollList.queries[s]="");var c=r||o!=cur.scrollList.queries[s];if(c||!1!==r){cur.scrollList.queries[s]=o;var n=!1;if(o){if(void 0===(t=cur.scrollList.cache[s]["_"+o])){var l=cur.scrollList.index[s].search(o),u={};t=[];for(var h=0,d=l.length;h<d;++h)u[l[h]]||(u[l[h]]=!0,t.push(l[h]));t.sort((function(r,e){return r-e})),cur.scrollList.cache[s]["_"+o]=t}n=this.getHighlight(o)}var p=t.length,g=ge(cur.scrollList.prefix+s),f=ge("ui_"+s+"_load_more");if(this.updateSummary(p),o&&c&&i&&(0,a.saveSearchAttemptStats)(a.serviceGroups,0,p,o,e,0,"0","no_model",a.blockNameOwn),!p)return g.innerHTML=cur.scrollList.genEmpty(o),void(o&&this.needSearch(s)?c?(this.serverSearch(g,o,[],e),hide(f)):cur.searchOffset&&this.serverSearchMore(g,o,e):(hide(f),hide(cur.scrollList.searchWrap),show(cur.scrollList.eventsPopular),cur.searchOffset=0));for(var _=c?0:cur.scrollList.offset,v=Math.min(p,_+cur.scrollList.perpage),L=[],S=_;S<v;++S){var m=cur.scrollList.lists[s][t[S]];if(m){var w=m[0];n&&(w=w.replace(n.re,n.val)),L.push(cur.scrollList.genRow(m,w))}}if(o||_&&!c||(hide(cur.scrollList.searchWrap),show(cur.scrollList.eventsPopular),cur.searchOffset=0),c)if(hasClass(cur.scrollList.queryCont,"ui_search_fixed")&&scrollToY(getXY(cur.scrollList.queryWrap)[1]+1,0),g.innerHTML=L.join(""),checkPageBlocks(),cur.searchOffset=!1,t.length<5&&o&&this.needSearch(s)){var b,T=[];for(var y in t)t.hasOwnProperty(y)&&(b=cur.scrollList.lists[s][t[y]],T.push(b[2]));this.serverSearch(g,o,T,e)}else hide(cur.scrollList.searchWrap),show(cur.scrollList.eventsPopular),cur.searchOffset=0;else g.innerHTML+=L.join(""),cur.searchOffset&&this.serverSearchMore(g,o,e);cur.scrollList.offset=v,cur.searchOffset||(v<p?show:hide)(f)}}},showMoreInvites:function(r){if(!cur.loadingInvites){for(var e=cur.scrollList.invites&&(0,u.geByClass1)("groups_list",cur.scrollList.invites),s=cur.scrollList.invitesPreload,t=cur.scrollList.invitesMoreLnk;domFC(s);)e.appendChild(domFC(s)),cur.scrollList.invShown++;toggle(t,cur.scrollList.counts.invite>cur.scrollList.invShown),isVisible(t)&&ajax.post("/al_groups.php",{act:"more_invites",offset:cur.scrollList.invShown},{onDone:function(r,e){s.innerHTML=r,e&&(cur.scrollList.counts.invite-=e)},showProgress:function(){cur.loadingInvites=!0},hideProgress:function(){cur.loadingInvites=!1}})}},serverSearchMore:function(r,e,s){if(!cur.searchLoadingMore){cur.searchLoadingMore=1;var o=ge("ui_search_load_more");ajax.post("/al_groups.php",{act:"server_search",q:e,query_id:s,offset:cur.searchOffset,exact:cur.exactSearch,exclude:cur.searchExclude.join(",")},{onDone:function(r,e,s,t){cur.searchLoadingMore=0,r?(cur.searchOffset=s,cur.scrollList.searchCont.appendChild(cf(e))):cur.searchOffset=0,(!e||s>=r?hide:show)("ui_search_load_more")},onFail:function(){cur.searchLoadingMore=0},showProgress:t.lockButton.pbind(o),hideProgress:t.unlockButton.pbind(o)})}},extendedSearch:function(r){clearTimeout(cur.searchTimeout),cur.searchTimeout=setTimeout((function(){var e=(0,u.geByClass1)("groups_section_search");window.searcher&&e?hasClass(e,"ui_rmenu_item_sel")?window.searcher.onEnter():(uiRightMenu.switchMenu(e),uiRightMenu.showProgress(e),nav.go(e.href+"&c[like_hints]=1&c[q]="+r)):nav.go("/groups?act=catalog&c[q]="+r)}),500)},onExtendedSearchChange:function(r,e){val("c[like_hints]",1),this.extendedSearch(r)},onExtendedSearchEnter:function(r,e,s){val("c[like_hints]",""),this.extendedSearch(e)},needSearch:function(r){return"groups"==r||"future"==r||"past"==r},serverSearch:function(r,e,s,t){if(!this.needSearch(cur.scrollList.tab))return!1;clearTimeout(cur.searchTimeout),cur.searchTimeout=setTimeout((()=>{if(cur.searchStr==e){cur.searchExclude=s||[];var r=+new Date;ajax.post("/al_groups.php",{act:"server_search",q:e,query_id:t,exact:cur.exactSearch,exclude:cur.searchExclude.join(",")},{onDone:(s,o,i,c,n)=>{cur.searchStr==e&&(e&&((0,a.saveSearchAttemptStats)(a.serviceGroups,r,s,e,t,c,n.query_duration,n.model_name,a.blockNameSearch),(0,d.updateCounters)(location.href,document.referrer)),s?(cur.scrollList.searchCont.innerHTML=o,show(cur.scrollList.searchWrap),hide(cur.scrollList.eventsPopular),(i<s||!o)&&show("ui_search_load_more")):(cur.scrollList.searchCont.innerHTML="",hide(cur.scrollList.searchWrap),show(cur.scrollList.eventsPopular)),checkPageBlocks(),this.updateSummary(s,!0),cur.searchOffset=i)},showProgress:uiSearch.showProgress.pbind(cur.scrollList.query),hideProgress:uiSearch.hideProgress.pbind(cur.scrollList.query)})}}),300)},showMapBox:function(r,e,s){window.showZeroZoneBox&&window.showZeroZoneBox("places",(()=>{this.showMapBox(r,e,s)}))||showTabbedBox("/al_places.php",{act:"show_photo_place",place_id:r},{stat:["places.css","map.css","maps.js","ui_controls.css","ui_controls.js"]})},feedbanGroup:function(r,e,s){var t=-e;ajax.post("/al_fans.php",{act:"feedtgl",oid:t,hash:s},{onDone:(s,t)=>{r.innerHTML=t,this.updateGroupField(e,9,s)},showProgress:function(){r.innerHTML='<span class="progress_inline"></span>'}})},initPositionStat(){document.getElementById("groups_list_groups").addEventListener("click",(function(r){var e=r.target;if("A"===e.tagName&&(e.classList.contains("group_row_title")||e.classList.contains("group_row_img"))){var s=e.closest(".group_list_row").dataset,t=s.groupId,o=s.pos,i=s.trackPosHash;f.addClickStat(t,o,i)}}))},addClickStat(r,e,s){s&&r&&e&&!cur.searchStr&&(0,a.statlogsValueEvent)("groups_hints_item_click",s,r,e)}}},11151:(r,e,s)=>{var t=s(600005);window.GroupsList=t.GroupsList;try{window.stManager.done(window.jsc("web/groups_list.js"))}catch(r){}}},o={};function i(r){var e=o[r];if(void 0!==e)return e.exports;var s=o[r]={id:r,loaded:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}i.m=t,r=[],i.O=(e,s,t,o)=>{if(!s){var c=1/0;for(u=0;u<r.length;u++){for(var[s,t,o]=r[u],n=!0,a=0;a<s.length;a++)(!1&o||c>=o)&&Object.keys(i.O).every((r=>i.O[r](s[a])))?s.splice(a--,1):(n=!1,o<c&&(c=o));if(n){r.splice(u--,1);var l=t();void 0!==l&&(e=l)}}return e}o=o||0;for(var u=r.length;u>0&&r[u-1][2]>o;u--)r[u]=r[u-1];r[u]=[s,t,o]},i.n=r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return i.d(e,{a:e}),e},s=Object.getPrototypeOf?r=>Object.getPrototypeOf(r):r=>r.__proto__,i.t=function(r,t){if(1&t&&(r=this(r)),8&t)return r;if("object"==typeof r&&r){if(4&t&&r.__esModule)return r;if(16&t&&"function"==typeof r.then)return r}var o=Object.create(null);i.r(o);var c={};e=e||[null,s({}),s([]),s(s)];for(var n=2&t&&r;"object"==typeof n&&!~e.indexOf(n);n=s(n))Object.getOwnPropertyNames(n).forEach((e=>c[e]=()=>r[e]));return c.default=()=>r,i.d(o,c),o},i.d=(r,e)=>{for(var s in e)i.o(e,s)&&!i.o(r,s)&&Object.defineProperty(r,s,{enumerable:!0,get:e[s]})},i.e=()=>Promise.resolve(),i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),i.hmd=r=>((r=Object.create(r)).children||(r.children=[]),Object.defineProperty(r,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+r.id)}}),r),i.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),i.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},(()=>{var r={4867:0};i.O.j=e=>0===r[e];var e=(e,s)=>{var t,o,[c,n,a]=s,l=0;for(t in n)i.o(n,t)&&(i.m[t]=n[t]);if(a)var u=a(i);for(e&&e(s);l<c.length;l++)o=c[l],i.o(r,o)&&r[o]&&r[o][0](),r[c[l]]=0;return i.O(u)},s=self.webpackChunkvk=self.webpackChunkvk||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var c=i.O(void 0,[8592],(()=>i(11151)));c=i.O(c)})();