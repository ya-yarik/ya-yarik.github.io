(()=>{"use strict";var e,o,t,s={176508:(e,o,t)=>{var s=t(174758);window.Videocat=s.default;try{stManager.done(jsc("web/videocat.js"))}catch(e){}},174758:(e,o,t)=>{t.d(o,{default:()=>n});var s=t(414914),i=t(705456),a=t(917999),r={subscribeToChannel:function(e,o,t){if(!(0,i.isButtonLocked)(e)){var s=hasClass(e,"secondary"),a={showProgress:i.lockButton.pbind(e),hideProgress:i.unlockButton.pbind(e),onDone:function(){toggleClass(e,"secondary")}};ajax.post("al_groups.php",{act:s?"a_leave":"a_enter",gid:o,hash:t,from:"videocat"},a)}},moreUGC:function(e,o){var t=domByClass("videocat_page_block_"+o,"videocat_items_block"),s=geByClass("video_item",t);if(cur.moreVideosInfo[o])ajax.post("al_video.php?act=a_more_videos",{type:o,videos:cur.moreVideosInfo[o].join(","),layout:"grid"},{onDone:function(e,o){t.insertAdjacentHTML("beforeend",e),each(o,(function(e,o){cur.catVideosList[e].list=cur.catVideosList[e].list.concat(o.list)}))},showProgress:i.lockButton.pbind(e),hideProgress:i.unlockButton.pbind(e)}),delete cur.moreVideosInfo[o];else{var a=0,n=0;each(s,(function(){if(hasClass(this,"video_skip_thumb_load")&&(removeClass(this,"video_skip_thumb_load"),a++),n++,9===a)return!1})),n>=s.length&&re(e),"ugc_popular"===o&&r.sendPopularShownStats(!0)}},moreSeries:function(e){var o=geByClass("videocat_featured_playlist",gpeByClass("video_block_layout",e)),t=0,s=0;each(o,(function(){if(isVisible(this)||(removeClass(this,"videocat_featured_playlist_hidden"),t++),s++,16===t)return!1})),s>=o.length&&re(e)},moreChannels:function(e,o){var t=!1;if(each(cur.moreChannelsInfo,(function(e,s){if(s.cat_id==o)return t=s,!1})),cur.moreChannelsOffsets=cur.moreChannelsOffsets||{},t){var s=0,a=gpeByClass("video_block_layout",e);s=cur.moreChannelsOffsets[o]?cur.moreChannelsOffsets[o]:geByClass("videocat_row",a).length,ajax.post("al_video.php",{act:"a_more_channels",cat_id:o,offset:s,channels:t.channels.join(",")},{showProgress:i.lockButton.pbind(e),hideProgress:i.unlockButton.pbind(e),onDone:function(s,i){cur.moreChannelsOffsets[o]=i,each(s,(function(o,t){a.insertBefore(se(trim(t)),domPN(e))})),i>=t.channels.length-1&&re(domPN(e)),Video._updateThumbsInView()}})}else re(domPN(e))},_onScroll:function(){if(Video.isInCatalog()&&!cur.is_showcase){var e=[];each(geByClass("videocat_page_block"),(function(){0===this.getAttribute("data-type").indexOf("cat_")&&e.push(this)}));var o=getXY(e[e.length-1]);if(!cur.videocatLoadingMoreCats&&window.clientHeight()+scrollGetY()>o[1]){var t=cur.moreCatsOffsets=cur.moreCatsOffsets||e.length;if(t>=cur.moreChannelsInfo.length)return;cur.videocatLoadingMoreCats=!0;var s=[];each(cur.moreChannelsInfo,(function(e,o){s.push(o.cat_id+":"+o.channels.join(","))})),ajax.post("al_video.php?act=a_more_cats",{offset:t,cats:s.join("/")},{onDone:function(e,o){ge("videocat_other_blocks").insertAdjacentHTML(e.join()),cur.catVideosList=extend(cur.catVideosList,o)}})}}},init:function(e,o,t,s,i,a){function n(){removeEvent(window,"scroll",cur._videocat_onScroll)}cur._videocatInited||(cur._videocatInited=!0,r.lists=extend(r.lists||{},s),r.moreBlocks=e,r.feedData=o,r.preloadLists=t,r.top3playlists=i,r.moreChannelsInfo=a,cur.videoCatRecomsLoaded=!1,cur._sessionChannelsSubscriptions=[],cur._videocat_onScroll&&removeEvent(window,"scroll",cur._videocat_onScroll),addEvent(window,"scroll",cur._videocat_onScroll=r._onScroll),cur.destroy.push(n),cur._back.hide.push(n),ge("videocat_page_block_ugc_popular")&&r.sendPopularShownStats(),Video._updateThumbsInView())},sendPopularShownStats:function(e){if(statlogsValueEvent("videocat_popular","",e?"more":"show"),cur.popularQid){var o="";each(r.getPopularShownVids(),(function(e,t){o+="&vid="+t})),vkImage().src="//go.imgsmail.ru/vk?pxn=vs&qid="+cur.popularQid+o}},getPopularShownVids:function(){cur.popularShown=cur.popularShown||[];for(var e=cur.popularShown.length,o=ge("videocat_page_block_ugc_popular"),t=geByClass("video_item",o),s=[],i=e;;++i){var a=t[i];if(!a||hasClass(a,"video_skip_thumb_load"))break;s.push(domData(a,"id"))}return cur.popularShown=cur.popularShown.concat(s),s},show:function(e,o,t,s,i,a){return!!checkEvent(o)||(showVideo(t,s,{playlistId:i,autoplay:1,module:["feed_block","feed_recoms_block"].indexOf(i)>=0?i:Videoview.getVideoModule(t),addParams:{force_no_repeat:1,show_next:i?1:0,playlist_id:i}}),!1)},extendSlider:function(e,o){e&&(o=trim(o))&&(o=se(o))&&(r._sliderExtends=r._sliderExtends||[],r._sliderExtends.push((function(){var t=geByClass1("videocat_row_slider_items_cont",e);each(geByClass("video_item",o),(function(e,o){t.appendChild(o)}));var s=geByClass1("videocat_row_slider_btn_right",e);r.slideRow(s,-3,!0),r.slideRow(s,3,!0)})))},showMore:function(e,o,t){var s=e.previousElementSibling,i=!1,a=!1;each(s.children,(function(e,t){if(!isVisible(t)){if(i)return a=!0,!1;show(t),--o||(i=!0)}})),"recom"===t?toggle(e,r.currRecomParams.more):toggle(e,a),"recom"===t&&ajax.post("/al_video.php?act=a_fetch_next_recoms",{from:r.currRecomParams.from,offset:+r.currRecomParams.offset,more:+r.currRecomParams.more,params_sig:r.currRecomParams.params_sig},{onDone:function(o,t,s){r.currRecomParams=t;for(var i=geByClass1("videocat_grid_wrap",domPN(e)),a=se(trim(o)).children;a.length;)i.appendChild(a[0]),hide(a[0]);t&&t.more||re(e),s&&s.recom&&s.recom.list.length&&r.lists.recoms&&(r.lists.recoms.list=r.lists.recoms.list.concat(s.recom.list))}})},slideRow:function(e,o,t){function i(e,o){e?addEvent(o,"mouseleave",(function(){setStyle(o,"pointer-events","none"),removeEvent(o,"mouseleave")})):setStyle(o,"pointer-events","all")}var a,n=domPN(e),l=geByClass1("videocat_row_slider_items_cont",n),c=gpeByClass("videocat_row_slider",e),d=getSize(l.children[0])[0],u=3*(o>0?1:-1)+((0,s.data)(l,"items_offset")||0);u=Math.min(u,0),u=Math.max(u,3-l.children.length),(0,s.data)(l,"items_offset",u),a=0==+u?15:-u==l.children.length-3?56:37,setStyle(l,{left:d*u+a});var _=geByClass1("videocat_row_slider_btn_left",n),f=geByClass1("videocat_row_slider_btn_right",n),h=0==u,v=-(u-3)>=l.children.length;if(toggleClass(_,"videocat_row_slider_hidden",h),toggleClass(f,"videocat_row_slider_hidden",v),i(h,_),i(v,f),h&&r.slideMouseLeave(_,"right"),v&&r.slideMouseLeave(f,"left"),toggleClass(c,"videocat_slider_offseted",!h&&!v),cur._slideTimeouts=cur._slideTimeouts||[],each(cur._slideTimeouts,(function(e,o){clearTimeout(o)})),each(geByClass("video_item",n),(function(e){var o;e>=3-u&&e<6-u&&removeClass(this,"video_skip_thumb_load"),e==-u-1||e==3-u?(o=this,cur._slideTimeouts.push(setTimeout((function(){addClass(o,"videocat_item_transparent")}),270))):removeClass(this,"videocat_item_transparent")})),!t&&r._sliderExtends&&(each(r._sliderExtends,(function(e,o){o()})),r._sliderExtends=[]),!t&&o<0){var p=gpeByClass("videocat_row",e),m=p?p.getAttribute("data-type"):"";if(m&&(m=intval(m),r.slideLoadMore(p,m)),!r.feedDataLoading&&p&&"feed"===p.getAttribute("data-block-id")&&r.feedData&&!isEmpty(r.feedData)){r.feedDataLoading=!0;var g=r.feedData;g.act="a_fetch_next_feed",g.module=cur.module,ajax.post("al_video.php",g,{onDone:function(e,o,t,s,i){r.feedData=extend(r.feedData,{video_feed_from:t,video_feed_offset:s,hash:i}),t||(r.feedData=!1),o&&o.feed&&(r.lists.feed=r.lists.feed||{},r.lists.feed.list=r.lists.feed.list.concat(o.feed.list)),r.extendSlider(p,e),r.feedDataLoading=!1}})}}},slideLoadMore:function(e,o,t){var s=cur.moreVideosInfo[o];s&&(cur.moreVideosInfo[o]=!1,ajax.post("al_video.php",{act:"a_more_videos",type:o,videos:s.join(",")},{onDone:function(o,s){r.extendSlider(e,o),each(s,(function(e,o){cur.catVideosList[e].list=cur.catVideosList[e].list.concat(o.list)})),(0,a.isFunction)(t)&&t()}}))},slideMouseEnter:function(e,o){var t=domPN(e),s=geByClass1("videocat_row_slider_items_cont",t);hasClass(e,"videocat_row_slider_hidden")||addClass(s,"videocat_row_slider_shift_"+o)},slideMouseLeave:function(e,o){var t=domPN(e),s=geByClass1("videocat_row_slider_items_cont",t);removeClass(s,"videocat_row_slider_shift_"+o)},isAutoplayEnabled:function(){return!1},closeBlock:function(e,o,t){var s=gpeByClass("videocat_row",e);setStyle(s,{"max-height":getSize(s)[1]}),setTimeout((function(){addClass(s,"videocat_row_closed")})),ajax.post("al_video.php",{act:"a_videocat_closeblock",block_id:o,hash:t}),window.tooltips&&tooltips.hideAll(),1===domPN(s).children.length&&setTimeout((function(){re(gpeByClass("videocat_page_block",s))}),500)},isTop3Playlist:function(e){var o=!1;return each(r.top3playlists||[],(function(t,s){if(s==e)return o=!0,!1})),o},logPlaylistEnter:function(e,o){ajax.post("al_video.php",{act:"a_videocat_logListEnter",channel_id:e,hash:o})}};const n=r}},i={};function a(e){var o=i[e];if(void 0!==o)return o.exports;var t=i[e]={id:e,loaded:!1,exports:{}};return s[e].call(t.exports,t,t.exports,a),t.loaded=!0,t.exports}a.m=s,e=[],a.O=(o,t,s,i)=>{if(!t){var r=1/0;for(d=0;d<e.length;d++){for(var[t,s,i]=e[d],n=!0,l=0;l<t.length;l++)(!1&i||r>=i)&&Object.keys(a.O).every((e=>a.O[e](t[l])))?t.splice(l--,1):(n=!1,i<r&&(r=i));if(n){e.splice(d--,1);var c=s();void 0!==c&&(o=c)}}return o}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[t,s,i]},a.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return a.d(o,{a:o}),o},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,s){if(1&s&&(e=this(e)),8&s)return e;if("object"==typeof e&&e){if(4&s&&e.__esModule)return e;if(16&s&&"function"==typeof e.then)return e}var i=Object.create(null);a.r(i);var r={};o=o||[null,t({}),t([]),t(t)];for(var n=2&s&&e;"object"==typeof n&&!~o.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((o=>r[o]=()=>e[o]));return r.default=()=>e,a.d(i,r),i},a.d=(e,o)=>{for(var t in o)a.o(o,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},a.e=()=>Promise.resolve(),a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),a.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={7031:0};a.O.j=o=>0===e[o];var o=(o,t)=>{var s,i,[r,n,l]=t,c=0;for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(l)var d=l(a);for(o&&o(t);c<r.length;c++)i=r[c],a.o(e,i)&&e[i]&&e[i][0](),e[r[c]]=0;return a.O(d)},t=self.webpackChunkvk=self.webpackChunkvk||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var r=a.O(void 0,[8592],(()=>a(176508)));r=a.O(r)})();