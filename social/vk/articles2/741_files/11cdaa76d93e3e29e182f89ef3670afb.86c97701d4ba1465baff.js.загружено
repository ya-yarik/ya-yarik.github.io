/*! For license information please see 11cdaa76d93e3e29e182f89ef3670afb.86c97701d4ba1465baff.js.LICENSE.txt */
(self.webpackChunkvk=self.webpackChunkvk||[]).push([[8042],{891047:(e,n,t)=>{"use strict";function r(e){return new Promise(((n,t)=>{e.oncomplete=e.onsuccess=()=>n(e.result),e.onabort=e.onerror=()=>t(e.error)}))}function o(e,n){const t=indexedDB.open(e);t.onupgradeneeded=()=>t.result.createObjectStore(n);const o=r(t);return(e,t)=>o.then((r=>t(r.transaction(n,e).objectStore(n))))}let i;function a(){return i||(i=o("keyval-store","keyval")),i}function s(e,n=a()){return n("readonly",(n=>r(n.get(e))))}function c(e,n,t=a()){return t("readwrite",(t=>(t.put(n,e),r(t.transaction))))}function l(e,n=a()){return n("readwrite",(n=>(n.delete(e),r(n.transaction))))}t.d(n,{createStore:()=>o,del:()=>l,get:()=>s,set:()=>c})},559653:function(e,n,t){var r,o,i,a,s;"undefined"!=typeof self&&self,e.exports=(o=t(667294),i=t(86894),a=t(973935),s=t(211248),(()=>{var t={2197:(e,n,t)=>{"use strict";var r=t(176),o=t(494),i=t(8278),a=t(1386),s=t(502),c=t(8717);e.exports=function(e){var n,t=c(this),l=s(i(t,"length"));if(!a(e))throw new TypeError("mapperFunction must be a function");arguments.length>1&&(n=arguments[1]);var u=r(t,0);return o(u,t,l,0,1,e,n),u}},1954:(e,n,t)=>{"use strict";var r=t(3161),o=t(4203),i=t(2197),a=t(7925),s=a(),c=t(9158),l=o(s);r(l,{getPolyfill:a,implementation:i,shim:c}),e.exports=l},7925:(e,n,t)=>{"use strict";var r=t(2197);e.exports=function(){return Array.prototype.flatMap||r}},9158:(e,n,t)=>{"use strict";var r=t(3161),o=t(7925);e.exports=function(){var e=o();return r(Array.prototype,{flatMap:e},{flatMap:function(){return Array.prototype.flatMap!==e}}),e}},533:(e,n,t)=>{"use strict";var r=t(3926),o=t(4203),i=o(r("String.prototype.indexOf"));e.exports=function(e,n){var t=r(e,!!n);return"function"==typeof t&&i(e,".prototype.")>-1?o(t):t}},4203:(e,n,t)=>{"use strict";var r=t(22),o=t(3926),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||r.call(a,i),c=o("%Object.getOwnPropertyDescriptor%",!0),l=o("%Object.defineProperty%",!0),u=o("%Math.max%");if(l)try{l({},"a",{value:1})}catch(e){l=null}e.exports=function(e){var n=s(r,a,arguments);return c&&l&&c(n,"length").configurable&&l(n,"length",{value:1+u(0,e.length-(arguments.length-1))}),n};var d=function(){return s(r,i,arguments)};l?l(e.exports,"apply",{value:d}):e.exports.apply=d},2321:t=>{!function(){"use strict";var o={}.hasOwnProperty;function i(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var r=typeof t;if("string"===r||"number"===r)e.push(t);else if(Array.isArray(t)){if(t.length){var a=i.apply(null,t);a&&e.push(a)}}else if("object"===r)if(t.toString===Object.prototype.toString)for(var s in t)o.call(t,s)&&t[s]&&e.push(s);else e.push(t.toString())}}return e.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(n,[]))||(e.exports=r)}()},4518:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),t&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=t):u[2]=t),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),n.push(u))}},n}},6863:e=>{"use strict";e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */"),a=t.sources.map((function(e){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(e," */")}));return[n].concat(a).concat([i]).join("\n")}return[n].join("\n")}},6256:e=>{"use strict";var n="%[a-f0-9]{2}",t=new RegExp(n,"gi"),r=new RegExp("("+n+")+","gi");function o(e,n){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;n=n||1;var t=e.slice(0,n),r=e.slice(n);return Array.prototype.concat.call([],o(t),o(r))}function i(e){try{return decodeURIComponent(e)}catch(i){for(var n=e.match(t),r=1;r<n.length;r++)n=(e=o(n,r).join("")).match(t);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(n){return function(e){for(var n={"%FE%FF":"��","%FF%FE":"��"},t=r.exec(e);t;){try{n[t[0]]=decodeURIComponent(t[0])}catch(e){var o=i(t[0]);o!==t[0]&&(n[t[0]]=o)}t=r.exec(e)}n["%C2"]="�";for(var a=Object.keys(n),s=0;s<a.length;s++){var c=a[s];e=e.replace(new RegExp(c,"g"),n[c])}return e}(e)}}},3161:(e,n,t)=>{"use strict";var r=t(586),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,c=s&&function(){var e={};try{for(var n in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),l=function(e,n,t,r){var o;(!(n in e)||"function"==typeof(o=r)&&"[object Function]"===i.call(o)&&r())&&(c?s(e,n,{configurable:!0,enumerable:!1,value:t,writable:!0}):e[n]=t)},u=function(e,n){var t=arguments.length>2?arguments[2]:{},i=r(n);o&&(i=a.call(i,Object.getOwnPropertySymbols(n)));for(var s=0;s<i.length;s+=1)l(e,i[s],n[i[s]],t[i[s]])};u.supportsDescriptors=!!c,e.exports=u},1938:e=>{"use strict";e.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]/g}},2957:(e,n,t)=>{"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=t(8973),i=t(2231),a=t(4898),s=t(9185),c=function(e,n){if(null==e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof n||"number"!==n&&"string"!==n)throw new TypeError('hint must be "string" or "number"');var t,r,a,s="string"===n?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(t=e[s[a]],i(t)&&(r=t.call(e),o(r)))return r;throw new TypeError("No default value")},l=function(e,n){var t=e[n];if(null!=t){if(!i(t))throw new TypeError(t+" returned for property "+n+" of object "+e+" is not a function");return t}};e.exports=function(e){if(o(e))return e;var n,t="default";if(arguments.length>1&&(arguments[1]===String?t="string":arguments[1]===Number&&(t="number")),r&&(Symbol.toPrimitive?n=l(e,Symbol.toPrimitive):s(e)&&(n=Symbol.prototype.valueOf)),void 0!==n){var i=n.call(e,t);if(o(i))return i;throw new TypeError("unable to convert exotic object to primitive")}return"default"===t&&(a(e)||s(e))&&(t="string"),c(e,"default"===t?"number":t)}},1898:(e,n,t)=>{"use strict";var r=Object.prototype.toString,o=t(8973),i=t(2231),a=function(e){var n;if((n=arguments.length>1?arguments[1]:"[object Date]"===r.call(e)?String:Number)===String||n===Number){var t,a,s=n===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(i(e[s[a]])&&(t=e[s[a]](),o(t)))return t;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};e.exports=function(e){return o(e)?e:arguments.length>1?a(e,arguments[1]):a(e)}},8973:e=>{"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},1646:e=>{"use strict";function n(e,n){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),a=0,s=i.length;a<s;a++){var c=i[a],l=Object.getOwnPropertyDescriptor(o,c);void 0!==l&&l.enumerable&&(t[c]=o[c])}}return t}e.exports={assign:n,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:n})}}},980:e=>{"use strict";e.exports=function(e,n){for(var t={},r=Object.keys(e),o=Array.isArray(n),i=0;i<r.length;i++){var a=r[i],s=e[a];(o?-1!==n.indexOf(a):n(a,s,e))&&(t[a]=s)}return t}},9626:e=>{"use strict";var n="Function.prototype.bind called on incompatible ",t=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";e.exports=function(e){var i=this;if("function"!=typeof i||r.call(i)!==o)throw new TypeError(n+i);for(var a,s=t.call(arguments,1),c=function(){if(this instanceof a){var n=i.apply(this,s.concat(t.call(arguments)));return Object(n)===n?n:this}return i.apply(e,s.concat(t.call(arguments)))},l=Math.max(0,i.length-s.length),u=[],d=0;d<l;d++)u.push("$"+d);if(a=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(c),i.prototype){var A=function(){};A.prototype=i.prototype,a.prototype=new A,A.prototype=null}return a}},22:(e,n,t)=>{"use strict";var r=t(9626);e.exports=Function.prototype.bind||r},3926:(e,n,t)=>{"use strict";var r,o=SyntaxError,i=Function,a=TypeError,s=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var l=function(){throw new a},u=c?function(){try{return l}catch(e){try{return c(arguments,"callee").get}catch(e){return l}}}():l,d=t(2849)(),A=Object.getPrototypeOf||function(e){return e.__proto__},p={},h="undefined"==typeof Uint8Array?r:A(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":d?A([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?A(A([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?A((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?A((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?A(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":u,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},f=function e(n){var t;if("%AsyncFunction%"===n)t=s("async function () {}");else if("%GeneratorFunction%"===n)t=s("function* () {}");else if("%AsyncGeneratorFunction%"===n)t=s("async function* () {}");else if("%AsyncGenerator%"===n){var r=e("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if("%AsyncIteratorPrototype%"===n){var o=e("%AsyncGenerator%");o&&(t=A(o.prototype))}return m[n]=t,t},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=t(22),v=t(8315),E=C.call(Function.call,Array.prototype.concat),_=C.call(Function.apply,Array.prototype.splice),b=C.call(Function.call,String.prototype.replace),y=C.call(Function.call,String.prototype.slice),B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,w=/\\(\\)?/g,x=function(e){var n=y(e,0,1),t=y(e,-1);if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return b(e,B,(function(e,n,t,o){r[r.length]=t?b(o,w,"$1"):n||e})),r},D=function(e,n){var t,r=e;if(v(g,r)&&(r="%"+(t=g[r])[0]+"%"),v(m,r)){var i=m[r];if(i===p&&(i=f(r)),void 0===i&&!n)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:t,name:r,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,n){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof n)throw new a('"allowMissing" argument must be a boolean');var t=x(e),r=t.length>0?t[0]:"",i=D("%"+r+"%",n),s=i.name,l=i.value,u=!1,d=i.alias;d&&(r=d[0],_(t,E([0,1],d)));for(var A=1,p=!0;A<t.length;A+=1){var h=t[A],f=y(h,0,1),g=y(h,-1);if(('"'===f||"'"===f||"`"===f||'"'===g||"'"===g||"`"===g)&&f!==g)throw new o("property names with quotes must have matching quotes");if("constructor"!==h&&p||(u=!0),v(m,s="%"+(r+="."+h)+"%"))l=m[s];else if(null!=l){if(!(h in l)){if(!n)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&A+1>=t.length){var C=c(l,h);l=(p=!!C)&&"get"in C&&!("originalValue"in C.get)?C.get:l[h]}else p=v(l,h),l=l[h];p&&!u&&(m[s]=l)}}return l}},2849:(e,n,t)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=t(2558);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&o()}},2558:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},n=Symbol("test"),t=Object(n);if("string"==typeof n)return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;for(n in e[n]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==n)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,n);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},8315:(e,n,t)=>{"use strict";var r=t(22);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},2231:e=>{"use strict";var n,t,r=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{n=Object.defineProperty({},"length",{get:function(){throw t}}),t={},o((function(){throw 42}),null,n)}catch(e){e!==t&&(o=null)}else o=null;var i=/^\s*class\b/,a=function(e){try{var n=r.call(e);return i.test(n)}catch(e){return!1}},s=Object.prototype.toString,c="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,l="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{};e.exports=o?function(e){if(e===l)return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{o(e,null,n)}catch(e){if(e!==t)return!1}return!a(e)}:function(e){if(e===l)return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(c)return function(e){try{return!a(e)&&(r.call(e),!0)}catch(e){return!1}}(e);if(a(e))return!1;var n=s.call(e);return"[object Function]"===n||"[object GeneratorFunction]"===n}},4898:e=>{"use strict";var n=Date.prototype.getDay,t=Object.prototype.toString,r="function"==typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(r?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Date]"===t.call(e))}},879:(e,n,t)=>{"use strict";var r,o,i,a,s=t(533),c=t(2558)()&&!!Symbol.toStringTag;if(c){r=s("Object.prototype.hasOwnProperty"),o=s("RegExp.prototype.exec"),i={};var l=function(){throw i};a={toString:l,valueOf:l},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=l)}var u=s("Object.prototype.toString"),d=Object.getOwnPropertyDescriptor;e.exports=c?function(e){if(!e||"object"!=typeof e)return!1;var n=d(e,"lastIndex");if(!n||!r(n,"value"))return!1;try{o(e,a)}catch(e){return e===i}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===u(e)}},9185:(e,n,t)=>{"use strict";var r=Object.prototype.toString;if(t(2849)()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&i.test(o.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},7915:(e,n,t)=>{var r="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"==typeof o.get?o.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=s&&c&&"function"==typeof c.get?c.get:null,u=s&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,A="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,m=Object.prototype.toString,f=Function.prototype.toString,g=String.prototype.match,C="function"==typeof BigInt?BigInt.prototype.valueOf:null,v=Object.getOwnPropertySymbols,E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,_="function"==typeof Symbol&&"object"==typeof Symbol.iterator,b=Object.prototype.propertyIsEnumerable,y=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),B=t(4654).custom,w=B&&F(B)?B:null,x="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function D(e,n,t){var r="double"===(t.quoteStyle||n)?'"':"'";return r+e+r}function k(e){return String(e).replace(/"/g,"&quot;")}function S(e){return!("[object Array]"!==T(e)||x&&"object"==typeof e&&x in e)}function F(e){if(_)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!E)return!1;try{return E.call(e),!0}catch(e){}return!1}e.exports=function e(n,t,r,o){var s=t||{};if(M(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(M(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=!M(s,"customInspect")||s.customInspect;if("boolean"!=typeof c)throw new TypeError('option "customInspect", if provided, must be `true` or `false`');if(M(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===n)return"undefined";if(null===n)return"null";if("boolean"==typeof n)return n?"true":"false";if("string"==typeof n)return z(n,s);if("number"==typeof n)return 0===n?1/0/n>0?"0":"-0":String(n);if("bigint"==typeof n)return String(n)+"n";var m=void 0===s.depth?5:s.depth;if(void 0===r&&(r=0),r>=m&&m>0&&"object"==typeof n)return S(n)?"[Array]":"[Object]";var v,b=function(e,n){var t;if("\t"===e.indent)t="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;t=Array(e.indent+1).join(" ")}return{base:t,prev:Array(n+1).join(t)}}(s,r);if(void 0===o)o=[];else if(P(o,n)>=0)return"[Circular]";function B(n,t,i){if(t&&(o=o.slice()).push(t),i){var a={depth:s.depth};return M(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(n,a,r+1,o)}return e(n,s,r+1,o)}if("function"==typeof n){var I=function(e){if(e.name)return e.name;var n=g.call(f.call(e),/^function\s*([\w$]+)/);return n?n[1]:null}(n),O=U(n,B);return"[Function"+(I?": "+I:" (anonymous)")+"]"+(O.length>0?" { "+O.join(", ")+" }":"")}if(F(n)){var W=_?String(n).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):E.call(n);return"object"!=typeof n||_?W:N(W)}if((v=n)&&"object"==typeof v&&("undefined"!=typeof HTMLElement&&v instanceof HTMLElement||"string"==typeof v.nodeName&&"function"==typeof v.getAttribute)){for(var H="<"+String(n.nodeName).toLowerCase(),q=n.attributes||[],Z=0;Z<q.length;Z++)H+=" "+q[Z].name+"="+D(k(q[Z].value),"double",s);return H+=">",n.childNodes&&n.childNodes.length&&(H+="..."),H+"</"+String(n.nodeName).toLowerCase()+">"}if(S(n)){if(0===n.length)return"[]";var V=U(n,B);return b&&!function(e){for(var n=0;n<e.length;n++)if(P(e[n],"\n")>=0)return!1;return!0}(V)?"["+R(V,b)+"]":"[ "+V.join(", ")+" ]"}if(function(e){return!("[object Error]"!==T(e)||x&&"object"==typeof e&&x in e)}(n)){var Y=U(n,B);return 0===Y.length?"["+String(n)+"]":"{ ["+String(n)+"] "+Y.join(", ")+" }"}if("object"==typeof n&&c){if(w&&"function"==typeof n[w])return n[w]();if("function"==typeof n.inspect)return n.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{l.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(n)){var G=[];return a.call(n,(function(e,t){G.push(B(t,n,!0)+" => "+B(e,n))})),L("Map",i.call(n),G,b)}if(function(e){if(!l||!e||"object"!=typeof e)return!1;try{l.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(n)){var $=[];return u.call(n,(function(e){$.push(B(e,n))})),L("Set",l.call(n),$,b)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{A.call(e,A)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(n))return j("WeakMap");if(function(e){if(!A||!e||"object"!=typeof e)return!1;try{A.call(e,A);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(n))return j("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(n))return j("WeakRef");if(function(e){return!("[object Number]"!==T(e)||x&&"object"==typeof e&&x in e)}(n))return N(B(Number(n)));if(function(e){if(!e||"object"!=typeof e||!C)return!1;try{return C.call(e),!0}catch(e){}return!1}(n))return N(B(C.call(n)));if(function(e){return!("[object Boolean]"!==T(e)||x&&"object"==typeof e&&x in e)}(n))return N(h.call(n));if(function(e){return!("[object String]"!==T(e)||x&&"object"==typeof e&&x in e)}(n))return N(B(String(n)));if(!function(e){return!("[object Date]"!==T(e)||x&&"object"==typeof e&&x in e)}(n)&&!function(e){return!("[object RegExp]"!==T(e)||x&&"object"==typeof e&&x in e)}(n)){var X=U(n,B),Q=y?y(n)===Object.prototype:n instanceof Object||n.constructor===Object,K=n instanceof Object?"":"null prototype",J=!Q&&x&&Object(n)===n&&x in n?T(n).slice(8,-1):K?"Object":"",ee=(Q||"function"!=typeof n.constructor?"":n.constructor.name?n.constructor.name+" ":"")+(J||K?"["+[].concat(J||[],K||[]).join(": ")+"] ":"");return 0===X.length?ee+"{}":b?ee+"{"+R(X,b)+"}":ee+"{ "+X.join(", ")+" }"}return String(n)};var I=Object.prototype.hasOwnProperty||function(e){return e in this};function M(e,n){return I.call(e,n)}function T(e){return m.call(e)}function P(e,n){if(e.indexOf)return e.indexOf(n);for(var t=0,r=e.length;t<r;t++)if(e[t]===n)return t;return-1}function z(e,n){if(e.length>n.maxStringLength){var t=e.length-n.maxStringLength,r="... "+t+" more character"+(t>1?"s":"");return z(e.slice(0,n.maxStringLength),n)+r}return D(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,O),"single",n)}function O(e){var n=e.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[n];return t?"\\"+t:"\\x"+(n<16?"0":"")+n.toString(16).toUpperCase()}function N(e){return"Object("+e+")"}function j(e){return e+" { ? }"}function L(e,n,t,r){return e+" ("+n+") {"+(r?R(t,r):t.join(", "))+"}"}function R(e,n){if(0===e.length)return"";var t="\n"+n.prev+n.base;return t+e.join(","+t)+"\n"+n.prev}function U(e,n){var t=S(e),r=[];if(t){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=M(e,o)?n(e[o],e):""}var i,a="function"==typeof v?v(e):[];if(_){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var c in e)M(e,c)&&(t&&String(Number(c))===c&&c<e.length||_&&i["$"+c]instanceof Symbol||(/[^\w$]/.test(c)?r.push(n(c,e)+": "+n(e[c],e)):r.push(c+": "+n(e[c],e))));if("function"==typeof v)for(var l=0;l<a.length;l++)b.call(e,a[l])&&r.push("["+n(a[l])+"]: "+n(e[a[l]],e));return r}},4420:(e,n,t)=>{"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=t(1115),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),l=s.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var n=e.constructor;return n&&n.prototype===e},A={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!A["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var n=null!==e&&"object"==typeof e,t="[object Function]"===i.call(e),r=a(e),s=n&&"[object String]"===i.call(e),A=[];if(!n&&!t&&!r)throw new TypeError("Object.keys called on a non-object");var h=l&&t;if(s&&e.length>0&&!o.call(e,0))for(var m=0;m<e.length;++m)A.push(String(m));if(r&&e.length>0)for(var f=0;f<e.length;++f)A.push(String(f));else for(var g in e)h&&"prototype"===g||!o.call(e,g)||A.push(String(g));if(c)for(var C=function(e){if("undefined"==typeof window||!p)return d(e);try{return d(e)}catch(e){return!1}}(e),v=0;v<u.length;++v)C&&"constructor"===u[v]||!o.call(e,u[v])||A.push(u[v]);return A}}e.exports=r},586:(e,n,t)=>{"use strict";var r=Array.prototype.slice,o=t(1115),i=Object.keys,a=i?function(e){return i(e)}:t(4420),s=Object.keys;a.shim=function(){return Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?s(r.call(e)):s(e)}):Object.keys=a,Object.keys||a},e.exports=a},1115:e=>{"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},6883:function(e){"undefined"!=typeof self&&self,e.exports=function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";function r(e){if(!(this instanceof r))return new r(e);this._=e}var o=r.prototype;function i(e,n){for(var t=0;t<e;t++)n(t)}function a(e,n,t){return function(e,n){i(n.length,(function(t){e(n[t],t,n)}))}((function(t,r,o){n=e(n,t,r,o)}),t),n}function s(e,n){return a((function(n,t,r,o){return n.concat([e(t,r,o)])}),[],n)}function c(e,n){var t={v:0,buf:n};return i(e,(function(){var e;t={v:t.v<<1|(e=t.buf,e[0]>>7),buf:function(e){var n=a((function(e,n,t,r){return e.concat(t===r.length-1?Buffer.from([n,0]).readUInt16BE(0):r.readUInt16BE(t))}),[],e);return Buffer.from(s((function(e){return(e<<1&65535)>>8}),n))}(t.buf)}})),t}function l(){return"undefined"!=typeof Buffer}function u(){if(!l())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function d(e){u();var n=a((function(e,n){return e+n}),0,e);if(n%8!=0)throw new Error("The bits ["+e.join(", ")+"] add up to "+n+" which is not an even number of bytes; the total should be divisible by 8");var t,o=n/8,i=(t=function(e){return e>48},a((function(e,n){return e||(t(n)?n:e)}),null,e));if(i)throw new Error(i+" bit range requested exceeds 48 bit (6 byte) Number max.");return new r((function(n,t){var r=o+t;return r>n.length?b(t,o.toString()+" bytes"):_(r,a((function(e,n){var t=c(n,e.buf);return{coll:e.coll.concat(t.v),buf:t.buf}}),{coll:[],buf:n.slice(t,r)},e).coll)}))}function A(e,n){return new r((function(t,r){return u(),r+n>t.length?b(r,n+" bytes for "+e):_(r+n,t.slice(r,r+n))}))}function p(e,n){if("number"!=typeof(t=n)||Math.floor(t)!==t||n<0||n>6)throw new Error(e+" requires integer length in range [0, 6].");var t}function h(e){return p("uintBE",e),A("uintBE("+e+")",e).map((function(n){return n.readUIntBE(0,e)}))}function m(e){return p("uintLE",e),A("uintLE("+e+")",e).map((function(n){return n.readUIntLE(0,e)}))}function f(e){return p("intBE",e),A("intBE("+e+")",e).map((function(n){return n.readIntBE(0,e)}))}function g(e){return p("intLE",e),A("intLE("+e+")",e).map((function(n){return n.readIntLE(0,e)}))}function C(e){return e instanceof r}function v(e){return"[object Array]"==={}.toString.call(e)}function E(e){return l()&&Buffer.isBuffer(e)}function _(e,n){return{status:!0,index:e,value:n,furthest:-1,expected:[]}}function b(e,n){return v(n)||(n=[n]),{status:!1,index:-1,value:null,furthest:e,expected:n}}function y(e,n){if(!n)return e;if(e.furthest>n.furthest)return e;var t=e.furthest===n.furthest?function(e,n){if(function(){if(void 0!==r._supportsSet)return r._supportsSet;var e="undefined"!=typeof Set;return r._supportsSet=e,e}()&&Array.from){for(var t=new Set(e),o=0;o<n.length;o++)t.add(n[o]);var i=Array.from(t);return i.sort(),i}for(var a={},s=0;s<e.length;s++)a[e[s]]=!0;for(var c=0;c<n.length;c++)a[n[c]]=!0;var l=[];for(var u in a)({}).hasOwnProperty.call(a,u)&&l.push(u);return l.sort(),l}(e.expected,n.expected):n.expected;return{status:e.status,index:e.index,value:e.value,furthest:n.furthest,expected:t}}var B={};function w(e,n){if(E(e))return{offset:n,line:-1,column:-1};e in B||(B[e]={});for(var t=B[e],r=0,o=0,i=0,a=n;a>=0;){if(a in t){r=t[a].line,0===i&&(i=t[a].lineStart);break}"\n"===e.charAt(a)&&(o++,0===i&&(i=a+1)),a--}var s=r+o,c=n-i;return t[n]={line:s,lineStart:i},{offset:n,line:s+1,column:c+1}}function x(e){if(!C(e))throw new Error("not a parser: "+e)}function D(e,n){return"string"==typeof e?e.charAt(n):e[n]}function k(e){if("number"!=typeof e)throw new Error("not a number: "+e)}function S(e){if("function"!=typeof e)throw new Error("not a function: "+e)}function F(e){if("string"!=typeof e)throw new Error("not a string: "+e)}function I(e,n){return new Array(n+1).join(e)}function M(e,n,t){var r=n-e.length;return r<=0?e:I(t,r)+e}function T(e,n,t,r){return{from:e-n>0?e-n:0,to:e+t>r?r:e+t}}function P(e,n){var t,r,o,i,c,l=n.index,u=l.offset,d=1;if(u===e.length)return"Got the end of the input";if(E(e)){var A=u-u%8,p=u-A,h=T(A,40,40,e.length),m=s((function(e){return s((function(e){return M(e.toString(16),2,"0")}),e)}),function(e,n){var t=e.length,r=[],o=0;if(t<=8)return[e.slice()];for(var i=0;i<t;i++)r[o]||r.push([]),r[o].push(e[i]),(i+1)%8==0&&o++;return r}(e.slice(h.from,h.to).toJSON().data));i=function(e){return 0===e.from&&1===e.to?{from:e.from,to:e.to}:{from:e.from/8,to:Math.floor(e.to/8)}}(h),r=A/8,t=3*p,p>=4&&(t+=1),d=2,o=s((function(e){return e.length<=4?e.join(" "):e.slice(0,4).join(" ")+"  "+e.slice(4).join(" ")}),m),(c=(8*(i.to>0?i.to-1:i.to)).toString(16).length)<2&&(c=2)}else{var f=e.split(/\r\n|[\n\r\u2028\u2029]/);t=l.column-1,r=l.line-1,i=T(r,2,3,f.length),o=f.slice(i.from,i.to),c=i.to.toString().length}var g=r-i.from;return E(e)&&(c=(8*(i.to>0?i.to-1:i.to)).toString(16).length)<2&&(c=2),a((function(n,r,o){var a,s=o===g,l=s?"> ":"  ";return a=E(e)?M((8*(i.from+o)).toString(16),c,"0"):M((i.from+o+1).toString(),c," "),[].concat(n,[l+a+" | "+r],s?["  "+I(" ",c)+" | "+M("",t," ")+I("^",d)]:[])}),[],o).join("\n")}function z(e,n){return["\n","-- PARSING FAILED "+I("-",50),"\n\n",P(e,n),"\n\n",(t=n.expected,1===t.length?"Expected:\n\n"+t[0]:"Expected one of the following: \n\n"+t.join(", ")),"\n"].join("");var t}function O(e){return void 0!==e.flags?e.flags:[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.unicode?"u":"",e.sticky?"y":""].join("")}function N(){for(var e=[].slice.call(arguments),n=e.length,t=0;t<n;t+=1)x(e[t]);return r((function(t,r){for(var o,i=new Array(n),a=0;a<n;a+=1){if(!(o=y(e[a]._(t,r),o)).status)return o;i[a]=o.value,r=o.index}return y(_(r,i),o)}))}function j(){var e=[].slice.call(arguments);if(0===e.length)throw new Error("seqMap needs at least one argument");var n=e.pop();return S(n),N.apply(null,e).map((function(e){return n.apply(null,e)}))}function L(){var e=[].slice.call(arguments),n=e.length;if(0===n)return Z("zero alternates");for(var t=0;t<n;t+=1)x(e[t]);return r((function(n,t){for(var r,o=0;o<e.length;o+=1)if((r=y(e[o]._(n,t),r)).status)return r;return r}))}function R(e,n){return U(e,n).or(q([]))}function U(e,n){return x(e),x(n),j(e,n.then(e).many(),(function(e,n){return[e].concat(n)}))}function W(e){F(e);var n="'"+e+"'";return r((function(t,r){var o=r+e.length,i=t.slice(r,o);return i===e?_(o,i):b(r,n)}))}function H(e,n){!function(e){if(!(e instanceof RegExp))throw new Error("not a regexp: "+e);for(var n=O(e),t=0;t<n.length;t++){var r=n.charAt(t);if("i"!==r&&"m"!==r&&"u"!==r&&"s"!==r)throw new Error('unsupported regexp flag "'+r+'": '+e)}}(e),arguments.length>=2?k(n):n=0;var t=function(e){return RegExp("^(?:"+e.source+")",O(e))}(e),o=""+e;return r((function(e,r){var i=t.exec(e.slice(r));if(i){if(0<=n&&n<=i.length){var a=i[0],s=i[n];return _(r+a.length,s)}return b(r,"valid match group (0 to "+i.length+") in "+o)}return b(r,o)}))}function q(e){return r((function(n,t){return _(t,e)}))}function Z(e){return r((function(n,t){return b(t,e)}))}function V(e){if(C(e))return r((function(n,t){var r=e._(n,t);return r.index=t,r.value="",r}));if("string"==typeof e)return V(W(e));if(e instanceof RegExp)return V(H(e));throw new Error("not a string, regexp, or parser: "+e)}function Y(e){return x(e),r((function(n,t){var r=e._(n,t),o=n.slice(t,r.index);return r.status?b(t,'not "'+o+'"'):_(t,null)}))}function G(e){return S(e),r((function(n,t){var r=D(n,t);return t<n.length&&e(r)?_(t+1,r):b(t,"a character/byte matching "+e)}))}function $(e,n){arguments.length<2&&(n=e,e=void 0);var t=r((function(e,r){return t._=n()._,t._(e,r)}));return e?t.desc(e):t}function X(){return Z("fantasy-land/empty")}o.parse=function(e){if("string"!=typeof e&&!E(e))throw new Error(".parse must be called with a string or Buffer as its argument");var n,t=this.skip(ee)._(e,0);return n=t.status?{status:!0,value:t.value}:{status:!1,index:w(e,t.furthest),expected:t.expected},delete B[e],n},o.tryParse=function(e){var n=this.parse(e);if(n.status)return n.value;var t=z(e,n),r=new Error(t);throw r.type="ParsimmonError",r.result=n,r},o.assert=function(e,n){return this.chain((function(t){return e(t)?q(t):Z(n)}))},o.or=function(e){return L(this,e)},o.trim=function(e){return this.wrap(e,e)},o.wrap=function(e,n){return j(e,this,n,(function(e,n){return n}))},o.thru=function(e){return e(this)},o.then=function(e){return x(e),N(this,e).map((function(e){return e[1]}))},o.many=function(){var e=this;return r((function(n,t){for(var r=[],o=void 0;;){if(!(o=y(e._(n,t),o)).status)return y(_(t,r),o);if(t===o.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");t=o.index,r.push(o.value)}}))},o.tieWith=function(e){return F(e),this.map((function(n){if(function(e){if(!v(e))throw new Error("not an array: "+e)}(n),n.length){F(n[0]);for(var t=n[0],r=1;r<n.length;r++)F(n[r]),t+=e+n[r];return t}return""}))},o.tie=function(){return this.tieWith("")},o.times=function(e,n){var t=this;return arguments.length<2&&(n=e),k(e),k(n),r((function(r,o){for(var i=[],a=void 0,s=void 0,c=0;c<e;c+=1){if(s=y(a=t._(r,o),s),!a.status)return s;o=a.index,i.push(a.value)}for(;c<n&&(s=y(a=t._(r,o),s),a.status);c+=1)o=a.index,i.push(a.value);return y(_(o,i),s)}))},o.result=function(e){return this.map((function(){return e}))},o.atMost=function(e){return this.times(0,e)},o.atLeast=function(e){return j(this.times(e),this.many(),(function(e,n){return e.concat(n)}))},o.map=function(e){S(e);var n=this;return r((function(t,r){var o=n._(t,r);return o.status?y(_(o.index,e(o.value)),o):o}))},o.contramap=function(e){S(e);var n=this;return r((function(t,r){var o=n.parse(e(t.slice(r)));return o.status?_(r+t.length,o.value):o}))},o.promap=function(e,n){return S(e),S(n),this.contramap(e).map(n)},o.skip=function(e){return N(this,e).map((function(e){return e[0]}))},o.mark=function(){return j(Q,this,Q,(function(e,n,t){return{start:e,value:n,end:t}}))},o.node=function(e){return j(Q,this,Q,(function(n,t,r){return{name:e,value:t,start:n,end:r}}))},o.sepBy=function(e){return R(this,e)},o.sepBy1=function(e){return U(this,e)},o.lookahead=function(e){return this.skip(V(e))},o.notFollowedBy=function(e){return this.skip(Y(e))},o.desc=function(e){v(e)||(e=[e]);var n=this;return r((function(t,r){var o=n._(t,r);return o.status||(o.expected=e),o}))},o.fallback=function(e){return this.or(q(e))},o.ap=function(e){return j(e,this,(function(e,n){return e(n)}))},o.chain=function(e){var n=this;return r((function(t,r){var o=n._(t,r);return o.status?y(e(o.value)._(t,o.index),o):o}))},o.concat=o.or,o.empty=X,o.of=q,o["fantasy-land/ap"]=o.ap,o["fantasy-land/chain"]=o.chain,o["fantasy-land/concat"]=o.concat,o["fantasy-land/empty"]=o.empty,o["fantasy-land/of"]=o.of,o["fantasy-land/map"]=o.map;var Q=r((function(e,n){return _(n,w(e,n))})),K=r((function(e,n){return n>=e.length?b(n,"any character/byte"):_(n+1,D(e,n))})),J=r((function(e,n){return _(e.length,e.slice(n))})),ee=r((function(e,n){return n<e.length?b(n,"EOF"):_(n,null)})),ne=H(/[0-9]/).desc("a digit"),te=H(/[0-9]*/).desc("optional digits"),re=H(/[a-z]/i).desc("a letter"),oe=H(/[a-z]*/i).desc("optional letters"),ie=H(/\s*/).desc("optional whitespace"),ae=H(/\s+/).desc("whitespace"),se=W("\r"),ce=W("\n"),le=W("\r\n"),ue=L(le,ce,se).desc("newline"),de=L(ue,ee);r.all=J,r.alt=L,r.any=K,r.cr=se,r.createLanguage=function(e){var n={};for(var t in e)({}).hasOwnProperty.call(e,t)&&function(t){n[t]=$((function(){return e[t](n)}))}(t);return n},r.crlf=le,r.custom=function(e){return r(e(_,b))},r.digit=ne,r.digits=te,r.empty=X,r.end=de,r.eof=ee,r.fail=Z,r.formatError=z,r.index=Q,r.isParser=C,r.lazy=$,r.letter=re,r.letters=oe,r.lf=ce,r.lookahead=V,r.makeFailure=b,r.makeSuccess=_,r.newline=ue,r.noneOf=function(e){return G((function(n){return e.indexOf(n)<0})).desc("none of '"+e+"'")},r.notFollowedBy=Y,r.of=q,r.oneOf=function(e){for(var n=e.split(""),t=0;t<n.length;t++)n[t]="'"+n[t]+"'";return G((function(n){return e.indexOf(n)>=0})).desc(n)},r.optWhitespace=ie,r.Parser=r,r.range=function(e,n){return G((function(t){return e<=t&&t<=n})).desc(e+"-"+n)},r.regex=H,r.regexp=H,r.sepBy=R,r.sepBy1=U,r.seq=N,r.seqMap=j,r.seqObj=function(){for(var e,n={},t=0,o=(e=arguments,Array.prototype.slice.call(e)),i=o.length,a=0;a<i;a+=1){var s=o[a];if(!C(s)){if(v(s)&&2===s.length&&"string"==typeof s[0]&&C(s[1])){var c=s[0];if(Object.prototype.hasOwnProperty.call(n,c))throw new Error("seqObj: duplicate key "+c);n[c]=!0,t++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(0===t)throw new Error("seqObj expects at least one named parser, found zero");return r((function(e,n){for(var t,r={},a=0;a<i;a+=1){var s,c;if(v(o[a])?(s=o[a][0],c=o[a][1]):(s=null,c=o[a]),!(t=y(c._(e,n),t)).status)return t;s&&(r[s]=t.value),n=t.index}return y(_(n,r),t)}))},r.string=W,r.succeed=q,r.takeWhile=function(e){return S(e),r((function(n,t){for(var r=t;r<n.length&&e(D(n,r));)r++;return _(r,n.slice(t,r))}))},r.test=G,r.whitespace=ae,r["fantasy-land/empty"]=X,r["fantasy-land/of"]=q,r.Binary={bitSeq:d,bitSeqObj:function(e){u();var n={},t=0,r=s((function(e){if(v(e)){var r=e;if(2!==r.length)throw new Error("["+r.join(", ")+"] should be length 2, got length "+r.length);if(F(r[0]),k(r[1]),Object.prototype.hasOwnProperty.call(n,r[0]))throw new Error("duplicate key in bitSeqObj: "+r[0]);return n[r[0]]=!0,t++,r}return k(e),[null,e]}),e);if(t<1)throw new Error("bitSeqObj expects at least one named pair, got ["+e.join(", ")+"]");var o=s((function(e){return e[0]}),r);return d(s((function(e){return e[1]}),r)).map((function(e){return a((function(e,n){return null!==n[0]&&(e[n[0]]=n[1]),e}),{},s((function(n,t){return[n,e[t]]}),o))}))},byte:function(e){if(u(),k(e),e>255)throw new Error("Value specified to byte constructor ("+e+"=0x"+e.toString(16)+") is larger in value than a single byte.");var n=(e>15?"0x":"0x0")+e.toString(16);return r((function(t,r){var o=D(t,r);return o===e?_(r+1,o):b(r,n)}))},buffer:function(e){return A("buffer",e).map((function(e){return Buffer.from(e)}))},encodedString:function(e,n){return A("string",n).map((function(n){return n.toString(e)}))},uintBE:h,uint8BE:h(1),uint16BE:h(2),uint32BE:h(4),uintLE:m,uint8LE:m(1),uint16LE:m(2),uint32LE:m(4),intBE:f,int8BE:f(1),int16BE:f(2),int32BE:f(4),intLE:g,int8LE:g(1),int16LE:g(2),int32LE:g(4),floatBE:A("floatBE",4).map((function(e){return e.readFloatBE(0)})),floatLE:A("floatLE",4).map((function(e){return e.readFloatLE(0)})),doubleBE:A("doubleBE",8).map((function(e){return e.readDoubleBE(0)})),doubleLE:A("doubleLE",8).map((function(e){return e.readDoubleLE(0)}))},e.exports=r}])},2522:(e,n,t)=>{"use strict";var r=t(5245);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,n,t,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function n(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:i,resetWarningCache:o};return t.PropTypes=t,t}},6723:(e,n,t)=>{e.exports=t(2522)()},5245:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4790:(e,n,t)=>{"use strict";const r=t(5821),o=t(6256),i=t(9426),a=t(980),s=Symbol("encodeFragmentIdentifier");function c(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function l(e,n){return n.encode?n.strict?r(e):encodeURIComponent(e):e}function u(e,n){return n.decode?o(e):e}function d(e){return Array.isArray(e)?e.sort():"object"==typeof e?d(Object.keys(e)).sort(((e,n)=>Number(e)-Number(n))).map((n=>e[n])):e}function A(e){const n=e.indexOf("#");return-1!==n&&(e=e.slice(0,n)),e}function p(e){const n=(e=A(e)).indexOf("?");return-1===n?"":e.slice(n+1)}function h(e,n){return n.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!n.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function m(e,n){c((n=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},n)).arrayFormatSeparator);const t=function(e){let n;switch(e.arrayFormat){case"index":return(e,t,r)=>{n=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),n?(void 0===r[e]&&(r[e]={}),r[e][n[1]]=t):r[e]=t};case"bracket":return(e,t,r)=>{n=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),n?void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=[t]:r[e]=t};case"comma":case"separator":return(n,t,r)=>{const o="string"==typeof t&&t.includes(e.arrayFormatSeparator),i="string"==typeof t&&!o&&u(t,e).includes(e.arrayFormatSeparator);t=i?u(t,e):t;const a=o||i?t.split(e.arrayFormatSeparator).map((n=>u(n,e))):null===t?t:u(t,e);r[n]=a};case"bracket-separator":return(n,t,r)=>{const o=/(\[\])$/.test(n);if(n=n.replace(/\[\]$/,""),!o)return void(r[n]=t?u(t,e):t);const i=null===t?[]:t.split(e.arrayFormatSeparator).map((n=>u(n,e)));void 0!==r[n]?r[n]=[].concat(r[n],i):r[n]=i};default:return(e,n,t)=>{void 0!==t[e]?t[e]=[].concat(t[e],n):t[e]=n}}}(n),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const o of e.split("&")){if(""===o)continue;let[e,a]=i(n.decode?o.replace(/\+/g," "):o,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(n.arrayFormat)?a:u(a,n),t(u(e,n),a,r)}for(const e of Object.keys(r)){const t=r[e];if("object"==typeof t&&null!==t)for(const e of Object.keys(t))t[e]=h(t[e],n);else r[e]=h(t,n)}return!1===n.sort?r:(!0===n.sort?Object.keys(r).sort():Object.keys(r).sort(n.sort)).reduce(((e,n)=>{const t=r[n];return Boolean(t)&&"object"==typeof t&&!Array.isArray(t)?e[n]=d(t):e[n]=t,e}),Object.create(null))}n.extract=p,n.parse=m,n.stringify=(e,n)=>{if(!e)return"";c((n=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},n)).arrayFormatSeparator);const t=t=>n.skipNull&&null==e[t]||n.skipEmptyString&&""===e[t],r=function(e){switch(e.arrayFormat){case"index":return n=>(t,r)=>{const o=t.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?t:null===r?[...t,[l(n,e),"[",o,"]"].join("")]:[...t,[l(n,e),"[",l(o,e),"]=",l(r,e)].join("")]};case"bracket":return n=>(t,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?t:null===r?[...t,[l(n,e),"[]"].join("")]:[...t,[l(n,e),"[]=",l(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const n="bracket-separator"===e.arrayFormat?"[]=":"=";return t=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:(o=null===o?"":o,0===r.length?[[l(t,e),n,l(o,e)].join("")]:[[r,l(o,e)].join(e.arrayFormatSeparator)])}default:return n=>(t,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?t:null===r?[...t,l(n,e)]:[...t,[l(n,e),"=",l(r,e)].join("")]}}(n),o={};for(const n of Object.keys(e))t(n)||(o[n]=e[n]);const i=Object.keys(o);return!1!==n.sort&&i.sort(n.sort),i.map((t=>{const o=e[t];return void 0===o?"":null===o?l(t,n):Array.isArray(o)?0===o.length&&"bracket-separator"===n.arrayFormat?l(t,n)+"[]":o.reduce(r(t),[]).join("&"):l(t,n)+"="+l(o,n)})).filter((e=>e.length>0)).join("&")},n.parseUrl=(e,n)=>{n=Object.assign({decode:!0},n);const[t,r]=i(e,"#");return Object.assign({url:t.split("?")[0]||"",query:m(p(e),n)},n&&n.parseFragmentIdentifier&&r?{fragmentIdentifier:u(r,n)}:{})},n.stringifyUrl=(e,t)=>{t=Object.assign({encode:!0,strict:!0,[s]:!0},t);const r=A(e.url).split("?")[0]||"",o=n.extract(e.url),i=n.parse(o,{sort:!1}),a=Object.assign(i,e.query);let c=n.stringify(a,t);c&&(c=`?${c}`);let u=function(e){let n="";const t=e.indexOf("#");return-1!==t&&(n=e.slice(t)),n}(e.url);return e.fragmentIdentifier&&(u=`#${t[s]?l(e.fragmentIdentifier,t):e.fragmentIdentifier}`),`${r}${c}${u}`},n.pick=(e,t,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[s]:!1},r);const{url:o,query:i,fragmentIdentifier:c}=n.parseUrl(e,r);return n.stringifyUrl({url:o,query:a(i,t),fragmentIdentifier:c},r)},n.exclude=(e,t,r)=>{const o=Array.isArray(t)?e=>!t.includes(e):(e,n)=>!t(e,n);return n.pick(e,o,r)}},3137:function(e,n,t){!function(e,n){"use strict";function t(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}})),n.default=e,Object.freeze(n)}var r=t(n);function o(e,n){return(o=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var i={error:null},a=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).state=i,n.updatedWithError=!1,n.resetErrorBoundary=function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];null==n.props.onReset||(e=n.props).onReset.apply(e,r),n.reset()},n}var t,a;a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,o(t,a),n.getDerivedStateFromError=function(e){return{error:e}};var s=n.prototype;return s.reset=function(){this.updatedWithError=!1,this.setState(i)},s.componentDidCatch=function(e,n){var t,r;null==(t=(r=this.props).onError)||t.call(r,e,n)},s.componentDidMount=function(){null!==this.state.error&&(this.updatedWithError=!0)},s.componentDidUpdate=function(e){var n,t,r,o,i=this.state.error,a=this.props.resetKeys;null===i||this.updatedWithError?null!==i&&(void 0===(r=e.resetKeys)&&(r=[]),void 0===(o=a)&&(o=[]),r.length!==o.length||r.some((function(e,n){return!Object.is(e,o[n])})))&&(null==(n=(t=this.props).onResetKeysChange)||n.call(t,e.resetKeys,a),this.reset()):this.updatedWithError=!0},s.render=function(){var e=this.state.error,n=this.props,t=n.fallbackRender,o=n.FallbackComponent,i=n.fallback;if(null!==e){var a={error:e,resetErrorBoundary:this.resetErrorBoundary};if(r.isValidElement(i))return i;if("function"==typeof t)return t(a);if(o)return r.createElement(o,a);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},n}(r.Component);e.ErrorBoundary=a,e.useErrorHandler=function(e){var n=r.useState(null),t=n[0],o=n[1];if(null!=e)throw e;if(null!=t)throw t;return o},e.withErrorBoundary=function(e,n){var t=function(t){return r.createElement(a,n,r.createElement(e,t))},o=e.displayName||e.name||"Unknown";return t.displayName="withErrorBoundary("+o+")",t},Object.defineProperty(e,"__esModule",{value:!0})}(n,t(4098))},9426:e=>{"use strict";e.exports=(e,n)=>{if("string"!=typeof e||"string"!=typeof n)throw new TypeError("Expected the arguments to be of type `string`");if(""===n)return[e];const t=e.indexOf(n);return-1===t?[e]:[e.slice(0,t),e.slice(t+n.length)]}},5821:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},9207:(e,n,t)=>{"use strict";var r=t(502),o=t(6338),i=t(8643),a=t(533)("String.prototype.slice");e.exports=function(e){var n,t=i(this),s=o(t),c=r(s.length);arguments.length>1&&(n=arguments[1]);var l=void 0===n?"":o(n);""===l&&(l=" ");var u=r(e);if(u<=c)return s;for(var d=u-c;l.length<d;){var A=l.length,p=d-A;l+=A>p?a(l,0,p):l}return(l.length>d?a(l,0,d):l)+s}},8327:(e,n,t)=>{"use strict";var r=t(3161),o=t(8643),i=t(4203),a=t(9207),s=t(3988),c=t(2683),l=i.apply(s()),u=function(e,n){o(e);var t=[n];return arguments.length>2&&t.push(arguments[2]),l(e,t)};r(u,{getPolyfill:s,implementation:a,shim:c}),e.exports=u},3988:(e,n,t)=>{"use strict";var r=t(9207);e.exports=function(){return"function"==typeof String.prototype.padStart?String.prototype.padStart:r}},2683:(e,n,t)=>{"use strict";var r=t(3988),o=t(3161);e.exports=function(){var e=r();return o(String.prototype,{padStart:e},{padStart:function(){return String.prototype.padStart!==e}}),e}},2170:function(e,n,t){e.exports=function(){"use strict";function e(e,n){return e(n={exports:{}},n.exports),n.exports}"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self&&self;var n=e((function(e,n){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function n(e){return Array.isArray(e)?[]:{}}function t(t,r){return r&&!0===r.clone&&e(t)?i(n(t),t,r):t}function r(n,r,o){var a=n.slice();return r.forEach((function(r,s){void 0===a[s]?a[s]=t(r,o):e(r)?a[s]=i(n[s],r,o):-1===n.indexOf(r)&&a.push(t(r,o))})),a}function o(n,r,o){var a={};return e(n)&&Object.keys(n).forEach((function(e){a[e]=t(n[e],o)})),Object.keys(r).forEach((function(s){e(r[s])&&n[s]?a[s]=i(n[s],r[s],o):a[s]=t(r[s],o)})),a}function i(e,n,i){var a=Array.isArray(n),s=(i||{arrayMerge:r}).arrayMerge||r;return a?Array.isArray(e)?s(e,n,i):t(n,i):o(e,n,i)}return i.all=function(e,n){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,t){return i(e,t,n)}))},i}()})),r=e((function(e,n){n.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=n.default})),o=r.svg,i=r.xlink,a={};a[o.name]=o.uri,a[i.name]=i.uri;var s,c=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(n){return n+'="'+e[n].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(n(a,t||{}))+">"+e+"</svg>"},l=r.svg,u=r.xlink,d={attrs:(s={style:["position: absolute","width: 0","height: 0"].join("; "),"aria-hidden":"true"},s[l.name]=l.uri,s[u.name]=u.uri,s)},A=function(e){this.config=n(d,e||{}),this.symbols=[]};A.prototype.add=function(e){var n=this.symbols,t=this.find(e.id);return t?(n[n.indexOf(t)]=e,!1):(n.push(e),!0)},A.prototype.remove=function(e){var n=this.symbols,t=this.find(e);return!!t&&(n.splice(n.indexOf(t),1),t.destroy(),!0)},A.prototype.find=function(e){return this.symbols.filter((function(n){return n.id===e}))[0]||null},A.prototype.has=function(e){return null!==this.find(e)},A.prototype.stringify=function(){var e=this.config.attrs,n=this.symbols.map((function(e){return e.stringify()})).join("");return c(n,e)},A.prototype.toString=function(){return this.stringify()},A.prototype.destroy=function(){this.symbols.forEach((function(e){return e.destroy()}))};var p=function(e){var n=e.id,t=e.viewBox,r=e.content;this.id=n,this.viewBox=t,this.content=r};p.prototype.stringify=function(){return this.content},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(n){return delete e[n]}))};var h=function(e){var n=!!document.importNode,t=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return n?document.importNode(t,!0):t},m=function(e){function n(){e.apply(this,arguments)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var t={isMounted:{}};return t.isMounted.get=function(){return!!this.node},n.createFromExistingNode=function(e){return new n({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},n.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},n.prototype.mount=function(e){if(this.isMounted)return this.node;var n="string"==typeof e?document.querySelector(e):e,t=this.render();return this.node=t,n.appendChild(t),t},n.prototype.render=function(){var e=this.stringify();return h(c(e)).childNodes[0]},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(n.prototype,t),n}(p),f={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},g=function(e){return Array.prototype.slice.call(e,0)},C=function(){return/firefox/i.test(navigator.userAgent)},v=function(){return/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)},E=function(){return/edge/i.test(navigator.userAgent)},_=function(e){return(e||window.location.href).split("#")[0]},b=function(e){angular.module("ng").run(["$rootScope",function(n){n.$on("$locationChangeSuccess",(function(n,t,r){var o,i,a;o=e,i={oldUrl:r,newUrl:t},(a=document.createEvent("CustomEvent")).initCustomEvent(o,!1,!1,i),window.dispatchEvent(a)}))}])},y=function(e,n){return void 0===n&&(n="linearGradient, radialGradient, pattern, mask, clipPath"),g(e.querySelectorAll("symbol")).forEach((function(e){g(e.querySelectorAll(n)).forEach((function(n){e.parentNode.insertBefore(n,e)}))})),e},B=r.xlink.uri,w="xlink:href",x=/[{}|\\\^\[\]`"<>]/g;function D(e){return e.replace(x,(function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()}))}var k=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],S=k.map((function(e){return"["+e+"]"})).join(","),F=function(e,n,t,r){var o,i,a=D(t),s=D(r);(o=e.querySelectorAll(S),i=function(e){var n=e.localName,t=e.value;return-1!==k.indexOf(n)&&-1!==t.indexOf("url("+a)},g(o).reduce((function(e,n){if(!n.attributes)return e;var t=g(n.attributes),r=i?t.filter(i):t;return e.concat(r)}),[])).forEach((function(e){return e.value=e.value.replace(new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),s)})),function(e,n,t){g(e).forEach((function(e){var r=e.getAttribute(w);if(r&&0===r.indexOf(n)){var o=r.replace(n,t);e.setAttributeNS(B,w,o)}}))}(n,a,s)},I="mount",M="symbol_mount";return function(e){function t(t){var r=this;void 0===t&&(t={}),e.call(this,n(f,t));var o,i=(o=o||Object.create(null),{on:function(e,n){(o[e]||(o[e]=[])).push(n)},off:function(e,n){o[e]&&o[e].splice(o[e].indexOf(n)>>>0,1)},emit:function(e,n){(o[e]||[]).map((function(e){e(n)})),(o["*"]||[]).map((function(t){t(e,n)}))}});this._emitter=i,this.node=null;var a=this.config;if(a.autoConfigure&&this._autoConfigure(t),a.syncUrlsWithBaseTag){var s=document.getElementsByTagName("base")[0].getAttribute("href");i.on(I,(function(){return r.updateUrls("#",s)}))}var c=this._handleLocationChange.bind(this);this._handleLocationChange=c,a.listenLocationChangeEvent&&window.addEventListener(a.locationChangeEvent,c),a.locationChangeAngularEmitter&&b(a.locationChangeEvent),i.on(I,(function(e){a.moveGradientsOutsideSymbol&&y(e)})),i.on(M,(function(e){var n;a.moveGradientsOutsideSymbol&&y(e.parentNode),(v()||E())&&(n=[],g(e.querySelectorAll("style")).forEach((function(e){e.textContent+="",n.push(e)})))}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.prototype._autoConfigure=function(e){var n=this.config;void 0===e.syncUrlsWithBaseTag&&(n.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(n.locationChangeAngularEmitter=void 0!==window.angular),void 0===e.moveGradientsOutsideSymbol&&(n.moveGradientsOutsideSymbol=C())},t.prototype._handleLocationChange=function(e){var n=e.detail,t=n.oldUrl,r=n.newUrl;this.updateUrls(t,r)},t.prototype.add=function(n){var t=e.prototype.add.call(this,n);return this.isMounted&&t&&(n.mount(this.node),this._emitter.emit(M,n.node)),t},t.prototype.attach=function(e){var n=this,t=this;if(t.isMounted)return t.node;var r="string"==typeof e?document.querySelector(e):e;return t.node=r,this.symbols.forEach((function(e){e.mount(t.node),n._emitter.emit(M,e.node)})),g(r.querySelectorAll("symbol")).forEach((function(e){var n=m.createFromExistingNode(e);n.node=e,t.add(n)})),this._emitter.emit(I,r),r},t.prototype.destroy=function(){var e=this,n=e.config,t=e.symbols,r=e._emitter;t.forEach((function(e){return e.destroy()})),r.off("*"),window.removeEventListener(n.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},t.prototype.mount=function(e,n){void 0===e&&(e=this.config.mountTo),void 0===n&&(n=!1);var t=this;if(t.isMounted)return t.node;var r="string"==typeof e?document.querySelector(e):e,o=t.render();return this.node=o,n&&r.childNodes[0]?r.insertBefore(o,r.childNodes[0]):r.appendChild(o),this._emitter.emit(I,o),o},t.prototype.render=function(){return h(this.stringify())},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},t.prototype.updateUrls=function(e,n){if(!this.isMounted)return!1;var t=document.querySelectorAll(this.config.usagesToUpdate);return F(this.node,t,_(e)+"#",_(n)+"#"),!0},Object.defineProperties(t.prototype,r),t}(A)}()},7508:function(e,n,t){e.exports=function(){"use strict";var e=function(e){var n=e.id,t=e.viewBox,r=e.content;this.id=n,this.viewBox=t,this.content=r};function n(e,n){return e(n={exports:{}},n.exports),n.exports}e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(n){return delete e[n]}))},"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self&&self;var r=n((function(e,n){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function n(e){return Array.isArray(e)?[]:{}}function t(t,r){return r&&!0===r.clone&&e(t)?i(n(t),t,r):t}function r(n,r,o){var a=n.slice();return r.forEach((function(r,s){void 0===a[s]?a[s]=t(r,o):e(r)?a[s]=i(n[s],r,o):-1===n.indexOf(r)&&a.push(t(r,o))})),a}function o(n,r,o){var a={};return e(n)&&Object.keys(n).forEach((function(e){a[e]=t(n[e],o)})),Object.keys(r).forEach((function(s){e(r[s])&&n[s]?a[s]=i(n[s],r[s],o):a[s]=t(r[s],o)})),a}function i(e,n,i){var a=Array.isArray(n),s=(i||{arrayMerge:r}).arrayMerge||r;return a?Array.isArray(e)?s(e,n,i):t(n,i):o(e,n,i)}return i.all=function(e,n){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,t){return i(e,t,n)}))},i}()})),o=n((function(e,n){n.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=n.default})),i=o.svg,a=o.xlink,s={};s[i.name]=i.uri,s[a.name]=a.uri;var c=function(e,n){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(n){return n+'="'+e[n].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(r(s,n||{}))+">"+e+"</svg>"};return function(e){function n(){e.apply(this,arguments)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var t={isMounted:{}};return t.isMounted.get=function(){return!!this.node},n.createFromExistingNode=function(e){return new n({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},n.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},n.prototype.mount=function(e){if(this.isMounted)return this.node;var n="string"==typeof e?document.querySelector(e):e,t=this.render();return this.node=t,n.appendChild(t),t},n.prototype.render=function(){var e=this.stringify();return function(e){var n=!!document.importNode,t=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return n?document.importNode(t,!0):t}(c(e)).childNodes[0]},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(n.prototype,t),n}(e)}()},5076:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".MEConfig *,\n.MEConfig *::before,\n.MEConfig *::after {\n  box-sizing: border-box;\n}\n\n.MEConfig * {\n  scrollbar-width: none;\n}\n\n/**\n* Итоговый селектор не имеет веса, поэтому перекроет только браузерные стили\n*/\n@supports selector(A:where(B)) {\n  :where(.MEConfig) * {\n    margin: 0;\n    padding: 0;\n  }\n}\n\n/**\n* Без поддержки :where селектор без веса сгененерировать ресет под классом\n* без высокой специфичности не получится.\n* Универсальные селекторы менее специфичны, чем селекторы с тегами,\n* но если стили ресета подключатся после основных, то все равно отработают.\n* Поэтому выбираем более специфичные селекторы, но ограничиваем список элементов,\n* чтобы с меньшей вероятности задеть более частые элементы\n*/\n@supports not (selector(A:where(B))) {\n  .MEConfig p,\n  .MEConfig ul,\n  .MEConfig ol,\n  .MEConfig li,\n  .MEConfig h1,\n  .MEConfig h2,\n  .MEConfig h3,\n  .MEConfig h4,\n  .MEConfig h5,\n  .MEConfig h6,\n  .MEConfig figure {\n    margin: 0;\n    padding: 0;\n  }\n}\n\n.MEConfig img {\n  max-width: 100%;\n}\n\n.MEConfig {\n  --fcZIndex: 1500;\n  --basefont: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue',\n    Geneva, 'Noto Sans Armenian', 'Noto Sans Bengali', 'Noto Sans Cherokee',\n    'Noto Sans Devanagari', 'Noto Sans Ethiopic', 'Noto Sans Georgian',\n    'Noto Sans Hebrew', 'Noto Sans Kannada', 'Noto Sans Khmer', 'Noto Sans Lao',\n    'Noto Sans Osmanya', 'Noto Sans Tamil', 'Noto Sans Telugu', 'Noto Sans Thai',\n    sans-serif, Arial, Tahoma, verdana;\n  --font: var(--palette-vk-font, var(--basefont));\n  font-family: var(--font);\n}\n\n.MEApp {\n  --historyPaddingRight: 30px;\n  --historyPaddingBottom: 40px;\n  --historyPaddingLeft: 20px;\n  --messageFontSize: 16px;\n  --messageLineHeight: 20px;\n  --messageMaxWidth: 75%;\n  --messageVerticalIndent: 8px;\n  --messageHorizontalIndent: 12px;\n  --messageBorderRadius: 16px;\n  --messageAttachmentIndent: 5px;\n  --messageDateFontSize: 11px;\n  --messageDateLineHeight: 12px;\n}\n\n.FCApp {\n  --historyPadding: 0 16px 12px 8px;\n  --historyPaddingRight: 16px;\n  --historyPaddingBottom: 36px;\n  --historyPaddingLeft: 8px;\n  --messageFontSize: 13px;\n  --messageLineHeight: 16px;\n  --messageMaxWidth: 240px;\n  --messageVerticalIndent: 7px;\n  --messageHorizontalIndent: 10px;\n  --messageBorderRadius: 14px;\n  --messageAttachmentIndent: 4px;\n  --messageDateFontSize: 9px;\n  --messageDateLineHeight: 10px;\n}\n","",{version:3,sources:["webpack://./src/browser/styles/base.css"],names:[],mappings:"AAAA;;;EAGE,sBAAsB;AACxB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;;CAEC;AACD;EACE;IACE,SAAS;IACT,UAAU;EACZ;AACF;;AAEA;;;;;;;CAOC;AACD;EACE;;;;;;;;;;;IAWE,SAAS;IACT,UAAU;EACZ;AACF;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,gBAAgB;EAChB;;;;;sCAKoC;EACpC,+CAA+C;EAC/C,wBAAwB;AAC1B;;AAEA;EACE,2BAA2B;EAC3B,4BAA4B;EAC5B,0BAA0B;EAC1B,uBAAuB;EACvB,yBAAyB;EACzB,sBAAsB;EACtB,4BAA4B;EAC5B,+BAA+B;EAC/B,2BAA2B;EAC3B,8BAA8B;EAC9B,2BAA2B;EAC3B,6BAA6B;AAC/B;;AAEA;EACE,iCAAiC;EACjC,2BAA2B;EAC3B,4BAA4B;EAC5B,yBAAyB;EACzB,uBAAuB;EACvB,yBAAyB;EACzB,wBAAwB;EACxB,4BAA4B;EAC5B,+BAA+B;EAC/B,2BAA2B;EAC3B,8BAA8B;EAC9B,0BAA0B;EAC1B,6BAA6B;AAC/B",sourcesContent:[".MEConfig *,\n.MEConfig *::before,\n.MEConfig *::after {\n  box-sizing: border-box;\n}\n\n.MEConfig * {\n  scrollbar-width: none;\n}\n\n/**\n* Итоговый селектор не имеет веса, поэтому перекроет только браузерные стили\n*/\n@supports selector(A:where(B)) {\n  :where(.MEConfig) * {\n    margin: 0;\n    padding: 0;\n  }\n}\n\n/**\n* Без поддержки :where селектор без веса сгененерировать ресет под классом\n* без высокой специфичности не получится.\n* Универсальные селекторы менее специфичны, чем селекторы с тегами,\n* но если стили ресета подключатся после основных, то все равно отработают.\n* Поэтому выбираем более специфичные селекторы, но ограничиваем список элементов,\n* чтобы с меньшей вероятности задеть более частые элементы\n*/\n@supports not (selector(A:where(B))) {\n  .MEConfig p,\n  .MEConfig ul,\n  .MEConfig ol,\n  .MEConfig li,\n  .MEConfig h1,\n  .MEConfig h2,\n  .MEConfig h3,\n  .MEConfig h4,\n  .MEConfig h5,\n  .MEConfig h6,\n  .MEConfig figure {\n    margin: 0;\n    padding: 0;\n  }\n}\n\n.MEConfig img {\n  max-width: 100%;\n}\n\n.MEConfig {\n  --fcZIndex: 1500;\n  --basefont: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue',\n    Geneva, 'Noto Sans Armenian', 'Noto Sans Bengali', 'Noto Sans Cherokee',\n    'Noto Sans Devanagari', 'Noto Sans Ethiopic', 'Noto Sans Georgian',\n    'Noto Sans Hebrew', 'Noto Sans Kannada', 'Noto Sans Khmer', 'Noto Sans Lao',\n    'Noto Sans Osmanya', 'Noto Sans Tamil', 'Noto Sans Telugu', 'Noto Sans Thai',\n    sans-serif, Arial, Tahoma, verdana;\n  --font: var(--palette-vk-font, var(--basefont));\n  font-family: var(--font);\n}\n\n.MEApp {\n  --historyPaddingRight: 30px;\n  --historyPaddingBottom: 40px;\n  --historyPaddingLeft: 20px;\n  --messageFontSize: 16px;\n  --messageLineHeight: 20px;\n  --messageMaxWidth: 75%;\n  --messageVerticalIndent: 8px;\n  --messageHorizontalIndent: 12px;\n  --messageBorderRadius: 16px;\n  --messageAttachmentIndent: 5px;\n  --messageDateFontSize: 11px;\n  --messageDateLineHeight: 12px;\n}\n\n.FCApp {\n  --historyPadding: 0 16px 12px 8px;\n  --historyPaddingRight: 16px;\n  --historyPaddingBottom: 36px;\n  --historyPaddingLeft: 8px;\n  --messageFontSize: 13px;\n  --messageLineHeight: 16px;\n  --messageMaxWidth: 240px;\n  --messageVerticalIndent: 7px;\n  --messageHorizontalIndent: 10px;\n  --messageBorderRadius: 14px;\n  --messageAttachmentIndent: 4px;\n  --messageDateFontSize: 9px;\n  --messageDateLineHeight: 10px;\n}\n"],sourceRoot:""}]);const s=a},1019:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachActiveCall {\n}\n\n.AttachActiveCall__info {\n  overflow: hidden;\n}\n\n.AttachActiveCall__title,\n.AttachActiveCall__description {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.AttachActiveCall__title {\n  font: 13px / 16px var(--font);\n  font-weight: 500;\n}\n\n.AttachActiveCall__description {\n  font: 12px / 14px var(--font);\n  opacity: 0.4;\n}\n\n.AttachActiveCall__join {\n  cursor: pointer;\n}\n\n/* Полноразмерный */\n.AttachActiveCall--full {\n  display: flex;\n}\n\n.AttachActiveCall--full .AttachActiveCall__info {\n  display: flex;\n  margin-right: auto;\n}\n\n.AttachActiveCall__userList {\n  margin-right: 8px;\n}\n\n.AttachActiveCall--full .AttachActiveCall__infoWrapper {\n  overflow: hidden;\n}\n\n.AttachActiveCall--full .AttachActiveCall__join {\n  margin-left: 32px;\n}\n\n/* Компактный */\n.AttachActiveCall--compact {\n  min-width: 175px;\n}\n\n.AttachActiveCall--compact .AttachActiveCall__infoWrapper {\n  display: flex;\n  align-items: center;\n  height: 24px;\n  margin-top: 6px;\n}\n\n.AttachActiveCall--compact .AttachActiveCall__userList {\n  margin-right: 6px;\n}\n\n.AttachActiveCall--compact .AttachActiveCall__join {\n  margin-top: 8px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachActiveCall/AttachActiveCall.css"],names:[],mappings:"AAAA;AACA;;AAEA;EACE,gBAAgB;AAClB;;AAEA;;EAEE,mBAAmB;EACnB,uBAAuB;EACvB,gBAAgB;AAClB;;AAEA;EACE,6BAA6B;EAC7B,gBAAgB;AAClB;;AAEA;EACE,6BAA6B;EAC7B,YAAY;AACd;;AAEA;EACE,eAAe;AACjB;;AAEA,mBAAmB;AACnB;EACE,aAAa;AACf;;AAEA;EACE,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,iBAAiB;AACnB;;AAEA,eAAe;AACf;EACE,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,eAAe;AACjB",sourcesContent:[".AttachActiveCall {\n}\n\n.AttachActiveCall__info {\n  overflow: hidden;\n}\n\n.AttachActiveCall__title,\n.AttachActiveCall__description {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.AttachActiveCall__title {\n  font: 13px / 16px var(--font);\n  font-weight: 500;\n}\n\n.AttachActiveCall__description {\n  font: 12px / 14px var(--font);\n  opacity: 0.4;\n}\n\n.AttachActiveCall__join {\n  cursor: pointer;\n}\n\n/* Полноразмерный */\n.AttachActiveCall--full {\n  display: flex;\n}\n\n.AttachActiveCall--full .AttachActiveCall__info {\n  display: flex;\n  margin-right: auto;\n}\n\n.AttachActiveCall__userList {\n  margin-right: 8px;\n}\n\n.AttachActiveCall--full .AttachActiveCall__infoWrapper {\n  overflow: hidden;\n}\n\n.AttachActiveCall--full .AttachActiveCall__join {\n  margin-left: 32px;\n}\n\n/* Компактный */\n.AttachActiveCall--compact {\n  min-width: 175px;\n}\n\n.AttachActiveCall--compact .AttachActiveCall__infoWrapper {\n  display: flex;\n  align-items: center;\n  height: 24px;\n  margin-top: 6px;\n}\n\n.AttachActiveCall--compact .AttachActiveCall__userList {\n  margin-right: 6px;\n}\n\n.AttachActiveCall--compact .AttachActiveCall__join {\n  margin-top: 8px;\n}\n"],sourceRoot:""}]);const s=a},2540:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachAudio {\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'button title title'\n    'button artist duration';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  padding: 4px;\n}\n\n.AttachAudio__play {\n  grid-area: button;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  border: 0;\n  background: var(--accent);\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  color: var(--white); /* @TODO: correct token */\n  outline: none;\n  cursor: pointer;\n  padding: 7px 7px 7px 9px;\n}\n\n.AttachAudio--playing .AttachAudio__play {\n  padding: 7px 8px;\n}\n\n.AttachAudio__title {\n  grid-area: title;\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-self: end;\n}\n\n.AttachAudio__artist {\n  grid-area: artist;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  height: var(--messageLineHeight);\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.AttachAudio__duration {\n  position: relative;\n  grid-area: duration;\n  font: 12px / calc(var(--messageLineHeight) - 2px) var(--font);\n  height: var(--messageLineHeight);\n  color: var(--text_secondary);\n  text-align: right;\n  white-space: nowrap;\n}\n\n/**\n * Трик, который решает 2 задачи:\n * 1. Создаёт экологичный отступ между артистом и временем записи\n * 2. Выравнивает артиста и длительность записи по базовой линии\n */\n.AttachAudio__duration::before,\n.AttachAudio__durationIn::before {\n  content: '\\00a0\\00a0';\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  visibility: hidden;\n}\n\n/**\n * - В атрибуте data-filler лежит строка вида «-000:00», которая представляет\n * из себя максимальную по длине строку, которая может отрендериться в блоке.\n * - Логика основана на том, что ноль во всех используемых шрифтах будет самым\n * широким символом.\n * - Нужно для того, чтобы аттач отрендерился с такой минимальной шириной, \n * с которой мы можем менять содержимое блока с длительностью так, чтобы текст \n * всегда влазил и выглядил хорошо\n */\n.AttachAudio__duration::after {\n  content: attr(data-filler);\n  visibility: hidden;\n}\n\n.AttachAudio__durationIn {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachAudio/AttachAudio.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB;;4BAE0B;EAC1B,oCAAoC;EACpC,2BAA2B;EAC3B,YAAY;AACd;;AAEA;EACE,iBAAiB;EACjB,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,SAAS;EACT,yBAAyB;EACzB,wDAAwD;EACxD,mBAAmB,EAAE,yBAAyB;EAC9C,aAAa;EACb,eAAe;EACf,wBAAwB;AAC1B;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,uEAAuE;EACvE,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,iBAAiB;EACjB,mEAAmE;EACnE,gCAAgC;EAChC,4BAA4B;EAC5B,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,kBAAkB;EAClB,mBAAmB;EACnB,6DAA6D;EAC7D,gCAAgC;EAChC,4BAA4B;EAC5B,iBAAiB;EACjB,mBAAmB;AACrB;;AAEA;;;;EAIE;AACF;;EAEE,qBAAqB;EACrB,mEAAmE;EACnE,kBAAkB;AACpB;;AAEA;;;;;;;;EAQE;AACF;EACE,0BAA0B;EAC1B,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;AACT",sourcesContent:[".AttachAudio {\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'button title title'\n    'button artist duration';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  padding: 4px;\n}\n\n.AttachAudio__play {\n  grid-area: button;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  border: 0;\n  background: var(--accent);\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  color: var(--white); /* @TODO: correct token */\n  outline: none;\n  cursor: pointer;\n  padding: 7px 7px 7px 9px;\n}\n\n.AttachAudio--playing .AttachAudio__play {\n  padding: 7px 8px;\n}\n\n.AttachAudio__title {\n  grid-area: title;\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-self: end;\n}\n\n.AttachAudio__artist {\n  grid-area: artist;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  height: var(--messageLineHeight);\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.AttachAudio__duration {\n  position: relative;\n  grid-area: duration;\n  font: 12px / calc(var(--messageLineHeight) - 2px) var(--font);\n  height: var(--messageLineHeight);\n  color: var(--text_secondary);\n  text-align: right;\n  white-space: nowrap;\n}\n\n/**\n * Трик, который решает 2 задачи:\n * 1. Создаёт экологичный отступ между артистом и временем записи\n * 2. Выравнивает артиста и длительность записи по базовой линии\n */\n.AttachAudio__duration::before,\n.AttachAudio__durationIn::before {\n  content: '\\00a0\\00a0';\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  visibility: hidden;\n}\n\n/**\n * - В атрибуте data-filler лежит строка вида «-000:00», которая представляет\n * из себя максимальную по длине строку, которая может отрендериться в блоке.\n * - Логика основана на том, что ноль во всех используемых шрифтах будет самым\n * широким символом.\n * - Нужно для того, чтобы аттач отрендерился с такой минимальной шириной, \n * с которой мы можем менять содержимое блока с длительностью так, чтобы текст \n * всегда влазил и выглядил хорошо\n */\n.AttachAudio__duration::after {\n  content: attr(data-filler);\n  visibility: hidden;\n}\n\n.AttachAudio__durationIn {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n"],sourceRoot:""}]);const s=a},4863:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachAudioPlaylist__icon {\n  width: 100%;\n  height: 100%;\n  border-radius: calc(var(--messageBorderRadius) - 4px);\n  background: var(--background_content); /* @TODO: correct token */\n  grid-area: icon;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--im_attach_tint); /* @TODO: correct token */\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachAudioPlaylist/AttachAudioPlaylist.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,qDAAqD;EACrD,qCAAqC,EAAE,yBAAyB;EAChE,eAAe;EACf,wDAAwD;EACxD,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,4BAA4B,EAAE,yBAAyB;AACzD",sourcesContent:[".AttachAudioPlaylist__icon {\n  width: 100%;\n  height: 100%;\n  border-radius: calc(var(--messageBorderRadius) - 4px);\n  background: var(--background_content); /* @TODO: correct token */\n  grid-area: icon;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--im_attach_tint); /* @TODO: correct token */\n}\n"],sourceRoot:""}]);const s=a},5138:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachCard,\n.AttachCard:hover {\n  text-decoration: none;\n  color: var(--text_primary);\n  display: flex;\n  justify-content: stretch;\n  border-radius: var(--messageBorderRadius);\n  max-width: none;\n}\n\n.AttachCard--withBackground {\n  color: #fff; /* @TODO: correct token */\n}\n\n.AttachCard__pic {\n  flex: 0 0 auto;\n  width: calc(4 * var(--messageLineHeight));\n  height: calc(4 * var(--messageLineHeight));\n  border-radius: var(--messageBorderRadius) 0 0 var(--messageBorderRadius);\n}\n\n.AttachCard__img {\n  object-fit: cover;\n  border-radius: inherit;\n  width: 100%;\n  height: 100%;\n}\n\n.AttachCard--inBubble .AttachCard__pic {\n  width: calc(3.5 * var(--messageLineHeight));\n  height: calc(3.5 * var(--messageLineHeight));\n  border-radius: calc(\n    var(--messageBorderRadius) - var(--messageAttachmentIndent)\n  ); /* Радиус сообщения минус внутренний отступ для аттача */\n}\n\n.AttachCard__main {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  flex: 1 1 auto;\n  overflow: hidden;\n  padding: 0 calc(0.5 * var(--messageLineHeight));\n  border-radius: 0 var(--messageBorderRadius) var(--messageBorderRadius) 0;\n}\n\n.AttachCard__content {\n  min-height: calc(3 * var(--messageLineHeight));\n}\n\n/**\n * Перебиваем специфичность в vkcom «[dir] h2»\n */\n.AttachCard__title.AttachCard__title {\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 100%;\n  text-overflow: ellipsis;\n  margin: 0;\n  padding: 0;\n}\n\n.AttachCard--withLongTitle .AttachCard__title {\n  white-space: normal;\n  word-wrap: break-word;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n\n.AttachCard__caption {\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 100%;\n  text-overflow: ellipsis;\n}\n\n.AttachCard__meta {\n  color: var(--text_secondary);\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 100%;\n  text-overflow: ellipsis;\n  margin-right: 4ch;\n}\n\n.AttachCard--withBackground .AttachCard__meta {\n  color: rgba(255, 255, 255, 0.72); /* @TODO: correct token */\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachCard/AttachCard.css"],names:[],mappings:"AAAA;;EAEE,qBAAqB;EACrB,0BAA0B;EAC1B,aAAa;EACb,wBAAwB;EACxB,yCAAyC;EACzC,eAAe;AACjB;;AAEA;EACE,WAAW,EAAE,yBAAyB;AACxC;;AAEA;EACE,cAAc;EACd,yCAAyC;EACzC,0CAA0C;EAC1C,wEAAwE;AAC1E;;AAEA;EACE,iBAAiB;EACjB,sBAAsB;EACtB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,2CAA2C;EAC3C,4CAA4C;EAC5C;;GAEC,EAAE,wDAAwD;AAC7D;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,cAAc;EACd,gBAAgB;EAChB,+CAA+C;EAC/C,wEAAwE;AAC1E;;AAEA;EACE,8CAA8C;AAChD;;AAEA;;EAEE;AACF;EACE,uEAAuE;EACvE,mBAAmB;EACnB,gBAAgB;EAChB,eAAe;EACf,uBAAuB;EACvB,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,mBAAmB;EACnB,qBAAqB;EACrB,oBAAoB;EACpB,qBAAqB;EACrB,4BAA4B;AAC9B;;AAEA;EACE,uEAAuE;EACvE,mBAAmB;EACnB,gBAAgB;EAChB,eAAe;EACf,uBAAuB;AACzB;;AAEA;EACE,4BAA4B;EAC5B,mEAAmE;EACnE,mBAAmB;EACnB,gBAAgB;EAChB,eAAe;EACf,uBAAuB;EACvB,iBAAiB;AACnB;;AAEA;EACE,gCAAgC,EAAE,yBAAyB;AAC7D",sourcesContent:[".AttachCard,\n.AttachCard:hover {\n  text-decoration: none;\n  color: var(--text_primary);\n  display: flex;\n  justify-content: stretch;\n  border-radius: var(--messageBorderRadius);\n  max-width: none;\n}\n\n.AttachCard--withBackground {\n  color: #fff; /* @TODO: correct token */\n}\n\n.AttachCard__pic {\n  flex: 0 0 auto;\n  width: calc(4 * var(--messageLineHeight));\n  height: calc(4 * var(--messageLineHeight));\n  border-radius: var(--messageBorderRadius) 0 0 var(--messageBorderRadius);\n}\n\n.AttachCard__img {\n  object-fit: cover;\n  border-radius: inherit;\n  width: 100%;\n  height: 100%;\n}\n\n.AttachCard--inBubble .AttachCard__pic {\n  width: calc(3.5 * var(--messageLineHeight));\n  height: calc(3.5 * var(--messageLineHeight));\n  border-radius: calc(\n    var(--messageBorderRadius) - var(--messageAttachmentIndent)\n  ); /* Радиус сообщения минус внутренний отступ для аттача */\n}\n\n.AttachCard__main {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  flex: 1 1 auto;\n  overflow: hidden;\n  padding: 0 calc(0.5 * var(--messageLineHeight));\n  border-radius: 0 var(--messageBorderRadius) var(--messageBorderRadius) 0;\n}\n\n.AttachCard__content {\n  min-height: calc(3 * var(--messageLineHeight));\n}\n\n/**\n * Перебиваем специфичность в vkcom «[dir] h2»\n */\n.AttachCard__title.AttachCard__title {\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 100%;\n  text-overflow: ellipsis;\n  margin: 0;\n  padding: 0;\n}\n\n.AttachCard--withLongTitle .AttachCard__title {\n  white-space: normal;\n  word-wrap: break-word;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n\n.AttachCard__caption {\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 100%;\n  text-overflow: ellipsis;\n}\n\n.AttachCard__meta {\n  color: var(--text_secondary);\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 100%;\n  text-overflow: ellipsis;\n  margin-right: 4ch;\n}\n\n.AttachCard--withBackground .AttachCard__meta {\n  color: rgba(255, 255, 255, 0.72); /* @TODO: correct token */\n}\n"],sourceRoot:""}]);const s=a},1012:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachDoc {\n  max-width: none;\n  text-decoration: none;\n  color: var(--text_primary);\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'icon title'\n    'icon meta';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  padding: 0 calc(0.5 * var(--messageHorizontalIndent)) 0 0;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n}\n\n.AttachDoc__icon {\n  width: 40px;\n  height: 40px;\n  border-radius: calc(var(--messageBorderRadius) - 4px);\n  background: var(--background_content); /* @TODO: correct token */\n  grid-area: icon;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--im_attach_tint); /* @TODO: correct token */\n}\n\n.AttachDoc__title {\n  grid-area: title;\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-self: end;\n}\n\n.AttachDoc__meta {\n  grid-area: meta;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-self: start;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachDoc/AttachDoc.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,qBAAqB;EACrB,0BAA0B;EAC1B,aAAa;EACb,mBAAmB;EACnB;;eAEa;EACb,oCAAoC;EACpC,2BAA2B;EAC3B,yDAAyD;EACzD,mEAAmE;AACrE;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,qDAAqD;EACrD,qCAAqC,EAAE,yBAAyB;EAChE,eAAe;EACf,wDAAwD;EACxD,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,4BAA4B,EAAE,yBAAyB;AACzD;;AAEA;EACE,gBAAgB;EAChB,uEAAuE;EACvE,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,eAAe;EACf,mEAAmE;EACnE,4BAA4B;EAC5B,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;EACvB,iBAAiB;AACnB",sourcesContent:[".AttachDoc {\n  max-width: none;\n  text-decoration: none;\n  color: var(--text_primary);\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'icon title'\n    'icon meta';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  padding: 0 calc(0.5 * var(--messageHorizontalIndent)) 0 0;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n}\n\n.AttachDoc__icon {\n  width: 40px;\n  height: 40px;\n  border-radius: calc(var(--messageBorderRadius) - 4px);\n  background: var(--background_content); /* @TODO: correct token */\n  grid-area: icon;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--im_attach_tint); /* @TODO: correct token */\n}\n\n.AttachDoc__title {\n  grid-area: title;\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-self: end;\n}\n\n.AttachDoc__meta {\n  grid-area: meta;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-self: start;\n}\n"],sourceRoot:""}]);const s=a},5972:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachGeo {\n  --borderRadius: var(--messageBorderRadius);\n\n  display: flex;\n  flex-direction: column;\n  max-width: none;\n}\n\n.AttachGeo--inBubble {\n  --borderRadius: calc(\n    var(--messageBorderRadius) - 0.25 * var(--messageLineHeight)\n  );\n}\n\n.AttachGeo__mapImage {\n  border-radius: var(--borderRadius);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachGeo/AttachGeo.css"],names:[],mappings:"AAAA;EACE,0CAA0C;;EAE1C,aAAa;EACb,sBAAsB;EACtB,eAAe;AACjB;;AAEA;EACE;;GAEC;AACH;;AAEA;EACE,kCAAkC;AACpC",sourcesContent:[".AttachGeo {\n  --borderRadius: var(--messageBorderRadius);\n\n  display: flex;\n  flex-direction: column;\n  max-width: none;\n}\n\n.AttachGeo--inBubble {\n  --borderRadius: calc(\n    var(--messageBorderRadius) - 0.25 * var(--messageLineHeight)\n  );\n}\n\n.AttachGeo__mapImage {\n  border-radius: var(--borderRadius);\n}\n"],sourceRoot:""}]);const s=a},4998:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachGift {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-flow: column;\n}\n\n.AttachGift__image {\n  width: 208px;\n  height: 208px;\n  border-radius: calc(var(--messageBorderRadius) - 4px);\n  background: #fff; /* @TODO: correct token */\n  margin: calc(8px - var(--messageVerticalIndent))\n    calc(8px - var(--messageHorizontalIndent)) var(--messageVerticalIndent);\n  max-width: none;\n  color: var(--text_secondary);\n}\n\n.AttachGift__title {\n  display: inline-flex;\n  align-items: center;\n}\n\n.AttachGift__title--withMessage {\n  margin-bottom: 4px;\n}\n\n.AttachGift__titleIcon {\n  margin-right: 4px;\n  flex-shrink: 0;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachGift/AttachGift.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,iBAAiB;AACnB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,qDAAqD;EACrD,gBAAgB,EAAE,yBAAyB;EAC3C;2EACyE;EACzE,eAAe;EACf,4BAA4B;AAC9B;;AAEA;EACE,oBAAoB;EACpB,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,iBAAiB;EACjB,cAAc;AAChB",sourcesContent:[".AttachGift {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-flow: column;\n}\n\n.AttachGift__image {\n  width: 208px;\n  height: 208px;\n  border-radius: calc(var(--messageBorderRadius) - 4px);\n  background: #fff; /* @TODO: correct token */\n  margin: calc(8px - var(--messageVerticalIndent))\n    calc(8px - var(--messageHorizontalIndent)) var(--messageVerticalIndent);\n  max-width: none;\n  color: var(--text_secondary);\n}\n\n.AttachGift__title {\n  display: inline-flex;\n  align-items: center;\n}\n\n.AttachGift__title--withMessage {\n  margin-bottom: 4px;\n}\n\n.AttachGift__titleIcon {\n  margin-right: 4px;\n  flex-shrink: 0;\n}\n"],sourceRoot:""}]);const s=a},2283:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachLink {\n  max-width: 0;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachLink/AttachLink.css"],names:[],mappings:"AAAA;EACE,YAAY;AACd",sourcesContent:[".AttachLink {\n  max-width: 0;\n}\n"],sourceRoot:""}]);const s=a},813:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachMarket__priceOld {\n  text-decoration: line-through;\n  padding-left: 5px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachMarket/AttachMarket.css"],names:[],mappings:"AAAA;EACE,6BAA6B;EAC7B,iBAAiB;AACnB",sourcesContent:[".AttachMarket__priceOld {\n  text-decoration: line-through;\n  padding-left: 5px;\n}\n"],sourceRoot:""}]);const s=a},7436:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,"/** Специфичность для vkcom */\n.AttachMiniApp.AttachMiniApp {\n  display: flex;\n  text-decoration: none;\n}\n\n.AttachMiniApp__cover {\n  position: relative;\n  user-select: none;\n}\n\n.AttachMiniApp__cover,\n.AttachMiniApp__coverImage {\n  width: 40px;\n  min-width: 40px;\n  height: 40px;\n\n  display: block;\n  box-sizing: border-box;\n  border-radius: 10px;\n}\n\n.AttachMiniApp__cover::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  pointer-events: none;\n\n  border-radius: 10px;\n  box-shadow: 0 0 0 0.5px rgba(0, 0, 0, 0.08) inset;\n}\n\n.AttachMiniApp__fields {\n  margin-left: 8px;\n\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: flex-start;\n\n  overflow: hidden;\n}\n\n/** Специфичность для vkcom */\n.AttachMiniApp__fields .AttachMiniApp__fieldsTitle,\n.AttachMiniApp__fields .AttachMiniApp__fieldsDescription {\n  font-style: normal;\n  color: var(--text_primary);\n\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  margin: 0;\n}\n\n.AttachMiniApp__fieldsTitle {\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 16px;\n}\n\n.AttachMiniApp__fieldsDescription {\n  font-size: 12px;\n  font-weight: normal;\n\n  line-height: 14px;\n  margin-top: 2px;\n  opacity: 0.4;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachMiniApp/AttachMiniApp.css"],names:[],mappings:"AAAA,6BAA6B;AAC7B;EACE,aAAa;EACb,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;EAClB,iBAAiB;AACnB;;AAEA;;EAEE,WAAW;EACX,eAAe;EACf,YAAY;;EAEZ,cAAc;EACd,sBAAsB;EACtB,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,MAAM;EACN,SAAS;EACT,QAAQ;EACR,OAAO;EACP,oBAAoB;;EAEpB,mBAAmB;EACnB,iDAAiD;AACnD;;AAEA;EACE,gBAAgB;;EAEhB,aAAa;EACb,uBAAuB;EACvB,sBAAsB;EACtB,uBAAuB;;EAEvB,gBAAgB;AAClB;;AAEA,6BAA6B;AAC7B;;EAEE,kBAAkB;EAClB,0BAA0B;;EAE1B,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;EACvB,SAAS;AACX;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,mBAAmB;;EAEnB,iBAAiB;EACjB,eAAe;EACf,YAAY;AACd",sourcesContent:["/** Специфичность для vkcom */\n.AttachMiniApp.AttachMiniApp {\n  display: flex;\n  text-decoration: none;\n}\n\n.AttachMiniApp__cover {\n  position: relative;\n  user-select: none;\n}\n\n.AttachMiniApp__cover,\n.AttachMiniApp__coverImage {\n  width: 40px;\n  min-width: 40px;\n  height: 40px;\n\n  display: block;\n  box-sizing: border-box;\n  border-radius: 10px;\n}\n\n.AttachMiniApp__cover::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  pointer-events: none;\n\n  border-radius: 10px;\n  box-shadow: 0 0 0 0.5px rgba(0, 0, 0, 0.08) inset;\n}\n\n.AttachMiniApp__fields {\n  margin-left: 8px;\n\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: flex-start;\n\n  overflow: hidden;\n}\n\n/** Специфичность для vkcom */\n.AttachMiniApp__fields .AttachMiniApp__fieldsTitle,\n.AttachMiniApp__fields .AttachMiniApp__fieldsDescription {\n  font-style: normal;\n  color: var(--text_primary);\n\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  margin: 0;\n}\n\n.AttachMiniApp__fieldsTitle {\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 16px;\n}\n\n.AttachMiniApp__fieldsDescription {\n  font-size: 12px;\n  font-weight: normal;\n\n  line-height: 14px;\n  margin-top: 2px;\n  opacity: 0.4;\n}\n"],sourceRoot:""}]);const s=a},7820:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachMiniCard {\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'icon title'\n    'icon meta';\n  grid-template-columns: auto 1fr;\n  grid-template-rows: 1fr 1fr;\n  text-decoration: none;\n  color: var(--text_primary);\n  margin-right: calc(0.5 * var(--messageHorizontalIndent));\n}\n\n.AttachMiniCard__icon {\n  width: 40px;\n  height: 40px;\n  border-radius: calc(var(--messageBorderRadius) - 4px);\n  background: var(--background_content); /* @TODO: correct token */\n  grid-area: icon;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--im_attach_tint); /* @TODO: correct token */\n}\n\n.AttachMiniCard__title {\n  grid-area: title;\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-self: end;\n}\n\n.AttachMiniCard__meta {\n  grid-area: meta;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachMiniCard/AttachMiniCard.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB;;eAEa;EACb,+BAA+B;EAC/B,2BAA2B;EAC3B,qBAAqB;EACrB,0BAA0B;EAC1B,wDAAwD;AAC1D;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,qDAAqD;EACrD,qCAAqC,EAAE,yBAAyB;EAChE,eAAe;EACf,wDAAwD;EACxD,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,4BAA4B,EAAE,yBAAyB;AACzD;;AAEA;EACE,gBAAgB;EAChB,uEAAuE;EACvE,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,eAAe;EACf,mEAAmE;EACnE,4BAA4B;EAC5B,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB",sourcesContent:[".AttachMiniCard {\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'icon title'\n    'icon meta';\n  grid-template-columns: auto 1fr;\n  grid-template-rows: 1fr 1fr;\n  text-decoration: none;\n  color: var(--text_primary);\n  margin-right: calc(0.5 * var(--messageHorizontalIndent));\n}\n\n.AttachMiniCard__icon {\n  width: 40px;\n  height: 40px;\n  border-radius: calc(var(--messageBorderRadius) - 4px);\n  background: var(--background_content); /* @TODO: correct token */\n  grid-area: icon;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--im_attach_tint); /* @TODO: correct token */\n}\n\n.AttachMiniCard__title {\n  grid-area: title;\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-self: end;\n}\n\n.AttachMiniCard__meta {\n  grid-area: meta;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n"],sourceRoot:""}]);const s=a},9189:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachPhotos {\n  --borderRadius: var(--messageBorderRadius);\n\n  display: flex;\n  flex-direction: column;\n  max-width: none;\n}\n\n.AttachPhotos--inBubble {\n  --borderRadius: calc(\n    var(--messageBorderRadius) - 0.25 * var(--messageLineHeight)\n  );\n}\n\n.AttachPhotos__link {\n  margin: 0 0 1px;\n  max-width: 100%;\n}\n\n.AttachPhotos__link:last-child {\n  margin: 0;\n}\n\n.AttachPhotos__img {\n  display: block;\n  width: 100%;\n  border-radius: 2px;\n}\n\n.AttachPhotos__link:first-child .AttachPhotos__img {\n  border-top-left-radius: var(--borderRadius);\n  border-top-right-radius: var(--borderRadius);\n}\n\n.AttachPhotos__link:last-child .AttachPhotos__img {\n  border-bottom-right-radius: var(--borderRadius);\n  border-bottom-left-radius: var(--borderRadius);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachPhotos/AttachPhotos.css"],names:[],mappings:"AAAA;EACE,0CAA0C;;EAE1C,aAAa;EACb,sBAAsB;EACtB,eAAe;AACjB;;AAEA;EACE;;GAEC;AACH;;AAEA;EACE,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,cAAc;EACd,WAAW;EACX,kBAAkB;AACpB;;AAEA;EACE,2CAA2C;EAC3C,4CAA4C;AAC9C;;AAEA;EACE,+CAA+C;EAC/C,8CAA8C;AAChD",sourcesContent:[".AttachPhotos {\n  --borderRadius: var(--messageBorderRadius);\n\n  display: flex;\n  flex-direction: column;\n  max-width: none;\n}\n\n.AttachPhotos--inBubble {\n  --borderRadius: calc(\n    var(--messageBorderRadius) - 0.25 * var(--messageLineHeight)\n  );\n}\n\n.AttachPhotos__link {\n  margin: 0 0 1px;\n  max-width: 100%;\n}\n\n.AttachPhotos__link:last-child {\n  margin: 0;\n}\n\n.AttachPhotos__img {\n  display: block;\n  width: 100%;\n  border-radius: 2px;\n}\n\n.AttachPhotos__link:first-child .AttachPhotos__img {\n  border-top-left-radius: var(--borderRadius);\n  border-top-right-radius: var(--borderRadius);\n}\n\n.AttachPhotos__link:last-child .AttachPhotos__img {\n  border-bottom-right-radius: var(--borderRadius);\n  border-bottom-left-radius: var(--borderRadius);\n}\n"],sourceRoot:""}]);const s=a},71:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachSticker {\n  width: 128px;\n  height: 128px;\n}\n\n.AttachSticker__static {\n  width: 100%;\n  height: 100%;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachSticker/AttachSticker.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,aAAa;AACf;;AAEA;EACE,WAAW;EACX,YAAY;AACd",sourcesContent:[".AttachSticker {\n  width: 128px;\n  height: 128px;\n}\n\n.AttachSticker__static {\n  width: 100%;\n  height: 100%;\n}\n"],sourceRoot:""}]);const s=a},7160:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachVideos {\n  --borderRadius: var(--messageBorderRadius);\n\n  display: flex;\n  flex-direction: column;\n  max-width: none;\n}\n\n.AttachVideos__item {\n  --borderRadiusTop: var(--borderRadius);\n  --borderRadiusBottom: var(--borderRadius);\n\n  border-radius: var(--borderRadiusTop) var(--borderRadiusTop)\n    var(--borderRadiusBottom) var(--borderRadiusBottom);\n  overflow: hidden;\n}\n\n.AttachVideos__item + .AttachVideos__item {\n  margin-top: 2px;\n}\n\n.AttachVideos--inBubble .AttachVideos__item {\n  --borderRadius: calc(\n    var(--messageBorderRadius) - var(--messageAttachmentIndent)\n  );\n}\n\n.AttachVideos--inBubble .AttachVideos__item:nth-child(n + 2) {\n  --borderRadiusTop: 0;\n}\n\n.AttachVideos--inBubble .AttachVideos__item:nth-last-child(n + 2) {\n  --borderRadiusBottom: 0;\n}\n\n.AttachVideos__video {\n  display: block;\n  position: relative;\n  width: 216px;\n  min-width: 100%;\n  height: 0;\n  background: center / cover no-repeat;\n}\n\n.AttachVideos__videoDuration {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  margin: 8px;\n  padding: 5px 8px;\n  border-radius: 3px;\n  background: rgba(0, 0, 0, 0.4); /* @TODO: correct token */\n  color: #fff; /* @TODO: correct token */\n  font-size: 12px;\n  line-height: 1;\n}\n\n.AttachVideos__videoPlay {\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 50px;\n  height: 50px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: rgba(0, 0, 0, 0.5); /* @TODO: correct token */\n  border-radius: 50%;\n  color: #fff; /* @TODO: correct token */\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachVideos/AttachVideos.css"],names:[],mappings:"AAAA;EACE,0CAA0C;;EAE1C,aAAa;EACb,sBAAsB;EACtB,eAAe;AACjB;;AAEA;EACE,sCAAsC;EACtC,yCAAyC;;EAEzC;uDACqD;EACrD,gBAAgB;AAClB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE;;GAEC;AACH;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,YAAY;EACZ,eAAe;EACf,SAAS;EACT,oCAAoC;AACtC;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,WAAW;EACX,gBAAgB;EAChB,kBAAkB;EAClB,8BAA8B,EAAE,yBAAyB;EACzD,WAAW,EAAE,yBAAyB;EACtC,eAAe;EACf,cAAc;AAChB;;AAEA;EACE,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,YAAY;EACZ,QAAQ;EACR,SAAS;EACT,gCAAgC;EAChC,8BAA8B,EAAE,yBAAyB;EACzD,kBAAkB;EAClB,WAAW,EAAE,yBAAyB;AACxC",sourcesContent:[".AttachVideos {\n  --borderRadius: var(--messageBorderRadius);\n\n  display: flex;\n  flex-direction: column;\n  max-width: none;\n}\n\n.AttachVideos__item {\n  --borderRadiusTop: var(--borderRadius);\n  --borderRadiusBottom: var(--borderRadius);\n\n  border-radius: var(--borderRadiusTop) var(--borderRadiusTop)\n    var(--borderRadiusBottom) var(--borderRadiusBottom);\n  overflow: hidden;\n}\n\n.AttachVideos__item + .AttachVideos__item {\n  margin-top: 2px;\n}\n\n.AttachVideos--inBubble .AttachVideos__item {\n  --borderRadius: calc(\n    var(--messageBorderRadius) - var(--messageAttachmentIndent)\n  );\n}\n\n.AttachVideos--inBubble .AttachVideos__item:nth-child(n + 2) {\n  --borderRadiusTop: 0;\n}\n\n.AttachVideos--inBubble .AttachVideos__item:nth-last-child(n + 2) {\n  --borderRadiusBottom: 0;\n}\n\n.AttachVideos__video {\n  display: block;\n  position: relative;\n  width: 216px;\n  min-width: 100%;\n  height: 0;\n  background: center / cover no-repeat;\n}\n\n.AttachVideos__videoDuration {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  margin: 8px;\n  padding: 5px 8px;\n  border-radius: 3px;\n  background: rgba(0, 0, 0, 0.4); /* @TODO: correct token */\n  color: #fff; /* @TODO: correct token */\n  font-size: 12px;\n  line-height: 1;\n}\n\n.AttachVideos__videoPlay {\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 50px;\n  height: 50px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: rgba(0, 0, 0, 0.5); /* @TODO: correct token */\n  border-radius: 50%;\n  color: #fff; /* @TODO: correct token */\n}\n"],sourceRoot:""}]);const s=a},178:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachVoice {\n  display: flex;\n  align-items: center;\n  padding: 4px;\n  cursor: pointer;\n  min-width: 180px;\n}\n\n.AttachVoice__play {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  border: 0;\n  background: var(--accent);\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  color: #fff; /* @TODO: correct token */\n  outline: none;\n  cursor: pointer;\n  padding: 7px 7px 7px 9px;\n}\n\n.AttachVoice--playing .AttachVoice__play {\n  padding: 7px 8px;\n}\n\n.AttachVoice__playIcon {\n  width: 9px;\n  height: 10px;\n  vertical-align: top;\n  fill: var(--white); /* @TODO: correct token */\n}\n\n.AttachVoice__track {\n  position: relative;\n  flex: 1 1 auto;\n  height: 20px;\n  overflow: hidden;\n}\n\n.AttachVoice__svg {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 20px;\n  vertical-align: top;\n}\n\n.AttachVoice__path,\n.AttachVoice__progress {\n  stroke-linejoin: round;\n  stroke-linecap: round;\n  stroke-width: 2px;\n  fill: none;\n  stroke: var(--accent);\n}\n\n.AttachVoice--active .AttachVoice__path,\n.AttachVoice--active .AttachVoice__progress {\n  transition: clip-path 0.25s linear;\n}\n\n.AttachVoice--active .AttachVoice__path {\n  stroke: #6f7985; /* @TODO: correct token */\n  opacity: 0.32;\n}\n\n.AttachVoice__duration {\n  flex: 0 0 auto;\n  font: 12px / 14px var(--font);\n  color: var(--text_secondary);\n  text-align: right;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachVoice/AttachVoice.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,YAAY;EACZ,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,SAAS;EACT,yBAAyB;EACzB,wDAAwD;EACxD,WAAW,EAAE,yBAAyB;EACtC,aAAa;EACb,eAAe;EACf,wBAAwB;AAC1B;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,UAAU;EACV,YAAY;EACZ,mBAAmB;EACnB,kBAAkB,EAAE,yBAAyB;AAC/C;;AAEA;EACE,kBAAkB;EAClB,cAAc;EACd,YAAY;EACZ,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,YAAY;EACZ,mBAAmB;AACrB;;AAEA;;EAEE,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;EACjB,UAAU;EACV,qBAAqB;AACvB;;AAEA;;EAEE,kCAAkC;AACpC;;AAEA;EACE,eAAe,EAAE,yBAAyB;EAC1C,aAAa;AACf;;AAEA;EACE,cAAc;EACd,6BAA6B;EAC7B,4BAA4B;EAC5B,iBAAiB;AACnB",sourcesContent:[".AttachVoice {\n  display: flex;\n  align-items: center;\n  padding: 4px;\n  cursor: pointer;\n  min-width: 180px;\n}\n\n.AttachVoice__play {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  border: 0;\n  background: var(--accent);\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  color: #fff; /* @TODO: correct token */\n  outline: none;\n  cursor: pointer;\n  padding: 7px 7px 7px 9px;\n}\n\n.AttachVoice--playing .AttachVoice__play {\n  padding: 7px 8px;\n}\n\n.AttachVoice__playIcon {\n  width: 9px;\n  height: 10px;\n  vertical-align: top;\n  fill: var(--white); /* @TODO: correct token */\n}\n\n.AttachVoice__track {\n  position: relative;\n  flex: 1 1 auto;\n  height: 20px;\n  overflow: hidden;\n}\n\n.AttachVoice__svg {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 20px;\n  vertical-align: top;\n}\n\n.AttachVoice__path,\n.AttachVoice__progress {\n  stroke-linejoin: round;\n  stroke-linecap: round;\n  stroke-width: 2px;\n  fill: none;\n  stroke: var(--accent);\n}\n\n.AttachVoice--active .AttachVoice__path,\n.AttachVoice--active .AttachVoice__progress {\n  transition: clip-path 0.25s linear;\n}\n\n.AttachVoice--active .AttachVoice__path {\n  stroke: #6f7985; /* @TODO: correct token */\n  opacity: 0.32;\n}\n\n.AttachVoice__duration {\n  flex: 0 0 auto;\n  font: 12px / 14px var(--font);\n  color: var(--text_secondary);\n  text-align: right;\n}\n"],sourceRoot:""}]);const s=a},9263:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachWall {\n  position: relative;\n  margin-top: var(--messageVerticalIndent);\n  padding: 0 0 0 var(--messageHorizontalIndent);\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n}\n\n.AttachWall::before {\n  border-radius: 1px 1px 0 0;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  width: 2px;\n  content: '';\n  background: var(--im_forward_line_tint);\n  opacity: 0.24;\n}\n\n.AttachWall__link {\n  text-decoration: none;\n  color: var(--text_link);\n  cursor: pointer;\n}\n\n.AttachWall__link:hover {\n  text-decoration: underline;\n}\n\n.AttachWall__link--post {\n  border: 1px solid var(--text_link);\n  width: 100%;\n  border-radius: 4px;\n  padding: 4px 0;\n  font: 500 13px / 16px var(--font);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: var(--messageHorizontalIndent);\n}\n\n.AttachWall__link--post:hover {\n  text-decoration: none;\n}\n\n.AttachWall__link--text {\n  padding: 1px 0;\n}\n\n.AttachWall__info {\n  font: 500 12px / 14px var(--font);\n  letter-spacing: 0.005em;\n  color: var(--text_tertiary);\n}\n\n.AttachWall__info--with-message {\n  margin-top: calc(0.5 * var(--messageHorizontalIndent));\n}\n\n.AttachWall__header {\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'avatar title'\n    'avatar date';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  margin-bottom: var(--messageVerticalIndent);\n}\n\n.AttachWall__avatar {\n  grid-area: avatar;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n}\n\n.AttachWall__titleLink {\n  grid-area: title;\n  color: var(--text_link);\n  font: 500 0.925em / calc(0.875 * var(--messageLineHeight)) var(--font);\n  text-decoration: none;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n\n.AttachWall__date {\n  grid-area: date;\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.AttachWall__message {\n  display: block;\n  margin-bottom: var(--messageHorizontalIndent);\n}\n\n.AttachWall__attaches {\n  max-width: none;\n  display: grid;\n  grid-template-columns: 100%;\n  gap: calc(0.5 * var(--messageVerticalIndent));\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachWall/AttachWall.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,wCAAwC;EACxC,6CAA6C;EAC7C,mEAAmE;AACrE;;AAEA;EACE,0BAA0B;EAC1B,kBAAkB;EAClB,MAAM;EACN,SAAS;EACT,OAAO;EACP,UAAU;EACV,WAAW;EACX,uCAAuC;EACvC,aAAa;AACf;;AAEA;EACE,qBAAqB;EACrB,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,kCAAkC;EAClC,WAAW;EACX,kBAAkB;EAClB,cAAc;EACd,iCAAiC;EACjC,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,0CAA0C;AAC5C;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,iCAAiC;EACjC,uBAAuB;EACvB,2BAA2B;AAC7B;;AAEA;EACE,sDAAsD;AACxD;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB;;iBAEe;EACf,oCAAoC;EACpC,2BAA2B;EAC3B,2CAA2C;AAC7C;;AAEA;EACE,iBAAiB;EACjB,wDAAwD;AAC1D;;AAEA;EACE,gBAAgB;EAChB,uBAAuB;EACvB,sEAAsE;EACtE,qBAAqB;EACrB,uBAAuB;EACvB,mBAAmB;EACnB,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,4BAA4B;EAC5B,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,cAAc;EACd,6CAA6C;AAC/C;;AAEA;EACE,eAAe;EACf,aAAa;EACb,2BAA2B;EAC3B,6CAA6C;AAC/C",sourcesContent:[".AttachWall {\n  position: relative;\n  margin-top: var(--messageVerticalIndent);\n  padding: 0 0 0 var(--messageHorizontalIndent);\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n}\n\n.AttachWall::before {\n  border-radius: 1px 1px 0 0;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  width: 2px;\n  content: '';\n  background: var(--im_forward_line_tint);\n  opacity: 0.24;\n}\n\n.AttachWall__link {\n  text-decoration: none;\n  color: var(--text_link);\n  cursor: pointer;\n}\n\n.AttachWall__link:hover {\n  text-decoration: underline;\n}\n\n.AttachWall__link--post {\n  border: 1px solid var(--text_link);\n  width: 100%;\n  border-radius: 4px;\n  padding: 4px 0;\n  font: 500 13px / 16px var(--font);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: var(--messageHorizontalIndent);\n}\n\n.AttachWall__link--post:hover {\n  text-decoration: none;\n}\n\n.AttachWall__link--text {\n  padding: 1px 0;\n}\n\n.AttachWall__info {\n  font: 500 12px / 14px var(--font);\n  letter-spacing: 0.005em;\n  color: var(--text_tertiary);\n}\n\n.AttachWall__info--with-message {\n  margin-top: calc(0.5 * var(--messageHorizontalIndent));\n}\n\n.AttachWall__header {\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'avatar title'\n    'avatar date';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  margin-bottom: var(--messageVerticalIndent);\n}\n\n.AttachWall__avatar {\n  grid-area: avatar;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n}\n\n.AttachWall__titleLink {\n  grid-area: title;\n  color: var(--text_link);\n  font: 500 0.925em / calc(0.875 * var(--messageLineHeight)) var(--font);\n  text-decoration: none;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n\n.AttachWall__date {\n  grid-area: date;\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.AttachWall__message {\n  display: block;\n  margin-bottom: var(--messageHorizontalIndent);\n}\n\n.AttachWall__attaches {\n  max-width: none;\n  display: grid;\n  grid-template-columns: 100%;\n  gap: calc(0.5 * var(--messageVerticalIndent));\n}\n"],sourceRoot:""}]);const s=a},443:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".Attachments {\n  max-width: none;\n  display: grid;\n  grid-template-columns: 100%;\n  gap: calc(0.5 * var(--messageVerticalIndent));\n}\n","",{version:3,sources:["webpack://./src/browser/ui/Attachments/Attachments.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,aAAa;EACb,2BAA2B;EAC3B,6CAA6C;AAC/C",sourcesContent:[".Attachments {\n  max-width: none;\n  display: grid;\n  grid-template-columns: 100%;\n  gap: calc(0.5 * var(--messageVerticalIndent));\n}\n"],sourceRoot:""}]);const s=a},6355:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".MEAvatar {\n  position: relative;\n  text-align: center;\n  border-radius: 50%;\n  flex: 0 0 auto;\n}\n\n.MEAvatar__imgWrapper {\n  width: 100%;\n  height: 100%;\n  border-radius: inherit;\n  z-index: 0; /* stack for activity indicator */\n}\n\n.MEAvatar__img {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: inherit;\n}\n\n.MEAvatar__activityIndicator,\n.MEAvatar__imgWrapper::after {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border-radius: inherit;\n}\n\n.MEAvatar__activityIndicator {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff; /* @TODO: correct token */\n  z-index: 1; /* pops indicator on top of underlay */\n}\n\n/* animatable underlay for indicator */\n.MEAvatar__imgWrapper::after {\n  content: '';\n  background: rgba(0, 0, 0, 0.4); /* @TODO: correct token */\n  opacity: 0;\n  transition: opacity 0.14s ease;\n}\n\n.MEAvatar--withActivity .MEAvatar__imgWrapper::after {\n  opacity: 1;\n}\n\n.MEAvatar__svg {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  visibility: visible;\n}\n\n.MEAvatar__shadow {\n  fill: none;\n  stroke: rgba(0, 0, 0, 0.08); /* @TODO: correct token */\n  stroke-width: 2px;\n}\n\n.MEAvatar__me {\n  position: absolute;\n  right: 2px;\n  bottom: 2px;\n  width: 10px;\n  height: 10px;\n  fill: #2787f5; /* @TODO: correct token */\n}\n\n.MEAvatar--size-24 .MEAvatar__me,\n.MEAvatar--size-32 .MEAvatar__me {\n  right: 0;\n  bottom: 0;\n}\n\n.MEAvatar__mobile {\n  color: #4bb34b; /* @TODO: correct token -- designers */\n  position: absolute;\n  right: 3px;\n  bottom: 1px;\n}\n\n.MEAvatar--size-40 .MEAvatar__mobile {\n  right: 2px;\n}\n\n.MEAvatar--size-32 .MEAvatar__mobile {\n  right: 1px;\n  bottom: -1px;\n}\n\n.MEAvatar--size-24 .MEAvatar__mobile {\n  right: 0;\n  bottom: -1px;\n}\n\n.MEAvatar__online {\n  position: absolute;\n  right: 3px;\n  bottom: 3px;\n  background-color: #4bb34b; /* @TODO: correct token -- designers */\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n}\n\n.MEAvatar--size-32 .MEAvatar__online {\n  right: 1px;\n  bottom: 1px;\n}\n\n.MEAvatar--size-24 .MEAvatar__online {\n  right: 0;\n  bottom: 0;\n}\n\n.MEAvatar__call {\n  position: absolute;\n  top: 1px;\n  right: -3px;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #50c750, #32b332);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.MEAvatar--emptyCall .MEAvatar__call {\n  background: linear-gradient(135deg, #b1b6bd, #99a2ad);\n}\n\n.MEAvatar--size-40 .MEAvatar__call,\n.MEAvatar--size-32 .MEAvatar__call {\n  top: 0;\n}\n\n.MEAvatar__callIcon {\n  width: 10px;\n  height: 10px;\n  fill: #fff; /* @TODO: correct token */\n}\n\n@media not all and (min-resolution: 0.001dpcm) {\n  @supports (-webkit-appearance: none) {\n    .MEAvatar {\n      transform: translate3d(0, 0, 0); /* Хак для сафари */\n    }\n  }\n}\n","",{version:3,sources:["webpack://./src/browser/ui/Avatar/Avatar.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,kBAAkB;EAClB,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,sBAAsB;EACtB,UAAU,EAAE,iCAAiC;AAC/C;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,sBAAsB;AACxB;;AAEA;;EAEE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,WAAW,EAAE,yBAAyB;EACtC,UAAU,EAAE,sCAAsC;AACpD;;AAEA,sCAAsC;AACtC;EACE,WAAW;EACX,8BAA8B,EAAE,yBAAyB;EACzD,UAAU;EACV,8BAA8B;AAChC;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,UAAU;EACV,mBAAmB;AACrB;;AAEA;EACE,UAAU;EACV,2BAA2B,EAAE,yBAAyB;EACtD,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,WAAW;EACX,YAAY;EACZ,aAAa,EAAE,yBAAyB;AAC1C;;AAEA;;EAEE,QAAQ;EACR,SAAS;AACX;;AAEA;EACE,cAAc,EAAE,sCAAsC;EACtD,kBAAkB;EAClB,UAAU;EACV,WAAW;AACb;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,UAAU;EACV,YAAY;AACd;;AAEA;EACE,QAAQ;EACR,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,yBAAyB,EAAE,sCAAsC;EACjE,UAAU;EACV,WAAW;EACX,kBAAkB;AACpB;;AAEA;EACE,UAAU;EACV,WAAW;AACb;;AAEA;EACE,QAAQ;EACR,SAAS;AACX;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,WAAW;EACX,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,qDAAqD;EACrD,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,qDAAqD;AACvD;;AAEA;;EAEE,MAAM;AACR;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,UAAU,EAAE,yBAAyB;AACvC;;AAEA;EACE;IACE;MACE,+BAA+B,EAAE,mBAAmB;IACtD;EACF;AACF",sourcesContent:[".MEAvatar {\n  position: relative;\n  text-align: center;\n  border-radius: 50%;\n  flex: 0 0 auto;\n}\n\n.MEAvatar__imgWrapper {\n  width: 100%;\n  height: 100%;\n  border-radius: inherit;\n  z-index: 0; /* stack for activity indicator */\n}\n\n.MEAvatar__img {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: inherit;\n}\n\n.MEAvatar__activityIndicator,\n.MEAvatar__imgWrapper::after {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border-radius: inherit;\n}\n\n.MEAvatar__activityIndicator {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff; /* @TODO: correct token */\n  z-index: 1; /* pops indicator on top of underlay */\n}\n\n/* animatable underlay for indicator */\n.MEAvatar__imgWrapper::after {\n  content: '';\n  background: rgba(0, 0, 0, 0.4); /* @TODO: correct token */\n  opacity: 0;\n  transition: opacity 0.14s ease;\n}\n\n.MEAvatar--withActivity .MEAvatar__imgWrapper::after {\n  opacity: 1;\n}\n\n.MEAvatar__svg {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  visibility: visible;\n}\n\n.MEAvatar__shadow {\n  fill: none;\n  stroke: rgba(0, 0, 0, 0.08); /* @TODO: correct token */\n  stroke-width: 2px;\n}\n\n.MEAvatar__me {\n  position: absolute;\n  right: 2px;\n  bottom: 2px;\n  width: 10px;\n  height: 10px;\n  fill: #2787f5; /* @TODO: correct token */\n}\n\n.MEAvatar--size-24 .MEAvatar__me,\n.MEAvatar--size-32 .MEAvatar__me {\n  right: 0;\n  bottom: 0;\n}\n\n.MEAvatar__mobile {\n  color: #4bb34b; /* @TODO: correct token -- designers */\n  position: absolute;\n  right: 3px;\n  bottom: 1px;\n}\n\n.MEAvatar--size-40 .MEAvatar__mobile {\n  right: 2px;\n}\n\n.MEAvatar--size-32 .MEAvatar__mobile {\n  right: 1px;\n  bottom: -1px;\n}\n\n.MEAvatar--size-24 .MEAvatar__mobile {\n  right: 0;\n  bottom: -1px;\n}\n\n.MEAvatar__online {\n  position: absolute;\n  right: 3px;\n  bottom: 3px;\n  background-color: #4bb34b; /* @TODO: correct token -- designers */\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n}\n\n.MEAvatar--size-32 .MEAvatar__online {\n  right: 1px;\n  bottom: 1px;\n}\n\n.MEAvatar--size-24 .MEAvatar__online {\n  right: 0;\n  bottom: 0;\n}\n\n.MEAvatar__call {\n  position: absolute;\n  top: 1px;\n  right: -3px;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #50c750, #32b332);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.MEAvatar--emptyCall .MEAvatar__call {\n  background: linear-gradient(135deg, #b1b6bd, #99a2ad);\n}\n\n.MEAvatar--size-40 .MEAvatar__call,\n.MEAvatar--size-32 .MEAvatar__call {\n  top: 0;\n}\n\n.MEAvatar__callIcon {\n  width: 10px;\n  height: 10px;\n  fill: #fff; /* @TODO: correct token */\n}\n\n@media not all and (min-resolution: 0.001dpcm) {\n  @supports (-webkit-appearance: none) {\n    .MEAvatar {\n      transform: translate3d(0, 0, 0); /* Хак для сафари */\n    }\n  }\n}\n"],sourceRoot:""}]);const s=a},7238:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".Clip {\n  width: 44px;\n  height: 44px;\n  background: transparent;\n  border: 0;\n  cursor: pointer;\n  outline: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: left;\n  color: var(--icon_outline_secondary);\n  flex: 0 0 44px;\n}\n\n.Clip__dropdown {\n  position: absolute;\n  left: -6px;\n  bottom: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: stretch;\n  background: var(--background_content);\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\n  border-radius: 8px;\n  padding: 4px 0;\n  max-width: none;\n  animation: fadeIn 0.2s ease;\n  min-width: 120px;\n}\n\n.Clip__button {\n  display: flex;\n  background: transparent;\n  border: 0;\n  height: 32px;\n  padding: 0 20px 0 0;\n  cursor: pointer;\n  outline: none;\n  align-items: center;\n  justify-content: flex-start;\n  font: 13px/16px var(--font);\n  transition: background 0.2s ease;\n}\n\n.Clip__button:hover,\n.Clip__button:focus {\n  background: var(--content_tint_background);\n}\n\n.Clip__buttonIcon {\n  flex: 0 0 38px;\n  width: 38px;\n  color: var(--icon_outline_medium);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    visibility: hidden;\n  }\n  to {\n    opacity: 1;\n    visibility: visible;\n  }\n}\n","",{version:3,sources:["webpack://./src/browser/ui/Clip/Clip.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,uBAAuB;EACvB,SAAS;EACT,eAAe;EACf,aAAa;EACb,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,gBAAgB;EAChB,oCAAoC;EACpC,cAAc;AAChB;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,wBAAwB;EACxB,qCAAqC;EACrC,0CAA0C;EAC1C,kBAAkB;EAClB,cAAc;EACd,eAAe;EACf,2BAA2B;EAC3B,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,SAAS;EACT,YAAY;EACZ,mBAAmB;EACnB,eAAe;EACf,aAAa;EACb,mBAAmB;EACnB,2BAA2B;EAC3B,2BAA2B;EAC3B,gCAAgC;AAClC;;AAEA;;EAEE,0CAA0C;AAC5C;;AAEA;EACE,cAAc;EACd,WAAW;EACX,iCAAiC;EACjC,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE;IACE,UAAU;IACV,kBAAkB;EACpB;EACA;IACE,UAAU;IACV,mBAAmB;EACrB;AACF",sourcesContent:[".Clip {\n  width: 44px;\n  height: 44px;\n  background: transparent;\n  border: 0;\n  cursor: pointer;\n  outline: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: left;\n  color: var(--icon_outline_secondary);\n  flex: 0 0 44px;\n}\n\n.Clip__dropdown {\n  position: absolute;\n  left: -6px;\n  bottom: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: stretch;\n  background: var(--background_content);\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\n  border-radius: 8px;\n  padding: 4px 0;\n  max-width: none;\n  animation: fadeIn 0.2s ease;\n  min-width: 120px;\n}\n\n.Clip__button {\n  display: flex;\n  background: transparent;\n  border: 0;\n  height: 32px;\n  padding: 0 20px 0 0;\n  cursor: pointer;\n  outline: none;\n  align-items: center;\n  justify-content: flex-start;\n  font: 13px/16px var(--font);\n  transition: background 0.2s ease;\n}\n\n.Clip__button:hover,\n.Clip__button:focus {\n  background: var(--content_tint_background);\n}\n\n.Clip__buttonIcon {\n  flex: 0 0 38px;\n  width: 38px;\n  color: var(--icon_outline_medium);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    visibility: hidden;\n  }\n  to {\n    opacity: 1;\n    visibility: visible;\n  }\n}\n"],sourceRoot:""}]);const s=a},9689:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ComposerAttachCard {\n  width: 68px;\n  height: 68px;\n  border-radius: 8px;\n  background: var(--im_bubble_incoming);\n  font-size: 13px;\n  line-height: 16px;\n  padding: 6px 0 6px 6px;\n  position: relative;\n  overflow: hidden;\n  cursor: default;\n}\n\n.ComposerAttachCard__icon {\n  width: 20px;\n  height: 20px;\n  margin-bottom: 4px;\n  color: var(--icon_secondary);\n}\n\n.ComposerAttachCard__overflow {\n  white-space: nowrap;\n  color: transparent;\n  background: linear-gradient(\n    to right,\n    var(--text_primary),\n    var(--text_primary) calc(100% - 15px),\n    transparent calc(100% - 3px)\n  );\n  background-clip: text;\n  -webkit-background-clip: text;\n}\n\n.ComposerAttachCard__main {\n  font-weight: 500;\n}\n\n.ComposerAttachCard__secondary {\n  opacity: 0.4;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ComposerAttachCard/ComposerAttachCard.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,qCAAqC;EACrC,eAAe;EACf,iBAAiB;EACjB,sBAAsB;EACtB,kBAAkB;EAClB,gBAAgB;EAChB,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,4BAA4B;AAC9B;;AAEA;EACE,mBAAmB;EACnB,kBAAkB;EAClB;;;;;GAKC;EACD,qBAAqB;EACrB,6BAA6B;AAC/B;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,YAAY;AACd",sourcesContent:[".ComposerAttachCard {\n  width: 68px;\n  height: 68px;\n  border-radius: 8px;\n  background: var(--im_bubble_incoming);\n  font-size: 13px;\n  line-height: 16px;\n  padding: 6px 0 6px 6px;\n  position: relative;\n  overflow: hidden;\n  cursor: default;\n}\n\n.ComposerAttachCard__icon {\n  width: 20px;\n  height: 20px;\n  margin-bottom: 4px;\n  color: var(--icon_secondary);\n}\n\n.ComposerAttachCard__overflow {\n  white-space: nowrap;\n  color: transparent;\n  background: linear-gradient(\n    to right,\n    var(--text_primary),\n    var(--text_primary) calc(100% - 15px),\n    transparent calc(100% - 3px)\n  );\n  background-clip: text;\n  -webkit-background-clip: text;\n}\n\n.ComposerAttachCard__main {\n  font-weight: 500;\n}\n\n.ComposerAttachCard__secondary {\n  opacity: 0.4;\n}\n"],sourceRoot:""}]);const s=a},8220:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ComposerAttachPhoto {\n  display: flex;\n  justify-content: center;\n  width: 68px;\n  height: 68px;\n  border-radius: 8px;\n  position: relative; /* anchors pseudo element */\n  overflow: hidden;\n}\n\n.ComposerAttachPhoto__img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.ComposerAttachPhoto::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border: 0.5px solid rgba(0, 0, 0, 0.08);\n  border-radius: inherit;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ComposerAttachPhoto/ComposerAttachPhoto.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,uBAAuB;EACvB,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,kBAAkB,EAAE,2BAA2B;EAC/C,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,iBAAiB;AACnB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP,uCAAuC;EACvC,sBAAsB;AACxB",sourcesContent:[".ComposerAttachPhoto {\n  display: flex;\n  justify-content: center;\n  width: 68px;\n  height: 68px;\n  border-radius: 8px;\n  position: relative; /* anchors pseudo element */\n  overflow: hidden;\n}\n\n.ComposerAttachPhoto__img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.ComposerAttachPhoto::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border: 0.5px solid rgba(0, 0, 0, 0.08);\n  border-radius: inherit;\n}\n"],sourceRoot:""}]);const s=a},9251:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ComposerAttachVideo {\n  display: flex;\n  justify-content: center;\n  width: 68px;\n  height: 68px;\n  border-radius: 8px;\n  position: relative; /* anchors positioned children */\n  overflow: hidden;\n}\n\n.ComposerAttachVideo__img {\n  max-width: none;\n}\n\n.ComposerAttachVideo::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border: 0.5px solid rgba(0, 0, 0, 0.08);\n  border-radius: inherit;\n}\n\n.ComposerAttachVideo__videoDuration {\n  height: 18px;\n  max-width: calc(100% - 8px);\n  padding: 2px 4px;\n  font-size: 11px;\n  line-height: 14px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #fff; /* @TODO: correct token */\n  background: rgba(0, 0, 0, 0.56); /* @TODO: correct token */\n  border-radius: 4px;\n  position: absolute;\n  right: 4px;\n  bottom: 4px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ComposerAttachVideo/ComposerAttachVideo.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,uBAAuB;EACvB,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,kBAAkB,EAAE,gCAAgC;EACpD,gBAAgB;AAClB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP,uCAAuC;EACvC,sBAAsB;AACxB;;AAEA;EACE,YAAY;EACZ,2BAA2B;EAC3B,gBAAgB;EAChB,eAAe;EACf,iBAAiB;EACjB,gBAAgB;EAChB,uBAAuB;EACvB,WAAW,EAAE,yBAAyB;EACtC,+BAA+B,EAAE,yBAAyB;EAC1D,kBAAkB;EAClB,kBAAkB;EAClB,UAAU;EACV,WAAW;AACb",sourcesContent:[".ComposerAttachVideo {\n  display: flex;\n  justify-content: center;\n  width: 68px;\n  height: 68px;\n  border-radius: 8px;\n  position: relative; /* anchors positioned children */\n  overflow: hidden;\n}\n\n.ComposerAttachVideo__img {\n  max-width: none;\n}\n\n.ComposerAttachVideo::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border: 0.5px solid rgba(0, 0, 0, 0.08);\n  border-radius: inherit;\n}\n\n.ComposerAttachVideo__videoDuration {\n  height: 18px;\n  max-width: calc(100% - 8px);\n  padding: 2px 4px;\n  font-size: 11px;\n  line-height: 14px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #fff; /* @TODO: correct token */\n  background: rgba(0, 0, 0, 0.56); /* @TODO: correct token */\n  border-radius: 4px;\n  position: absolute;\n  right: 4px;\n  bottom: 4px;\n}\n"],sourceRoot:""}]);const s=a},9608:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ComposerAttaches {\n}\n\n.ComposerAttaches__list {\n  display: flex;\n  list-style: none;\n  padding: 6px 0;\n  margin: 0;\n}\n\n.ComposerAttaches__list::before,\n.ComposerAttaches__list::after {\n  flex-shrink: 0;\n  content: 'a'; /* ff hack* */\n  display: block;\n  width: 6px;\n  height: 100%;\n  color: transparent; /* ff hack */\n  overflow: hidden; /* ff hack */\n  /*\n   * there should be a pseudo element and it can't\n   * be empty thanks to the haters at firefox:\n   * https://bugzilla.mozilla.org/show_bug.cgi?id=748518\n   */\n}\n\n.ComposerAttaches__item {\n  position: relative;\n}\n\n.ComposerAttaches__item + .ComposerAttaches__item {\n  margin-left: 6px;\n}\n\n.ComposerAttaches__remove {\n  border: 0;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  height: 20px;\n  color: #fff; /* @TODO: correct token */\n  background: var(--icon_secondary);\n  border-radius: 50%;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);\n  position: absolute;\n  top: -2px;\n  right: -2px;\n  cursor: pointer;\n  opacity: 0;\n  transition: opacity 0.14s ease;\n}\n\n.ComposerAttaches__item:hover .ComposerAttaches__remove {\n  opacity: 1;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ComposerAttaches/ComposerAttaches.css"],names:[],mappings:"AAAA;AACA;;AAEA;EACE,aAAa;EACb,gBAAgB;EAChB,cAAc;EACd,SAAS;AACX;;AAEA;;EAEE,cAAc;EACd,YAAY,EAAE,aAAa;EAC3B,cAAc;EACd,UAAU;EACV,YAAY;EACZ,kBAAkB,EAAE,YAAY;EAChC,gBAAgB,EAAE,YAAY;EAC9B;;;;IAIE;AACJ;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,SAAS;EACT,SAAS;EACT,UAAU;EACV,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,YAAY;EACZ,WAAW,EAAE,yBAAyB;EACtC,iCAAiC;EACjC,kBAAkB;EAClB,yCAAyC;EACzC,kBAAkB;EAClB,SAAS;EACT,WAAW;EACX,eAAe;EACf,UAAU;EACV,8BAA8B;AAChC;;AAEA;EACE,UAAU;AACZ",sourcesContent:[".ComposerAttaches {\n}\n\n.ComposerAttaches__list {\n  display: flex;\n  list-style: none;\n  padding: 6px 0;\n  margin: 0;\n}\n\n.ComposerAttaches__list::before,\n.ComposerAttaches__list::after {\n  flex-shrink: 0;\n  content: 'a'; /* ff hack* */\n  display: block;\n  width: 6px;\n  height: 100%;\n  color: transparent; /* ff hack */\n  overflow: hidden; /* ff hack */\n  /*\n   * there should be a pseudo element and it can't\n   * be empty thanks to the haters at firefox:\n   * https://bugzilla.mozilla.org/show_bug.cgi?id=748518\n   */\n}\n\n.ComposerAttaches__item {\n  position: relative;\n}\n\n.ComposerAttaches__item + .ComposerAttaches__item {\n  margin-left: 6px;\n}\n\n.ComposerAttaches__remove {\n  border: 0;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  height: 20px;\n  color: #fff; /* @TODO: correct token */\n  background: var(--icon_secondary);\n  border-radius: 50%;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);\n  position: absolute;\n  top: -2px;\n  right: -2px;\n  cursor: pointer;\n  opacity: 0;\n  transition: opacity 0.14s ease;\n}\n\n.ComposerAttaches__item:hover .ComposerAttaches__remove {\n  opacity: 1;\n}\n"],sourceRoot:""}]);const s=a},5492:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ConvoHistory {\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n}\n\n.ConvoHistory__loader {\n  flex: 1 1 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n}\n\n.ConvoHistory__empty {\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.ConvoHistory__emptyIcon {\n  color: var(--content_placeholder_icon);\n  margin: 0 0 19px;\n}\n\n.ConvoHistory__emptyText {\n  color: var(--text_placeholder);\n  font-size: 13px;\n  line-height: 16px;\n  letter-spacing: -0.078px;\n}\n\n.ConvoHistory__scrollable {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  overflow-x: hidden;\n  overflow-y: auto;\n  padding-top: 20px;\n  overscroll-behavior: none;\n}\n.ConvoHistory__scrollable > *:first-child {\n  /* Для того, чтобы элементы липли к низу и не ломался скролл */\n  margin-top: auto;\n}\n\n.ConvoHistory__scrollable * {\n  overflow-anchor: none;\n}\n\n.ConvoHistory__flow {\n  margin-top: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 0 var(--historyPaddingRight) var(--historyPaddingBottom)\n    var(--historyPaddingLeft);\n}\n\n.ConvoHistory__separator {\n  display: flex;\n  align-items: center;\n  gap: 1ch;\n  padding: 12px 0;\n  color: var(--text_tertiary);\n  font-size: 12px;\n  width: 100%;\n}\n\n.ConvoHistory__separator::before,\n.ConvoHistory__separator::after {\n  flex: 1 1 0;\n  display: block;\n  content: '';\n  height: 1px;\n}\n\n.ConvoHistory__separator--unread::before {\n  background: linear-gradient(to right, transparent, currentColor);\n}\n\n.ConvoHistory__separator--unread::after {\n  background: linear-gradient(to left, transparent, currentColor);\n}\n\n.ConvoHistory__spinner {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 16px;\n  margin-bottom: 15px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ConvoHistory/ConvoHistory.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,aAAa;EACb,sBAAsB;EACtB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,WAAW;EACX,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,WAAW;AACb;;AAEA;EACE,aAAa;EACb,cAAc;EACd,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,sCAAsC;EACtC,gBAAgB;AAClB;;AAEA;EACE,8BAA8B;EAC9B,eAAe;EACf,iBAAiB;EACjB,wBAAwB;AAC1B;;AAEA;EACE,cAAc;EACd,aAAa;EACb,sBAAsB;EACtB,kBAAkB;EAClB,gBAAgB;EAChB,iBAAiB;EACjB,yBAAyB;AAC3B;AACA;EACE,8DAA8D;EAC9D,gBAAgB;AAClB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,gBAAgB;EAChB,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB;6BAC2B;AAC7B;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;EACR,eAAe;EACf,2BAA2B;EAC3B,eAAe;EACf,WAAW;AACb;;AAEA;;EAEE,WAAW;EACX,cAAc;EACd,WAAW;EACX,WAAW;AACb;;AAEA;EACE,gEAAgE;AAClE;;AAEA;EACE,+DAA+D;AACjE;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,mBAAmB;AACrB",sourcesContent:[".ConvoHistory {\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n}\n\n.ConvoHistory__loader {\n  flex: 1 1 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n}\n\n.ConvoHistory__empty {\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.ConvoHistory__emptyIcon {\n  color: var(--content_placeholder_icon);\n  margin: 0 0 19px;\n}\n\n.ConvoHistory__emptyText {\n  color: var(--text_placeholder);\n  font-size: 13px;\n  line-height: 16px;\n  letter-spacing: -0.078px;\n}\n\n.ConvoHistory__scrollable {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  overflow-x: hidden;\n  overflow-y: auto;\n  padding-top: 20px;\n  overscroll-behavior: none;\n}\n.ConvoHistory__scrollable > *:first-child {\n  /* Для того, чтобы элементы липли к низу и не ломался скролл */\n  margin-top: auto;\n}\n\n.ConvoHistory__scrollable * {\n  overflow-anchor: none;\n}\n\n.ConvoHistory__flow {\n  margin-top: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 0 var(--historyPaddingRight) var(--historyPaddingBottom)\n    var(--historyPaddingLeft);\n}\n\n.ConvoHistory__separator {\n  display: flex;\n  align-items: center;\n  gap: 1ch;\n  padding: 12px 0;\n  color: var(--text_tertiary);\n  font-size: 12px;\n  width: 100%;\n}\n\n.ConvoHistory__separator::before,\n.ConvoHistory__separator::after {\n  flex: 1 1 0;\n  display: block;\n  content: '';\n  height: 1px;\n}\n\n.ConvoHistory__separator--unread::before {\n  background: linear-gradient(to right, transparent, currentColor);\n}\n\n.ConvoHistory__separator--unread::after {\n  background: linear-gradient(to left, transparent, currentColor);\n}\n\n.ConvoHistory__spinner {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 16px;\n  margin-bottom: 15px;\n}\n"],sourceRoot:""}]);const s=a},9764:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ConvoHistoryTyping {\n  display: flex;\n  align-items: center;\n  /**\n   * Тайпинг не должен влиять на высоту истории,\n   * компонент встраивается в область нижнего паддинга истории,\n   * поэтому использует переменные\n   */\n  min-height: var(--historyPaddingBottom);\n  padding: 0 30px 0 var(--historyPaddingLeft);\n  margin-top: calc(-1 * var(--historyPaddingBottom));\n  white-space: nowrap;\n  color: var(--text_tertiary);\n}\n\n.ConvoHistoryTyping__indicator {\n  flex: 0 0 32px;\n  width: 32px; /* Ширина аватарки автора стека сообщений */\n  margin-right: calc(6px + var(--messageHorizontalIndent));\n}\n\n.ConvoHistoryTyping__text {\n  width: min-content;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ConvoHistoryTyping/ConvoHistoryTyping.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB;;;;IAIE;EACF,uCAAuC;EACvC,2CAA2C;EAC3C,kDAAkD;EAClD,mBAAmB;EACnB,2BAA2B;AAC7B;;AAEA;EACE,cAAc;EACd,WAAW,EAAE,2CAA2C;EACxD,wDAAwD;AAC1D;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,uBAAuB;AACzB",sourcesContent:[".ConvoHistoryTyping {\n  display: flex;\n  align-items: center;\n  /**\n   * Тайпинг не должен влиять на высоту истории,\n   * компонент встраивается в область нижнего паддинга истории,\n   * поэтому использует переменные\n   */\n  min-height: var(--historyPaddingBottom);\n  padding: 0 30px 0 var(--historyPaddingLeft);\n  margin-top: calc(-1 * var(--historyPaddingBottom));\n  white-space: nowrap;\n  color: var(--text_tertiary);\n}\n\n.ConvoHistoryTyping__indicator {\n  flex: 0 0 32px;\n  width: 32px; /* Ширина аватарки автора стека сообщений */\n  margin-right: calc(6px + var(--messageHorizontalIndent));\n}\n\n.ConvoHistoryTyping__text {\n  width: min-content;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n"],sourceRoot:""}]);const s=a},170:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ConvoMessage {\n  position: relative;\n  box-sizing: border-box;\n  max-width: 100%;\n  background: var(--im_bubble_incoming);\n  border-radius: var(--messageBorderRadius);\n  padding: var(--messageVerticalIndent) var(--messageHorizontalIndent);\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  color: var(--text_primary);\n}\n\n.ConvoMessage--out {\n  background: var(--im_bubble_outgoing);\n}\n\n.ConvoMessage--expiring {\n  background: var(--im_bubble_incoming_expiring);\n}\n\n.ConvoMessage--expiring.ConvoMessage--out {\n  background: var(--im_bubble_outgoing_expiring);\n}\n\n.ConvoMessage--noBackground {\n  background: transparent;\n  padding: 0;\n}\n\n.ConvoMessage--withGift {\n  max-width: 224px;\n  background: var(--im_bubble_gift_background);\n  color: var(--im_bubble_gift_text);\n  text-align: center;\n}\n\n.ConvoMessage__statusIcon {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  width: 8px;\n  height: 8px;\n  background: var(--background_content);\n  box-shadow: 0 0 0 1px var(--background_content);\n  border-radius: 50%;\n  z-index: 1;\n}\n\n/**\n * Часики\n */\n.ConvoMessage__statusIcon--sending {\n  color: var(--icon_secondary);\n}\n\n/**\n * Ошибка\n */\n.ConvoMessage__statusIcon--failed {\n  color: var(--destructive);\n}\n\n/**\n * Отметка непрочитанности\n */\n.ConvoMessage--unread::after {\n  position: absolute;\n  bottom: 1px;\n  right: 1px;\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background: var(--accent);\n  box-shadow: 0 0 0 1px var(--background_content);\n  content: '';\n  z-index: 0;\n}\n.ConvoMessage--sending.ConvoMessage--unread::after {\n  display: none;\n}\n\n.ConvoMessage + .ConvoMessage {\n  margin-top: calc(0.5 * var(--messageVerticalIndent));\n}\n\n/**\n * Автор сообщения\n */\n.ConvoMessage__author {\n  margin: 0 0 2px;\n}\n\n.ConvoMessage__authorLink {\n  color: var(--text_link);\n  font: 500 0.925em / calc(0.875 * var(--messageLineHeight)) var(--font);\n  text-decoration: none;\n}\n\n/**\n * Иконка исчезающего сообщения\n */\n.ConvoMessage__bomb {\n  --padding-horizontal: 5px;\n\n  position: absolute;\n  bottom: 4px;\n  left: calc(100% - 6px);\n  padding: 3px var(--padding-horizontal);\n  background: var(--modal_card_background);\n  color: var(--icon_tertiary);\n  border: 0.5px solid var(--image_border);\n  border-radius: 10px;\n  cursor: pointer;\n  font: 500 12px / 16px var(--font);\n  outline: 0;\n  text-align: center;\n  font-variant-numeric: tabular-nums;\n}\n.ConvoMessage--out .ConvoMessage__bomb {\n  left: auto;\n  right: calc(100% - 6px);\n}\n\n.ConvoMessage__bomb--soon {\n  color: var(--destructive); /* @TODO: correct token -- designers */\n}\n\n.ConvoMessage__bomb--blink {\n  animation: blink-animation 1s linear infinite;\n}\n\n@keyframes blink-animation {\n  50% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n/**\n * Тело сообщения\n */\n.ConvoMessage__content {\n  position: relative;\n  word-wrap: break-word;\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n}\n\n.ConvoMessage--withReply .ConvoMessage__content {\n  min-width: 140px;\n  padding-top: calc(\n    2 * var(--messageLineHeight) + var(--messageVerticalIndent) + 2px\n  );\n}\n\n.ConvoMessage__text {\n  flex: 1 1 auto;\n  max-width: 100%;\n}\n.ConvoMessage--wideAttach .ConvoMessage__text {\n  min-width: 100%;\n}\n\n.ConvoMessage__reply {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n}\n\n/**\n * Контейнер для аттачей\n */\n.ConvoMessage__attachments {\n  max-width: none;\n  margin-top: var(--messageVerticalIndent);\n  margin-left: calc(\n    var(--messageAttachmentIndent) - var(--messageHorizontalIndent)\n  );\n  margin-right: calc(\n    var(--messageAttachmentIndent) - var(--messageHorizontalIndent)\n  );\n  margin-bottom: calc(\n    var(--messageAttachmentIndent) - var(--messageVerticalIndent)\n  );\n}\n.ConvoMessage--withDate .ConvoMessage__attachment {\n  /* Компенсируем отступ, которые появляется из-за даты */\n  margin-bottom: calc(\n    0.5 * var(--messageAttachmentIndent) - var(--messageVerticalIndent) -\n      var(--messageDateLineHeight)\n  );\n}\n\n.ConvoMessage--withAuthor .ConvoMessage__attachments {\n  margin-top: calc(var(--messageVerticalIndent) - 2px);\n}\n\n.ConvoMessage--attachOnly .ConvoMessage__attachments {\n  margin-top: calc(\n    var(--messageAttachmentIndent) - var(--messageVerticalIndent)\n  );\n}\n\n.ConvoMessage--noDate .ConvoMessage__attachments {\n  margin-bottom: calc(\n    var(--messageAttachmentIndent) - var(--messageVerticalIndent)\n  );\n}\n\n/**\n * Время сообщения\n */\n.ConvoMessage__date {\n  text-align: right;\n  flex: 1 0 auto;\n  margin: 0 calc(-2 / 3 * var(--messageHorizontalIndent))\n    calc(-0.5 * var(--messageVerticalIndent)) 1ch;\n  align-self: flex-end;\n  justify-self: end;\n  font: 500 var(--messageDateFontSize) / var(--messageDateLineHeight)\n    var(--font);\n  color: var(--text_secondary);\n  padding: 3px 6px;\n  white-space: nowrap;\n}\n\n.ConvoMessage--floatDate .ConvoMessage__date {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.25); /* @TODO: correct token */\n  color: #fff; /* @TODO: correct token */\n  border-radius: 8px;\n}\n\n.ConvoMessage--noBackground .ConvoMessage__date {\n  margin: 0 calc(1 / 3 * var(--messageHorizontalIndent))\n    calc(0.5 * var(--messageVerticalIndent)) 1ch;\n}\n\n.ConvoMessage__empty {\n  color: var(--text_secondary);\n}\n\n.ConvoMessage__link,\n.ConvoMessage__link:hover {\n  text-decoration: none;\n  color: var(--text_link);\n  cursor: pointer;\n}\n\n.ConvoMessage--separateDate .ConvoMessage__content {\n  flex-direction: column;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ConvoMessage/ConvoMessage.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,sBAAsB;EACtB,eAAe;EACf,qCAAqC;EACrC,yCAAyC;EACzC,oEAAoE;EACpE,mEAAmE;EACnE,0BAA0B;AAC5B;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,8CAA8C;AAChD;;AAEA;EACE,8CAA8C;AAChD;;AAEA;EACE,uBAAuB;EACvB,UAAU;AACZ;;AAEA;EACE,gBAAgB;EAChB,4CAA4C;EAC5C,iCAAiC;EACjC,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,UAAU;EACV,WAAW;EACX,qCAAqC;EACrC,+CAA+C;EAC/C,kBAAkB;EAClB,UAAU;AACZ;;AAEA;;EAEE;AACF;EACE,4BAA4B;AAC9B;;AAEA;;EAEE;AACF;EACE,yBAAyB;AAC3B;;AAEA;;EAEE;AACF;EACE,kBAAkB;EAClB,WAAW;EACX,UAAU;EACV,UAAU;EACV,WAAW;EACX,kBAAkB;EAClB,yBAAyB;EACzB,+CAA+C;EAC/C,WAAW;EACX,UAAU;AACZ;AACA;EACE,aAAa;AACf;;AAEA;EACE,oDAAoD;AACtD;;AAEA;;EAEE;AACF;EACE,eAAe;AACjB;;AAEA;EACE,uBAAuB;EACvB,sEAAsE;EACtE,qBAAqB;AACvB;;AAEA;;EAEE;AACF;EACE,yBAAyB;;EAEzB,kBAAkB;EAClB,WAAW;EACX,sBAAsB;EACtB,sCAAsC;EACtC,wCAAwC;EACxC,2BAA2B;EAC3B,uCAAuC;EACvC,mBAAmB;EACnB,eAAe;EACf,iCAAiC;EACjC,UAAU;EACV,kBAAkB;EAClB,kCAAkC;AACpC;AACA;EACE,UAAU;EACV,uBAAuB;AACzB;;AAEA;EACE,yBAAyB,EAAE,sCAAsC;AACnE;;AAEA;EACE,6CAA6C;AAC/C;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA;;EAEE;AACF;EACE,kBAAkB;EAClB,qBAAqB;EACrB,aAAa;EACb,8BAA8B;EAC9B,eAAe;AACjB;;AAEA;EACE,gBAAgB;EAChB;;GAEC;AACH;;AAEA;EACE,cAAc;EACd,eAAe;AACjB;AACA;EACE,eAAe;AACjB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,OAAO;AACT;;AAEA;;EAEE;AACF;EACE,eAAe;EACf,wCAAwC;EACxC;;GAEC;EACD;;GAEC;EACD;;GAEC;AACH;AACA;EACE,uDAAuD;EACvD;;;GAGC;AACH;;AAEA;EACE,oDAAoD;AACtD;;AAEA;EACE;;GAEC;AACH;;AAEA;EACE;;GAEC;AACH;;AAEA;;EAEE;AACF;EACE,iBAAiB;EACjB,cAAc;EACd;iDAC+C;EAC/C,oBAAoB;EACpB,iBAAiB;EACjB;eACa;EACb,4BAA4B;EAC5B,gBAAgB;EAChB,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,QAAQ;EACR,+BAA+B,EAAE,yBAAyB;EAC1D,WAAW,EAAE,yBAAyB;EACtC,kBAAkB;AACpB;;AAEA;EACE;gDAC8C;AAChD;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;;EAEE,qBAAqB;EACrB,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,sBAAsB;AACxB",sourcesContent:[".ConvoMessage {\n  position: relative;\n  box-sizing: border-box;\n  max-width: 100%;\n  background: var(--im_bubble_incoming);\n  border-radius: var(--messageBorderRadius);\n  padding: var(--messageVerticalIndent) var(--messageHorizontalIndent);\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  color: var(--text_primary);\n}\n\n.ConvoMessage--out {\n  background: var(--im_bubble_outgoing);\n}\n\n.ConvoMessage--expiring {\n  background: var(--im_bubble_incoming_expiring);\n}\n\n.ConvoMessage--expiring.ConvoMessage--out {\n  background: var(--im_bubble_outgoing_expiring);\n}\n\n.ConvoMessage--noBackground {\n  background: transparent;\n  padding: 0;\n}\n\n.ConvoMessage--withGift {\n  max-width: 224px;\n  background: var(--im_bubble_gift_background);\n  color: var(--im_bubble_gift_text);\n  text-align: center;\n}\n\n.ConvoMessage__statusIcon {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  width: 8px;\n  height: 8px;\n  background: var(--background_content);\n  box-shadow: 0 0 0 1px var(--background_content);\n  border-radius: 50%;\n  z-index: 1;\n}\n\n/**\n * Часики\n */\n.ConvoMessage__statusIcon--sending {\n  color: var(--icon_secondary);\n}\n\n/**\n * Ошибка\n */\n.ConvoMessage__statusIcon--failed {\n  color: var(--destructive);\n}\n\n/**\n * Отметка непрочитанности\n */\n.ConvoMessage--unread::after {\n  position: absolute;\n  bottom: 1px;\n  right: 1px;\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background: var(--accent);\n  box-shadow: 0 0 0 1px var(--background_content);\n  content: '';\n  z-index: 0;\n}\n.ConvoMessage--sending.ConvoMessage--unread::after {\n  display: none;\n}\n\n.ConvoMessage + .ConvoMessage {\n  margin-top: calc(0.5 * var(--messageVerticalIndent));\n}\n\n/**\n * Автор сообщения\n */\n.ConvoMessage__author {\n  margin: 0 0 2px;\n}\n\n.ConvoMessage__authorLink {\n  color: var(--text_link);\n  font: 500 0.925em / calc(0.875 * var(--messageLineHeight)) var(--font);\n  text-decoration: none;\n}\n\n/**\n * Иконка исчезающего сообщения\n */\n.ConvoMessage__bomb {\n  --padding-horizontal: 5px;\n\n  position: absolute;\n  bottom: 4px;\n  left: calc(100% - 6px);\n  padding: 3px var(--padding-horizontal);\n  background: var(--modal_card_background);\n  color: var(--icon_tertiary);\n  border: 0.5px solid var(--image_border);\n  border-radius: 10px;\n  cursor: pointer;\n  font: 500 12px / 16px var(--font);\n  outline: 0;\n  text-align: center;\n  font-variant-numeric: tabular-nums;\n}\n.ConvoMessage--out .ConvoMessage__bomb {\n  left: auto;\n  right: calc(100% - 6px);\n}\n\n.ConvoMessage__bomb--soon {\n  color: var(--destructive); /* @TODO: correct token -- designers */\n}\n\n.ConvoMessage__bomb--blink {\n  animation: blink-animation 1s linear infinite;\n}\n\n@keyframes blink-animation {\n  50% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n/**\n * Тело сообщения\n */\n.ConvoMessage__content {\n  position: relative;\n  word-wrap: break-word;\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n}\n\n.ConvoMessage--withReply .ConvoMessage__content {\n  min-width: 140px;\n  padding-top: calc(\n    2 * var(--messageLineHeight) + var(--messageVerticalIndent) + 2px\n  );\n}\n\n.ConvoMessage__text {\n  flex: 1 1 auto;\n  max-width: 100%;\n}\n.ConvoMessage--wideAttach .ConvoMessage__text {\n  min-width: 100%;\n}\n\n.ConvoMessage__reply {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n}\n\n/**\n * Контейнер для аттачей\n */\n.ConvoMessage__attachments {\n  max-width: none;\n  margin-top: var(--messageVerticalIndent);\n  margin-left: calc(\n    var(--messageAttachmentIndent) - var(--messageHorizontalIndent)\n  );\n  margin-right: calc(\n    var(--messageAttachmentIndent) - var(--messageHorizontalIndent)\n  );\n  margin-bottom: calc(\n    var(--messageAttachmentIndent) - var(--messageVerticalIndent)\n  );\n}\n.ConvoMessage--withDate .ConvoMessage__attachment {\n  /* Компенсируем отступ, которые появляется из-за даты */\n  margin-bottom: calc(\n    0.5 * var(--messageAttachmentIndent) - var(--messageVerticalIndent) -\n      var(--messageDateLineHeight)\n  );\n}\n\n.ConvoMessage--withAuthor .ConvoMessage__attachments {\n  margin-top: calc(var(--messageVerticalIndent) - 2px);\n}\n\n.ConvoMessage--attachOnly .ConvoMessage__attachments {\n  margin-top: calc(\n    var(--messageAttachmentIndent) - var(--messageVerticalIndent)\n  );\n}\n\n.ConvoMessage--noDate .ConvoMessage__attachments {\n  margin-bottom: calc(\n    var(--messageAttachmentIndent) - var(--messageVerticalIndent)\n  );\n}\n\n/**\n * Время сообщения\n */\n.ConvoMessage__date {\n  text-align: right;\n  flex: 1 0 auto;\n  margin: 0 calc(-2 / 3 * var(--messageHorizontalIndent))\n    calc(-0.5 * var(--messageVerticalIndent)) 1ch;\n  align-self: flex-end;\n  justify-self: end;\n  font: 500 var(--messageDateFontSize) / var(--messageDateLineHeight)\n    var(--font);\n  color: var(--text_secondary);\n  padding: 3px 6px;\n  white-space: nowrap;\n}\n\n.ConvoMessage--floatDate .ConvoMessage__date {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.25); /* @TODO: correct token */\n  color: #fff; /* @TODO: correct token */\n  border-radius: 8px;\n}\n\n.ConvoMessage--noBackground .ConvoMessage__date {\n  margin: 0 calc(1 / 3 * var(--messageHorizontalIndent))\n    calc(0.5 * var(--messageVerticalIndent)) 1ch;\n}\n\n.ConvoMessage__empty {\n  color: var(--text_secondary);\n}\n\n.ConvoMessage__link,\n.ConvoMessage__link:hover {\n  text-decoration: none;\n  color: var(--text_link);\n  cursor: pointer;\n}\n\n.ConvoMessage--separateDate .ConvoMessage__content {\n  flex-direction: column;\n}\n"],sourceRoot:""}]);const s=a},5870:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ConvoStack {\n  width: 100%;\n  display: flex;\n  align-items: flex-end;\n  justify-content: flex-start;\n  flex-shrink: 0;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  margin: 0 0 var(--messageVerticalIndent);\n}\n.ConvoStack:last-of-type {\n  margin: 0;\n}\n\n.ConvoStack--out {\n  justify-content: flex-end;\n}\n\n.ConvoStack__author {\n  flex: 0 0 auto;\n  padding: 2px 0;\n  margin-right: 6px;\n  position: sticky;\n  bottom: 0;\n}\n\n.ConvoStack__content {\n  flex: 0 1 auto;\n  display: flex;\n  max-width: var(--messageMaxWidth);\n  flex-direction: column;\n  align-items: flex-start;\n}\n\n.ConvoStack--centered .ConvoStack__content {\n  flex: 1 1 auto;\n  max-width: none;\n}\n\n.ConvoStack--out .ConvoStack__content {\n  align-items: flex-end;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ConvoStack/ConvoStack.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,aAAa;EACb,qBAAqB;EACrB,2BAA2B;EAC3B,cAAc;EACd,mEAAmE;EACnE,wCAAwC;AAC1C;AACA;EACE,SAAS;AACX;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,cAAc;EACd,cAAc;EACd,iBAAiB;EACjB,gBAAgB;EAChB,SAAS;AACX;;AAEA;EACE,cAAc;EACd,aAAa;EACb,iCAAiC;EACjC,sBAAsB;EACtB,uBAAuB;AACzB;;AAEA;EACE,cAAc;EACd,eAAe;AACjB;;AAEA;EACE,qBAAqB;AACvB",sourcesContent:[".ConvoStack {\n  width: 100%;\n  display: flex;\n  align-items: flex-end;\n  justify-content: flex-start;\n  flex-shrink: 0;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  margin: 0 0 var(--messageVerticalIndent);\n}\n.ConvoStack:last-of-type {\n  margin: 0;\n}\n\n.ConvoStack--out {\n  justify-content: flex-end;\n}\n\n.ConvoStack__author {\n  flex: 0 0 auto;\n  padding: 2px 0;\n  margin-right: 6px;\n  position: sticky;\n  bottom: 0;\n}\n\n.ConvoStack__content {\n  flex: 0 1 auto;\n  display: flex;\n  max-width: var(--messageMaxWidth);\n  flex-direction: column;\n  align-items: flex-start;\n}\n\n.ConvoStack--centered .ConvoStack__content {\n  flex: 1 1 auto;\n  max-width: none;\n}\n\n.ConvoStack--out .ConvoStack__content {\n  align-items: flex-end;\n}\n"],sourceRoot:""}]);const s=a},7661:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ConvoTitle {\n  display: flex;\n  align-items: center;\n  color: var(--text_primary);\n  font-family: var(--font);\n  font-size: inherit;\n  line-height: inherit;\n  font-weight: inherit;\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n.ConvoTitle__title {\n  flex: 0 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.ConvoTitle__icon {\n  margin-left: 5px;\n}\n\n.ConvoTitle__verifiedIcon {\n  flex: 0 0 auto;\n  color: var(--accent);\n}\n\n.ConvoTitle__mutedIcon {\n  flex: 0 0 auto;\n  color: var(--icon_tertiary);\n  margin-top: 2px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ConvoTitle/ConvoTitle.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,0BAA0B;EAC1B,wBAAwB;EACxB,kBAAkB;EAClB,oBAAoB;EACpB,oBAAoB;EACpB,cAAc;EACd,gBAAgB;AAClB;;AAEA;EACE,cAAc;EACd,gBAAgB;EAChB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,cAAc;EACd,oBAAoB;AACtB;;AAEA;EACE,cAAc;EACd,2BAA2B;EAC3B,eAAe;AACjB",sourcesContent:[".ConvoTitle {\n  display: flex;\n  align-items: center;\n  color: var(--text_primary);\n  font-family: var(--font);\n  font-size: inherit;\n  line-height: inherit;\n  font-weight: inherit;\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n.ConvoTitle__title {\n  flex: 0 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.ConvoTitle__icon {\n  margin-left: 5px;\n}\n\n.ConvoTitle__verifiedIcon {\n  flex: 0 0 auto;\n  color: var(--accent);\n}\n\n.ConvoTitle__mutedIcon {\n  flex: 0 0 auto;\n  color: var(--icon_tertiary);\n  margin-top: 2px;\n}\n"],sourceRoot:""}]);const s=a},5682:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".EmptyConvoList {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex: 1 0 auto;\n  padding: 0 24px;\n  font: 13px/16px var(--font);\n  color: var(--text_secondary);\n  text-align: center;\n  letter-spacing: -0.078px;\n}\n\n.EmptyConvoList__icon {\n  color: var(--placeholder_icon_foreground_primary);\n  margin-bottom: 12px;\n}\n\n.EmptyConvoList__link {\n  color: var(--text_link);\n  margin-top: 8px;\n  background: none;\n  outline: none;\n  border: 0;\n  cursor: pointer;\n}\n.EmptyConvoList__link:hover {\n  text-decoration: underline;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/EmptyConvoList/EmptyConvoList.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,cAAc;EACd,eAAe;EACf,2BAA2B;EAC3B,4BAA4B;EAC5B,kBAAkB;EAClB,wBAAwB;AAC1B;;AAEA;EACE,iDAAiD;EACjD,mBAAmB;AACrB;;AAEA;EACE,uBAAuB;EACvB,eAAe;EACf,gBAAgB;EAChB,aAAa;EACb,SAAS;EACT,eAAe;AACjB;AACA;EACE,0BAA0B;AAC5B",sourcesContent:[".EmptyConvoList {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex: 1 0 auto;\n  padding: 0 24px;\n  font: 13px/16px var(--font);\n  color: var(--text_secondary);\n  text-align: center;\n  letter-spacing: -0.078px;\n}\n\n.EmptyConvoList__icon {\n  color: var(--placeholder_icon_foreground_primary);\n  margin-bottom: 12px;\n}\n\n.EmptyConvoList__link {\n  color: var(--text_link);\n  margin-top: 8px;\n  background: none;\n  outline: none;\n  border: 0;\n  cursor: pointer;\n}\n.EmptyConvoList__link:hover {\n  text-decoration: underline;\n}\n"],sourceRoot:""}]);const s=a},4102:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ExpiredMessage {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n}\n\n.ExpiredMessage__container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 9.5px 12px 8.5px 12px;\n  border: 0.5px solid var(--snippet_border);\n  border-radius: 18px;\n}\n\n.ExpiredMessage__icon {\n  margin-right: 9px;\n  color: var(--icon_tertiary);\n}\n\n.ExpiredMessage__text {\n  font-size: 12px;\n  line-height: 14px;\n  letter-spacing: 0.005em;\n  color: var(--text_secondary);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ExpiredMessages/ExpiredMessages.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,WAAW;AACb;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,8BAA8B;EAC9B,yCAAyC;EACzC,mBAAmB;AACrB;;AAEA;EACE,iBAAiB;EACjB,2BAA2B;AAC7B;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,uBAAuB;EACvB,4BAA4B;AAC9B",sourcesContent:[".ExpiredMessage {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n}\n\n.ExpiredMessage__container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 9.5px 12px 8.5px 12px;\n  border: 0.5px solid var(--snippet_border);\n  border-radius: 18px;\n}\n\n.ExpiredMessage__icon {\n  margin-right: 9px;\n  color: var(--icon_tertiary);\n}\n\n.ExpiredMessage__text {\n  font-size: 12px;\n  line-height: 14px;\n  letter-spacing: 0.005em;\n  color: var(--text_secondary);\n}\n"],sourceRoot:""}]);const s=a},5125:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCApp {\n  background-color: var(--background_content);\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  position: relative;\n  z-index: var(--fcZIndex);\n}\n\n.FCApp *::-webkit-scrollbar {\n  display: none;\n}\n\n.FCApp__convoStub,\n.FCApp__thumbStub {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.FCApp__thumbStub {\n  min-height: 52px; /* @TODO */\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCApp/FCApp.css"],names:[],mappings:"AAAA;EACE,2CAA2C;EAC3C,mCAAmC;EACnC,kCAAkC;EAClC,kBAAkB;EAClB,wBAAwB;AAC1B;;AAEA;EACE,aAAa;AACf;;AAEA;;EAEE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,gBAAgB,EAAE,UAAU;AAC9B",sourcesContent:[".FCApp {\n  background-color: var(--background_content);\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  position: relative;\n  z-index: var(--fcZIndex);\n}\n\n.FCApp *::-webkit-scrollbar {\n  display: none;\n}\n\n.FCApp__convoStub,\n.FCApp__thumbStub {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.FCApp__thumbStub {\n  min-height: 52px; /* @TODO */\n}\n"],sourceRoot:""}]);const s=a},7758:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCComposer {\n  width: 100%;\n  height: 100%;\n}\n\n.FCComposer__field {\n  display: flex;\n  align-items: flex-end;\n  position: relative;\n}\n\n.FCComposer__smile {\n  position: absolute;\n  top: auto;\n  bottom: 0;\n  right: 0;\n}\n\n.FCComposer__button {\n  outline: none;\n  flex: 0 0 40px;\n  width: 40px;\n  height: 44px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 0;\n  background: transparent;\n  cursor: pointer;\n  color: var(--icon_outline_secondary);\n}\n\n.FCComposer__attaches {\n  border-top: 1px solid var(--separator_alternate);\n}\n\n/**\n * Перебиваем специфичность 021 в vkcom ([dir] div[contenteditable=true])\n */\n.FCComposer__input.FCComposer__input.FCComposer__input,\n.FCComposer__input.FCComposer__input.FCComposer__input\n  ~ .placeholder\n  .ph_input {\n  border: 0;\n  border-radius: 0;\n  padding: 14px 40px 14px 0;\n  max-height: 140px;\n  overflow: auto;\n}\n.FCComposer__input:focus {\n  outline: none;\n}\n\n.FCComposer__input.FCComposer__input.FCComposer__input\n  ~ .placeholder\n  .ph_content {\n  padding: 0;\n}\n\n.FCComposer__smile.FCComposer__smile .emoji_tt_wrap {\n  bottom: calc(100% - 4px);\n  right: 3px;\n}\n\n/**\n * ЖОСКИЕ ХАКИ И КОСТЫЛИ ТУТ\n */\n\n.FCComposer__input .emoji {\n  /* Без этого не отображается каретка после вставки смайла */\n  color: var(--text_primary);\n}\n\n.FCComposer__emojiHack {\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n.FCComposer__emojiHack .emoji_smile_wrap * {\n  /* Сбрасываем наши ресеттеры */\n  max-width: none;\n  box-sizing: content-box;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCComposer/FCComposer.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,aAAa;EACb,qBAAqB;EACrB,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,SAAS;EACT,QAAQ;AACV;;AAEA;EACE,aAAa;EACb,cAAc;EACd,WAAW;EACX,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,SAAS;EACT,uBAAuB;EACvB,eAAe;EACf,oCAAoC;AACtC;;AAEA;EACE,gDAAgD;AAClD;;AAEA;;EAEE;AACF;;;;EAIE,SAAS;EACT,gBAAgB;EAChB,yBAAyB;EACzB,iBAAiB;EACjB,cAAc;AAChB;AACA;EACE,aAAa;AACf;;AAEA;;;EAGE,UAAU;AACZ;;AAEA;EACE,wBAAwB;EACxB,UAAU;AACZ;;AAEA;;EAEE;;AAEF;EACE,2DAA2D;EAC3D,0BAA0B;AAC5B;;AAEA;EACE,cAAc;EACd,gBAAgB;AAClB;;AAEA;EACE,8BAA8B;EAC9B,eAAe;EACf,uBAAuB;AACzB",sourcesContent:[".FCComposer {\n  width: 100%;\n  height: 100%;\n}\n\n.FCComposer__field {\n  display: flex;\n  align-items: flex-end;\n  position: relative;\n}\n\n.FCComposer__smile {\n  position: absolute;\n  top: auto;\n  bottom: 0;\n  right: 0;\n}\n\n.FCComposer__button {\n  outline: none;\n  flex: 0 0 40px;\n  width: 40px;\n  height: 44px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 0;\n  background: transparent;\n  cursor: pointer;\n  color: var(--icon_outline_secondary);\n}\n\n.FCComposer__attaches {\n  border-top: 1px solid var(--separator_alternate);\n}\n\n/**\n * Перебиваем специфичность 021 в vkcom ([dir] div[contenteditable=true])\n */\n.FCComposer__input.FCComposer__input.FCComposer__input,\n.FCComposer__input.FCComposer__input.FCComposer__input\n  ~ .placeholder\n  .ph_input {\n  border: 0;\n  border-radius: 0;\n  padding: 14px 40px 14px 0;\n  max-height: 140px;\n  overflow: auto;\n}\n.FCComposer__input:focus {\n  outline: none;\n}\n\n.FCComposer__input.FCComposer__input.FCComposer__input\n  ~ .placeholder\n  .ph_content {\n  padding: 0;\n}\n\n.FCComposer__smile.FCComposer__smile .emoji_tt_wrap {\n  bottom: calc(100% - 4px);\n  right: 3px;\n}\n\n/**\n * ЖОСКИЕ ХАКИ И КОСТЫЛИ ТУТ\n */\n\n.FCComposer__input .emoji {\n  /* Без этого не отображается каретка после вставки смайла */\n  color: var(--text_primary);\n}\n\n.FCComposer__emojiHack {\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n.FCComposer__emojiHack .emoji_smile_wrap * {\n  /* Сбрасываем наши ресеттеры */\n  max-width: none;\n  box-sizing: content-box;\n}\n"],sourceRoot:""}]);const s=a},2931:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCConvo {\n  font: 500 13px/16px var(--font);\n}\n\n.FCConvo__header {\n  display: flex;\n  align-items: center;\n}\n.FCConvo__title {\n  flex: 0 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0 0 0 8px;\n}\n\n.FCConvo__content {\n  height: 100%;\n  display: flex;\n  min-height: 0;\n}\n\n.FCConvo__spinner {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCConvo/FCConvo.css"],names:[],mappings:"AAAA;EACE,+BAA+B;AACjC;;AAEA;EACE,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,cAAc;EACd,gBAAgB;EAChB,uBAAuB;EACvB,iBAAiB;AACnB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,aAAa;AACf;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB",sourcesContent:[".FCConvo {\n  font: 500 13px/16px var(--font);\n}\n\n.FCConvo__header {\n  display: flex;\n  align-items: center;\n}\n.FCConvo__title {\n  flex: 0 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0 0 0 8px;\n}\n\n.FCConvo__content {\n  height: 100%;\n  display: flex;\n  min-height: 0;\n}\n\n.FCConvo__spinner {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n"],sourceRoot:""}]);const s=a},3913:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCConvoList {\n}\n\n.FCConvoList__loader {\n  width: 100%;\n  height: 44px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--icon_tertiary);\n}\n\n.FCConvoList__virtual {\n  overscroll-behavior: none;\n}\n\n.FCConvoList__folder {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  padding-right: 8px;\n}\n\n.FCConvoList__folderDot {\n  position: relative;\n  height: 24px;\n  width: 24px;\n  border-radius: 50%;\n  background: inherit;\n  border: 0;\n  outline: 0;\n  cursor: pointer;\n}\n.FCConvoList__folderDot::after {\n  --size: 8px;\n\n  content: '';\n  position: absolute;\n  top: calc(50% - var(--size) / 2);\n  left: calc(50% - var(--size) / 2);\n  display: block;\n  height: var(--size);\n  width: var(--size);\n  border-radius: 50%;\n  background: var(--accent);\n  opacity: 0.5;\n}\n.FCConvoList__folderDot--active::after {\n  opacity: 1;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCConvoList/FCConvoList.css"],names:[],mappings:"AAAA;AACA;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,2BAA2B;AAC7B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,kBAAkB;EAClB,mBAAmB;EACnB,SAAS;EACT,UAAU;EACV,eAAe;AACjB;AACA;EACE,WAAW;;EAEX,WAAW;EACX,kBAAkB;EAClB,gCAAgC;EAChC,iCAAiC;EACjC,cAAc;EACd,mBAAmB;EACnB,kBAAkB;EAClB,kBAAkB;EAClB,yBAAyB;EACzB,YAAY;AACd;AACA;EACE,UAAU;AACZ",sourcesContent:[".FCConvoList {\n}\n\n.FCConvoList__loader {\n  width: 100%;\n  height: 44px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--icon_tertiary);\n}\n\n.FCConvoList__virtual {\n  overscroll-behavior: none;\n}\n\n.FCConvoList__folder {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  padding-right: 8px;\n}\n\n.FCConvoList__folderDot {\n  position: relative;\n  height: 24px;\n  width: 24px;\n  border-radius: 50%;\n  background: inherit;\n  border: 0;\n  outline: 0;\n  cursor: pointer;\n}\n.FCConvoList__folderDot::after {\n  --size: 8px;\n\n  content: '';\n  position: absolute;\n  top: calc(50% - var(--size) / 2);\n  left: calc(50% - var(--size) / 2);\n  display: block;\n  height: var(--size);\n  width: var(--size);\n  border-radius: 50%;\n  background: var(--accent);\n  opacity: 0.5;\n}\n.FCConvoList__folderDot--active::after {\n  opacity: 1;\n}\n"],sourceRoot:""}]);const s=a},5096:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCConvoListItem {\n  display: flex;\n  align-items: center;\n  padding: 6px 8px;\n  cursor: pointer;\n  border: 0;\n  width: 100%;\n  background: transparent;\n  text-align: left;\n  font: 500 13px/16px var(--font);\n  max-width: 100%;\n  overflow: hidden;\n  transition: background-color 0.2s ease;\n  grid-template-columns: auto 1fr auto;\n  flex: 0 0 auto;\n}\n\n.FCConvoListItem:hover,\n.FCConvoListItem[aria-selected='true'] {\n  background: var(--content_tint_background);\n  outline: none;\n}\n\n.FCConvoListItem--focused,\n.FCConvoListItem:focus {\n  outline: none;\n  background: var(--content_tint_background);\n}\n\n.FCConvoListItem__photo {\n  margin-right: 8px;\n}\n\n.FCConvoListItem__icons {\n  flex: 0 0 auto;\n  display: grid;\n  grid-auto-flow: column;\n  column-gap: 2px;\n  align-items: center;\n  margin-left: 10px;\n}\n\n.FCConvoListItem__unreadOut {\n  height: 8px;\n  width: 8px;\n  border-radius: 50%;\n  background: var(--counter_primary_background);\n}\n\n.FCConvoListItem--muted .FCConvoListItem__unreadOut {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.FCConvoListItem__mentionIcon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 18px;\n  width: 18px;\n  border-radius: 10px;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n  margin-right: 3px;\n}\n\n.FCConvoListItem__bombIcon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 18px;\n  width: 18px;\n  border-radius: 10px;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n  margin-right: 3px;\n}\n.FCConvoListItem--muted .FCConvoListItem__bombIcon {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCConvoListItem/FCConvoListItem.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,gBAAgB;EAChB,eAAe;EACf,SAAS;EACT,WAAW;EACX,uBAAuB;EACvB,gBAAgB;EAChB,+BAA+B;EAC/B,eAAe;EACf,gBAAgB;EAChB,sCAAsC;EACtC,oCAAoC;EACpC,cAAc;AAChB;;AAEA;;EAEE,0CAA0C;EAC1C,aAAa;AACf;;AAEA;;EAEE,aAAa;EACb,0CAA0C;AAC5C;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,cAAc;EACd,aAAa;EACb,sBAAsB;EACtB,eAAe;EACf,mBAAmB;EACnB,iBAAiB;AACnB;;AAEA;EACE,WAAW;EACX,UAAU;EACV,kBAAkB;EAClB,6CAA6C;AAC/C;;AAEA;EACE,+CAA+C;EAC/C,oCAAoC;AACtC;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,WAAW;EACX,mBAAmB;EACnB,6CAA6C;EAC7C,kCAAkC;EAClC,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,WAAW;EACX,mBAAmB;EACnB,6CAA6C;EAC7C,kCAAkC;EAClC,iBAAiB;AACnB;AACA;EACE,+CAA+C;EAC/C,oCAAoC;AACtC",sourcesContent:[".FCConvoListItem {\n  display: flex;\n  align-items: center;\n  padding: 6px 8px;\n  cursor: pointer;\n  border: 0;\n  width: 100%;\n  background: transparent;\n  text-align: left;\n  font: 500 13px/16px var(--font);\n  max-width: 100%;\n  overflow: hidden;\n  transition: background-color 0.2s ease;\n  grid-template-columns: auto 1fr auto;\n  flex: 0 0 auto;\n}\n\n.FCConvoListItem:hover,\n.FCConvoListItem[aria-selected='true'] {\n  background: var(--content_tint_background);\n  outline: none;\n}\n\n.FCConvoListItem--focused,\n.FCConvoListItem:focus {\n  outline: none;\n  background: var(--content_tint_background);\n}\n\n.FCConvoListItem__photo {\n  margin-right: 8px;\n}\n\n.FCConvoListItem__icons {\n  flex: 0 0 auto;\n  display: grid;\n  grid-auto-flow: column;\n  column-gap: 2px;\n  align-items: center;\n  margin-left: 10px;\n}\n\n.FCConvoListItem__unreadOut {\n  height: 8px;\n  width: 8px;\n  border-radius: 50%;\n  background: var(--counter_primary_background);\n}\n\n.FCConvoListItem--muted .FCConvoListItem__unreadOut {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.FCConvoListItem__mentionIcon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 18px;\n  width: 18px;\n  border-radius: 10px;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n  margin-right: 3px;\n}\n\n.FCConvoListItem__bombIcon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 18px;\n  width: 18px;\n  border-radius: 10px;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n  margin-right: 3px;\n}\n.FCConvoListItem--muted .FCConvoListItem__bombIcon {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n"],sourceRoot:""}]);const s=a},7996:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCConvoPinnedMessage {\n  width: 100%;\n  height: 48px;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  z-index: 2;\n  background-color: var(--background_content);\n  padding: 8px 12px;\n  border-bottom: 1px solid var(--separator_alternate);\n}\n\n.FCConvoPinnedMessage__content {\n  display: flex;\n  align-items: center;\n  flex: 1 1 auto;\n  max-width: 100%;\n}\n\n.FCConvoPinnedMessage__pinIcon {\n  padding: 0;\n  margin: 0;\n  margin-right: 12px;\n  text-decoration: none;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  flex: 0 0 auto;\n  width: 20px;\n  height: 20px;\n  color: var(--icon_outline_secondary);\n}\n\n.FCConvoPinnedMessage__info {\n  display: flex;\n  font: 500 13px / 13px var(--font);\n  letter-spacing: 0.005em;\n  color: var(--text_tertiary);\n  flex-direction: column;\n  justify-content: center;\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n.FCConvoPinnedMessage__info--unpin {\n  margin: 0;\n  flex-direction: row;\n  white-space: nowrap;\n}\n\n.FCConvoPinnedMessage__title {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  height: 16px;\n}\n\n.FCConvoPinnedMessage__authorLink {\n  color: var(--text_link);\n  text-decoration: none;\n  cursor: pointer;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n.FCConvoPinnedMessage__authorLink:hover {\n  text-decoration: underline;\n}\n\n.FCConvoPinnedMessage__messageDate {\n  margin-left: 4px;\n  white-space: nowrap;\n}\n\n.FCConvoPinnedMessage__message {\n  color: var(--text_primary);\n  font: 13px / 16px var(--font);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  height: 16px;\n}\n\n.FCConvoPinnedMessage__hideButton {\n  height: 21.5px;\n  width: 21.5px;\n  flex: 0 0 auto;\n  margin-left: 12px;\n}\n\n.FCConvoPinnedMessage__unpinButton {\n  color: var(--text_link);\n  text-decoration: none;\n  cursor: pointer;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  border: none;\n  background: transparent;\n  line-height: 13px;\n}\n.FCConvoPinnedMessage__hideButton--unpin {\n  margin-left: 0;\n}\n\n.FCConvoPinnedMessage__unpinButton:hover {\n  text-decoration: underline;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCConvoPinnedMessage/FCConvoPinnedMessage.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,8BAA8B;EAC9B,UAAU;EACV,2CAA2C;EAC3C,iBAAiB;EACjB,mDAAmD;AACrD;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,cAAc;EACd,eAAe;AACjB;;AAEA;EACE,UAAU;EACV,SAAS;EACT,kBAAkB;EAClB,qBAAqB;EACrB,oBAAoB;EACpB,uBAAuB;EACvB,mBAAmB;EACnB,cAAc;EACd,WAAW;EACX,YAAY;EACZ,oCAAoC;AACtC;;AAEA;EACE,aAAa;EACb,iCAAiC;EACjC,uBAAuB;EACvB,2BAA2B;EAC3B,sBAAsB;EACtB,uBAAuB;EACvB,cAAc;EACd,gBAAgB;AAClB;;AAEA;EACE,SAAS;EACT,mBAAmB;EACnB,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,2BAA2B;EAC3B,mBAAmB;EACnB,YAAY;AACd;;AAEA;EACE,uBAAuB;EACvB,qBAAqB;EACrB,eAAe;EACf,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,gBAAgB;EAChB,mBAAmB;AACrB;;AAEA;EACE,0BAA0B;EAC1B,6BAA6B;EAC7B,gBAAgB;EAChB,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;AACd;;AAEA;EACE,cAAc;EACd,aAAa;EACb,cAAc;EACd,iBAAiB;AACnB;;AAEA;EACE,uBAAuB;EACvB,qBAAqB;EACrB,eAAe;EACf,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;EACvB,YAAY;EACZ,uBAAuB;EACvB,iBAAiB;AACnB;AACA;EACE,cAAc;AAChB;;AAEA;EACE,0BAA0B;AAC5B",sourcesContent:[".FCConvoPinnedMessage {\n  width: 100%;\n  height: 48px;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  z-index: 2;\n  background-color: var(--background_content);\n  padding: 8px 12px;\n  border-bottom: 1px solid var(--separator_alternate);\n}\n\n.FCConvoPinnedMessage__content {\n  display: flex;\n  align-items: center;\n  flex: 1 1 auto;\n  max-width: 100%;\n}\n\n.FCConvoPinnedMessage__pinIcon {\n  padding: 0;\n  margin: 0;\n  margin-right: 12px;\n  text-decoration: none;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  flex: 0 0 auto;\n  width: 20px;\n  height: 20px;\n  color: var(--icon_outline_secondary);\n}\n\n.FCConvoPinnedMessage__info {\n  display: flex;\n  font: 500 13px / 13px var(--font);\n  letter-spacing: 0.005em;\n  color: var(--text_tertiary);\n  flex-direction: column;\n  justify-content: center;\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n.FCConvoPinnedMessage__info--unpin {\n  margin: 0;\n  flex-direction: row;\n  white-space: nowrap;\n}\n\n.FCConvoPinnedMessage__title {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  height: 16px;\n}\n\n.FCConvoPinnedMessage__authorLink {\n  color: var(--text_link);\n  text-decoration: none;\n  cursor: pointer;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n.FCConvoPinnedMessage__authorLink:hover {\n  text-decoration: underline;\n}\n\n.FCConvoPinnedMessage__messageDate {\n  margin-left: 4px;\n  white-space: nowrap;\n}\n\n.FCConvoPinnedMessage__message {\n  color: var(--text_primary);\n  font: 13px / 16px var(--font);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  height: 16px;\n}\n\n.FCConvoPinnedMessage__hideButton {\n  height: 21.5px;\n  width: 21.5px;\n  flex: 0 0 auto;\n  margin-left: 12px;\n}\n\n.FCConvoPinnedMessage__unpinButton {\n  color: var(--text_link);\n  text-decoration: none;\n  cursor: pointer;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  border: none;\n  background: transparent;\n  line-height: 13px;\n}\n.FCConvoPinnedMessage__hideButton--unpin {\n  margin-left: 0;\n}\n\n.FCConvoPinnedMessage__unpinButton:hover {\n  text-decoration: underline;\n}\n"],sourceRoot:""}]);const s=a},1626:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCConvoPrivacyStub {\n  display: flex;\n  width: 100%;\n  padding: 14px;\n  justify-content: center;\n  align-items: center;\n}\n\n.FCConvoPrivacyStub__icon {\n  color: #ffa000; /* @TODO: correct token */\n  margin-right: 10px;\n}\n\n.FCConvoPrivacyStub__message {\n  font-weight: normal;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCConvoPrivacyStub/FCConvoPrivacyStub.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,WAAW;EACX,aAAa;EACb,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,cAAc,EAAE,yBAAyB;EACzC,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB",sourcesContent:[".FCConvoPrivacyStub {\n  display: flex;\n  width: 100%;\n  padding: 14px;\n  justify-content: center;\n  align-items: center;\n}\n\n.FCConvoPrivacyStub__icon {\n  color: #ffa000; /* @TODO: correct token */\n  margin-right: 10px;\n}\n\n.FCConvoPrivacyStub__message {\n  font-weight: normal;\n}\n"],sourceRoot:""}]);const s=a},6529:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCIconButton {\n  border: 0;\n  background: none;\n  padding: 0;\n  margin: 0;\n  text-decoration: none;\n  cursor: pointer;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  color: var(--icon_medium);\n  opacity: 0.72;\n  transition: color 0.14s ease;\n}\n\n.FCIconButton:hover,\n.FCIconButton:focus {\n  opacity: 1;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCIconButton/FCIconButton.css"],names:[],mappings:"AAAA;EACE,SAAS;EACT,gBAAgB;EAChB,UAAU;EACV,SAAS;EACT,qBAAqB;EACrB,eAAe;EACf,oBAAoB;EACpB,uBAAuB;EACvB,mBAAmB;EACnB,WAAW;EACX,YAAY;EACZ,yBAAyB;EACzB,aAAa;EACb,4BAA4B;AAC9B;;AAEA;;EAEE,UAAU;AACZ",sourcesContent:[".FCIconButton {\n  border: 0;\n  background: none;\n  padding: 0;\n  margin: 0;\n  text-decoration: none;\n  cursor: pointer;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  color: var(--icon_medium);\n  opacity: 0.72;\n  transition: color 0.14s ease;\n}\n\n.FCIconButton:hover,\n.FCIconButton:focus {\n  opacity: 1;\n}\n"],sourceRoot:""}]);const s=a},1198:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCPanel {\n  --add-height: 36px;\n  --collapse-hover-delay: 0.15s;\n  --collapse-duration: 0.24s;\n  position: fixed;\n  right: 26px;\n  bottom: 0;\n  width: 52px;\n  z-index: 0; /* anchor for the stack */\n}\n\n.FCPanel__widthToggle {\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  background: none;\n  border: 0;\n  position: absolute;\n  bottom: 100%;\n  right: 0;\n  cursor: pointer;\n  opacity: 0.7;\n  transition: opacity 0.2s ease;\n  z-index: 1; /* overrides collapse force field */\n}\n\n.FCPanel__widthToggleIcon {\n  width: 20px;\n  height: 20px;\n  fill: var(--icon_outline_secondary);\n  animation-name: meFCEWidthToggle;\n  animation-iteration-count: 1;\n  animation-duration: 0.3s;\n  animation-fill-mode: backwards;\n  animation-direction: reverse;\n}\n\n/* перезапускает анимацию */\n.FCPanel__widthToggle:active .FCPanel__widthToggleIcon {\n  animation-name: none;\n}\n\n.FCPanel__widthToggle:hover,\n.FCPanel__widthToggle:focus {\n  opacity: 1;\n}\n\n.FCPanel__widthToggle:focus {\n  outline: none;\n}\n\n.FCPanel__list {\n  background: var(--background_content);\n  box-shadow: 0 0 0 1px var(--separator_alternate);\n  border-radius: 8px 8px 0 0;\n  padding-bottom: var(--add-height);\n  transform: translateY(0);\n  transition: transform var(--collapse-duration) ease-in;\n}\n\n.FCPanel__add {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: var(--add-height);\n  background: var(--background_content);\n  border: 0;\n  position: absolute;\n  bottom: 0;\n  outline: none;\n  color: var(--icon_outline_medium);\n  cursor: pointer;\n  z-index: 0;\n}\n\n/* используем вместо непрозрачной заливки */\n.FCPanel__add::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border-radius: inherit;\n  background: transparent;\n  transition: background 0.2s ease, opacity 0.2s;\n  z-index: -1;\n}\n\n.FCPanel__add:hover::before,\n.FCPanel__add:focus::before {\n  background: var(--background_hover);\n}\n\n.FCPanel__list:empty + .FCPanel__add {\n  border-radius: 8px 8px 0 0;\n}\n\n.FCPanel__addIcon {\n  opacity: 0.7;\n  animation-name: meFCListOpenToggle;\n  animation-duration: 0.16s;\n  animation-iteration-count: 1;\n}\n\n.FCPanel__add:hover .FCPanel__addIcon,\n.FCPanel__add:focus .FCPanel__addIcon {\n  opacity: 1;\n}\n\n.FCPanel__add {\n  font-family: inherit;\n}\n\n.FCPanel__addText {\n  font-size: 12.5px;\n  line-height: 16px;\n  color: var(--text_secondary);\n}\n\n/* Режим открытого списка */\n/* перезапускает анимацию */\n.FCPanel__add:active .FCPanel__addIcon {\n  animation-name: none;\n  transform: scale(0.7);\n  opacity: 0.15;\n  transition-duration: 0.1s;\n}\n\n@keyframes meFCListOpenToggle {\n  0% {\n    transform: scale(0.7);\n    opacity: 0.15;\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n/* Развернутый режим */\n.FCPanel--wide {\n  width: 148px;\n}\n\n.FCPanel--wide .FCPanel__widthToggleIcon {\n  animation-fill-mode: forwards;\n  animation-direction: normal;\n  transform: scaleX(-1) translateX(0);\n}\n\n.FCPanel--wide .FCPanel__add {\n  justify-content: flex-start;\n}\n\n.FCPanel--wide .FCPanel__addIcon {\n  margin: 0 10px 0 18px;\n}\n\n@keyframes meFCEWidthToggle {\n  0% {\n    transform: scaleX(1) translateX(0);\n  }\n  50% {\n    transform: scaleX(1) translateX(-12px);\n    opacity: 0.1;\n  }\n  50.1% {\n    transform: scaleX(-1) translateX(-12px);\n    opacity: 0.1;\n  }\n  100% {\n    transform: scaleX(-1) translateX(0);\n  }\n}\n\n/* Свернутый режим */\n.FCPanel--collapsed {\n  pointer-events: none;\n}\n\n/* Вручную управляем интерактивными областями в свернутом режиме,\n * так как трансформ оставляет родителя на месте */\n.FCPanel--collapsed .FCPanel__widthToggle,\n.FCPanel--collapsed .FCPanel__list,\n.FCPanel--collapsed .FCPanel__add {\n  pointer-events: auto;\n}\n\n/* Сворачиваем башню */\n.FCPanel--collapsed .FCPanel__list {\n  transform: translateY(calc(100% - var(--add-height)));\n  transition-timing-function: ease-out;\n}\n\n/* Дополнительный задел высотой в один элемент,\n * ловит ховер на список и предотвращает сворачивание панельки\n * при удалении первого элемента списка в свернутом режиме\n */\n.FCPanel--collapsed .FCPanel__list::before {\n  position: absolute;\n  bottom: 100%;\n  width: 100%;\n  padding-top: 100%; /* считаем, что элемент списка квадратный */\n  z-index: -1;\n}\n\n.FCPanel--collapsed .FCPanel__list:hover::before {\n  content: '';\n}\n\n/* Тьюнинг задержки скругления уголков на разворачивании */\n.FCPanel--collapsed .FCPanel__add {\n  transition: border-radius 0s ease calc(var(--collapse-hover-delay) + 0.01s);\n}\n\n/* Тьюнинг задержки скругления уголков на сворачивании */\n.FCPanel--collapsed:not(:hover) .FCPanel__add {\n  border-radius: 8px 8px 0 0;\n  transition-delay: 0.05s;\n}\n\n/* Разворачиваем по ховеру, но с небольшой защитой от проведения мимо */\n.FCPanel--collapsed:hover .FCPanel__list {\n  transform: translateY(0);\n  transition-delay: var(--collapse-hover-delay);\n}\n\n/* Показываем экспандер после анимации башни */\n.FCPanel--collapsed:hover .FCPanel__widthToggle {\n  transition-delay: calc(\n    var(--collapse-hover-delay) + var(--collapse-duration)\n  );\n}\n\n/* Прячем экспандер перед башней */\n.FCPanel--collapsed:not(:hover) .FCPanel__widthToggle {\n  opacity: 0;\n  pointer-events: none;\n  transition-delay: 0s;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCPanel/FCPanel.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,6BAA6B;EAC7B,0BAA0B;EAC1B,eAAe;EACf,WAAW;EACX,SAAS;EACT,WAAW;EACX,UAAU,EAAE,yBAAyB;AACvC;;AAEA;EACE,aAAa;EACb,yBAAyB;EACzB,mBAAmB;EACnB,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,SAAS;EACT,kBAAkB;EAClB,YAAY;EACZ,QAAQ;EACR,eAAe;EACf,YAAY;EACZ,6BAA6B;EAC7B,UAAU,EAAE,mCAAmC;AACjD;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,mCAAmC;EACnC,gCAAgC;EAChC,4BAA4B;EAC5B,wBAAwB;EACxB,8BAA8B;EAC9B,4BAA4B;AAC9B;;AAEA,2BAA2B;AAC3B;EACE,oBAAoB;AACtB;;AAEA;;EAEE,UAAU;AACZ;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,qCAAqC;EACrC,gDAAgD;EAChD,0BAA0B;EAC1B,iCAAiC;EACjC,wBAAwB;EACxB,sDAAsD;AACxD;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,yBAAyB;EACzB,qCAAqC;EACrC,SAAS;EACT,kBAAkB;EAClB,SAAS;EACT,aAAa;EACb,iCAAiC;EACjC,eAAe;EACf,UAAU;AACZ;;AAEA,2CAA2C;AAC3C;EACE,WAAW;EACX,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP,sBAAsB;EACtB,uBAAuB;EACvB,8CAA8C;EAC9C,WAAW;AACb;;AAEA;;EAEE,mCAAmC;AACrC;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,YAAY;EACZ,kCAAkC;EAClC,yBAAyB;EACzB,4BAA4B;AAC9B;;AAEA;;EAEE,UAAU;AACZ;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,iBAAiB;EACjB,iBAAiB;EACjB,4BAA4B;AAC9B;;AAEA,2BAA2B;AAC3B,2BAA2B;AAC3B;EACE,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,yBAAyB;AAC3B;;AAEA;EACE;IACE,qBAAqB;IACrB,aAAa;EACf;EACA;IACE,mBAAmB;EACrB;AACF;;AAEA,sBAAsB;AACtB;EACE,YAAY;AACd;;AAEA;EACE,6BAA6B;EAC7B,2BAA2B;EAC3B,mCAAmC;AACrC;;AAEA;EACE,2BAA2B;AAC7B;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE;IACE,kCAAkC;EACpC;EACA;IACE,sCAAsC;IACtC,YAAY;EACd;EACA;IACE,uCAAuC;IACvC,YAAY;EACd;EACA;IACE,mCAAmC;EACrC;AACF;;AAEA,oBAAoB;AACpB;EACE,oBAAoB;AACtB;;AAEA;kDACkD;AAClD;;;EAGE,oBAAoB;AACtB;;AAEA,sBAAsB;AACtB;EACE,qDAAqD;EACrD,oCAAoC;AACtC;;AAEA;;;EAGE;AACF;EACE,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,iBAAiB,EAAE,2CAA2C;EAC9D,WAAW;AACb;;AAEA;EACE,WAAW;AACb;;AAEA,0DAA0D;AAC1D;EACE,2EAA2E;AAC7E;;AAEA,wDAAwD;AACxD;EACE,0BAA0B;EAC1B,uBAAuB;AACzB;;AAEA,uEAAuE;AACvE;EACE,wBAAwB;EACxB,6CAA6C;AAC/C;;AAEA,8CAA8C;AAC9C;EACE;;GAEC;AACH;;AAEA,kCAAkC;AAClC;EACE,UAAU;EACV,oBAAoB;EACpB,oBAAoB;AACtB",sourcesContent:[".FCPanel {\n  --add-height: 36px;\n  --collapse-hover-delay: 0.15s;\n  --collapse-duration: 0.24s;\n  position: fixed;\n  right: 26px;\n  bottom: 0;\n  width: 52px;\n  z-index: 0; /* anchor for the stack */\n}\n\n.FCPanel__widthToggle {\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  background: none;\n  border: 0;\n  position: absolute;\n  bottom: 100%;\n  right: 0;\n  cursor: pointer;\n  opacity: 0.7;\n  transition: opacity 0.2s ease;\n  z-index: 1; /* overrides collapse force field */\n}\n\n.FCPanel__widthToggleIcon {\n  width: 20px;\n  height: 20px;\n  fill: var(--icon_outline_secondary);\n  animation-name: meFCEWidthToggle;\n  animation-iteration-count: 1;\n  animation-duration: 0.3s;\n  animation-fill-mode: backwards;\n  animation-direction: reverse;\n}\n\n/* перезапускает анимацию */\n.FCPanel__widthToggle:active .FCPanel__widthToggleIcon {\n  animation-name: none;\n}\n\n.FCPanel__widthToggle:hover,\n.FCPanel__widthToggle:focus {\n  opacity: 1;\n}\n\n.FCPanel__widthToggle:focus {\n  outline: none;\n}\n\n.FCPanel__list {\n  background: var(--background_content);\n  box-shadow: 0 0 0 1px var(--separator_alternate);\n  border-radius: 8px 8px 0 0;\n  padding-bottom: var(--add-height);\n  transform: translateY(0);\n  transition: transform var(--collapse-duration) ease-in;\n}\n\n.FCPanel__add {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: var(--add-height);\n  background: var(--background_content);\n  border: 0;\n  position: absolute;\n  bottom: 0;\n  outline: none;\n  color: var(--icon_outline_medium);\n  cursor: pointer;\n  z-index: 0;\n}\n\n/* используем вместо непрозрачной заливки */\n.FCPanel__add::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border-radius: inherit;\n  background: transparent;\n  transition: background 0.2s ease, opacity 0.2s;\n  z-index: -1;\n}\n\n.FCPanel__add:hover::before,\n.FCPanel__add:focus::before {\n  background: var(--background_hover);\n}\n\n.FCPanel__list:empty + .FCPanel__add {\n  border-radius: 8px 8px 0 0;\n}\n\n.FCPanel__addIcon {\n  opacity: 0.7;\n  animation-name: meFCListOpenToggle;\n  animation-duration: 0.16s;\n  animation-iteration-count: 1;\n}\n\n.FCPanel__add:hover .FCPanel__addIcon,\n.FCPanel__add:focus .FCPanel__addIcon {\n  opacity: 1;\n}\n\n.FCPanel__add {\n  font-family: inherit;\n}\n\n.FCPanel__addText {\n  font-size: 12.5px;\n  line-height: 16px;\n  color: var(--text_secondary);\n}\n\n/* Режим открытого списка */\n/* перезапускает анимацию */\n.FCPanel__add:active .FCPanel__addIcon {\n  animation-name: none;\n  transform: scale(0.7);\n  opacity: 0.15;\n  transition-duration: 0.1s;\n}\n\n@keyframes meFCListOpenToggle {\n  0% {\n    transform: scale(0.7);\n    opacity: 0.15;\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n/* Развернутый режим */\n.FCPanel--wide {\n  width: 148px;\n}\n\n.FCPanel--wide .FCPanel__widthToggleIcon {\n  animation-fill-mode: forwards;\n  animation-direction: normal;\n  transform: scaleX(-1) translateX(0);\n}\n\n.FCPanel--wide .FCPanel__add {\n  justify-content: flex-start;\n}\n\n.FCPanel--wide .FCPanel__addIcon {\n  margin: 0 10px 0 18px;\n}\n\n@keyframes meFCEWidthToggle {\n  0% {\n    transform: scaleX(1) translateX(0);\n  }\n  50% {\n    transform: scaleX(1) translateX(-12px);\n    opacity: 0.1;\n  }\n  50.1% {\n    transform: scaleX(-1) translateX(-12px);\n    opacity: 0.1;\n  }\n  100% {\n    transform: scaleX(-1) translateX(0);\n  }\n}\n\n/* Свернутый режим */\n.FCPanel--collapsed {\n  pointer-events: none;\n}\n\n/* Вручную управляем интерактивными областями в свернутом режиме,\n * так как трансформ оставляет родителя на месте */\n.FCPanel--collapsed .FCPanel__widthToggle,\n.FCPanel--collapsed .FCPanel__list,\n.FCPanel--collapsed .FCPanel__add {\n  pointer-events: auto;\n}\n\n/* Сворачиваем башню */\n.FCPanel--collapsed .FCPanel__list {\n  transform: translateY(calc(100% - var(--add-height)));\n  transition-timing-function: ease-out;\n}\n\n/* Дополнительный задел высотой в один элемент,\n * ловит ховер на список и предотвращает сворачивание панельки\n * при удалении первого элемента списка в свернутом режиме\n */\n.FCPanel--collapsed .FCPanel__list::before {\n  position: absolute;\n  bottom: 100%;\n  width: 100%;\n  padding-top: 100%; /* считаем, что элемент списка квадратный */\n  z-index: -1;\n}\n\n.FCPanel--collapsed .FCPanel__list:hover::before {\n  content: '';\n}\n\n/* Тьюнинг задержки скругления уголков на разворачивании */\n.FCPanel--collapsed .FCPanel__add {\n  transition: border-radius 0s ease calc(var(--collapse-hover-delay) + 0.01s);\n}\n\n/* Тьюнинг задержки скругления уголков на сворачивании */\n.FCPanel--collapsed:not(:hover) .FCPanel__add {\n  border-radius: 8px 8px 0 0;\n  transition-delay: 0.05s;\n}\n\n/* Разворачиваем по ховеру, но с небольшой защитой от проведения мимо */\n.FCPanel--collapsed:hover .FCPanel__list {\n  transform: translateY(0);\n  transition-delay: var(--collapse-hover-delay);\n}\n\n/* Показываем экспандер после анимации башни */\n.FCPanel--collapsed:hover .FCPanel__widthToggle {\n  transition-delay: calc(\n    var(--collapse-hover-delay) + var(--collapse-duration)\n  );\n}\n\n/* Прячем экспандер перед башней */\n.FCPanel--collapsed:not(:hover) .FCPanel__widthToggle {\n  opacity: 0;\n  pointer-events: none;\n  transition-delay: 0s;\n}\n"],sourceRoot:""}]);const s=a},1121:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCSearch {\n  position: relative;\n  width: 100%;\n  color: var(--icon_outline_secondary);\n}\n\n.FCSearch__icon {\n  position: absolute;\n  top: 50%;\n  left: 11px;\n  margin-top: -8px;\n  pointer-events: none;\n}\n\n.FCSearch__input {\n  display: block;\n  width: 100%;\n  border: 0;\n  background: transparent;\n  font: 15px/20px var(--font);\n  padding: 12px 34px;\n  outline: none;\n  color: var(--text_primary);\n}\n\n.FCSearch__input::placeholder {\n  color: var(--text_tertiary);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCSearch/FCSearch.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,WAAW;EACX,oCAAoC;AACtC;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,UAAU;EACV,gBAAgB;EAChB,oBAAoB;AACtB;;AAEA;EACE,cAAc;EACd,WAAW;EACX,SAAS;EACT,uBAAuB;EACvB,2BAA2B;EAC3B,kBAAkB;EAClB,aAAa;EACb,0BAA0B;AAC5B;;AAEA;EACE,2BAA2B;AAC7B",sourcesContent:[".FCSearch {\n  position: relative;\n  width: 100%;\n  color: var(--icon_outline_secondary);\n}\n\n.FCSearch__icon {\n  position: absolute;\n  top: 50%;\n  left: 11px;\n  margin-top: -8px;\n  pointer-events: none;\n}\n\n.FCSearch__input {\n  display: block;\n  width: 100%;\n  border: 0;\n  background: transparent;\n  font: 15px/20px var(--font);\n  padding: 12px 34px;\n  outline: none;\n  color: var(--text_primary);\n}\n\n.FCSearch__input::placeholder {\n  color: var(--text_tertiary);\n}\n"],sourceRoot:""}]);const s=a},5419:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCThumb {\n  --fc-convo-item-bg: var(--background_content);\n  position: relative;\n  background: var(--fc-convo-item-bg);\n  transition: background 0.2s ease;\n}\n\n.FCThumb:focus,\n.FCThumb:hover {\n  --fc-convo-item-bg: var(--background_hover);\n}\n\n.FCThumb.FCThumb--selected {\n  --fc-convo-item-bg: var(--background_highlighted);\n}\n\n.FCThumb:first-child {\n  border-radius: 8px 8px 0 0;\n}\n\n.FCThumb__link,\n.FCThumb__link:hover {\n  display: flex;\n  padding: 6px;\n  cursor: pointer;\n  text-decoration: none;\n  font-size: 13px;\n  line-height: 16px;\n}\n\n.FCThumb__unread {\n  position: absolute;\n  top: 5px;\n  left: 5px;\n  z-index: 1;\n  background: var(--counter_prominent_background);\n  color: var(--counter_prominent_text);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);\n  text-align: center;\n  padding: 2px 4px;\n  border-radius: 9px;\n  /* В макете нет семиболда + кегль 12px, поправить при переходе на VK Sans */\n  font: 500 11px/14px var(--font);\n  min-width: 18px;\n  min-height: 18px;\n}\n\n.FCThumb--muted .FCThumb__unread {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.FCThumb__title {\n  margin-left: 8px;\n}\n\n.FCThumb__close {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  background: transparent;\n  outline: none;\n  border: 0;\n  opacity: 0;\n  z-index: 1;\n}\n\n.FCThumb:hover .FCThumb__close {\n  opacity: 1;\n}\n\n.FCThumb--collapsed .FCThumb__close {\n  width: 18px;\n  height: 18px;\n  position: absolute;\n  top: 5px;\n  right: 4px;\n  color: var(--counter_prominent_text); /* @TODO: correct token */\n  background: rgba(0, 0, 0, 0.56); /* @TODO: correct token */\n  border-radius: 50%;\n  transition: opacity 0.14s ease, background 0.14s ease;\n}\n\n.FCThumb--collapsed .FCThumb__close::before {\n  content: '';\n  position: absolute;\n  top: -5px;\n  right: -4px;\n  bottom: 0;\n  left: 0;\n  max-width: initial; /* @TODO discuss global override */\n}\n\n.FCThumb--collapsed .FCThumb__close:hover {\n  background: rgba(0, 0, 0, 0.7);\n}\n\n.FCThumb--wide .FCThumb__close {\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 8px;\n  top: 16px;\n  background: var(--background_content) /* красим подложку */;\n  color: var(--icon_secondary);\n  box-shadow: -7px 0 10px 8px var(--fc-convo-item-bg) /* красим затенение */,\n    -7px 0 10px 8px var(--background_content) /* красим затенение */,\n    inset 0 0 0 20px var(--fc-convo-item-bg) /* красим подложку */;\n  transition: opacity 0.14s ease, box-shadow 0.2s ease;\n}\n\n.FCThumb--wide .FCThumb__close > * {\n  opacity: 0.7;\n  transition: opacity 0.14s ease;\n}\n\n.FCThumb--wide .FCThumb__close:hover > * {\n  opacity: 1;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCThumb/FCThumb.css"],names:[],mappings:"AAAA;EACE,6CAA6C;EAC7C,kBAAkB;EAClB,mCAAmC;EACnC,gCAAgC;AAClC;;AAEA;;EAEE,2CAA2C;AAC7C;;AAEA;EACE,iDAAiD;AACnD;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;;EAEE,aAAa;EACb,YAAY;EACZ,eAAe;EACf,qBAAqB;EACrB,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,UAAU;EACV,+CAA+C;EAC/C,oCAAoC;EACpC,yCAAyC;EACzC,kBAAkB;EAClB,gBAAgB;EAChB,kBAAkB;EAClB,2EAA2E;EAC3E,+BAA+B;EAC/B,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,+CAA+C;EAC/C,oCAAoC;AACtC;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,eAAe;EACf,uBAAuB;EACvB,aAAa;EACb,SAAS;EACT,UAAU;EACV,UAAU;AACZ;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,QAAQ;EACR,UAAU;EACV,oCAAoC,EAAE,yBAAyB;EAC/D,+BAA+B,EAAE,yBAAyB;EAC1D,kBAAkB;EAClB,qDAAqD;AACvD;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,SAAS;EACT,WAAW;EACX,SAAS;EACT,OAAO;EACP,kBAAkB,EAAE,kCAAkC;AACxD;;AAEA;EACE,8BAA8B;AAChC;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,UAAU;EACV,SAAS;EACT,2DAA2D;EAC3D,4BAA4B;EAC5B;;kEAEgE;EAChE,oDAAoD;AACtD;;AAEA;EACE,YAAY;EACZ,8BAA8B;AAChC;;AAEA;EACE,UAAU;AACZ",sourcesContent:[".FCThumb {\n  --fc-convo-item-bg: var(--background_content);\n  position: relative;\n  background: var(--fc-convo-item-bg);\n  transition: background 0.2s ease;\n}\n\n.FCThumb:focus,\n.FCThumb:hover {\n  --fc-convo-item-bg: var(--background_hover);\n}\n\n.FCThumb.FCThumb--selected {\n  --fc-convo-item-bg: var(--background_highlighted);\n}\n\n.FCThumb:first-child {\n  border-radius: 8px 8px 0 0;\n}\n\n.FCThumb__link,\n.FCThumb__link:hover {\n  display: flex;\n  padding: 6px;\n  cursor: pointer;\n  text-decoration: none;\n  font-size: 13px;\n  line-height: 16px;\n}\n\n.FCThumb__unread {\n  position: absolute;\n  top: 5px;\n  left: 5px;\n  z-index: 1;\n  background: var(--counter_prominent_background);\n  color: var(--counter_prominent_text);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);\n  text-align: center;\n  padding: 2px 4px;\n  border-radius: 9px;\n  /* В макете нет семиболда + кегль 12px, поправить при переходе на VK Sans */\n  font: 500 11px/14px var(--font);\n  min-width: 18px;\n  min-height: 18px;\n}\n\n.FCThumb--muted .FCThumb__unread {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.FCThumb__title {\n  margin-left: 8px;\n}\n\n.FCThumb__close {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  background: transparent;\n  outline: none;\n  border: 0;\n  opacity: 0;\n  z-index: 1;\n}\n\n.FCThumb:hover .FCThumb__close {\n  opacity: 1;\n}\n\n.FCThumb--collapsed .FCThumb__close {\n  width: 18px;\n  height: 18px;\n  position: absolute;\n  top: 5px;\n  right: 4px;\n  color: var(--counter_prominent_text); /* @TODO: correct token */\n  background: rgba(0, 0, 0, 0.56); /* @TODO: correct token */\n  border-radius: 50%;\n  transition: opacity 0.14s ease, background 0.14s ease;\n}\n\n.FCThumb--collapsed .FCThumb__close::before {\n  content: '';\n  position: absolute;\n  top: -5px;\n  right: -4px;\n  bottom: 0;\n  left: 0;\n  max-width: initial; /* @TODO discuss global override */\n}\n\n.FCThumb--collapsed .FCThumb__close:hover {\n  background: rgba(0, 0, 0, 0.7);\n}\n\n.FCThumb--wide .FCThumb__close {\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 8px;\n  top: 16px;\n  background: var(--background_content) /* красим подложку */;\n  color: var(--icon_secondary);\n  box-shadow: -7px 0 10px 8px var(--fc-convo-item-bg) /* красим затенение */,\n    -7px 0 10px 8px var(--background_content) /* красим затенение */,\n    inset 0 0 0 20px var(--fc-convo-item-bg) /* красим подложку */;\n  transition: opacity 0.14s ease, box-shadow 0.2s ease;\n}\n\n.FCThumb--wide .FCThumb__close > * {\n  opacity: 0.7;\n  transition: opacity 0.14s ease;\n}\n\n.FCThumb--wide .FCThumb__close:hover > * {\n  opacity: 1;\n}\n"],sourceRoot:""}]);const s=a},4090:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCWindow {\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  background: var(--background_content);\n  box-shadow: 0 1px 0 var(--separator_alternate),\n    0 0 0 1px var(--separator_alternate), 0 0 2px rgba(0, 0, 0, 0.08),\n    0 8px 24px rgba(0, 0, 0, 0.08);\n  border-radius: 8px 8px 0 0;\n  min-height: 120px;\n  display: flex;\n  flex-direction: column;\n  animation: FCWindow__in 0.2s ease;\n}\n\n.FCWindow--blocked::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  border-radius: inherit;\n  background: transparent;\n}\n\n.FCWindow--active {\n  z-index: 1;\n}\n\n.FCWindow__header {\n  display: flex;\n  align-items: center;\n  height: 44px;\n  border-bottom: 1px solid var(--separator_alternate);\n  border-radius: 8px 8px 0 0;\n  flex: 0 0 44px;\n}\n\n/**\n * Повышаем специфичность, чтобы перебить 011 ([dir] h1) в vkcom\n */\n.FCWindow__title.FCWindow__title {\n  margin: 0;\n  padding: 10px;\n  flex: 1 1 auto;\n  font: 500 13px/16px var(--font);\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  cursor: grab;\n  user-select: none;\n  color: var(--text_primary);\n}\n\n.FCWindow--dragging .FCWindow__title {\n  cursor: grabbing;\n}\n\n.FCWindow__actions {\n  flex: 0 0 auto;\n  padding-right: 6px;\n}\n\n/* change to gap when we drop safari < 14 support */\n.FCWindow__actions > :nth-child(n + 2) {\n  margin-left: 4px;\n}\n\n.FCWindow__content {\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  overflow: auto;\n  overscroll-behavior: none;\n}\n\n.FCWindow__footer {\n  flex-shrink: 0;\n  position: relative;\n  display: flex;\n  align-items: center;\n  border-top: 1px solid var(--separator_alternate);\n}\n\n@keyframes FCWindow__in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCWindow/FCWindow.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,QAAQ;EACR,SAAS;EACT,qCAAqC;EACrC;;kCAEgC;EAChC,0BAA0B;EAC1B,iBAAiB;EACjB,aAAa;EACb,sBAAsB;EACtB,iCAAiC;AACnC;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,MAAM;EACN,SAAS;EACT,OAAO;EACP,QAAQ;EACR,sBAAsB;EACtB,uBAAuB;AACzB;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,YAAY;EACZ,mDAAmD;EACnD,0BAA0B;EAC1B,cAAc;AAChB;;AAEA;;EAEE;AACF;EACE,SAAS;EACT,aAAa;EACb,cAAc;EACd,+BAA+B;EAC/B,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;EACvB,YAAY;EACZ,iBAAiB;EACjB,0BAA0B;AAC5B;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,cAAc;EACd,kBAAkB;AACpB;;AAEA,mDAAmD;AACnD;EACE,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,cAAc;EACd,cAAc;EACd,yBAAyB;AAC3B;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,gDAAgD;AAClD;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF",sourcesContent:[".FCWindow {\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  background: var(--background_content);\n  box-shadow: 0 1px 0 var(--separator_alternate),\n    0 0 0 1px var(--separator_alternate), 0 0 2px rgba(0, 0, 0, 0.08),\n    0 8px 24px rgba(0, 0, 0, 0.08);\n  border-radius: 8px 8px 0 0;\n  min-height: 120px;\n  display: flex;\n  flex-direction: column;\n  animation: FCWindow__in 0.2s ease;\n}\n\n.FCWindow--blocked::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  border-radius: inherit;\n  background: transparent;\n}\n\n.FCWindow--active {\n  z-index: 1;\n}\n\n.FCWindow__header {\n  display: flex;\n  align-items: center;\n  height: 44px;\n  border-bottom: 1px solid var(--separator_alternate);\n  border-radius: 8px 8px 0 0;\n  flex: 0 0 44px;\n}\n\n/**\n * Повышаем специфичность, чтобы перебить 011 ([dir] h1) в vkcom\n */\n.FCWindow__title.FCWindow__title {\n  margin: 0;\n  padding: 10px;\n  flex: 1 1 auto;\n  font: 500 13px/16px var(--font);\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  cursor: grab;\n  user-select: none;\n  color: var(--text_primary);\n}\n\n.FCWindow--dragging .FCWindow__title {\n  cursor: grabbing;\n}\n\n.FCWindow__actions {\n  flex: 0 0 auto;\n  padding-right: 6px;\n}\n\n/* change to gap when we drop safari < 14 support */\n.FCWindow__actions > :nth-child(n + 2) {\n  margin-left: 4px;\n}\n\n.FCWindow__content {\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  overflow: auto;\n  overscroll-behavior: none;\n}\n\n.FCWindow__footer {\n  flex-shrink: 0;\n  position: relative;\n  display: flex;\n  align-items: center;\n  border-top: 1px solid var(--separator_alternate);\n}\n\n@keyframes FCWindow__in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n"],sourceRoot:""}]);const s=a},9027:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FavoritesAvatar {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: linear-gradient(91.54deg, #70b2ff, #5c9ce6);\n  border-radius: 50%;\n  color: #fff; /* @TODO: correct token */\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FavoritesAvatar/FavoritesAvatar.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,uDAAuD;EACvD,kBAAkB;EAClB,WAAW,EAAE,yBAAyB;AACxC",sourcesContent:[".FavoritesAvatar {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: linear-gradient(91.54deg, #70b2ff, #5c9ce6);\n  border-radius: 50%;\n  color: #fff; /* @TODO: correct token */\n}\n"],sourceRoot:""}]);const s=a},2019:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ForwardedMessage {\n  position: relative;\n  padding: 0 0 0 var(--messageHorizontalIndent);\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n}\n\n.ForwardedMessage:first-of-type {\n  margin-top: var(--messageVerticalIndent);\n}\n.ForwardedMessage + .ForwardedMessage {\n  padding-top: var(--messageHorizontalIndent);\n}\n\n.ForwardedMessage .ForwardedMessage {\n  margin-left: calc(-0.5 * var(--messageHorizontalIndent));\n}\n\n.ForwardedMessage::before {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  width: 2px;\n  content: '';\n  background: var(--im_forward_line_tint);\n  opacity: 0.24;\n}\n\n.ForwardedMessage:first-of-type::before {\n  border-radius: 1px 1px 0 0;\n}\n\n.ForwardedMessage:last-of-type::before {\n  border-radius: 0 0 1px 1px;\n}\n\n.ForwardedMessage__header {\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'avatar title'\n    'avatar date';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  margin: 0 0 calc(0.5 * var(--messageVerticalIndent));\n}\n\n.ForwardedMessage__avatar {\n  grid-area: avatar;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n}\n\n.ForwardedMessage__title {\n  color: var(--text_link);\n  grid-area: title;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.ForwardedMessage__titleLink {\n  color: var(--text_link);\n  font: 500 0.925em / calc(0.875 * var(--messageLineHeight)) var(--font);\n  text-decoration: none;\n}\n\n.ForwardedMessage__link,\n.ForwardedMessage__link:hover {\n  text-decoration: none;\n  color: var(--text_link);\n  cursor: pointer;\n}\n\n.ForwardedMessage__date {\n  grid-area: date;\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.ForwardedMessage__empty {\n  color: var(--text_secondary);\n}\n\n.ForwardedMessage__text:empty + .ForwardedMessage__attachments {\n  padding-top: calc(0.5 * var(--messageVerticalIndent));\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ForwardedMessage/ForwardedMessage.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,6CAA6C;EAC7C,mEAAmE;AACrE;;AAEA;EACE,wCAAwC;AAC1C;AACA;EACE,2CAA2C;AAC7C;;AAEA;EACE,wDAAwD;AAC1D;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,SAAS;EACT,OAAO;EACP,UAAU;EACV,WAAW;EACX,uCAAuC;EACvC,aAAa;AACf;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB;;iBAEe;EACf,oCAAoC;EACpC,2BAA2B;EAC3B,oDAAoD;AACtD;;AAEA;EACE,iBAAiB;EACjB,wDAAwD;AAC1D;;AAEA;EACE,uBAAuB;EACvB,gBAAgB;EAChB,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,uBAAuB;EACvB,sEAAsE;EACtE,qBAAqB;AACvB;;AAEA;;EAEE,qBAAqB;EACrB,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,eAAe;EACf,4BAA4B;EAC5B,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;EACE,qDAAqD;AACvD",sourcesContent:[".ForwardedMessage {\n  position: relative;\n  padding: 0 0 0 var(--messageHorizontalIndent);\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n}\n\n.ForwardedMessage:first-of-type {\n  margin-top: var(--messageVerticalIndent);\n}\n.ForwardedMessage + .ForwardedMessage {\n  padding-top: var(--messageHorizontalIndent);\n}\n\n.ForwardedMessage .ForwardedMessage {\n  margin-left: calc(-0.5 * var(--messageHorizontalIndent));\n}\n\n.ForwardedMessage::before {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  width: 2px;\n  content: '';\n  background: var(--im_forward_line_tint);\n  opacity: 0.24;\n}\n\n.ForwardedMessage:first-of-type::before {\n  border-radius: 1px 1px 0 0;\n}\n\n.ForwardedMessage:last-of-type::before {\n  border-radius: 0 0 1px 1px;\n}\n\n.ForwardedMessage__header {\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'avatar title'\n    'avatar date';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  margin: 0 0 calc(0.5 * var(--messageVerticalIndent));\n}\n\n.ForwardedMessage__avatar {\n  grid-area: avatar;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n}\n\n.ForwardedMessage__title {\n  color: var(--text_link);\n  grid-area: title;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.ForwardedMessage__titleLink {\n  color: var(--text_link);\n  font: 500 0.925em / calc(0.875 * var(--messageLineHeight)) var(--font);\n  text-decoration: none;\n}\n\n.ForwardedMessage__link,\n.ForwardedMessage__link:hover {\n  text-decoration: none;\n  color: var(--text_link);\n  cursor: pointer;\n}\n\n.ForwardedMessage__date {\n  grid-area: date;\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.ForwardedMessage__empty {\n  color: var(--text_secondary);\n}\n\n.ForwardedMessage__text:empty + .ForwardedMessage__attachments {\n  padding-top: calc(0.5 * var(--messageVerticalIndent));\n}\n"],sourceRoot:""}]);const s=a},2650:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".HorizontalScroll {\n  position: relative;\n  overflow: hidden;\n}\n\n.HorizontalScroll__in {\n  overflow-x: auto;\n  -webkit-overflow-scrolling: touch;\n  padding-bottom: 20px;\n  margin-bottom: -20px;\n}\n\n.HorizontalScroll__in::-webkit-scrollbar {\n  display: none;\n}\n\n.HorizontalScroll__in-wrapper {\n  transition: transform 0.2s;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/HorizontalScroll/HorizontalScroll.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,iCAAiC;EACjC,oBAAoB;EACpB,oBAAoB;AACtB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,0BAA0B;AAC5B",sourcesContent:[".HorizontalScroll {\n  position: relative;\n  overflow: hidden;\n}\n\n.HorizontalScroll__in {\n  overflow-x: auto;\n  -webkit-overflow-scrolling: touch;\n  padding-bottom: 20px;\n  margin-bottom: -20px;\n}\n\n.HorizontalScroll__in::-webkit-scrollbar {\n  display: none;\n}\n\n.HorizontalScroll__in-wrapper {\n  transition: transform 0.2s;\n}\n"],sourceRoot:""}]);const s=a},4672:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".HorizontalScroll__arrow {\n  position: absolute;\n  cursor: pointer;\n  user-select: auto;\n  top: 0;\n  height: 100%;\n  opacity: 0;\n  z-index: 3;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  transition: opacity 0.15s;\n}\n\n.HorizontalScroll--ios .HorizontalScroll__arrow,\n.Gallery--ios .HorizontalScroll__arrow {\n  transition-timing-function: var(--ios-easing);\n}\n\n.HorizontalScroll--android .HorizontalScroll__arrow,\n.HorizontalScroll--vkcom .HorizontalScroll__arrow,\n.Gallery--android .HorizontalScroll__arrow,\n.Gallery--vkcom .HorizontalScroll__arrow {\n  transition-timing-function: var(--android-easing);\n}\n\n.HorizontalScroll:hover .HorizontalScroll__arrow,\n.Gallery:hover .HorizontalScroll__arrow {\n  opacity: 0.72;\n}\n\n.HorizontalScroll:hover .HorizontalScroll__arrow:hover,\n.Gallery:hover .HorizontalScroll__arrow:hover {\n  opacity: 1;\n}\n\n.HorizontalScroll__arrow-icon {\n  background-color: var(--modal_card_background);\n  color: var(--icon_secondary);\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.12), 0 0 10px rgba(0, 0, 0, 0.2);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.HorizontalScroll__arrow-left {\n  left: 0;\n}\n\n.HorizontalScroll__arrow-left .HorizontalScroll__arrow-icon {\n  transform: rotate(180deg);\n}\n\n.HorizontalScroll__arrow-right {\n  right: 0;\n}\n\n.HorizontalScroll__arrow-left:hover\n  ~ .HorizontalScroll__in\n  .HorizontalScroll__in-wrapper {\n  transform: translateX(8px);\n}\n\n.HorizontalScroll__arrow-right:hover\n  ~ .HorizontalScroll__in\n  .HorizontalScroll__in-wrapper {\n  transform: translateX(-8px);\n}\n\n.HorizontalScroll__arrow--size-s.HorizontalScroll__arrow-left {\n  padding-left: 12px;\n}\n\n.HorizontalScroll__arrow--size-s.HorizontalScroll__arrow-right {\n  padding-right: 12px;\n}\n\n.HorizontalScroll__arrow--size-s .HorizontalScroll__arrow-icon {\n  width: 24px;\n  height: 24px;\n}\n\n.HorizontalScroll__arrow--size-m.HorizontalScroll__arrow-left {\n  padding-left: 16px;\n}\n\n.HorizontalScroll__arrow--size-m.HorizontalScroll__arrow-right {\n  padding-right: 16px;\n}\n\n.HorizontalScroll__arrow--size-m .HorizontalScroll__arrow-icon {\n  width: 40px;\n  height: 40px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/HorizontalScrollArrow/HorizontalScrollArrow.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,eAAe;EACf,iBAAiB;EACjB,MAAM;EACN,YAAY;EACZ,UAAU;EACV,UAAU;EACV,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,yBAAyB;AAC3B;;AAEA;;EAEE,6CAA6C;AAC/C;;AAEA;;;;EAIE,iDAAiD;AACnD;;AAEA;;EAEE,aAAa;AACf;;AAEA;;EAEE,UAAU;AACZ;;AAEA;EACE,8CAA8C;EAC9C,4BAA4B;EAC5B,oEAAoE;EACpE,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,OAAO;AACT;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,QAAQ;AACV;;AAEA;;;EAGE,0BAA0B;AAC5B;;AAEA;;;EAGE,2BAA2B;AAC7B;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,YAAY;AACd",sourcesContent:[".HorizontalScroll__arrow {\n  position: absolute;\n  cursor: pointer;\n  user-select: auto;\n  top: 0;\n  height: 100%;\n  opacity: 0;\n  z-index: 3;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  transition: opacity 0.15s;\n}\n\n.HorizontalScroll--ios .HorizontalScroll__arrow,\n.Gallery--ios .HorizontalScroll__arrow {\n  transition-timing-function: var(--ios-easing);\n}\n\n.HorizontalScroll--android .HorizontalScroll__arrow,\n.HorizontalScroll--vkcom .HorizontalScroll__arrow,\n.Gallery--android .HorizontalScroll__arrow,\n.Gallery--vkcom .HorizontalScroll__arrow {\n  transition-timing-function: var(--android-easing);\n}\n\n.HorizontalScroll:hover .HorizontalScroll__arrow,\n.Gallery:hover .HorizontalScroll__arrow {\n  opacity: 0.72;\n}\n\n.HorizontalScroll:hover .HorizontalScroll__arrow:hover,\n.Gallery:hover .HorizontalScroll__arrow:hover {\n  opacity: 1;\n}\n\n.HorizontalScroll__arrow-icon {\n  background-color: var(--modal_card_background);\n  color: var(--icon_secondary);\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.12), 0 0 10px rgba(0, 0, 0, 0.2);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.HorizontalScroll__arrow-left {\n  left: 0;\n}\n\n.HorizontalScroll__arrow-left .HorizontalScroll__arrow-icon {\n  transform: rotate(180deg);\n}\n\n.HorizontalScroll__arrow-right {\n  right: 0;\n}\n\n.HorizontalScroll__arrow-left:hover\n  ~ .HorizontalScroll__in\n  .HorizontalScroll__in-wrapper {\n  transform: translateX(8px);\n}\n\n.HorizontalScroll__arrow-right:hover\n  ~ .HorizontalScroll__in\n  .HorizontalScroll__in-wrapper {\n  transform: translateX(-8px);\n}\n\n.HorizontalScroll__arrow--size-s.HorizontalScroll__arrow-left {\n  padding-left: 12px;\n}\n\n.HorizontalScroll__arrow--size-s.HorizontalScroll__arrow-right {\n  padding-right: 12px;\n}\n\n.HorizontalScroll__arrow--size-s .HorizontalScroll__arrow-icon {\n  width: 24px;\n  height: 24px;\n}\n\n.HorizontalScroll__arrow--size-m.HorizontalScroll__arrow-left {\n  padding-left: 16px;\n}\n\n.HorizontalScroll__arrow--size-m.HorizontalScroll__arrow-right {\n  padding-right: 16px;\n}\n\n.HorizontalScroll__arrow--size-m .HorizontalScroll__arrow-icon {\n  width: 40px;\n  height: 40px;\n}\n"],sourceRoot:""}]);const s=a},6624:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".MessagePreview {\n  padding-right: 0.5ch; /* Оставляем небольшой запас для того, чтобы эмоджи не обрезались */\n}\n\n.MessagePreview__attach {\n  color: var(--text_link);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/MessagePreview/MessagePreview.css"],names:[],mappings:"AAAA;EACE,oBAAoB,EAAE,mEAAmE;AAC3F;;AAEA;EACE,uBAAuB;AACzB",sourcesContent:[".MessagePreview {\n  padding-right: 0.5ch; /* Оставляем небольшой запас для того, чтобы эмоджи не обрезались */\n}\n\n.MessagePreview__attach {\n  color: var(--text_link);\n}\n"],sourceRoot:""}]);const s=a},8516:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".MessageText {\n}\n\n.MessageText__link {\n  text-decoration: none;\n  color: var(--text_link);\n  padding: 1px 0; /* Без дырок между строк */\n}\n\n.MessageText__link:hover {\n  opacity: 0.9;\n}\n\n.MessageText__pseudoLink {\n  color: var(--text_link);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/MessageText/MessageText.css"],names:[],mappings:"AAAA;AACA;;AAEA;EACE,qBAAqB;EACrB,uBAAuB;EACvB,cAAc,EAAE,0BAA0B;AAC5C;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,uBAAuB;AACzB",sourcesContent:[".MessageText {\n}\n\n.MessageText__link {\n  text-decoration: none;\n  color: var(--text_link);\n  padding: 1px 0; /* Без дырок между строк */\n}\n\n.MessageText__link:hover {\n  opacity: 0.9;\n}\n\n.MessageText__pseudoLink {\n  color: var(--text_link);\n}\n"],sourceRoot:""}]);const s=a},6770:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".NoPhoto {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff; /* @TODO: correct token */\n  border-radius: 50%;\n  font: 600 18px/16px var(--font);\n}\n\n.NoPhoto--color-0 {\n  background: radial-gradient(circle at center 0px, #ff6952, #e6404b);\n}\n.NoPhoto--color-1 {\n  background: radial-gradient(circle at center 0px, #ffb829, #fa7f14);\n}\n.NoPhoto--color-2 {\n  background: radial-gradient(circle at center 0px, #ffdc50, #f2b40b);\n}\n.NoPhoto--color-3 {\n  background: radial-gradient(circle at center 0px, #78e070, #46b864);\n}\n.NoPhoto--color-4 {\n  background: radial-gradient(circle at center 0px, #78f1fa, #46bddb);\n}\n.NoPhoto--color-5 {\n  background: radial-gradient(circle at center 0px, #e664fa, #a73ddb);\n}\n.NoPhoto--color-mr {\n  background: radial-gradient(circle at center 0px, #66ccff, #3f8ae0);\n}\n.NoPhoto--color-ext {\n  background: radial-gradient(circle at center 0px, #bac2cc, #8c97a3);\n}\n\n.NoPhoto--size-24 {\n  width: 24px;\n  height: 24px;\n  font-size: 11px;\n  line-height: 15px;\n}\n\n.NoPhoto--size-32 {\n  width: 32px;\n  height: 32px;\n  font-size: 12px;\n  line-height: 15px;\n}\n\n.NoPhoto--size-34 {\n  width: 34px;\n  height: 34px;\n  font-size: 12px;\n  line-height: 15px;\n}\n\n.NoPhoto--size-40 {\n  width: 40px;\n  height: 40px;\n  font-size: 14px;\n}\n\n.NoPhoto--size-44 {\n  width: 44px;\n  height: 44px;\n  font-size: 15px;\n}\n\n.NoPhoto--size-46 {\n  width: 46px;\n  height: 46px;\n  font-size: 16px;\n}\n\n.NoPhoto--size-48 {\n  width: 48px;\n  height: 48px;\n  font-size: 16px;\n}\n\n.NoPhoto--size-50 {\n  width: 50px;\n  height: 50px;\n  font-size: 17px;\n}\n\n.NoPhoto--size-56 {\n  width: 56px;\n  height: 56px;\n  font-size: 17px;\n}\n\n.NoPhoto--size-72 {\n  width: 72px;\n  height: 72px;\n  font-size: 26px;\n}\n\n.NoPhoto--size-80 {\n  width: 80px;\n  height: 80px;\n  font-size: 28px;\n}\n\n.NoPhoto--size-100 {\n  width: 100px;\n  height: 100px;\n  font-size: 34px;\n}\n\n.NoPhoto--size-160 {\n  width: 160px;\n  height: 160px;\n  font-size: 54px;\n}\n\n.NoPhoto--size-200 {\n  width: 200px;\n  height: 200px;\n  font-size: 67px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/NoPhoto/NoPhoto.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,WAAW,EAAE,yBAAyB;EACtC,kBAAkB;EAClB,+BAA+B;AACjC;;AAEA;EACE,mEAAmE;AACrE;AACA;EACE,mEAAmE;AACrE;AACA;EACE,mEAAmE;AACrE;AACA;EACE,mEAAmE;AACrE;AACA;EACE,mEAAmE;AACrE;AACA;EACE,mEAAmE;AACrE;AACA;EACE,mEAAmE;AACrE;AACA;EACE,mEAAmE;AACrE;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,eAAe;AACjB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,eAAe;AACjB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,eAAe;AACjB",sourcesContent:[".NoPhoto {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff; /* @TODO: correct token */\n  border-radius: 50%;\n  font: 600 18px/16px var(--font);\n}\n\n.NoPhoto--color-0 {\n  background: radial-gradient(circle at center 0px, #ff6952, #e6404b);\n}\n.NoPhoto--color-1 {\n  background: radial-gradient(circle at center 0px, #ffb829, #fa7f14);\n}\n.NoPhoto--color-2 {\n  background: radial-gradient(circle at center 0px, #ffdc50, #f2b40b);\n}\n.NoPhoto--color-3 {\n  background: radial-gradient(circle at center 0px, #78e070, #46b864);\n}\n.NoPhoto--color-4 {\n  background: radial-gradient(circle at center 0px, #78f1fa, #46bddb);\n}\n.NoPhoto--color-5 {\n  background: radial-gradient(circle at center 0px, #e664fa, #a73ddb);\n}\n.NoPhoto--color-mr {\n  background: radial-gradient(circle at center 0px, #66ccff, #3f8ae0);\n}\n.NoPhoto--color-ext {\n  background: radial-gradient(circle at center 0px, #bac2cc, #8c97a3);\n}\n\n.NoPhoto--size-24 {\n  width: 24px;\n  height: 24px;\n  font-size: 11px;\n  line-height: 15px;\n}\n\n.NoPhoto--size-32 {\n  width: 32px;\n  height: 32px;\n  font-size: 12px;\n  line-height: 15px;\n}\n\n.NoPhoto--size-34 {\n  width: 34px;\n  height: 34px;\n  font-size: 12px;\n  line-height: 15px;\n}\n\n.NoPhoto--size-40 {\n  width: 40px;\n  height: 40px;\n  font-size: 14px;\n}\n\n.NoPhoto--size-44 {\n  width: 44px;\n  height: 44px;\n  font-size: 15px;\n}\n\n.NoPhoto--size-46 {\n  width: 46px;\n  height: 46px;\n  font-size: 16px;\n}\n\n.NoPhoto--size-48 {\n  width: 48px;\n  height: 48px;\n  font-size: 16px;\n}\n\n.NoPhoto--size-50 {\n  width: 50px;\n  height: 50px;\n  font-size: 17px;\n}\n\n.NoPhoto--size-56 {\n  width: 56px;\n  height: 56px;\n  font-size: 17px;\n}\n\n.NoPhoto--size-72 {\n  width: 72px;\n  height: 72px;\n  font-size: 26px;\n}\n\n.NoPhoto--size-80 {\n  width: 80px;\n  height: 80px;\n  font-size: 28px;\n}\n\n.NoPhoto--size-100 {\n  width: 100px;\n  height: 100px;\n  font-size: 34px;\n}\n\n.NoPhoto--size-160 {\n  width: 160px;\n  height: 160px;\n  font-size: 54px;\n}\n\n.NoPhoto--size-200 {\n  width: 200px;\n  height: 200px;\n  font-size: 67px;\n}\n"],sourceRoot:""}]);const s=a},5701:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".NoResults {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  flex-direction: column;\n  font: 13px/16px var(--font);\n  color: var(--text_secondary);\n  flex: 1 0 auto;\n}\n\n.NoResults__text {\n  padding: 16px 0 0;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/NoResults/NoResults.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,kBAAkB;EAClB,sBAAsB;EACtB,2BAA2B;EAC3B,4BAA4B;EAC5B,cAAc;AAChB;;AAEA;EACE,iBAAiB;AACnB",sourcesContent:[".NoResults {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  flex-direction: column;\n  font: 13px/16px var(--font);\n  color: var(--text_secondary);\n  flex: 1 0 auto;\n}\n\n.NoResults__text {\n  padding: 16px 0 0;\n}\n"],sourceRoot:""}]);const s=a},5312:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".OptimizedSpinner {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/OptimizedSpinner/OptimizedSpinner.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,YAAY;AACd",sourcesContent:[".OptimizedSpinner {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n"],sourceRoot:""}]);const s=a},8049:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".PeerInfo {\n  display: flex;\n  flex-flow: row nowrap;\n  min-width: 240px;\n  padding: 12px 20px 12px 12px;\n}\n\n.PeerInfo__content {\n  display: flex;\n  flex-flow: column nowrap;\n  flex: 1 1 auto;\n}\n\n.PeerInfo__title {\n  display: grid;\n  grid-gap: 4px;\n  grid-auto-flow: column;\n  grid-template-columns: auto 1fr;\n  align-items: center;\n}\n\n.PeerInfo__link {\n  color: var(--text_link);\n  text-decoration: none;\n}\n\n.PeerInfo__link:hover {\n  text-decoration: underline;\n}\n\n.PeerInfo__name {\n  font-size: 14px;\n  line-height: 18px;\n  letter-spacing: -0.004em;\n  white-space: nowrap;\n}\n\n.PeerInfo__verified {\n  display: inline-block;\n  color: var(--accent);\n}\n\n.PeerInfo__avatar {\n  margin-right: 12px;\n}\n\n.PeerInfo__status {\n  margin-top: 4px;\n  font: 13px / 16px var(--font);\n  color: var(--text_subhead);\n}\n\n.PeerInfo__mutual {\n  display: flex;\n  white-space: nowrap;\n  align-items: center;\n  margin-top: 12px;\n  color: var(--text_secondary);\n}\n\n.PeerInfo__followers {\n  display: flex;\n  white-space: nowrap;\n  align-items: center;\n  margin-top: 4px;\n  color: var(--text_secondary);\n}\n\n.PeerInfo__actions {\n  margin-top: 12px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/PeerInfo/PeerInfo.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,qBAAqB;EACrB,gBAAgB;EAChB,4BAA4B;AAC9B;;AAEA;EACE,aAAa;EACb,wBAAwB;EACxB,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,aAAa;EACb,sBAAsB;EACtB,+BAA+B;EAC/B,mBAAmB;AACrB;;AAEA;EACE,uBAAuB;EACvB,qBAAqB;AACvB;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,wBAAwB;EACxB,mBAAmB;AACrB;;AAEA;EACE,qBAAqB;EACrB,oBAAoB;AACtB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,6BAA6B;EAC7B,0BAA0B;AAC5B;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,gBAAgB;EAChB,4BAA4B;AAC9B;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,eAAe;EACf,4BAA4B;AAC9B;;AAEA;EACE,gBAAgB;AAClB",sourcesContent:[".PeerInfo {\n  display: flex;\n  flex-flow: row nowrap;\n  min-width: 240px;\n  padding: 12px 20px 12px 12px;\n}\n\n.PeerInfo__content {\n  display: flex;\n  flex-flow: column nowrap;\n  flex: 1 1 auto;\n}\n\n.PeerInfo__title {\n  display: grid;\n  grid-gap: 4px;\n  grid-auto-flow: column;\n  grid-template-columns: auto 1fr;\n  align-items: center;\n}\n\n.PeerInfo__link {\n  color: var(--text_link);\n  text-decoration: none;\n}\n\n.PeerInfo__link:hover {\n  text-decoration: underline;\n}\n\n.PeerInfo__name {\n  font-size: 14px;\n  line-height: 18px;\n  letter-spacing: -0.004em;\n  white-space: nowrap;\n}\n\n.PeerInfo__verified {\n  display: inline-block;\n  color: var(--accent);\n}\n\n.PeerInfo__avatar {\n  margin-right: 12px;\n}\n\n.PeerInfo__status {\n  margin-top: 4px;\n  font: 13px / 16px var(--font);\n  color: var(--text_subhead);\n}\n\n.PeerInfo__mutual {\n  display: flex;\n  white-space: nowrap;\n  align-items: center;\n  margin-top: 12px;\n  color: var(--text_secondary);\n}\n\n.PeerInfo__followers {\n  display: flex;\n  white-space: nowrap;\n  align-items: center;\n  margin-top: 4px;\n  color: var(--text_secondary);\n}\n\n.PeerInfo__actions {\n  margin-top: 12px;\n}\n"],sourceRoot:""}]);const s=a},8422:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".PeerInfoActions {\n  display: grid;\n  gap: 8px;\n  grid-auto-flow: column;\n  justify-items: start;\n  justify-content: start;\n  position: relative;\n}\n\n.PeerInfoActions__callDropdown {\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  margin-top: 4px;\n  max-width: initial;\n  background: var(--modal_card_background);\n  border-radius: 8px;\n  box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.32);\n  pointer-events: none;\n  padding: 8px 0;\n  transform: translate(-50%, 10px);\n  opacity: 0;\n  transition: transform 0.3s 0.2s ease, opacity 0.2s 0.3s ease-in;\n}\n\n.PeerInfoActions__callDropdown--visible {\n  transform: translate(-50%, 0);\n  opacity: 1;\n  pointer-events: all;\n  transition: transform 0.3s ease, opacity 0.2s ease-out;\n}\n\n.PeerInfoActions__callDropdownList {\n  display: flex;\n  flex-flow: column nowrap;\n  max-width: initial;\n}\n\n.PeerInfoActions__buttonIcon {\n  transform: translateY(1px);\n}\n\n.PeerInfoActions__callDropdownAction {\n  padding: 8px 12px;\n  background: var(--modal_card_background);\n  border: none;\n  outline: none;\n  box-shadow: none;\n  cursor: pointer;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-self: flex-start;\n}\n\n.PeerInfoActions__callDropdownAction:hover {\n  background: var(--background_hover);\n}\n\n.PeerInfoActions__callDropdownIcon,\n.PeerInfoActions__callDropdownText {\n  margin-right: 8px;\n}\n\n.PeerInfoActions__callDropdownText {\n  font-size: 14px;\n  line-height: 18px;\n  color: var(--text_primary);\n}\n\n.PeerInfoActions__callDropdownIcon {\n  color: var(--accent);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/PeerInfoActions/PeerInfoActions.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,QAAQ;EACR,sBAAsB;EACtB,oBAAoB;EACpB,sBAAsB;EACtB,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,SAAS;EACT,eAAe;EACf,kBAAkB;EAClB,wCAAwC;EACxC,kBAAkB;EAClB,6CAA6C;EAC7C,oBAAoB;EACpB,cAAc;EACd,gCAAgC;EAChC,UAAU;EACV,+DAA+D;AACjE;;AAEA;EACE,6BAA6B;EAC7B,UAAU;EACV,mBAAmB;EACnB,sDAAsD;AACxD;;AAEA;EACE,aAAa;EACb,wBAAwB;EACxB,kBAAkB;AACpB;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,iBAAiB;EACjB,wCAAwC;EACxC,YAAY;EACZ,aAAa;EACb,gBAAgB;EAChB,eAAe;EACf,aAAa;EACb,qBAAqB;EACrB,mBAAmB;EACnB,wBAAwB;AAC1B;;AAEA;EACE,mCAAmC;AACrC;;AAEA;;EAEE,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,0BAA0B;AAC5B;;AAEA;EACE,oBAAoB;AACtB",sourcesContent:[".PeerInfoActions {\n  display: grid;\n  gap: 8px;\n  grid-auto-flow: column;\n  justify-items: start;\n  justify-content: start;\n  position: relative;\n}\n\n.PeerInfoActions__callDropdown {\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  margin-top: 4px;\n  max-width: initial;\n  background: var(--modal_card_background);\n  border-radius: 8px;\n  box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.32);\n  pointer-events: none;\n  padding: 8px 0;\n  transform: translate(-50%, 10px);\n  opacity: 0;\n  transition: transform 0.3s 0.2s ease, opacity 0.2s 0.3s ease-in;\n}\n\n.PeerInfoActions__callDropdown--visible {\n  transform: translate(-50%, 0);\n  opacity: 1;\n  pointer-events: all;\n  transition: transform 0.3s ease, opacity 0.2s ease-out;\n}\n\n.PeerInfoActions__callDropdownList {\n  display: flex;\n  flex-flow: column nowrap;\n  max-width: initial;\n}\n\n.PeerInfoActions__buttonIcon {\n  transform: translateY(1px);\n}\n\n.PeerInfoActions__callDropdownAction {\n  padding: 8px 12px;\n  background: var(--modal_card_background);\n  border: none;\n  outline: none;\n  box-shadow: none;\n  cursor: pointer;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-self: flex-start;\n}\n\n.PeerInfoActions__callDropdownAction:hover {\n  background: var(--background_hover);\n}\n\n.PeerInfoActions__callDropdownIcon,\n.PeerInfoActions__callDropdownText {\n  margin-right: 8px;\n}\n\n.PeerInfoActions__callDropdownText {\n  font-size: 14px;\n  line-height: 18px;\n  color: var(--text_primary);\n}\n\n.PeerInfoActions__callDropdownIcon {\n  color: var(--accent);\n}\n"],sourceRoot:""}]);const s=a},3669:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".PeerInfoPopper__popper {\n  background: var(--modal_card_background);\n  border-radius: 8px;\n  box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.32);\n  position: relative;\n  z-index: 100;\n  margin: 8px 0;\n  opacity: 1;\n}\n\n.PeerInfoPopper__popper--appear {\n  pointer-events: none;\n  transform: translateY(-20px);\n  opacity: 0;\n}\n\n.PeerInfoPopper__popper--appear-active {\n  opacity: 1;\n  transform: none;\n  transition: opacity 0.1s linear 0.2s, transform 0.1s linear 0.2s;\n}\n\n.PeerInfoPopper__popper--exit {\n  opacity: 1;\n  transform: none;\n}\n\n.PeerInfoPopper__popper--exit-active {\n  transform: translateY(-20px);\n  opacity: 0;\n  transition: opacity 0.1s linear 0.2s, transform 0.1s linear 0.2s;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/PeerInfoPopper/PeerInfoPopper.css"],names:[],mappings:"AAAA;EACE,wCAAwC;EACxC,kBAAkB;EAClB,6CAA6C;EAC7C,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb,UAAU;AACZ;;AAEA;EACE,oBAAoB;EACpB,4BAA4B;EAC5B,UAAU;AACZ;;AAEA;EACE,UAAU;EACV,eAAe;EACf,gEAAgE;AAClE;;AAEA;EACE,UAAU;EACV,eAAe;AACjB;;AAEA;EACE,4BAA4B;EAC5B,UAAU;EACV,gEAAgE;AAClE",sourcesContent:[".PeerInfoPopper__popper {\n  background: var(--modal_card_background);\n  border-radius: 8px;\n  box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.32);\n  position: relative;\n  z-index: 100;\n  margin: 8px 0;\n  opacity: 1;\n}\n\n.PeerInfoPopper__popper--appear {\n  pointer-events: none;\n  transform: translateY(-20px);\n  opacity: 0;\n}\n\n.PeerInfoPopper__popper--appear-active {\n  opacity: 1;\n  transform: none;\n  transition: opacity 0.1s linear 0.2s, transform 0.1s linear 0.2s;\n}\n\n.PeerInfoPopper__popper--exit {\n  opacity: 1;\n  transform: none;\n}\n\n.PeerInfoPopper__popper--exit-active {\n  transform: translateY(-20px);\n  opacity: 0;\n  transition: opacity 0.1s linear 0.2s, transform 0.1s linear 0.2s;\n}\n"],sourceRoot:""}]);const s=a},5653:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".MEPopper {\n  position: absolute;\n  width: 0;\n  height: 0;\n  display: flex;\n  z-index: calc(var(--fcZIndex, 1) + 1);\n}\n\n.MEPopper--top {\n  align-items: flex-end;\n}\n\n.MEPopper--right {\n  justify-content: left;\n  align-items: center;\n}\n\n.MEPopper--bottom {\n  align-items: flex-start;\n}\n\n.MEPopper--left {\n  justify-content: left;\n  align-items: center;\n  direction: rtl;\n}\n\n.MEPopper--alignLeft {\n  justify-content: left;\n}\n\n.MEPopper--alignCenter {\n  justify-content: center;\n}\n\n.MEPopper--alignRight {\n  direction: rtl;\n  justify-content: right;\n}\n\n.MEPopper > * {\n  direction: ltr;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/Popper/Popper.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,aAAa;EACb,qCAAqC;AACvC;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,qBAAqB;EACrB,mBAAmB;AACrB;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,qBAAqB;EACrB,mBAAmB;EACnB,cAAc;AAChB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,cAAc;EACd,sBAAsB;AACxB;;AAEA;EACE,cAAc;AAChB",sourcesContent:[".MEPopper {\n  position: absolute;\n  width: 0;\n  height: 0;\n  display: flex;\n  z-index: calc(var(--fcZIndex, 1) + 1);\n}\n\n.MEPopper--top {\n  align-items: flex-end;\n}\n\n.MEPopper--right {\n  justify-content: left;\n  align-items: center;\n}\n\n.MEPopper--bottom {\n  align-items: flex-start;\n}\n\n.MEPopper--left {\n  justify-content: left;\n  align-items: center;\n  direction: rtl;\n}\n\n.MEPopper--alignLeft {\n  justify-content: left;\n}\n\n.MEPopper--alignCenter {\n  justify-content: center;\n}\n\n.MEPopper--alignRight {\n  direction: rtl;\n  justify-content: right;\n}\n\n.MEPopper > * {\n  direction: ltr;\n}\n"],sourceRoot:""}]);const s=a},8067:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".Popover {\n  position: absolute;\n}\n\n.Popover--top {\n  padding-bottom: 8px;\n}\n\n.Popover--bottom {\n  padding-top: 8px;\n}\n\n.Popover--left {\n  padding-right: 8px;\n}\n\n.Popover--right {\n  padding-left: 8px;\n}\n\n.Popover__wrapper {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2;\n}\n\n.Popover__content {\n  background-color: var(--modal_card_background);\n  border-radius: 8px;\n  box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.32);\n  position: relative;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ProfileInfoTTApp/Popover.css"],names:[],mappings:"AAAA;EACE,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,UAAU;AACZ;;AAEA;EACE,8CAA8C;EAC9C,kBAAkB;EAClB,6CAA6C;EAC7C,kBAAkB;AACpB",sourcesContent:[".Popover {\n  position: absolute;\n}\n\n.Popover--top {\n  padding-bottom: 8px;\n}\n\n.Popover--bottom {\n  padding-top: 8px;\n}\n\n.Popover--left {\n  padding-right: 8px;\n}\n\n.Popover--right {\n  padding-left: 8px;\n}\n\n.Popover__wrapper {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2;\n}\n\n.Popover__content {\n  background-color: var(--modal_card_background);\n  border-radius: 8px;\n  box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.32);\n  position: relative;\n}\n"],sourceRoot:""}]);const s=a},7438:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ProfileInfoTTApp__popover--appear {\n  pointer-events: none;\n  transform: translateY(-20px);\n  opacity: 0;\n}\n\n.ProfileInfoTTApp__popover--appear-active {\n  opacity: 1;\n  transform: none;\n  transition: opacity 0.1s linear 0.2s, transform 0.1s linear 0.2s;\n}\n\n.ProfileInfoTTApp__popover--exit {\n  opacity: 1;\n  transform: none;\n}\n\n.ProfileInfoTTApp__popover--exit-active {\n  transform: translateY(-20px);\n  opacity: 0;\n  transition: opacity 0.1s linear 0.2s, transform 0.1s linear 0.2s;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ProfileInfoTTApp/ProfileInfoTTApp.css"],names:[],mappings:"AAAA;EACE,oBAAoB;EACpB,4BAA4B;EAC5B,UAAU;AACZ;;AAEA;EACE,UAAU;EACV,eAAe;EACf,gEAAgE;AAClE;;AAEA;EACE,UAAU;EACV,eAAe;AACjB;;AAEA;EACE,4BAA4B;EAC5B,UAAU;EACV,gEAAgE;AAClE",sourcesContent:[".ProfileInfoTTApp__popover--appear {\n  pointer-events: none;\n  transform: translateY(-20px);\n  opacity: 0;\n}\n\n.ProfileInfoTTApp__popover--appear-active {\n  opacity: 1;\n  transform: none;\n  transition: opacity 0.1s linear 0.2s, transform 0.1s linear 0.2s;\n}\n\n.ProfileInfoTTApp__popover--exit {\n  opacity: 1;\n  transform: none;\n}\n\n.ProfileInfoTTApp__popover--exit-active {\n  transform: translateY(-20px);\n  opacity: 0;\n  transition: opacity 0.1s linear 0.2s, transform 0.1s linear 0.2s;\n}\n"],sourceRoot:""}]);const s=a},1798:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".Reply {\n  position: relative;\n  flex: 0 1 128px;\n  padding: calc(0.5 * var(--messageVerticalIndent))\n    var(--messageHorizontalIndent);\n  white-space: nowrap;\n}\n\n.Reply::before {\n  position: absolute;\n  top: calc(0.5 * var(--messageVerticalIndent));\n  bottom: calc(0.5 * var(--messageVerticalIndent));\n  left: 0;\n  width: 2px;\n  border-radius: 2px;\n  background: var(--im_reply_separator);\n  content: '';\n}\n\n.Reply__author {\n  color: var(--text_link);\n  font: 500 0.925em / calc(0.875 * var(--messageLineHeight)) var(--font);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0 0 2px;\n}\n\n.Reply__authorLink {\n  color: var(--text_link);\n  text-decoration: none;\n}\n\n.Reply__content {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/RepliedMessage/RepliedMessage.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,eAAe;EACf;kCACgC;EAChC,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;EAClB,6CAA6C;EAC7C,gDAAgD;EAChD,OAAO;EACP,UAAU;EACV,kBAAkB;EAClB,qCAAqC;EACrC,WAAW;AACb;;AAEA;EACE,uBAAuB;EACvB,sEAAsE;EACtE,gBAAgB;EAChB,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,uBAAuB;EACvB,qBAAqB;AACvB;;AAEA;EACE,gBAAgB;EAChB,uBAAuB;AACzB",sourcesContent:[".Reply {\n  position: relative;\n  flex: 0 1 128px;\n  padding: calc(0.5 * var(--messageVerticalIndent))\n    var(--messageHorizontalIndent);\n  white-space: nowrap;\n}\n\n.Reply::before {\n  position: absolute;\n  top: calc(0.5 * var(--messageVerticalIndent));\n  bottom: calc(0.5 * var(--messageVerticalIndent));\n  left: 0;\n  width: 2px;\n  border-radius: 2px;\n  background: var(--im_reply_separator);\n  content: '';\n}\n\n.Reply__author {\n  color: var(--text_link);\n  font: 500 0.925em / calc(0.875 * var(--messageLineHeight)) var(--font);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0 0 2px;\n}\n\n.Reply__authorLink {\n  color: var(--text_link);\n  text-decoration: none;\n}\n\n.Reply__content {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n"],sourceRoot:""}]);const s=a},5958:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".SearchResult {\n  display: grid;\n  align-items: center;\n  gap: 10px;\n  padding: 6px 10px;\n  cursor: pointer;\n  border: 0;\n  width: 100%;\n  background: transparent;\n  text-align: left;\n  font: 500 14px/22px var(--font);\n  max-width: 100%;\n  overflow: hidden;\n  transition: background-color 0.2s ease;\n  grid-template-columns: auto 1fr auto;\n}\n\n.SearchResult:hover,\n.SearchResult[aria-selected='true'] {\n  background: var(--content_tint_background);\n  outline: none;\n}\n\n.SearchResult:focus {\n  outline: none;\n}\n\n.SearchResult__icons {\n  flex: 0 0 auto;\n  display: flex;\n  justify-content: flex-end;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/SearchResult/SearchResult.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,SAAS;EACT,iBAAiB;EACjB,eAAe;EACf,SAAS;EACT,WAAW;EACX,uBAAuB;EACvB,gBAAgB;EAChB,+BAA+B;EAC/B,eAAe;EACf,gBAAgB;EAChB,sCAAsC;EACtC,oCAAoC;AACtC;;AAEA;;EAEE,0CAA0C;EAC1C,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,cAAc;EACd,aAAa;EACb,yBAAyB;AAC3B",sourcesContent:[".SearchResult {\n  display: grid;\n  align-items: center;\n  gap: 10px;\n  padding: 6px 10px;\n  cursor: pointer;\n  border: 0;\n  width: 100%;\n  background: transparent;\n  text-align: left;\n  font: 500 14px/22px var(--font);\n  max-width: 100%;\n  overflow: hidden;\n  transition: background-color 0.2s ease;\n  grid-template-columns: auto 1fr auto;\n}\n\n.SearchResult:hover,\n.SearchResult[aria-selected='true'] {\n  background: var(--content_tint_background);\n  outline: none;\n}\n\n.SearchResult:focus {\n  outline: none;\n}\n\n.SearchResult__icons {\n  flex: 0 0 auto;\n  display: flex;\n  justify-content: flex-end;\n}\n"],sourceRoot:""}]);const s=a},5982:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ServiceMessage {\n  color: #828282; /* @TODO: correct token */\n  font: calc(0.925 * var(--messageFontSize)) / var(--messageLineHeight)\n    var(--font);\n  box-sizing: border-box;\n  width: 100%;\n  padding: 0 calc(2 * var(--messageHorizontalIndent));\n  text-align: center;\n}\n\n.ServiceMessage__link {\n  text-decoration: none;\n  color: #828282; /* @TODO: correct token */\n  font-weight: 500;\n  transition: opacity 0.2s ease;\n}\n\n.ServiceMessage__link:hover {\n  opacity: 0.8;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ServiceMessage/ServiceMessage.css"],names:[],mappings:"AAAA;EACE,cAAc,EAAE,yBAAyB;EACzC;eACa;EACb,sBAAsB;EACtB,WAAW;EACX,mDAAmD;EACnD,kBAAkB;AACpB;;AAEA;EACE,qBAAqB;EACrB,cAAc,EAAE,yBAAyB;EACzC,gBAAgB;EAChB,6BAA6B;AAC/B;;AAEA;EACE,YAAY;AACd",sourcesContent:[".ServiceMessage {\n  color: #828282; /* @TODO: correct token */\n  font: calc(0.925 * var(--messageFontSize)) / var(--messageLineHeight)\n    var(--font);\n  box-sizing: border-box;\n  width: 100%;\n  padding: 0 calc(2 * var(--messageHorizontalIndent));\n  text-align: center;\n}\n\n.ServiceMessage__link {\n  text-decoration: none;\n  color: #828282; /* @TODO: correct token */\n  font-weight: 500;\n  transition: opacity 0.2s ease;\n}\n\n.ServiceMessage__link:hover {\n  opacity: 0.8;\n}\n"],sourceRoot:""}]);const s=a},5630:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".Settings {\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  position: relative;\n  z-index: 0; /* stack context for children */\n}\n\n.Settings__loader {\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: var(--background_content);\n  z-index: 2;\n}\n\n.Settings__switch {\n  margin: 0 10px;\n}\n\n.Settings__button {\n  background: none;\n  border: 0;\n  margin: 0;\n  cursor: pointer;\n  outline: none;\n  display: inline-flex;\n  align-items: center;\n  font-size: 13px;\n  color: var(--text_link);\n  padding: 4px 0;\n  opacity: 1;\n  transition: opacity 0.05s;\n}\n\n.Settings__button:hover,\n.Settings__button:focus {\n  opacity: 0.7;\n}\n\n.Settings__buttonChevron {\n  margin-left: 4px;\n  margin-bottom: -2px;\n  color: var(--icon_tertiary);\n}\n\n/* VKUI overrides */\n.Settings__select .PopoutRoot--absolute .vkuiActionSheet {\n  top: 100% !important;\n  right: 0;\n  left: auto !important;\n  padding: 4px 0;\n}\n\n.Settings__select\n  .vkuiActionSheetItem--withSubtitle\n  .vkuiActionSheetItem__container {\n  padding: 8px 0;\n}\n\n.Settings__select .vkuiActionSheetItem--vkcom {\n  padding: 0 12px;\n}\n\n.Settings__select .vkuiActionSheetItem__marker,\n.Settings__select .vkuiActionSheetItem__marker .Icon--done_24,\n.Settings__select .vkuiActionSheetItem__marker svg {\n  width: 16px !important;\n  height: 16px !important;\n}\n\n.Settings__select .vkuiText--vkcom {\n  font-size: 13px;\n  line-height: 16px;\n}\n\n.Settings__select .vkuiCaption--vkcom {\n  font-size: 12px;\n  line-height: 14px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/Settings/Settings.css"],names:[],mappings:"AAAA;EACE,UAAU;EACV,SAAS;EACT,gBAAgB;EAChB,kBAAkB;EAClB,UAAU,EAAE,+BAA+B;AAC7C;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,qCAAqC;EACrC,UAAU;AACZ;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,gBAAgB;EAChB,SAAS;EACT,SAAS;EACT,eAAe;EACf,aAAa;EACb,oBAAoB;EACpB,mBAAmB;EACnB,eAAe;EACf,uBAAuB;EACvB,cAAc;EACd,UAAU;EACV,yBAAyB;AAC3B;;AAEA;;EAEE,YAAY;AACd;;AAEA;EACE,gBAAgB;EAChB,mBAAmB;EACnB,2BAA2B;AAC7B;;AAEA,mBAAmB;AACnB;EACE,oBAAoB;EACpB,QAAQ;EACR,qBAAqB;EACrB,cAAc;AAChB;;AAEA;;;EAGE,cAAc;AAChB;;AAEA;EACE,eAAe;AACjB;;AAEA;;;EAGE,sBAAsB;EACtB,uBAAuB;AACzB;;AAEA;EACE,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,iBAAiB;AACnB",sourcesContent:[".Settings {\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  position: relative;\n  z-index: 0; /* stack context for children */\n}\n\n.Settings__loader {\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: var(--background_content);\n  z-index: 2;\n}\n\n.Settings__switch {\n  margin: 0 10px;\n}\n\n.Settings__button {\n  background: none;\n  border: 0;\n  margin: 0;\n  cursor: pointer;\n  outline: none;\n  display: inline-flex;\n  align-items: center;\n  font-size: 13px;\n  color: var(--text_link);\n  padding: 4px 0;\n  opacity: 1;\n  transition: opacity 0.05s;\n}\n\n.Settings__button:hover,\n.Settings__button:focus {\n  opacity: 0.7;\n}\n\n.Settings__buttonChevron {\n  margin-left: 4px;\n  margin-bottom: -2px;\n  color: var(--icon_tertiary);\n}\n\n/* VKUI overrides */\n.Settings__select .PopoutRoot--absolute .vkuiActionSheet {\n  top: 100% !important;\n  right: 0;\n  left: auto !important;\n  padding: 4px 0;\n}\n\n.Settings__select\n  .vkuiActionSheetItem--withSubtitle\n  .vkuiActionSheetItem__container {\n  padding: 8px 0;\n}\n\n.Settings__select .vkuiActionSheetItem--vkcom {\n  padding: 0 12px;\n}\n\n.Settings__select .vkuiActionSheetItem__marker,\n.Settings__select .vkuiActionSheetItem__marker .Icon--done_24,\n.Settings__select .vkuiActionSheetItem__marker svg {\n  width: 16px !important;\n  height: 16px !important;\n}\n\n.Settings__select .vkuiText--vkcom {\n  font-size: 13px;\n  line-height: 16px;\n}\n\n.Settings__select .vkuiCaption--vkcom {\n  font-size: 12px;\n  line-height: 14px;\n}\n"],sourceRoot:""}]);const s=a},2405:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".SettingsApp {\n}\n","",{version:3,sources:["webpack://./src/browser/ui/SettingsApp/SettingsApp.css"],names:[],mappings:"AAAA;AACA",sourcesContent:[".SettingsApp {\n}\n"],sourceRoot:""}]);const s=a},8099:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".SettingsListItem {\n  display: flex;\n  align-items: flex-start;\n  min-height: 28px;\n  padding: 16px 0;\n}\n\n.SettingsListItem__icon {\n  flex-shrink: 0;\n  width: 28px;\n  height: 28px;\n  margin-right: 12px;\n}\n\n.SettingsListItem__info {\n  margin-right: auto;\n  min-height: inherit;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.SettingsListItem__title {\n  font-size: 13px;\n  line-height: 16px;\n  color: var(--text_primary);\n}\n\n.SettingsListItem__description {\n  font-size: 12px;\n  line-height: 14px;\n  color: var(--text_secondary);\n  margin-top: 4px;\n}\n\n.SettingsListItem__control {\n  flex-shrink: 0;\n  min-height: inherit;\n  display: flex;\n  align-items: center;\n  margin-left: 24px;\n}\n\n.SettingsListItem + .SettingsListItem {\n  border-top: 1px solid var(--separator_alternate);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/SettingsListItem/SettingsListItem.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,uBAAuB;EACvB,gBAAgB;EAChB,eAAe;AACjB;;AAEA;EACE,cAAc;EACd,WAAW;EACX,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,mBAAmB;EACnB,aAAa;EACb,sBAAsB;EACtB,uBAAuB;AACzB;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,0BAA0B;AAC5B;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,4BAA4B;EAC5B,eAAe;AACjB;;AAEA;EACE,cAAc;EACd,mBAAmB;EACnB,aAAa;EACb,mBAAmB;EACnB,iBAAiB;AACnB;;AAEA;EACE,gDAAgD;AAClD",sourcesContent:[".SettingsListItem {\n  display: flex;\n  align-items: flex-start;\n  min-height: 28px;\n  padding: 16px 0;\n}\n\n.SettingsListItem__icon {\n  flex-shrink: 0;\n  width: 28px;\n  height: 28px;\n  margin-right: 12px;\n}\n\n.SettingsListItem__info {\n  margin-right: auto;\n  min-height: inherit;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.SettingsListItem__title {\n  font-size: 13px;\n  line-height: 16px;\n  color: var(--text_primary);\n}\n\n.SettingsListItem__description {\n  font-size: 12px;\n  line-height: 14px;\n  color: var(--text_secondary);\n  margin-top: 4px;\n}\n\n.SettingsListItem__control {\n  flex-shrink: 0;\n  min-height: inherit;\n  display: flex;\n  align-items: center;\n  margin-left: 24px;\n}\n\n.SettingsListItem + .SettingsListItem {\n  border-top: 1px solid var(--separator_alternate);\n}\n"],sourceRoot:""}]);const s=a},2268:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".Symbols {\n  display: none;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/Symbols/Symbols.css"],names:[],mappings:"AAAA;EACE,aAAa;AACf",sourcesContent:[".Symbols {\n  display: none;\n}\n"],sourceRoot:""}]);const s=a},4399:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".TCLConvoList {\n  --separator-padding-horizontal: 16px;\n  --separator-padding-vertical: 6px;\n  --separator-height: 1px;\n\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  background: var(--background_content);\n}\n\n.TCLConvoList__search {\n  position: relative;\n  width: 100%;\n  height: 36px;\n  background: var(--background_content);\n  border-bottom: 1px solid var(--separator_alternate);\n  margin-bottom: 2px;\n}\n\n.TCLConvoList__searchInput {\n  padding: 0 35px;\n  width: 100%;\n  height: 100%;\n  background: inherit;\n  color: var(--text_primary);\n  font: 13px/16px var(--font);\n  border: 1px solid transparent;\n}\n\n.TCLConvoList__searchInput:focus {\n  outline: none;\n}\n\n.TCLConvoList__searchInput::-webkit-search-cancel-button {\n  display: none;\n}\n\n.TCLConvoList__searchIcon {\n  position: absolute;\n  left: 11px;\n  top: calc(50% - 9px);\n  color: var(--text_placeholder);\n}\n\n.TCLConvoList__cancelIcon {\n  visibility: hidden;\n  position: absolute;\n  right: 10px;\n  top: calc(50% - 7px);\n  color: var(--text_placeholder);\n  border: 0;\n  background: transparent;\n  cursor: pointer;\n}\n\n.TCLConvoList__search--active .TCLConvoList__cancelIcon {\n  visibility: visible;\n}\n\n.TCLConvoList__items {\n  height: 400px;\n  overflow-y: auto;\n  cursor: default;\n  overscroll-behavior: none;\n}\n\n.TCLConvoList__virtual {\n  overscroll-behavior: none;\n}\n\n.TCLConvoList__item--separator {\n  padding-top: calc(\n    2 * var(--separator-padding-vertical) + var(--separator-height)\n  );\n}\n\n.TCLConvoList__item--separator::before {\n  display: block;\n  content: '';\n  height: var(--separator-height);\n  background: var(--separator_common);\n  position: absolute;\n  top: calc(var(--separator-padding-vertical) - var(--separator-height));\n  width: calc(100% - 2 * var(--separator-padding-horizontal));\n  left: var(--separator-padding-horizontal);\n}\n\n.TCLConvoList__loader {\n  padding: 20px 0;\n  height: 100%;\n}\n\n.TCLConvoList__footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 12px 13px;\n  width: 100%;\n  border-top: 1px solid var(--separator_alternate);\n}\n\n.TCLConvoList__folder {\n  cursor: pointer;\n  background: inherit;\n  border: 0;\n  font: 13px/15px var(--font);\n  color: var(--button_tertiary_foreground);\n  outline: none;\n}\n.TCLConvoList__folder:hover {\n  text-decoration: underline;\n}\n\n.TCLConvoList__showAll {\n  background: inherit;\n  color: var(--button_tertiary_foreground);\n  text-align: center;\n  text-decoration: none;\n  font: 13px/15px var(--font);\n}\n.TCLConvoList__showAll:hover {\n  text-decoration: underline;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/TCLConvoList/TCLConvoList.css"],names:[],mappings:"AAAA;EACE,oCAAoC;EACpC,iCAAiC;EACjC,uBAAuB;;EAEvB,WAAW;EACX,aAAa;EACb,sBAAsB;EACtB,gBAAgB;EAChB,qCAAqC;AACvC;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,qCAAqC;EACrC,mDAAmD;EACnD,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,WAAW;EACX,YAAY;EACZ,mBAAmB;EACnB,0BAA0B;EAC1B,2BAA2B;EAC3B,6BAA6B;AAC/B;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,oBAAoB;EACpB,8BAA8B;AAChC;;AAEA;EACE,kBAAkB;EAClB,kBAAkB;EAClB,WAAW;EACX,oBAAoB;EACpB,8BAA8B;EAC9B,SAAS;EACT,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,gBAAgB;EAChB,eAAe;EACf,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE;;GAEC;AACH;;AAEA;EACE,cAAc;EACd,WAAW;EACX,+BAA+B;EAC/B,mCAAmC;EACnC,kBAAkB;EAClB,sEAAsE;EACtE,2DAA2D;EAC3D,yCAAyC;AAC3C;;AAEA;EACE,eAAe;EACf,YAAY;AACd;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,gDAAgD;AAClD;;AAEA;EACE,eAAe;EACf,mBAAmB;EACnB,SAAS;EACT,2BAA2B;EAC3B,wCAAwC;EACxC,aAAa;AACf;AACA;EACE,0BAA0B;AAC5B;;AAEA;EACE,mBAAmB;EACnB,wCAAwC;EACxC,kBAAkB;EAClB,qBAAqB;EACrB,2BAA2B;AAC7B;AACA;EACE,0BAA0B;AAC5B",sourcesContent:[".TCLConvoList {\n  --separator-padding-horizontal: 16px;\n  --separator-padding-vertical: 6px;\n  --separator-height: 1px;\n\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  background: var(--background_content);\n}\n\n.TCLConvoList__search {\n  position: relative;\n  width: 100%;\n  height: 36px;\n  background: var(--background_content);\n  border-bottom: 1px solid var(--separator_alternate);\n  margin-bottom: 2px;\n}\n\n.TCLConvoList__searchInput {\n  padding: 0 35px;\n  width: 100%;\n  height: 100%;\n  background: inherit;\n  color: var(--text_primary);\n  font: 13px/16px var(--font);\n  border: 1px solid transparent;\n}\n\n.TCLConvoList__searchInput:focus {\n  outline: none;\n}\n\n.TCLConvoList__searchInput::-webkit-search-cancel-button {\n  display: none;\n}\n\n.TCLConvoList__searchIcon {\n  position: absolute;\n  left: 11px;\n  top: calc(50% - 9px);\n  color: var(--text_placeholder);\n}\n\n.TCLConvoList__cancelIcon {\n  visibility: hidden;\n  position: absolute;\n  right: 10px;\n  top: calc(50% - 7px);\n  color: var(--text_placeholder);\n  border: 0;\n  background: transparent;\n  cursor: pointer;\n}\n\n.TCLConvoList__search--active .TCLConvoList__cancelIcon {\n  visibility: visible;\n}\n\n.TCLConvoList__items {\n  height: 400px;\n  overflow-y: auto;\n  cursor: default;\n  overscroll-behavior: none;\n}\n\n.TCLConvoList__virtual {\n  overscroll-behavior: none;\n}\n\n.TCLConvoList__item--separator {\n  padding-top: calc(\n    2 * var(--separator-padding-vertical) + var(--separator-height)\n  );\n}\n\n.TCLConvoList__item--separator::before {\n  display: block;\n  content: '';\n  height: var(--separator-height);\n  background: var(--separator_common);\n  position: absolute;\n  top: calc(var(--separator-padding-vertical) - var(--separator-height));\n  width: calc(100% - 2 * var(--separator-padding-horizontal));\n  left: var(--separator-padding-horizontal);\n}\n\n.TCLConvoList__loader {\n  padding: 20px 0;\n  height: 100%;\n}\n\n.TCLConvoList__footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 12px 13px;\n  width: 100%;\n  border-top: 1px solid var(--separator_alternate);\n}\n\n.TCLConvoList__folder {\n  cursor: pointer;\n  background: inherit;\n  border: 0;\n  font: 13px/15px var(--font);\n  color: var(--button_tertiary_foreground);\n  outline: none;\n}\n.TCLConvoList__folder:hover {\n  text-decoration: underline;\n}\n\n.TCLConvoList__showAll {\n  background: inherit;\n  color: var(--button_tertiary_foreground);\n  text-align: center;\n  text-decoration: none;\n  font: 13px/15px var(--font);\n}\n.TCLConvoList__showAll:hover {\n  text-decoration: underline;\n}\n"],sourceRoot:""}]);const s=a},5940:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".TCLConvoListItem {\n  height: 100%;\n  display: grid;\n  align-items: center;\n  grid-template-areas: 'avatar header icons' 'avatar message icons';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  padding: 0 16px 0 10px;\n  transition: background-color 0.2s ease;\n  font: 13px/16px var(--font);\n  white-space: nowrap;\n  user-select: none;\n  cursor: pointer;\n}\n\n.TCLConvoListItem:hover {\n  background: var(--background_hover);\n}\n\n.TCLConvoListItem:focus,\n.TCLConvoListItem--selected {\n  background: var(--field_background); /* @TODO Странная переменная */\n  outline: none;\n}\n\n.TCLConvoListItem__avatar {\n  grid-area: avatar;\n  padding-right: 10px;\n}\n\n.TCLConvoListItem__header {\n  grid-area: header;\n  align-self: end;\n  font: 500 13px/17px var(--font);\n  overflow: hidden;\n}\n\n.TCLConvoListItem__message {\n  grid-area: message;\n  align-self: start;\n  display: flex;\n  align-items: baseline;\n  gap: 5px;\n  max-width: 100%;\n  overflow: hidden;\n  margin-top: 2px;\n  text-overflow: ellipsis;\n  color: var(--text_tertiary);\n}\n\n.TCLConvoListItem__typing {\n  display: inline-flex;\n  align-items: center;\n  color: var(--accent);\n}\n\n.TCLConvoListItem__typingText {\n  width: min-content;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-right: 0.5ch;\n}\n\n.TCLConvoListItem__typingIndicator {\n  flex-shrink: 0;\n}\n\n.TCLConvoListItem__author {\n  color: var(--text_tertiary);\n}\n\n.TCLConvoListItem__text {\n  flex: 0 1 auto;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  color: var(--text_subhead);\n}\n\n.TCLConvoListItem__date {\n  flex: 0 0 auto;\n  font: 12px/20px var(--font);\n  color: var(--text_tertiary);\n}\n\n.TCLConvoListItem__icons {\n  grid-area: icons;\n  align-self: center;\n  display: grid;\n  align-items: center;\n  height: 20px;\n  gap: 3px;\n  padding-left: 1ch;\n  grid-template-columns: auto 1fr auto;\n}\n\n.TCLConvoListItem__icons:empty {\n  padding: 0;\n}\n\n.TCLConvoListItem__bombIcon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 18px;\n  width: 18px;\n  border-radius: 10px;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n}\n.TopConvoListItem--muted .TopConvoListItem__bombIcon {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.TCLConvoListItem__mentionIcon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 18px;\n  width: 18px;\n  border-radius: 10px;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n}\n\n.TCLConvoListItem__unreadOut {\n  height: 8px;\n  width: 8px;\n  border-radius: 50%;\n  background: var(--counter_primary_background);\n}\n\n.TCLConvoListItem--muted .TCLConvoListItem__unreadOut {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.TCLConvoListItem__clockIcon {\n  color: var(--counter_secondary_background);\n}\n\n.TCLConvoListItem__pinIcon {\n  color: var(--counter_secondary_background);\n}\n\n.TCLConvoListItem--muted .TCLConvoListItem__pinIcon {\n  color: var(--counter_secondary_background);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/TCLConvoListItem/TCLConvoListItem.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,iEAAiE;EACjE,oCAAoC;EACpC,2BAA2B;EAC3B,sBAAsB;EACtB,sCAAsC;EACtC,2BAA2B;EAC3B,mBAAmB;EACnB,iBAAiB;EACjB,eAAe;AACjB;;AAEA;EACE,mCAAmC;AACrC;;AAEA;;EAEE,mCAAmC,EAAE,8BAA8B;EACnE,aAAa;AACf;;AAEA;EACE,iBAAiB;EACjB,mBAAmB;AACrB;;AAEA;EACE,iBAAiB;EACjB,eAAe;EACf,+BAA+B;EAC/B,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,iBAAiB;EACjB,aAAa;EACb,qBAAqB;EACrB,QAAQ;EACR,eAAe;EACf,gBAAgB;EAChB,eAAe;EACf,uBAAuB;EACvB,2BAA2B;AAC7B;;AAEA;EACE,oBAAoB;EACpB,mBAAmB;EACnB,oBAAoB;AACtB;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,2BAA2B;AAC7B;;AAEA;EACE,cAAc;EACd,uBAAuB;EACvB,gBAAgB;EAChB,0BAA0B;AAC5B;;AAEA;EACE,cAAc;EACd,2BAA2B;EAC3B,2BAA2B;AAC7B;;AAEA;EACE,gBAAgB;EAChB,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,YAAY;EACZ,QAAQ;EACR,iBAAiB;EACjB,oCAAoC;AACtC;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,WAAW;EACX,mBAAmB;EACnB,6CAA6C;EAC7C,kCAAkC;AACpC;AACA;EACE,+CAA+C;EAC/C,oCAAoC;AACtC;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,WAAW;EACX,mBAAmB;EACnB,6CAA6C;EAC7C,kCAAkC;AACpC;;AAEA;EACE,WAAW;EACX,UAAU;EACV,kBAAkB;EAClB,6CAA6C;AAC/C;;AAEA;EACE,+CAA+C;EAC/C,oCAAoC;AACtC;;AAEA;EACE,0CAA0C;AAC5C;;AAEA;EACE,0CAA0C;AAC5C;;AAEA;EACE,0CAA0C;AAC5C",sourcesContent:[".TCLConvoListItem {\n  height: 100%;\n  display: grid;\n  align-items: center;\n  grid-template-areas: 'avatar header icons' 'avatar message icons';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  padding: 0 16px 0 10px;\n  transition: background-color 0.2s ease;\n  font: 13px/16px var(--font);\n  white-space: nowrap;\n  user-select: none;\n  cursor: pointer;\n}\n\n.TCLConvoListItem:hover {\n  background: var(--background_hover);\n}\n\n.TCLConvoListItem:focus,\n.TCLConvoListItem--selected {\n  background: var(--field_background); /* @TODO Странная переменная */\n  outline: none;\n}\n\n.TCLConvoListItem__avatar {\n  grid-area: avatar;\n  padding-right: 10px;\n}\n\n.TCLConvoListItem__header {\n  grid-area: header;\n  align-self: end;\n  font: 500 13px/17px var(--font);\n  overflow: hidden;\n}\n\n.TCLConvoListItem__message {\n  grid-area: message;\n  align-self: start;\n  display: flex;\n  align-items: baseline;\n  gap: 5px;\n  max-width: 100%;\n  overflow: hidden;\n  margin-top: 2px;\n  text-overflow: ellipsis;\n  color: var(--text_tertiary);\n}\n\n.TCLConvoListItem__typing {\n  display: inline-flex;\n  align-items: center;\n  color: var(--accent);\n}\n\n.TCLConvoListItem__typingText {\n  width: min-content;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-right: 0.5ch;\n}\n\n.TCLConvoListItem__typingIndicator {\n  flex-shrink: 0;\n}\n\n.TCLConvoListItem__author {\n  color: var(--text_tertiary);\n}\n\n.TCLConvoListItem__text {\n  flex: 0 1 auto;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  color: var(--text_subhead);\n}\n\n.TCLConvoListItem__date {\n  flex: 0 0 auto;\n  font: 12px/20px var(--font);\n  color: var(--text_tertiary);\n}\n\n.TCLConvoListItem__icons {\n  grid-area: icons;\n  align-self: center;\n  display: grid;\n  align-items: center;\n  height: 20px;\n  gap: 3px;\n  padding-left: 1ch;\n  grid-template-columns: auto 1fr auto;\n}\n\n.TCLConvoListItem__icons:empty {\n  padding: 0;\n}\n\n.TCLConvoListItem__bombIcon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 18px;\n  width: 18px;\n  border-radius: 10px;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n}\n.TopConvoListItem--muted .TopConvoListItem__bombIcon {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.TCLConvoListItem__mentionIcon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 18px;\n  width: 18px;\n  border-radius: 10px;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n}\n\n.TCLConvoListItem__unreadOut {\n  height: 8px;\n  width: 8px;\n  border-radius: 50%;\n  background: var(--counter_primary_background);\n}\n\n.TCLConvoListItem--muted .TCLConvoListItem__unreadOut {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.TCLConvoListItem__clockIcon {\n  color: var(--counter_secondary_background);\n}\n\n.TCLConvoListItem__pinIcon {\n  color: var(--counter_secondary_background);\n}\n\n.TCLConvoListItem--muted .TCLConvoListItem__pinIcon {\n  color: var(--counter_secondary_background);\n}\n"],sourceRoot:""}]);const s=a},5094:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".METooltip {\n  --tailSize: 5px;\n  --tooltip_dark_background: rgba(0, 0, 0, 0.72); /* @TODO: correct token */\n  --tooltip_dark_border: rgba(0, 0, 0, 0.72); /* @TODO: correct token */\n  --tooltip_light_background: #fff; /* @TODO: correct token */\n  --tooltip_light_border: #c5d0db; /* @TODO: correct token */\n\n  position: relative;\n  animation: fadeIn 0.3s ease;\n  transition: opacity 0.2s ease, visibility 0.2s ease;\n  padding: 3px 9px;\n  border-radius: 4px;\n  font: 12.5px/18px var(--font);\n  height: min-content;\n  white-space: nowrap;\n  pointer-events: none;\n  max-width: none;\n  color: #fff; /* @TODO: correct token */\n  background: var(--tooltip_dark_background);\n}\n\n.METooltip--removed {\n  visibility: hidden;\n  opacity: 0;\n}\n\n/**\n * Задаем отступы самого тултипа от Поппера для хвостика\n * Например, если позиционируемся сверху (над элементом),\n * то снизу должен быть отступ для хвостика\n */\n[data-position='top'] > .METooltip {\n  margin-bottom: var(--tailSize);\n}\n\n[data-position='right'] > .METooltip {\n  margin-left: var(--tailSize);\n}\n\n[data-position='bottom'] > .METooltip {\n  margin-top: var(--tailSize);\n}\n\n[data-position='left'] > .METooltip {\n  margin-right: var(--tailSize);\n}\n\n/**\n * Хвостик тултипа\n */\n.METooltip::after {\n  position: absolute;\n  border: var(--tailSize) solid transparent;\n  content: '';\n}\n\n/**\n * Отображаем хвостик, перекрашивая один из бордеров\n * для появления видимого треугольника\n */\n[data-position='top'] > .METooltip::after {\n  top: 100%;\n  border-top-color: var(--tooltip_dark_background);\n}\n\n[data-position='right'] > .METooltip::after {\n  top: calc(50% - var(--tailSize));\n  right: 100%;\n  border-right-color: var(--tooltip_dark_background);\n}\n\n[data-position='bottom'] > .METooltip::after {\n  bottom: 100%;\n  border-bottom-color: var(--tooltip_dark_background);\n}\n\n[data-position='left'] > .METooltip::after {\n  top: calc(50% - var(--tailSize));\n  left: 100%;\n  border-left-color: var(--tooltip_dark_background);\n}\n\n/**\n * Для режима, когда тултип показывается сверху или снизу,\n * выравниваем тултип по горизонтали (когда он находится на верхней или нижней стороне)\n */\n\n[data-position='top'][data-align='left'] > .METooltip::after,\n[data-position='bottom'][data-align='left'] > .METooltip::after {\n  left: 5px;\n}\n\n[data-position='top'][data-align='center'] > .METooltip::after,\n[data-position='bottom'][data-align='center'] > .METooltip::after {\n  left: calc(50% - var(--tailSize));\n}\n\n[data-position='top'][data-align='right'] > .METooltip::after,\n[data-position='bottom'][data-align='right'] > .METooltip::after {\n  right: 5px;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n","",{version:3,sources:["webpack://./src/browser/ui/Tooltip/Tooltip.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,8CAA8C,EAAE,yBAAyB;EACzE,0CAA0C,EAAE,yBAAyB;EACrE,gCAAgC,EAAE,yBAAyB;EAC3D,+BAA+B,EAAE,yBAAyB;;EAE1D,kBAAkB;EAClB,2BAA2B;EAC3B,mDAAmD;EACnD,gBAAgB;EAChB,kBAAkB;EAClB,6BAA6B;EAC7B,mBAAmB;EACnB,mBAAmB;EACnB,oBAAoB;EACpB,eAAe;EACf,WAAW,EAAE,yBAAyB;EACtC,0CAA0C;AAC5C;;AAEA;EACE,kBAAkB;EAClB,UAAU;AACZ;;AAEA;;;;EAIE;AACF;EACE,8BAA8B;AAChC;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;EACE,2BAA2B;AAC7B;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;;EAEE;AACF;EACE,kBAAkB;EAClB,yCAAyC;EACzC,WAAW;AACb;;AAEA;;;EAGE;AACF;EACE,SAAS;EACT,gDAAgD;AAClD;;AAEA;EACE,gCAAgC;EAChC,WAAW;EACX,kDAAkD;AACpD;;AAEA;EACE,YAAY;EACZ,mDAAmD;AACrD;;AAEA;EACE,gCAAgC;EAChC,UAAU;EACV,iDAAiD;AACnD;;AAEA;;;EAGE;;AAEF;;EAEE,SAAS;AACX;;AAEA;;EAEE,iCAAiC;AACnC;;AAEA;;EAEE,UAAU;AACZ;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF",sourcesContent:[".METooltip {\n  --tailSize: 5px;\n  --tooltip_dark_background: rgba(0, 0, 0, 0.72); /* @TODO: correct token */\n  --tooltip_dark_border: rgba(0, 0, 0, 0.72); /* @TODO: correct token */\n  --tooltip_light_background: #fff; /* @TODO: correct token */\n  --tooltip_light_border: #c5d0db; /* @TODO: correct token */\n\n  position: relative;\n  animation: fadeIn 0.3s ease;\n  transition: opacity 0.2s ease, visibility 0.2s ease;\n  padding: 3px 9px;\n  border-radius: 4px;\n  font: 12.5px/18px var(--font);\n  height: min-content;\n  white-space: nowrap;\n  pointer-events: none;\n  max-width: none;\n  color: #fff; /* @TODO: correct token */\n  background: var(--tooltip_dark_background);\n}\n\n.METooltip--removed {\n  visibility: hidden;\n  opacity: 0;\n}\n\n/**\n * Задаем отступы самого тултипа от Поппера для хвостика\n * Например, если позиционируемся сверху (над элементом),\n * то снизу должен быть отступ для хвостика\n */\n[data-position='top'] > .METooltip {\n  margin-bottom: var(--tailSize);\n}\n\n[data-position='right'] > .METooltip {\n  margin-left: var(--tailSize);\n}\n\n[data-position='bottom'] > .METooltip {\n  margin-top: var(--tailSize);\n}\n\n[data-position='left'] > .METooltip {\n  margin-right: var(--tailSize);\n}\n\n/**\n * Хвостик тултипа\n */\n.METooltip::after {\n  position: absolute;\n  border: var(--tailSize) solid transparent;\n  content: '';\n}\n\n/**\n * Отображаем хвостик, перекрашивая один из бордеров\n * для появления видимого треугольника\n */\n[data-position='top'] > .METooltip::after {\n  top: 100%;\n  border-top-color: var(--tooltip_dark_background);\n}\n\n[data-position='right'] > .METooltip::after {\n  top: calc(50% - var(--tailSize));\n  right: 100%;\n  border-right-color: var(--tooltip_dark_background);\n}\n\n[data-position='bottom'] > .METooltip::after {\n  bottom: 100%;\n  border-bottom-color: var(--tooltip_dark_background);\n}\n\n[data-position='left'] > .METooltip::after {\n  top: calc(50% - var(--tailSize));\n  left: 100%;\n  border-left-color: var(--tooltip_dark_background);\n}\n\n/**\n * Для режима, когда тултип показывается сверху или снизу,\n * выравниваем тултип по горизонтали (когда он находится на верхней или нижней стороне)\n */\n\n[data-position='top'][data-align='left'] > .METooltip::after,\n[data-position='bottom'][data-align='left'] > .METooltip::after {\n  left: 5px;\n}\n\n[data-position='top'][data-align='center'] > .METooltip::after,\n[data-position='bottom'][data-align='center'] > .METooltip::after {\n  left: calc(50% - var(--tailSize));\n}\n\n[data-position='top'][data-align='right'] > .METooltip::after,\n[data-position='bottom'][data-align='right'] > .METooltip::after {\n  right: 5px;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n"],sourceRoot:""}]);const s=a},5469:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".TypingIndicator {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  vertical-align: middle;\n}\n\n.TypingIndicator--text .TypingIndicator__particle,\n.TypingIndicator--text::before,\n.TypingIndicator--text::after {\n  width: 6px;\n  height: 6px;\n  margin: 0 1px;\n  background: currentColor;\n  border-radius: 3px;\n  backface-visibility: hidden;\n  animation: TypingAnimationText 1s linear infinite;\n}\n\n.TypingIndicator--text::before,\n.TypingIndicator--text::after {\n  content: '';\n  display: block;\n}\n\n.TypingIndicator.TypingIndicator--text::before {\n  animation-delay: calc(-1 / 6 * 1s);\n}\n.TypingIndicator.TypingIndicator--text::after {\n  animation-delay: calc(1 / 6 * 1s);\n}\n\n@keyframes TypingAnimationText {\n  0%,\n  66.7%,\n  100% {\n    opacity: 0.4;\n    transform: scale(0.6);\n  }\n  33.3% {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n.TypingIndicator--voice .TypingIndicator__particle,\n.TypingIndicator--voice::before,\n.TypingIndicator--voice::after {\n  width: 3px;\n  height: 12px;\n  margin: 0 1px;\n  border-radius: 2px;\n  background: currentColor;\n  transform: scaleY(0.45);\n  animation: TypingAnimationVoice 1s linear infinite;\n}\n\n.TypingIndicator--voice::before,\n.TypingIndicator--voice::after {\n  content: '';\n  display: block;\n}\n\n.TypingIndicator::before {\n  animation-delay: calc(-1 / 6 * 1s);\n}\n\n.TypingIndicator::after {\n  animation-delay: calc(1 / 6 * 1s);\n}\n\n@keyframes TypingAnimationVoice {\n  0%,\n  66.7%,\n  100% {\n    opacity: 0.4;\n    transform: scaleY(0.67);\n  }\n  33.3% {\n    opacity: 1;\n    transform: scaleY(1);\n  }\n}\n\n.TypingIndicator--file {\n}\n\n.TypingIndicator--file .TypingIndicator__particle {\n  width: 20px;\n  height: 6px;\n  border-radius: 2px;\n  overflow: hidden;\n  animation: none;\n  position: relative;\n  background: none;\n}\n\n.TypingIndicator--file .TypingIndicator__particle::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: currentColor;\n  opacity: 0.3;\n}\n\n.TypingIndicator--file .TypingIndicator__particle::after {\n  content: '';\n  display: block;\n  width: 50%;\n  height: 100%;\n  border-radius: 2px;\n  background: currentColor;\n  animation: TypingAnimationFile 1s linear infinite;\n}\n\n@keyframes TypingAnimationFile {\n  0% {\n    transform: translateX(-100%);\n  }\n  100% {\n    transform: translateX(200%);\n  }\n}\n","",{version:3,sources:["webpack://./src/browser/ui/TypingIndicator/TypingIndicator.css"],names:[],mappings:"AAAA;EACE,oBAAoB;EACpB,uBAAuB;EACvB,mBAAmB;EACnB,sBAAsB;AACxB;;AAEA;;;EAGE,UAAU;EACV,WAAW;EACX,aAAa;EACb,wBAAwB;EACxB,kBAAkB;EAClB,2BAA2B;EAC3B,iDAAiD;AACnD;;AAEA;;EAEE,WAAW;EACX,cAAc;AAChB;;AAEA;EACE,kCAAkC;AACpC;AACA;EACE,iCAAiC;AACnC;;AAEA;EACE;;;IAGE,YAAY;IACZ,qBAAqB;EACvB;EACA;IACE,UAAU;IACV,mBAAmB;EACrB;AACF;;AAEA;;;EAGE,UAAU;EACV,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,wBAAwB;EACxB,uBAAuB;EACvB,kDAAkD;AACpD;;AAEA;;EAEE,WAAW;EACX,cAAc;AAChB;;AAEA;EACE,kCAAkC;AACpC;;AAEA;EACE,iCAAiC;AACnC;;AAEA;EACE;;;IAGE,YAAY;IACZ,uBAAuB;EACzB;EACA;IACE,UAAU;IACV,oBAAoB;EACtB;AACF;;AAEA;AACA;;AAEA;EACE,WAAW;EACX,WAAW;EACX,kBAAkB;EAClB,gBAAgB;EAChB,eAAe;EACf,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,MAAM;EACN,SAAS;EACT,OAAO;EACP,QAAQ;EACR,wBAAwB;EACxB,YAAY;AACd;;AAEA;EACE,WAAW;EACX,cAAc;EACd,UAAU;EACV,YAAY;EACZ,kBAAkB;EAClB,wBAAwB;EACxB,iDAAiD;AACnD;;AAEA;EACE;IACE,4BAA4B;EAC9B;EACA;IACE,2BAA2B;EAC7B;AACF",sourcesContent:[".TypingIndicator {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  vertical-align: middle;\n}\n\n.TypingIndicator--text .TypingIndicator__particle,\n.TypingIndicator--text::before,\n.TypingIndicator--text::after {\n  width: 6px;\n  height: 6px;\n  margin: 0 1px;\n  background: currentColor;\n  border-radius: 3px;\n  backface-visibility: hidden;\n  animation: TypingAnimationText 1s linear infinite;\n}\n\n.TypingIndicator--text::before,\n.TypingIndicator--text::after {\n  content: '';\n  display: block;\n}\n\n.TypingIndicator.TypingIndicator--text::before {\n  animation-delay: calc(-1 / 6 * 1s);\n}\n.TypingIndicator.TypingIndicator--text::after {\n  animation-delay: calc(1 / 6 * 1s);\n}\n\n@keyframes TypingAnimationText {\n  0%,\n  66.7%,\n  100% {\n    opacity: 0.4;\n    transform: scale(0.6);\n  }\n  33.3% {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n.TypingIndicator--voice .TypingIndicator__particle,\n.TypingIndicator--voice::before,\n.TypingIndicator--voice::after {\n  width: 3px;\n  height: 12px;\n  margin: 0 1px;\n  border-radius: 2px;\n  background: currentColor;\n  transform: scaleY(0.45);\n  animation: TypingAnimationVoice 1s linear infinite;\n}\n\n.TypingIndicator--voice::before,\n.TypingIndicator--voice::after {\n  content: '';\n  display: block;\n}\n\n.TypingIndicator::before {\n  animation-delay: calc(-1 / 6 * 1s);\n}\n\n.TypingIndicator::after {\n  animation-delay: calc(1 / 6 * 1s);\n}\n\n@keyframes TypingAnimationVoice {\n  0%,\n  66.7%,\n  100% {\n    opacity: 0.4;\n    transform: scaleY(0.67);\n  }\n  33.3% {\n    opacity: 1;\n    transform: scaleY(1);\n  }\n}\n\n.TypingIndicator--file {\n}\n\n.TypingIndicator--file .TypingIndicator__particle {\n  width: 20px;\n  height: 6px;\n  border-radius: 2px;\n  overflow: hidden;\n  animation: none;\n  position: relative;\n  background: none;\n}\n\n.TypingIndicator--file .TypingIndicator__particle::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: currentColor;\n  opacity: 0.3;\n}\n\n.TypingIndicator--file .TypingIndicator__particle::after {\n  content: '';\n  display: block;\n  width: 50%;\n  height: 100%;\n  border-radius: 2px;\n  background: currentColor;\n  animation: TypingAnimationFile 1s linear infinite;\n}\n\n@keyframes TypingAnimationFile {\n  0% {\n    transform: translateX(-100%);\n  }\n  100% {\n    transform: translateX(200%);\n  }\n}\n"],sourceRoot:""}]);const s=a},3024:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".UnreadCounter {\n  min-width: 20px;\n  height: 20px;\n  padding: 0 6px;\n  border-radius: 10px;\n  font: 500 13px/20px var(--font);\n  text-align: center;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n}\n\n.UnreadCounter--muted {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.UnreadCounter--size-18 {\n  min-width: 18px;\n  height: 18px;\n  /* @TODO В макете 12px + нет семиболда, поправить при переходе на VK Sans */\n  font: 500 12px/18px var(--font);\n  padding: 0 4px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/UnreadCounter/UnreadCounter.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,YAAY;EACZ,cAAc;EACd,mBAAmB;EACnB,+BAA+B;EAC/B,kBAAkB;EAClB,6CAA6C;EAC7C,kCAAkC;AACpC;;AAEA;EACE,+CAA+C;EAC/C,oCAAoC;AACtC;;AAEA;EACE,eAAe;EACf,YAAY;EACZ,2EAA2E;EAC3E,+BAA+B;EAC/B,cAAc;AAChB",sourcesContent:[".UnreadCounter {\n  min-width: 20px;\n  height: 20px;\n  padding: 0 6px;\n  border-radius: 10px;\n  font: 500 13px/20px var(--font);\n  text-align: center;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n}\n\n.UnreadCounter--muted {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.UnreadCounter--size-18 {\n  min-width: 18px;\n  height: 18px;\n  /* @TODO В макете 12px + нет семиболда, поправить при переходе на VK Sans */\n  font: 500 12px/18px var(--font);\n  padding: 0 4px;\n}\n"],sourceRoot:""}]);const s=a},3379:e=>{"use strict";var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],u=i[l]||0,d="".concat(l," ").concat(u);i[l]=u+1;var A=t(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==A)n[A].references++,n[A].updater(p);else{var h=o(p,r);r.byIndex=s,n.splice(s,0,{identifier:d,updater:h,references:1})}a.push(d)}return a}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=t(i[a]);n[s].references--}for(var c=r(e,o),l=0;l<i.length;l++){var u=t(i[l]);0===n[u].references&&(n[u].updater(),n.splice(u,1))}i=c}}},569:e=>{"use strict";var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},9216:e=>{"use strict";e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},3565:(e,n,t)=>{"use strict";e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},7795:e=>{"use strict";e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},4589:e=>{"use strict";e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},5724:e=>{"use strict";e.exports=s},4098:e=>{"use strict";e.exports=o},4262:e=>{"use strict";e.exports=a},8562:e=>{"use strict";e.exports=i},4654:()=>{},176:(e,n,t)=>{"use strict";var r=t(3926),o=r("%Array%"),i=r("%Symbol.species%",!0),a=r("%TypeError%"),s=t(8278),c=t(6794),l=t(1237),u=t(291),d=t(1232);e.exports=function(e,n){if(!u(n)||n<0)throw new a("Assertion failed: length must be an integer >= 0");var t,r=0===n?0:n;if(c(e)&&(t=s(e,"constructor"),i&&"Object"===d(t)&&null===(t=s(t,i))&&(t=void 0)),void 0===t)return o(r);if(!l(t))throw new a("C must be a constructor");return new t(r)}},6124:(e,n,t)=>{"use strict";var r=t(3926),o=t(533),i=r("%TypeError%"),a=t(6794),s=r("%Reflect.apply%",!0)||o("%Function.prototype.apply%");e.exports=function(e,n){var t=arguments.length>2?arguments[2]:[];if(!a(t))throw new i("Assertion failed: optional `argumentsList`, if provided, must be a List");return s(e,n,t)}},2738:(e,n,t)=>{"use strict";var r=t(3926)("%TypeError%"),o=t(8265),i=t(1246),a=t(7893),s=t(1388),c=t(9866),l=t(5060),u=t(7590),d=t(1232);e.exports=function(e,n,t){if("Object"!==d(e))throw new r("Assertion failed: Type(O) is not Object");if(!l(n))throw new r("Assertion failed: IsPropertyKey(P) is not true");var A=a(e,n),p=!A||c(e);return!(A&&(!A["[[Writable]]"]||!A["[[Configurable]]"])||!p)&&o(s,u,i,e,n,{"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":t,"[[Writable]]":!0})}},702:(e,n,t)=>{"use strict";var r=t(3926)("%TypeError%"),o=t(2738),i=t(5060),a=t(1232);e.exports=function(e,n,t){if("Object"!==a(e))throw new r("Assertion failed: Type(O) is not Object");if(!i(n))throw new r("Assertion failed: IsPropertyKey(P) is not true");var s=o(e,n,t);if(!s)throw new r("unable to create data property");return s}},2051:(e,n,t)=>{"use strict";var r=t(3926)("%TypeError%"),o=t(9669),i=t(8265),a=t(1246),s=t(1083),c=t(1388),l=t(5060),u=t(7590),d=t(6217),A=t(1232);e.exports=function(e,n,t){if("Object"!==A(e))throw new r("Assertion failed: Type(O) is not Object");if(!l(n))throw new r("Assertion failed: IsPropertyKey(P) is not true");var p=o({Type:A,IsDataDescriptor:c,IsAccessorDescriptor:s},t)?t:d(t);if(!o({Type:A,IsDataDescriptor:c,IsAccessorDescriptor:s},p))throw new r("Assertion failed: Desc is not a valid Property Descriptor");return i(c,u,a,e,n,p)}},494:(e,n,t)=>{"use strict";var r=t(3926)("%TypeError%"),o=t(9425),i=t(6124),a=t(702),s=t(8278),c=t(9089),l=t(6794),u=t(3838),d=t(6338);e.exports=function e(n,t,A,p,h){var m;arguments.length>5&&(m=arguments[5]);for(var f=p,g=0;g<A;){var C=d(g);if(!0===c(t,C)){var v=s(t,C);if(void 0!==m){if(arguments.length<=6)throw new r("Assertion failed: thisArg is required when mapperFunction is provided");v=i(m,arguments[6],[v,g,t])}var E=!1;if(h>0&&(E=l(v)),E)f=e(n,v,u(v),f,h-1);else{if(f>=o)throw new r("index too large");a(n,d(f),v),f+=1}}g+=1}return f}},1246:(e,n,t)=>{"use strict";var r=t(3742),o=t(1232);e.exports=function(e){if(void 0===e)return e;r(o,"Property Descriptor","Desc",e);var n={};return"[[Value]]"in e&&(n.value=e["[[Value]]"]),"[[Writable]]"in e&&(n.writable=e["[[Writable]]"]),"[[Get]]"in e&&(n.get=e["[[Get]]"]),"[[Set]]"in e&&(n.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(n.enumerable=e["[[Enumerable]]"]),"[[Configurable]]"in e&&(n.configurable=e["[[Configurable]]"]),n}},8278:(e,n,t)=>{"use strict";var r=t(3926)("%TypeError%"),o=t(7915),i=t(5060),a=t(1232);e.exports=function(e,n){if("Object"!==a(e))throw new r("Assertion failed: Type(O) is not Object");if(!i(n))throw new r("Assertion failed: IsPropertyKey(P) is not true, got "+o(n));return e[n]}},9089:(e,n,t)=>{"use strict";var r=t(3926)("%TypeError%"),o=t(5060),i=t(1232);e.exports=function(e,n){if("Object"!==i(e))throw new r("Assertion failed: `O` must be an Object");if(!o(n))throw new r("Assertion failed: `P` must be a Property Key");return n in e}},1083:(e,n,t)=>{"use strict";var r=t(8315),o=t(3742),i=t(1232);e.exports=function(e){return void 0!==e&&(o(i,"Property Descriptor","Desc",e),!(!r(e,"[[Get]]")&&!r(e,"[[Set]]")))}},6794:(e,n,t)=>{"use strict";var r=t(3926)("%Array%"),o=!r.isArray&&t(533)("Object.prototype.toString");e.exports=r.isArray||function(e){return"[object Array]"===o(e)}},1386:(e,n,t)=>{"use strict";e.exports=t(2231)},1237:(e,n,t)=>{"use strict";var r=t(7439)("%Reflect.construct%",!0),o=t(2051);try{o({},"",{"[[Get]]":function(){}})}catch(e){o=null}if(o&&r){var i={},a={};o(a,"length",{"[[Get]]":function(){throw i},"[[Enumerable]]":!0}),e.exports=function(e){try{r(e,a)}catch(e){return e===i}}}else e.exports=function(e){return"function"==typeof e&&!!e.prototype}},1388:(e,n,t)=>{"use strict";var r=t(8315),o=t(3742),i=t(1232);e.exports=function(e){return void 0!==e&&(o(i,"Property Descriptor","Desc",e),!(!r(e,"[[Value]]")&&!r(e,"[[Writable]]")))}},9866:(e,n,t)=>{"use strict";var r=t(3926)("%Object%"),o=t(6621),i=r.preventExtensions,a=r.isExtensible;e.exports=i?function(e){return!o(e)&&a(e)}:function(e){return!o(e)}},291:(e,n,t)=>{"use strict";var r=t(4687),o=t(1924),i=t(1757),a=t(5854);e.exports=function(e){if("number"!=typeof e||i(e)||!a(e))return!1;var n=r(e);return o(n)===n}},5060:e=>{"use strict";e.exports=function(e){return"string"==typeof e||"symbol"==typeof e}},4074:(e,n,t)=>{"use strict";var r=t(3926)("%Symbol.match%",!0),o=t(879),i=t(7082);e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(r){var n=e[r];if(void 0!==n)return i(n)}return o(e)}},3838:(e,n,t)=>{"use strict";var r=t(3926)("%TypeError%"),o=t(8278),i=t(502),a=t(1232);e.exports=function(e){if("Object"!==a(e))throw new r("Assertion failed: `obj` must be an Object");return i(o(e,"length"))}},7893:(e,n,t)=>{"use strict";var r=t(3926),o=t(964),i=r("%TypeError%"),a=t(533)("Object.prototype.propertyIsEnumerable"),s=t(8315),c=t(6794),l=t(5060),u=t(4074),d=t(6217),A=t(1232);e.exports=function(e,n){if("Object"!==A(e))throw new i("Assertion failed: O must be an Object");if(!l(n))throw new i("Assertion failed: P must be a Property Key");if(s(e,n)){if(!o){var t=c(e)&&"length"===n,r=u(e)&&"lastIndex"===n;return{"[[Configurable]]":!(t||r),"[[Enumerable]]":a(e,n),"[[Value]]":e[n],"[[Writable]]":!0}}return d(o(e,n))}}},8643:(e,n,t)=>{"use strict";e.exports=t(4411)},7590:(e,n,t)=>{"use strict";var r=t(1757);e.exports=function(e,n){return e===n?0!==e||1/e==1/n:r(e)&&r(n)}},7082:e=>{"use strict";e.exports=function(e){return!!e}},4867:(e,n,t)=>{"use strict";var r=t(2213),o=t(6480);e.exports=function(e){var n=o(e);return 0!==n&&(n=r(n)),0===n?0:n}},502:(e,n,t)=>{"use strict";var r=t(9425),o=t(4867);e.exports=function(e){var n=o(e);return n<=0?0:n>r?r:n}},6480:(e,n,t)=>{"use strict";var r=t(3926),o=r("%TypeError%"),i=r("%Number%"),a=r("%RegExp%"),s=r("%parseInt%"),c=t(533),l=t(3832),u=t(6621),d=c("String.prototype.slice"),A=l(/^0b[01]+$/i),p=l(/^0o[0-7]+$/i),h=l(/^[-+]0x[0-9a-f]+$/i),m=l(new a("["+["","​","￾"].join("")+"]","g")),f=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),g=new RegExp("(^["+f+"]+)|(["+f+"]+$)","g"),C=c("String.prototype.replace"),v=t(1750);e.exports=function e(n){var t=u(n)?n:v(n,i);if("symbol"==typeof t)throw new o("Cannot convert a Symbol value to a number");if("bigint"==typeof t)throw new o("Conversion from 'BigInt' to 'number' is not allowed.");if("string"==typeof t){if(A(t))return e(s(d(t,2),2));if(p(t))return e(s(d(t,2),8));if(m(t)||h(t))return NaN;var r=function(e){return C(e,g,"")}(t);if(r!==t)return e(r)}return i(t)}},8717:(e,n,t)=>{"use strict";var r=t(3926)("%Object%"),o=t(8643);e.exports=function(e){return o(e),r(e)}},1750:(e,n,t)=>{"use strict";var r=t(2957);e.exports=function(e){return arguments.length>1?r(e,arguments[1]):r(e)}},6217:(e,n,t)=>{"use strict";var r=t(8315),o=t(3926)("%TypeError%"),i=t(1232),a=t(7082),s=t(1386);e.exports=function(e){if("Object"!==i(e))throw new o("ToPropertyDescriptor requires an object");var n={};if(r(e,"enumerable")&&(n["[[Enumerable]]"]=a(e.enumerable)),r(e,"configurable")&&(n["[[Configurable]]"]=a(e.configurable)),r(e,"value")&&(n["[[Value]]"]=e.value),r(e,"writable")&&(n["[[Writable]]"]=a(e.writable)),r(e,"get")){var t=e.get;if(void 0!==t&&!s(t))throw new o("getter must be a function");n["[[Get]]"]=t}if(r(e,"set")){var c=e.set;if(void 0!==c&&!s(c))throw new o("setter must be a function");n["[[Set]]"]=c}if((r(n,"[[Get]]")||r(n,"[[Set]]"))&&(r(n,"[[Value]]")||r(n,"[[Writable]]")))throw new o("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return n}},6338:(e,n,t)=>{"use strict";var r=t(3926),o=r("%String%"),i=r("%TypeError%");e.exports=function(e){if("symbol"==typeof e)throw new i("Cannot convert a Symbol value to a string");return o(e)}},1232:(e,n,t)=>{"use strict";var r=t(7571);e.exports=function(e){return"symbol"==typeof e?"Symbol":"bigint"==typeof e?"BigInt":r(e)}},4687:(e,n,t)=>{"use strict";var r=t(3926)("%Math.abs%");e.exports=function(e){return r(e)}},1924:e=>{"use strict";var n=Math.floor;e.exports=function(e){return n(e)}},4411:(e,n,t)=>{"use strict";var r=t(3926)("%TypeError%");e.exports=function(e,n){if(null==e)throw new r(n||"Cannot call method on "+e);return e}},2213:(e,n,t)=>{"use strict";var r=t(9030),o=t(8175),i=t(7563),a=t(1757),s=t(5854),c=t(1066);e.exports=function(e){var n=i(e);return a(n)?0:0!==n&&s(n)?c(n)*o(r(n)):n}},7563:(e,n,t)=>{"use strict";var r=t(5180);e.exports=function(e){var n=r(e,Number);if("string"!=typeof n)return+n;var t=n.replace(/^[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+|[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+$/g,"");return/^0[ob]|^[+-]0x/.test(t)?NaN:+t}},5180:(e,n,t)=>{"use strict";e.exports=t(1898)},7571:e=>{"use strict";e.exports=function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0}},9030:(e,n,t)=>{"use strict";var r=t(3926)("%Math.abs%");e.exports=function(e){return r(e)}},8175:e=>{"use strict";var n=Math.floor;e.exports=function(e){return n(e)}},7439:(e,n,t)=>{"use strict";e.exports=t(3926)},8265:(e,n,t)=>{"use strict";var r=t(3926)("%Object.defineProperty%",!0);if(r)try{r({},"a",{value:1})}catch(e){r=null}var o=t(533)("Object.prototype.propertyIsEnumerable");e.exports=function(e,n,t,i,a,s){if(!r){if(!e(s))return!1;if(!s["[[Configurable]]"]||!s["[[Writable]]"])return!1;if(a in i&&o(i,a)!==!!s["[[Enumerable]]"])return!1;var c=s["[[Value]]"];return i[a]=c,n(i[a],c)}return r(i,a,t(s)),!0}},3742:(e,n,t)=>{"use strict";var r=t(3926),o=r("%TypeError%"),i=r("%SyntaxError%"),a=t(8315),s={"Property Descriptor":function(e,n){if("Object"!==e(n))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in n)if(a(n,r)&&!t[r])return!1;var i=a(n,"[[Value]]"),s=a(n,"[[Get]]")||a(n,"[[Set]]");if(i&&s)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0}};e.exports=function(e,n,t,r){var a=s[n];if("function"!=typeof a)throw new i("unknown record type: "+n);if(!a(e,r))throw new o(t+" must be a "+n)}},964:(e,n,t)=>{"use strict";var r=t(3926)("%Object.getOwnPropertyDescriptor%");if(r)try{r([],"length")}catch(e){r=null}e.exports=r},5854:e=>{"use strict";var n=Number.isNaN||function(e){return e!=e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-1/0}},1757:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},6621:e=>{"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},9669:(e,n,t)=>{"use strict";var r=t(3926),o=t(8315),i=r("%TypeError%");e.exports=function(e,n){if("Object"!==e.Type(n))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in n)if(o(n,r)&&!t[r])return!1;if(e.IsDataDescriptor(n)&&e.IsAccessorDescriptor(n))throw new i("Property Descriptors may not be both accessor and data descriptors");return!0}},9425:(e,n,t)=>{"use strict";var r=t(3926),o=r("%Math%"),i=r("%Number%");e.exports=i.MAX_SAFE_INTEGER||o.pow(2,53)-1},3832:(e,n,t)=>{"use strict";var r=t(3926)("RegExp.prototype.test"),o=t(4203);e.exports=function(e){return o(r,e)}},1066:e=>{"use strict";e.exports=function(e){return e>=0?1:-1}}},c={};function l(e){var n=c[e];if(void 0!==n)return n.exports;var r=c[e]={id:e,exports:{}};return t[e].call(r.exports,r,r.exports,l),r.exports}l.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return l.d(n,{a:n}),n},l.d=(e,n)=>{for(var t in n)l.o(n,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};return(()=>{"use strict";l.r(u),l.d(u,{API_GROUP_FIELDS:()=>Ce,API_USER_FIELDS:()=>ge,API_VERSION:()=>ve,Api:()=>Er,Engine:()=>_r,ExternalEvents:()=>Pr,FCApp:()=>wh,Idle:()=>zr,Lang:()=>Dr,Player:()=>Mr,ProfileInfoTTApp:()=>Om,Queue:()=>Br,SettingsApp:()=>mg,Storage:()=>Tr,TCLApp:()=>ym,createStore:()=>fr,initConfig:()=>fg});var e=l(3379),n=l.n(e),t=l(7795),r=l.n(t),o=l(569),i=l.n(o),a=l(3565),s=l.n(a),c=l(9216),d=l.n(c),A=l(4589),p=l.n(A),h=l(5076),m={};function f(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(t.length?" "+t.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function g(e){return!!e&&!!e[re]}function C(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var n=Object.getPrototypeOf(e);if(null===n)return!0;var t=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return t===Object||"function"==typeof t&&Function.toString.call(t)===ie}(e)||Array.isArray(e)||!!e[te]||!!e.constructor[te]||y(e)||B(e))}function v(e,n,t){void 0===t&&(t=!1),0===E(e)?(t?Object.keys:ae)(e).forEach((function(r){t&&"symbol"==typeof r||n(r,e[r],e)})):e.forEach((function(t,r){return n(r,t,e)}))}function E(e){var n=e[re];return n?n.i>3?n.i-4:n.i:Array.isArray(e)?1:y(e)?2:B(e)?3:0}function _(e,n){return 2===E(e)?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function b(e,n,t){var r=E(e);2===r?e.set(n,t):3===r?(e.delete(n),e.add(t)):e[n]=t}function y(e){return K&&e instanceof Map}function B(e){return J&&e instanceof Set}function w(e){return e.o||e.t}function x(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var n=se(e);delete n[re];for(var t=ae(n),r=0;r<t.length;r++){var o=t[r],i=n[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(n[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),n)}function D(e,n){return void 0===n&&(n=!1),S(e)||g(e)||!C(e)||(E(e)>1&&(e.set=e.add=e.clear=e.delete=k),Object.freeze(e),n&&v(e,(function(e,n){return D(n,!0)}),!0)),e}function k(){f(2)}function S(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function F(e){var n=ce[e];return n||f(18,e),n}function I(){return X}function M(e,n){n&&(F("Patches"),e.u=[],e.s=[],e.v=n)}function T(e){P(e),e.p.forEach(O),e.p=null}function P(e){e===X&&(X=e.l)}function z(e){return X={p:[],l:X,h:e,m:!0,_:0}}function O(e){var n=e[re];0===n.i||1===n.i?n.j():n.O=!0}function N(e,n){n._=n.p.length;var t=n.p[0],r=void 0!==e&&e!==t;return n.h.g||F("ES5").S(n,e,r),r?(t[re].P&&(T(n),f(4)),C(e)&&(e=j(n,e),n.l||R(n,e)),n.u&&F("Patches").M(t[re],e,n.u,n.s)):e=j(n,t,[]),T(n),n.u&&n.v(n.u,n.s),e!==ne?e:void 0}function j(e,n,t){if(S(n))return n;var r=n[re];if(!r)return v(n,(function(o,i){return L(e,r,n,o,i,t)}),!0),n;if(r.A!==e)return n;if(!r.P)return R(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=x(r.k):r.o;v(3===r.i?new Set(o):o,(function(n,i){return L(e,r,o,n,i,t)})),R(e,o,!1),t&&e.u&&F("Patches").R(r,t,e.u,e.s)}return r.o}function L(e,n,t,r,o,i){if(g(o)){var a=j(e,o,i&&n&&3!==n.i&&!_(n.D,r)?i.concat(r):void 0);if(b(t,r,a),!g(a))return;e.m=!1}if(C(o)&&!S(o)){if(!e.h.F&&e._<1)return;j(e,o),n&&n.A.l||R(e,o)}}function R(e,n,t){void 0===t&&(t=!1),e.h.F&&e.m&&D(n,t)}function U(e,n){var t=e[re];return(t?w(t):e)[n]}function W(e,n){if(n in e)for(var t=Object.getPrototypeOf(e);t;){var r=Object.getOwnPropertyDescriptor(t,n);if(r)return r;t=Object.getPrototypeOf(t)}}function H(e){e.P||(e.P=!0,e.l&&H(e.l))}function q(e){e.o||(e.o=x(e.t))}function Z(e,n,t){var r=y(n)?F("MapSet").N(n,t):B(n)?F("MapSet").T(n,t):e.g?function(e,n){var t=Array.isArray(e),r={i:t?1:0,A:n?n.A:I(),P:!1,I:!1,D:{},l:n,t:e,k:null,o:null,j:null,C:!1},o=r,i=le;t&&(o=[r],i=ue);var a=Proxy.revocable(o,i),s=a.revoke,c=a.proxy;return r.k=c,r.j=s,c}(n,t):F("ES5").J(n,t);return(t?t.A:I()).p.push(r),r}function V(e){return g(e)||f(22,e),function e(n){if(!C(n))return n;var t,r=n[re],o=E(n);if(r){if(!r.P&&(r.i<4||!F("ES5").K(r)))return r.t;r.I=!0,t=Y(n,o),r.I=!1}else t=Y(n,o);return v(t,(function(n,o){r&&function(e,n){return 2===E(e)?e.get(n):e[n]}(r.t,n)===o||b(t,n,e(o))})),3===o?new Set(t):t}(e)}function Y(e,n){switch(n){case 2:return new Map(e);case 3:return Array.from(e)}return x(e)}function G(){function e(e,n){function t(){this.constructor=e}o(e,n),e.prototype=(t.prototype=n.prototype,new t)}function n(e){e.o||(e.D=new Map,e.o=new Map(e.t))}function t(e){e.o||(e.o=new Set,e.t.forEach((function(n){if(C(n)){var t=Z(e.A.h,n,e);e.p.set(n,t),e.o.add(t)}else e.o.add(n)})))}function r(e){e.O&&f(3,JSON.stringify(w(e)))}var o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},i=function(){function t(e,n){return this[re]={i:2,l:n,A:n?n.A:I(),P:!1,I:!1,o:void 0,D:void 0,t:e,k:this,C:!1,O:!1},this}e(t,Map);var o=t.prototype;return Object.defineProperty(o,"size",{get:function(){return w(this[re]).size}}),o.has=function(e){return w(this[re]).has(e)},o.set=function(e,t){var o=this[re];return r(o),w(o).has(e)&&w(o).get(e)===t||(n(o),H(o),o.D.set(e,!0),o.o.set(e,t),o.D.set(e,!0)),this},o.delete=function(e){if(!this.has(e))return!1;var t=this[re];return r(t),n(t),H(t),t.D.set(e,!1),t.o.delete(e),!0},o.clear=function(){var e=this[re];r(e),w(e).size&&(n(e),H(e),e.D=new Map,v(e.t,(function(n){e.D.set(n,!1)})),e.o.clear())},o.forEach=function(e,n){var t=this;w(this[re]).forEach((function(r,o){e.call(n,t.get(o),o,t)}))},o.get=function(e){var t=this[re];r(t);var o=w(t).get(e);if(t.I||!C(o))return o;if(o!==t.t.get(e))return o;var i=Z(t.A.h,o,t);return n(t),t.o.set(e,i),i},o.keys=function(){return w(this[re]).keys()},o.values=function(){var e,n=this,t=this.keys();return(e={})[oe]=function(){return n.values()},e.next=function(){var e=t.next();return e.done?e:{done:!1,value:n.get(e.value)}},e},o.entries=function(){var e,n=this,t=this.keys();return(e={})[oe]=function(){return n.entries()},e.next=function(){var e=t.next();if(e.done)return e;var r=n.get(e.value);return{done:!1,value:[e.value,r]}},e},o[oe]=function(){return this.entries()},t}(),a=function(){function n(e,n){return this[re]={i:3,l:n,A:n?n.A:I(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,O:!1,C:!1},this}e(n,Set);var o=n.prototype;return Object.defineProperty(o,"size",{get:function(){return w(this[re]).size}}),o.has=function(e){var n=this[re];return r(n),n.o?!!n.o.has(e)||!(!n.p.has(e)||!n.o.has(n.p.get(e))):n.t.has(e)},o.add=function(e){var n=this[re];return r(n),this.has(e)||(t(n),H(n),n.o.add(e)),this},o.delete=function(e){if(!this.has(e))return!1;var n=this[re];return r(n),t(n),H(n),n.o.delete(e)||!!n.p.has(e)&&n.o.delete(n.p.get(e))},o.clear=function(){var e=this[re];r(e),w(e).size&&(t(e),H(e),e.o.clear())},o.values=function(){var e=this[re];return r(e),t(e),e.o.values()},o.entries=function(){var e=this[re];return r(e),t(e),e.o.entries()},o.keys=function(){return this.values()},o[oe]=function(){return this.values()},o.forEach=function(e,n){for(var t=this.values(),r=t.next();!r.done;)e.call(n,r.value,r.value,this),r=t.next()},n}();!function(e,n){ce[e]||(ce[e]=n)}("MapSet",{N:function(e,n){return new i(e,n)},T:function(e,n){return new a(e,n)}})}m.styleTagTransform=p(),m.setAttributes=s(),m.insert=i().bind(null,"head"),m.domAPI=r(),m.insertStyleElement=d(),n()(h.Z,m),h.Z&&h.Z.locals&&h.Z.locals;var $,X,Q="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),K="undefined"!=typeof Map,J="undefined"!=typeof Set,ee="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ne=Q?Symbol.for("immer-nothing"):(($={})["immer-nothing"]=!0,$),te=Q?Symbol.for("immer-draftable"):"__$immer_draftable",re=Q?Symbol.for("immer-state"):"__$immer_state",oe="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",ie=""+Object.prototype.constructor,ae="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,se=Object.getOwnPropertyDescriptors||function(e){var n={};return ae(e).forEach((function(t){n[t]=Object.getOwnPropertyDescriptor(e,t)})),n},ce={},le={get:function(e,n){if(n===re)return e;var t=w(e);if(!_(t,n))return function(e,n,t){var r,o=W(n,t);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,t,n);var r=t[n];return e.I||!C(r)?r:r===U(e.t,n)?(q(e),e.o[n]=Z(e.A.h,r,e)):r},has:function(e,n){return n in w(e)},ownKeys:function(e){return Reflect.ownKeys(w(e))},set:function(e,n,t){var r=W(w(e),n);if(null==r?void 0:r.set)return r.set.call(e.k,t),!0;if(!e.P){var o=U(w(e),n),i=null==o?void 0:o[re];if(i&&i.t===t)return e.o[n]=t,e.D[n]=!1,!0;if(function(e,n){return e===n?0!==e||1/e==1/n:e!=e&&n!=n}(t,o)&&(void 0!==t||_(e.t,n)))return!0;q(e),H(e)}return e.o[n]===t&&"number"!=typeof t&&(void 0!==t||n in e.o)||(e.o[n]=t,e.D[n]=!0,!0)},deleteProperty:function(e,n){return void 0!==U(e.t,n)||n in e.t?(e.D[n]=!1,q(e),H(e)):delete e.D[n],e.o&&delete e.o[n],!0},getOwnPropertyDescriptor:function(e,n){var t=w(e),r=Reflect.getOwnPropertyDescriptor(t,n);return r?{writable:!0,configurable:1!==e.i||"length"!==n,enumerable:r.enumerable,value:t[n]}:r},defineProperty:function(){f(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){f(12)}},ue={};v(le,(function(e,n){ue[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}})),ue.deleteProperty=function(e,n){return le.deleteProperty.call(this,e[0],n)},ue.set=function(e,n,t){return le.set.call(this,e[0],n,t,e[0])};var de=new(function(){function e(e){var n=this;this.g=ee,this.F=!0,this.produce=function(e,t,r){if("function"==typeof e&&"function"!=typeof t){var o=t;t=e;var i=n;return function(e){var n=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return i.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(a))}))}}var a;if("function"!=typeof t&&f(6),void 0!==r&&"function"!=typeof r&&f(7),C(e)){var s=z(n),c=Z(n,e,void 0),l=!0;try{a=t(c),l=!1}finally{l?T(s):P(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return M(s,r),N(e,s)}),(function(e){throw T(s),e})):(M(s,r),N(a,s))}if(!e||"object"!=typeof e){if((a=t(e))===ne)return;return void 0===a&&(a=e),n.F&&D(a,!0),a}f(21,e)},this.produceWithPatches=function(e,t){return"function"==typeof e?function(t){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return n.produceWithPatches(t,(function(n){return e.apply(void 0,[n].concat(o))}))}:[n.produce(e,t,(function(e,n){r=e,o=n})),r,o];var r,o},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var n=e.prototype;return n.createDraft=function(e){C(e)||f(8),g(e)&&(e=V(e));var n=z(this),t=Z(this,e,void 0);return t[re].C=!0,P(n),t},n.finishDraft=function(e,n){var t=(e&&e[re]).A;return M(t,n),N(void 0,t)},n.setAutoFreeze=function(e){this.F=e},n.setUseProxies=function(e){e&&!ee&&f(20),this.g=e},n.applyPatches=function(e,n){var t;for(t=n.length-1;t>=0;t--){var r=n[t];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=F("Patches").$;return g(e)?o(e,n):this.produce(e,(function(e){return o(e,n.slice(t+1))}))},e}()),Ae=de.produce,pe=(de.produceWithPatches.bind(de),de.setAutoFreeze.bind(de)),he=(de.setUseProxies.bind(de),de.applyPatches.bind(de),de.createDraft.bind(de)),me=de.finishDraft.bind(de);const fe=Ae,ge=["id","first_name","first_name_gen","first_name_acc","last_name","last_name_gen","last_name_acc","sex","photo_50","photo_100","screen_name","online_info","verified","blacklisted","blacklisted_by_me","can_call","can_write_private_message","can_send_friend_request","friend_status","followers_count"],Ce=["id","name","screen_name","type","photo_50","photo_100","members_count","member_status","verified","is_closed","can_message","deactivated","activity","ban_info"],ve="5.159";function Ee(e){throw new Error("Exhaustivness failure! This should never happen.")}function _e(e){return function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){return new Promise((n=>{setTimeout(n,e)}))}))}class be{constructor(e,n){this.minTimeout=e,this.maxTimeout=n,this.delay=()=>this.timeout,this.attempts=()=>this.retries,this.backoff=()=>{this.timeout=Math.min(2*this.timeout,this.maxTimeout),this.retries++},this.reset=()=>{this.timeout=this.minTimeout,this.retries=0},this.timeout=e,this.retries=0}}function ye(e){return e.length>0?e:null}function Be(e){return e>Math.pow(1024,3)?Number((e/Math.pow(1024,3)).toFixed(2))+" GB":e>Math.pow(1024,2)?Number((e/Math.pow(1024,2)).toFixed(1))+" MB":Math.round(e/1024)+" KB"}function we(e){return e>=1e9?Math.floor(e/1e9)+"B":e>=1e6?Math.floor(e/1e6)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e?e.toString():""}function xe(e,n){e||(e=0),e=Math.abs(e);const t=Math.floor(e/3600).toString(),r=(Math.floor(e/60)%60).toString().padStart(2,"0"),o=(e%60).toString().padStart(2,"0");return e>=3600||n?[t,r,o].join(":"):[r,o].join(":")}function De(e){if(Number.isNaN(e)&&(e=0),!e||!Number.isInteger(e))return 0;const n=e;return Se(n)||Ie(n)||Fe(n)?n:0}function ke(e){if(!e||!Number.isInteger(e))return 0;const n=e;return Se(n)||Ie(n)||Fe(n)||(t=n)>-19e8&&t<-189e7?n:0;var t}function Se(e){return e>0&&e<2e9}function Fe(e){return e>2e9}function Ie(e){return e<0&&e>-189e7}function Me(e,n="nom"){switch(e.kind){case"User":switch(n){case"nom":return e.firstName+" "+e.lastName;case"gen":return e.firstNameGen+" "+e.lastNameGen;case"acc":return e.firstNameAcc+" "+e.lastNameAcc;default:return Ee()}case"Group":return e.name;case"Chat":return e.title;default:return Ee()}}function Te(e){switch(e.kind){case"User":return e.firstName+" "+e.lastName.charAt(0)+(e.lastName.length>1?".":"");case"Group":return e.name;case"Chat":return e.title;default:return Ee()}}function Pe(e){if("Chat"===e.kind)return"";if(e.screenName)return`/${e.screenName}`;switch(e.kind){case"User":return`/id${e.id}`;case"Group":return`/club${Math.abs(e.id)}`;default:return Ee()}}function ze(e,n,t){e.lastSeen.at=n,e.lastSeen.platform=t}function Oe(e,n){switch(n){case"add":{if(!e.canChangeFriendship)break;const n={unfamiliar:"outgoingRequest",outgoingRequest:"outgoingRequest",incomingRequest:"friends",friends:"friends"};e.friendship=n[e.friendship];break}case"delete":{const n={unfamiliar:"unfamiliar",outgoingRequest:"unfamiliar",incomingRequest:"incomingRequest",friends:"incomingRequest"};e.friendship=n[e.friendship];break}default:Ee()}}function Ne(e,n){switch(n){case"join":{const n={notMember:e.isClosed?"outgoingRequest":"member",member:"member",unsure:"member",declined:"member",outgoingRequest:"outgoingRequest",incomingRequest:"member"}[e.membership];e.membership!==n&&"member"===n&&e.memberCount++,e.membership=n;break}case"leave":{const n={notMember:"notMember",member:"notMember",unsure:"notMember",declined:"notMember",outgoingRequest:"notMember",incomingRequest:"declined"}[e.membership];e.membership!==n&&e.memberCount--,e.membership=n;break}default:Ee()}}function je(e,n){return e.get(n)||e.get(De())}var Le=l(6883),Re=[["&amp;","&"],["&lt;","<"],["&gt;",">"],["&quot;",'"']];function Ue(e){return Re.reduce((function(e,n){var t=n[0],r=n[1];return e.replace(new RegExp(t,"ig"),r)}),e).replace(/&#(\d+);/g,(function(e,n){return String.fromCodePoint(n)}))}function We(e){return He(e,An)}function He(e,n){if(0===e.length)return[];try{return n.many().map((e=>{const n=[];for(const t of e)switch(t.name){case"LineBreak":n.push({kind:"LineBreak"});break;case"Mention":n.push(Object.assign({kind:"Mention"},t.value));break;case"NamedMention":n.push(Object.assign({kind:"NamedMention"},t.value));break;case"MassMention":n.push({kind:"MassMention",displayName:t.value});break;case"AliasMention":n.push(Object.assign({kind:"AliasMention"},t.value));break;case"ClientMention":n.push({kind:"ClientMention",screenName:t.value});break;case"Email":n.push({kind:"Email",email:t.value});break;case"Hashtag":n.push({kind:"Hashtag",tag:t.value});break;case"Url":const{protocol:e,domainName:r,domain:o,port:i,query:a,full:s}=t.value,c=`${e||"http://"}${r}${o}${i}${a}`;if(o.length<=en&&Je.has(o.toLowerCase())){n.push({kind:"Url",caption:s,href:c});break}n.push({kind:"Text",text:Ue(s)});break;case"Text":const l=n[n.length-1];"Text"===(null==l?void 0:l.kind)?l.text+=t.value:n.push({kind:"Text",text:t.value});break;default:n.push({kind:"Text",text:t.value})}for(const e of n)switch(e.kind){case"Text":e.text=Ue(e.text);break;case"Url":e.caption=Ue(e.caption),e.href=Ue(e.href)}return n})).tryParse(e)}catch(e){return[]}}const qe=Le.regexp(/\n|<br ?\/?>/).node("LineBreak"),Ze=Le.regexp(/(?!,|;|:|\.|\s|\n|"|\(|\)|\[|\]|!|\?)([*@](all|everyone|все|online|here|здесь|тут))(?=$|,|;|:|\.(?![a-z0-9_-])|\s|\n|"|\(|\)|\[|\]|!|\?)/i,1).node("MassMention"),Ve=Le.seqObj(["prefix",Le.oneOf("@*")],["handle",Le.alt(Le.digit,Le.letter,Le.string("_")).atLeast(2).map((e=>e.join("")))]),Ye=Le.seqObj(Le.string("["),["type",Le.alt(Le.string("id"),Le.string("club"))],["peerId",Le.digit.atLeast(1).map((e=>+e.join("")))],Le.string("|"),["screenName",Ve],Le.string("]")).map((e=>({type:e.type,peerId:"club"===e.type?De(-e.peerId):De(e.peerId),screenName:e.screenName.handle}))).node("Mention"),Ge=Le.seqObj(Le.string("["),["type",Le.alt(Le.string("id"),Le.string("club"))],["peerId",Le.digit.atLeast(1).map((e=>+e.join("")))],["displayName",Le.regexp(/\|(.+?)\]/,1)]).map((e=>({type:e.type,peerId:"club"===e.type?De(-e.peerId):De(e.peerId),displayName:e.displayName}))).node("NamedMention"),$e=Le.seqObj(["screenName",Ve],Le.whitespace,["displayName",Le.regexp(/\((.+?)\)/,1)]).map((e=>({screenName:e.screenName.handle,displayName:e.displayName}))).node("AliasMention"),Xe=Ve.map((e=>e.handle)).node("ClientMention"),Qe="((?:[\\w\\$А-Яа-яёЁєЄҐґЇїІіЈј\\—\\-\\_]+\\.){1,5})",Ke="([A-Za-zа-яА-Я\\-\\d]{2,22})",Je=new Set([..."aaa,aarp,abarth,abb,abbott,abbvie,abc,able,abogado,abudhabi,ac,academy,accenture,accountant,accountants,aco,active,actor,ad,adac,ads,adult,ae,aeg,aero,aetna,af,afamilycompany,afl,africa,ag,agakhan,agency,ai,aig,aigo,airbus,airforce,airtel,akdn,al,alfaromeo,alibaba,alipay,allfinanz,allstate,ally,alsace,alstom,am,americanexpress,americanfamily,amex,amfam,amica,amsterdam,an,analytics,android,anquan,anz,ao,aol,apartments,app,apple,aq,aquarelle,ar,aramco,archi,army,arpa,art,arte,as,asda,asia,associates,at,athleta,attorney,au,auction,audi,audible,audio,auspost,author,auto,autos,avianca,aw,aws,ax,axa,az,azure,ba,baby,baidu,banamex,bananarepublic,band,bank,bar,barcelona,barclaycard,barclays,barefoot,bargains,baseball,basketball,bauhaus,bayern,bb,bbc,bbt,bbva,bcg,bcn,bd,be,beats,beauty,beer,bentley,berlin,best,bestbuy,bet,bf,bg,bh,bharti,bi,bible,bid,bike,bing,bingo,bio,biz,bj,bl,black,blackfriday,blanco,blockbuster,blog,bloomberg,blue,bm,bms,bmw,bn,bnl,bnpparibas,bo,boats,boehringer,bofa,bom,bond,boo,book,booking,boots,bosch,bostik,boston,bot,boutique,box,bq,br,bradesco,bridgestone,broadway,broker,brother,brussels,bs,bt,budapest,bugatti,build,builders,business,buy,buzz,bv,bw,by,bz,bzh,ca,cab,cafe,cal,call,calvinklein,cam,camera,camp,cancerresearch,canon,capetown,capital,capitalone,car,caravan,cards,care,career,careers,cars,cartier,casa,case,caseih,cash,casino,cat,catering,catholic,cba,cbn,cbre,cbs,cc,cd,ceb,center,ceo,cern,cf,cfa,cfd,cg,ch,chanel,channel,chase,chat,cheap,chintai,chloe,christmas,chrome,chrysler,church,ci,cipriani,circle,cisco,citadel,citi,citic,city,cityeats,ck,cl,claims,cleaning,click,clinic,clinique,clothing,cloud,club,clubmed,cm,cn,co,coach,codes,coffee,college,cologne,com,comcast,commbank,community,company,compare,computer,comsec,condos,construction,consulting,contact,contractors,cooking,cookingchannel,cool,coop,corsica,country,coupon,coupons,courses,cr,credit,creditcard,creditunion,cricket,crown,crs,cruise,cruises,csc,cu,cuisinella,cv,cw,cx,cy,cymru,cyou,cz,dabur,dad,dance,data,date,dating,datsun,day,dclk,dds,de,deal,dealer,deals,degree,delivery,dell,deloitte,delta,democrat,dental,dentist,desi,design,dev,dhl,diamonds,diet,digital,direct,directory,discount,discover,dish,diy,dj,dk,dm,dnp,do,docs,doctor,dodge,dog,doha,domains,dot,download,drive,dtv,dubai,duck,dunlop,duns,dupont,durban,dvag,dvr,dz,earth,eat,ec,eco,edeka,edu,education,ee,eg,eh,email,emerck,energy,engineer,engineering,enterprises,epost,epson,equipment,er,ericsson,erni,es,esq,estate,esurance,et,eu,eurovision,eus,events,everbank,exchange,expert,exposed,express,extraspace,fage,fail,fairwinds,faith,family,fan,fans,farm,farmers,fashion,fast,fedex,feedback,ferrari,ferrero,fi,fiat,fidelity,fido,film,final,finance,financial,fire,firestone,firmdale,fish,fishing,fit,fitness,fj,fk,flickr,flights,flir,florist,flowers,fly,fm,fo,foo,food,foodnetwork,football,ford,forex,forsale,forum,foundation,fox,fr,free,fresenius,frl,frogans,frontdoor,frontier,ftr,fujitsu,fujixerox,fun,fund,furniture,futbol,fyi,ga,gal,gallery,gallo,gallup,game,games,gap,garden,gb,gbiz,gd,gdn,ge,gea,gent,genting,george,gf,gg,ggee,gh,gi,gift,gifts,gives,giving,gl,glade,glass,gle,global,globo,gm,gmail,gmbh,gmo,gmx,gn,godaddy,gold,goldpoint,golf,goo,goodhands,goodyear,goog,google,gop,got,gov,gp,gq,gr,grainger,graphics,gratis,green,gripe,group,gs,gt,gu,guardian,gucci,guge,guide,guitars,guru,gw,gy,hair,hamburg,hangout,haus,hbo,hdfc,hdfcbank,health,healthcare,help,helsinki,here,hermes,hgtv,hiphop,hisamitsu,hitachi,hiv,hk,hkt,hm,hn,hockey,holdings,holiday,homedepot,homegoods,homes,homesense,honda,honeywell,horse,hospital,host,hosting,hot,hoteles,hotmail,house,how,hr,hsbc,ht,htc,hu,hughes,hyatt,hyundai,ibm,icbc,ice,icu,id,ie,ieee,ifm,ikano,il,im,imamat,imdb,immo,immobilien,in,industries,infiniti,info,ing,ink,institute,insurance,insure,int,intel,international,intuit,investments,io,ipiranga,iq,ir,irish,is,iselect,ismaili,ist,istanbul,it,itau,itv,iveco,iwc,jaguar,java,jcb,jcp,je,jeep,jetzt,jewelry,jio,jlc,jll,jm,jmp,jnj,jo,jobs,joburg,jot,joy,jp,jpmorgan,jprs,juegos,juniper,kaufen,kddi,ke,kerryhotels,kerrylogistics,kerryproperties,kfh,kg,kh,ki,kia,kim,kinder,kindle,kitchen,kiwi,km,kn,koeln,komatsu,kosher,kp,kpmg,kpn,kr,krd,kred,kuokgroup,kw,ky,kyoto,kz,la,lacaixa,ladbrokes,lamborghini,lamer,lancaster,lancia,lancome,land,landrover,lanxess,lasalle,lat,latino,latrobe,law,lawyer,lb,lc,lds,lease,leclerc,lefrak,legal,lego,lexus,lgbt,li,liaison,lidl,life,lifeinsurance,lifestyle,lighting,like,lilly,limited,limo,lincoln,linde,link,lipsy,live,living,lixil,lk,loan,loans,local,locker,locus,loft,lol,london,lotte,lotto,love,lpl,lplfinancial,lr,ls,lt,ltd,ltda,lu,lundbeck,lupin,luxe,luxury,lv,ly,ma,macys,madrid,maif,maison,makeup,man,management,mango,market,marketing,markets,marriott,marshalls,maserati,mattel,mba,mc,mcd,mcdonalds,mckinsey,md,me,med,media,meet,melbourne,meme,memorial,men,menu,meo,metlife,mf,mg,mh,miami,microsoft,mil,mini,mint,mit,mitsubishi,mk,ml,mlb,mls,mm,mma,mn,mo,mobi,mobile,mobily,moda,moe,moi,mom,monash,money,monster,montblanc,mopar,mormon,mortgage,moscow,moto,motorcycles,mov,movie,movistar,mp,mq,mr,ms,msd,mt,mtn,mtpc,mtr,mu,museum,mutual,mv,mw,mx,my,mz,na,nab,nadex,nagoya,name,nationwide,natura,navy,nba,nc,ne,nec,net,netbank,netflix,network,neustar,new,newholland,news,next,nextdirect,nexus,nf,nfl,ng,ngo,nhk,ni,nico,nike,nikon,ninja,nissan,nissay,nl,no,nokia,northwesternmutual,norton,now,nowruz,nowtv,np,nr,nra,nrw,ntt,nu,nyc,nz,obi,observer,off,office,okinawa,olayan,olayangroup,oldnavy,ollo,om,omega,one,ong,onl,online,onyourside,ooo,open,oracle,orange,org,organic,orientexpress,origins,osaka,otsuka,ott,ovh,pa,page,pamperedchef,panasonic,panerai,paris,pars,partners,parts,party,passagens,pay,pccw,pe,pet,pf,pfizer,pg,ph,pharmacy,philips,phone,photo,photography,photos,physio,piaget,pics,pictet,pictures,pid,pin,ping,pink,pioneer,pizza,pk,pl,place,play,playstation,plumbing,plus,pm,pn,pnc,pohl,poker,politie,porn,post,pr,pramerica,praxi,press,prime,pro,prod,productions,prof,progressive,promo,properties,property,protection,pru,prudential,ps,pt,pub,pw,pwc,py,qa,qpon,quebec,quest,qvc,racing,radio,raid,re,read,realestate,realtor,realty,recipes,red,redstone,redumbrella,rehab,reise,reisen,reit,reliance,ren,rent,rentals,repair,report,republican,rest,restaurant,review,reviews,rexroth,rich,richardli,ricoh,rightathome,ril,rio,rip,rmit,ro,rocher,rocks,rodeo,rogers,room,rs,rsvp,ru,ruhr,run,rw,rwe,ryukyu,sa,saarland,safe,safety,sakura,sale,salon,samsclub,samsung,sandvik,sandvikcoromant,sanofi,sap,sapo,sarl,sas,save,saxo,sb,sbi,sbs,sc,sca,scb,schaeffler,schmidt,scholarships,school,schule,schwarz,science,scjohnson,scor,scot,sd,se,seat,secure,security,seek,select,sener,services,ses,seven,sew,sex,sexy,sfr,sg,sh,shangrila,sharp,shaw,shell,shia,shiksha,shoes,shop,shopping,shouji,show,showtime,shriram,si,silk,sina,singles,site,sj,sk,ski,skin,sky,skype,sl,sling,sm,smart,smile,sn,sncf,so,soccer,social,softbank,software,sohu,solar,solutions,song,sony,soy,space,spiegel,spot,spreadbetting,sr,srl,srt,ss,st,stada,staples,star,starhub,statebank,statefarm,statoil,stc,stcgroup,stockholm,storage,store,stream,studio,study,style,su,sucks,supplies,supply,support,surf,surgery,suzuki,sv,swatch,swiftcover,swiss,sx,sy,sydney,symantec,systems,sz,tab,taipei,talk,taobao,target,tatamotors,tatar,tattoo,tax,taxi,tc,tci,td,tdk,team,tech,technology,tel,telecity,telefonica,temasek,tennis,teva,tf,tg,th,thd,theater,theatre,tiaa,tickets,tienda,tiffany,tips,tires,tirol,tj,tjmaxx,tjx,tk,tkmaxx,tl,tm,tmall,tn,to,today,tokyo,tools,top,toray,toshiba,total,tours,town,toyota,toys,tp,tr,trade,trading,training,travel,travelchannel,travelers,travelersinsurance,trust,trv,tt,tube,tui,tunes,tushu,tv,tvs,tw,tz,ua,ubank,ubs,uconnect,ug,uk,um,unicom,university,uno,uol,ups,us,uy,uz,va,vacations,vana,vanguard,vc,ve,vegas,ventures,verisign,vermögensberater,vermögensberatung,versicherung,vet,vg,vi,viajes,video,vig,viking,villas,vin,vip,virgin,visa,vision,vista,vistaprint,viva,vivo,vlaanderen,vn,vodka,volkswagen,volvo,vote,voting,voto,voyage,vu,vuelos,wales,walmart,walter,wang,wanggou,warman,watch,watches,weather,weatherchannel,webcam,weber,website,wed,wedding,weibo,weir,wf,whoswho,wien,wiki,williamhill,win,windows,wine,winners,wme,wolterskluwer,woodside,work,works,world,wow,ws,wtc,wtf,xbox,xerox,xfinity,xihuan,xin,xperia,xxx,xyz,yachts,yahoo,yamaxun,yandex,ye,yodobashi,yoga,yokohama,you,youtube,yt,yu,yun,za,zappos,zara,zero,zip,zippo,zm,zone,zuerich,zw".split(","),..."бг,бел,дети,ею,католик,ком,мкд,мон,москва,онлайн,орг,рус,рф,сайт,срб,укр".split(","),..."qxam,90ae,90ais,d1acj3b,e1a4c,80aqecdr1a,j1aef,d1alf,l1acc,80adxhks,80asehdb,c1avg,p1acf,p1ai,80aswg,90a3ac,j1amh,80ao21a,y9a3aq,9dbq2a,mgbca7dzdo,mgba3a3ejt,mgbayh7gpa,lgbbat1ad8j,mgberp4a5d4ar,mgba7c0bbn0a,mgbc0a9azcg,mgb2ddes,mgbaam7a8h,mgba3a4f16a,mgbbh1a,mgbab2bd,ngbe9e0a,mgbbh1a71e,pgbs0dh,mgbpl2fh,ogbpf8fl,ngbc5azd,mgbtx2b,mgb9awbf,ygbi2ammx,wgbl6a,mgbi4ecexp,fhbei,wgbh1c,mgbx4cd0ab,mgbb9fbpob,4gbrim,mgbt3dhd,mgbai9azgqp6j,mgbgu82a,11b4c3d,c2br7g,h2brj9c,h2breg3eve,h2brj9c8c,i1b6b1a6a2e,54b7fta0cc,45brj9c,45br5cyl,s9brj9c,gecrj9c,3hcrj9c,xkc2dl3a5ee0h,xkc2al3hye2a,clchc0ea0b2g2a9gcd,fpcrj9c3d,2scrj9c,rvc1e0am3e,fzc2c9e2c,42c2d9a,o3cw4h,node,q9jyb4c,gckr3f0f,qcka1pmc,tckwe,cck2b3b,1ck2e1b,bck1b9a5dre4c,eckvdtc9d,rhqv96g,fiq64b,fiqs8s,fiqz9s,fiq228c5hs,vhquv,1qqw23a,vuq861b,nyqy26a,45q11c,55qx5d,55qw42g,kprw13d,kpry57d,czru2d,czrs0t,czr694b,w4rs40l,w4r85el8fhu5dnra,3ds443g,3oq18vl8pn36a,pssy2u,tiq49xqyj,fjq720a,fct429k,estv75g,xhq521b,9krt00a,30rr7y,6qq986b3xl,kput3i,kpu716f,zfr164b,mxtq1m,yfro4i67o,efvy88h,9et52u,rovu88b,nqv7f,b4w605ferd,unup4y,mix891f,mix082f,3pxu8k,pbt977c,6frz82g,nqv7fs00ema,ses554g,hxt814e,5tzm5g,io0a7i,8y0a063a,jlq61u9w7b,flw351e,g2xx48c,gk3at1e,3bst00m,fzys8d69uvgm,kcrx77d1x4a,jvr189m,imr513n,5su34j936bgsg,j6w193g,t60b56a,mk1bu44c,cg4bki,3e0b707e".split(",").map((e=>"xn--"+e))]),en=[...Je].reduce(((e,n)=>Math.max(e,n.length)),0),nn=Le.seq(Le.regexp(new RegExp("(https?:\\/\\/)?")),Le.regexp(new RegExp(Qe)),Le.regexp(new RegExp(Ke)),Le.regexp(new RegExp("(?:\\:(\\d{2,5}))?")),Le.regexp(new RegExp("(([\\/?#])(?:\\&amp;|\\&|\\&#\\d{2,6};|,[_%]|!|,*[\\wА-Яа-я\\xa8\\xb8\\xc0-\\xffєЄҐґЇїІіЈј\\—\\-\\_@#%?+\\/\\$.~=;:'ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞮꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ　-〿＀-￯*]+|(?:\\(|\\[)[\\w\\$А-Яа-яёЁєЄҐґЇїІіЈј\\d&#%;,]+(?:\\)|\\])){0,200})?"))).map((e=>{const[n,t,r,o,i]=e;return{protocol:n,domainName:t,domain:r,port:o,query:i,full:e.join("")}})).node("Url"),tn=Le.regexp(new RegExp("([a-zA-Zа-яА-Я\\-_\\.0-9\\+]+@("+Qe+Ke+"))","i")).node("Email"),rn="a-zA-Zа-яА-ЯёіјєїґўЁІЈЄЇҐЎ’",on="(?:&#(?:19[2-9]|(?:[2-9]|1[0-3])[0-9][0-9]);?)",an=`(?:[${rn}]|${on})`,sn=`(?:[${rn}_\\d]|${on})`,cn=Le.seqObj(Le.string("#"),["tag",Le.regexp(new RegExp(`${sn}{0,100}${an}${sn}{0,100}`))]).map((e=>"#"+e.tag)).node("Hashtag"),ln=Le.any.node("Text"),un=Le.alt(qe,nn,cn,tn,Ze,Ye,Ge,$e),dn=Le.alt(un,Xe,ln),An=Le.alt(un,ln);var pn;function hn(e){return Number.isNaN(e)&&(e=0),!e||e<0?0:e}function mn(e){return Number.isNaN(e)&&(e=0),!e||e<0?0:e}function fn(e){return!e||e>0?0:e}function gn(e){const n="Normal"===e.kind&&e.id?`&msgid=${e.id}`:"";return`/im?sel=${e.peerId}${n}`}function Cn(e,n,t,r){const o=["gift","graffiti","call"],i=(a=new Date(e.sentAt),s=new Date(n.sentAt),!(a.getDate()===s.getDate()&&a.getMonth()===s.getMonth()&&a.getFullYear()===s.getFullYear()));var a,s;const c="Queued"!==e.kind&&"Queued"!==n.kind&&!n.isOut&&n.id>t&&(e.isOut?e.id<=r:e.id<=t);return i||c||e.kind!==n.kind||"Service"===e.kind||"Service"===n.kind||"Normal"===e.kind&&e.expireTTL||"Normal"===n.kind&&n.expireTTL||e.authorId!==n.authorId||n.sentAt-e.sentAt>3e5||"Normal"===e.kind&&o.some((n=>void 0!==e.attaches[n]))||"Normal"===n.kind&&o.some((e=>void 0!==n.attaches[e]))||"Normal"===n.kind&&n.replyMessage?{kind:"split",atUnread:c,atDate:i}:{kind:"continue"}}function vn(e){const n={DONT_USE_ME_isUnread:0,isOut:1,isImportant:3,isSpam:6,isDeleted:7,isVoiceListened:12,DONT_USE_ME_isStealth:16,isDeletedForAll:17,noPush:20,DONT_USE_ME_skipUnread:23};if("number"==typeof e){const t={};for(const r of Object.keys(n))t[r]=(e&1<<n[r])>0;return t}let t=0;for(const r of Object.keys(e))e[r]&&(t|=1<<n[r]);return t}function En(e,n,t){if(0===e.length)return{};const r={},o=e=>{r.unknown=[...r.unknown||[],{data:e}]};for(const A of e)switch(A.type){case"photo":{if(!A.photo){o(A);break}const e=xn(A.photo,t);if(!e){o(A);break}r.photos=[...r.photos||[],e];break}case"audio":{if(!A.audio){o(A);break}const e=In(A.audio);r.audios=[...r.audios||[],e];break}case"video":if(!A.video){o(A);break}const e=Dn(A.video,t);if(!e){o(A);break}r.videos=[...r.videos||[],e];break;case"doc":{if(!A.doc){o(A);break}const e=wn(A.doc);if(!e){o(A);break}r.docs=[...r.docs||[],e];break}case"link":{if(!A.link){o(A);break}const e=yn(A.link);if(!e){o(A);break}r.link=e;break}case"market":{if(!A.market){o(A);break}const e=Bn(A.market);if(!e){o(A);break}r.market=e;break}case"market_album":if(!A.market_market_album){o(A);break}r.marketAlbum={kind:"MarketAlbum"};break;case"gift":if(!A.gift){o(A);break}const p=Fn(A.gift);if(!p){o(A);break}r.gift=p;break;case"sticker":{if(!A.sticker){o(A);break}const e=bn(A.sticker);if(!e){o(A);break}r.sticker=e;break}case"wall":{if(!A.wall||!A.wall.from_id||!A.wall.id){o(A);break}const e=[...A.wall.attachments||[]];A.wall.geo&&e.push({type:"geo",geo:A.wall.geo}),r.wall={kind:"Wall",ownerId:De(A.wall.from_id),id:A.wall.id,date:1e3*(A.wall.date||0),chunks:We(A.wall.text||""),attaches:_n(e,A.wall.access_key)};break}case"wall_reply":if(!A.wall_reply){o(A);break}r.wallReply={kind:"WallReply"};break;case"article":if(!A.article){o(A);break}r.article={kind:"Article",url:(d=A.article).url||"",title:d.title||"",meta:d.subtitle||"",image:d.photo?Tn(d.photo.sizes||[]):void 0};break;case"poll":if(!A.poll||!A.poll.owner_id||!A.poll.id){o(A);break}r.poll={kind:"Poll",id:A.poll.id,ownerId:A.poll.owner_id};break;case"call":if(!A.call){o(A);break}r.call={kind:"Call"};break;case"graffiti":if(!A.graffiti){o(A);break}r.graffiti={kind:"Graffiti"};break;case"audio_message":if(!A.audio_message){o(A);break}r.voice={kind:"Voice",duration:A.audio_message.duration,id:A.audio_message.id,linkMp3:A.audio_message.link_mp3,linkOgg:A.audio_message.link_ogg,ownerId:A.audio_message.owner_id,waveform:A.audio_message.waveform,isListened:n};break;case"audio_playlist":if(!A.audio_playlist){o(A);break}r.audioPlaylist={kind:"AudioPlaylist",id:(u=A.audio_playlist).id,ownerId:u.owner_id,type:Mn[u.type],title:u.title,accessKey:u.access_key,image:Sn(u.photo,"photo")};break;case"playlist":o(A);break;case"podcast":if(!A.podcast){o(A);break}r.podcast={kind:"Podcast",id:(l=A.podcast).id,ownerId:l.owner_id,title:l.title,image:l.podcast_info.cover&&l.podcast_info.cover.sizes?Pn(l.podcast_info.cover.sizes):void 0};break;case"money_transfer":if(!A.money_transfer){o(A);break}r.moneyTransfer={kind:"MoneyTransfer",text:A.money_transfer.amount.text};break;case"money_request":if(!A.money_request){o(A);break}r.moneyRequest={kind:"MoneyRequest",id:(c=A.money_request).id,toId:c.to_id,fromId:c.from_id,text:c.amount.text,initUrl:c.init_url,isUserOwner:!!c.user_is_owner,isProcessed:!!c.processed,amount:c.amount};break;case"story":if(!A.story){o(A);break}r.story={kind:"Story",id:(s=A.story).id,ownerId:s.owner_id,image:s.photo&&s.photo.sizes?Tn(s.photo.sizes):void 0,date:void 0!==s.date?1e3*s.date:void 0,available:!s.is_expired&&0!==s.can_see};break;case"geo":if(!A.geo||!A.geo.coordinates){o(A);break}r.geo={kind:"Geo",coordinates:A.geo.coordinates,place:A.geo.place};break;case"group_call_in_progress":if(!A.group_call_in_progress){o(A);break}r.activeCall=(a=void 0,{kind:"ActiveCall",initiatorId:(i=A.group_call_in_progress).initiator_id,joinLink:i.join_link,participants:{list:null===(a=i.participants.list)||void 0===a?void 0:a.map(De),count:i.participants.count||0,coverList:zn(i)}});break;case"mini_app":if(!A.mini_app){o(A);break}const h=On(A.mini_app);if(!h){o(A);break}r.miniApps=[...r.miniApps||[],h];break;default:A.type,o(A)}var i,a,s,c,l,u,d;return r}function _n(e,n){var t;const r=[];for(const n of e)switch(n.type){case"photo":case"audio":case"video":case"doc":case"link":case"mini_app":case"sticker":case"market":case"article":case"poll":case"audio_playlist":case"podcast":case"market_album":r.push({type:n.type,[n.type]:n[n.type]});break;case"geo":{if(!n.geo)break;const e=null===(t=n.geo.coordinates)||void 0===t?void 0:t.split(" ").map((e=>parseFloat(e)));r.push({type:"geo",geo:Object.assign(Object.assign({},n.geo),{coordinates:e&&e[0]&&e[1]?{latitude:e[0],longitude:e[1]}:void 0})});break}case"textpost":case"posted_photo":case"graffiti":case"note":case"app":case"page":case"album":case"event":case"donut_link":case"textlive":case"situational_theme":case"group":break;default:n.type}return En(r,!1,n)}function bn(e){var n,t;if(!("sticker_id"in e))return;if(!e.images||!e.images_with_background||!e.sticker_id)return;const r=e.images.find((e=>128===e.height)),o=e.images.find((e=>256===e.height)),i=e.images_with_background.find((e=>128===e.height)),a=e.images_with_background.find((e=>256===e.height));return r&&o&&i&&a?{id:e.sticker_id,kind:"Sticker",image128:{light:r.url,dark:i.url},image256:{light:o.url,dark:a.url},animation:e.animations&&{light:(null===(n=e.animations.find((e=>"light"===e.type)))||void 0===n?void 0:n.url)||"",dark:(null===(t=e.animations.find((e=>"dark"===e.type)))||void 0===t?void 0:t.url)||""}}:void 0}function yn(e){if(!e.title||!e.caption)return;let n=e.url;const t=/^https:\/\/m\.vk\.com(.+)/;if(t.test(e.url)){const r=e.url.match(t);n=r&&r[1]?r[1]:n}return{kind:"Link",url:n,title:e.title,meta:e.caption,image:e.photo?Tn(e.photo.sizes||[]):void 0}}function Bn(e){if(e.thumb_photo)return{kind:"Market",id:e.id,ownerId:e.owner_id,title:e.title,price:e.price.text,priceOld:e.price.old_amount_text,photo:e.thumb_photo}}function wn(e){if(e.url)return{kind:"Doc",id:e.id,ownerId:e.owner_id,title:e.title,size:e.size,ext:e.ext,date:e.date,url:e.url}}function xn(e,n){if(e.sizes)return{kind:"Photo",accessKey:e.access_key,albumId:e.album_id,id:e.id,ownerId:e.owner_id,hasTags:e.has_tags,sizes:Tn(e.sizes),messageAccessKey:n}}function Dn(e,n){if(!e.id||!e.owner_id||!e.image||0===e.image.length)return;const t=Pn(e.image);return t?{kind:"Video",accessKey:e.access_key,id:e.id,ownerId:e.owner_id,duration:e.duration,width:e.width,height:e.height,image:t,messageAccessKey:n}:void 0}!function(e){let n,t;!function(e){e[e.Mention=1]="Mention",e[e.Casper=2]="Casper"}(n=e.MarkedType||(e.MarkedType={})),function(e){e[e.CopyFlagChanged=0]="CopyFlagChanged",e[e.TitleChanged=1]="TitleChanged",e[e.AvatarChanged=2]="AvatarChanged",e[e.AdminGrated=3]="AdminGrated",e[e.FlagsChanged=4]="FlagsChanged",e[e.Pinned=5]="Pinned",e[e.UserJoined=6]="UserJoined",e[e.UserLeft=7]="UserLeft",e[e.UserKicked=8]="UserKicked",e[e.AdminKicked=9]="AdminKicked",e[e.BannerChanged=10]="BannerChanged",e[e.KeyboardChanged=11]="KeyboardChanged",e[e.MessageRequestChanged=12]="MessageRequestChanged",e[e.ContactConverted=13]="ContactConverted",e[e.BusinessNotifyDataChanged=14]="BusinessNotifyDataChanged",e[e.MessageRequestCanceled=15]="MessageRequestCanceled",e[e.MessageRequestRejected=16]="MessageRequestRejected",e[e.MessageRequestAccepted=17]="MessageRequestAccepted",e[e.ContactJoined=18]="ContactJoined",e[e.CallInProgressChanged=19]="CallInProgressChanged"}(t=e.ChatUpdateType||(e.ChatUpdateType={})),e.isIncompleteUpdate=function(e){switch(e[0]){case 4:return 4===e.length;case 5:case 18:return 3===e.length;default:return!1}}}(pn||(pn={}));const kn={thumb:[48,96,256,512],photo:[34,68,135,270,300,600,1200],unknown:[]};function Sn(e,n){if(!e)return;const[t,...r]=kn[n].reduce(((t,r)=>{const o=e[`${n}_${r}`];return o?(t.push({url:o,width:r,height:r}),t):t}),[]);return t?[t,...r]:void 0}function Fn(e){const n=Sn(e,"thumb");if(n)return{kind:"Gift",id:e.id,isStickerStyle:!!e.is_stickers_style,image:n}}function In(e){return{kind:"Audio",id:e.id,ownerId:e.owner_id,artist:e.artist,title:e.title,subtitle:e.subtitle,url:e.url,duration:e.duration,albumId:e.album_id,ads:e.ads,mainArtists:e.main_artists,featuredArtists:e.featured_artists,album:e.album,trackCode:e.track_code,contentRestricted:e.content_restricted,albumPartNumber:e.album_part_number,accessKey:e.access_key,chartInfo:e.audio_chart_info}}const Mn={0:"playlist",1:"album",2:"playlist",3:"playlist",4:"playlist",5:"playlist"};function Tn(e){return e.sort(((e,n)=>e.width-n.width)).reduce(((e,n)=>{var{type:t,src:r}=n,o=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(n,["type","src"]);return"s"!==t&&"m"!==t&&"x"!==t&&"o"!==t&&"p"!==t&&"q"!==t&&"r"!==t&&"y"!==t&&"z"!==t&&"w"!==t||e.set(t,o),e}),new Map)}function Pn(e){const n=e.sort(((e,n)=>e.width-n.width)).map((e=>({width:e.width,height:e.height,url:e.url}))),[t,...r]=n;if(t)return[t,...r]}function zn(e){const n=e.participants.list;return n?n.reduce(((e,n)=>{const t=ke(n);return(Se(t)||Ie(t))&&e.push(t),e}),[]).slice(0,3):[]}function On(e){if(!e.app||!e.app.share_url)return;const n=ye(e.images.map((({url:e,height:n,width:t})=>({width:t,height:n,url:e}))));if(!n)return;n.sort(((e,n)=>e.width-n.width));const t=e.app.share_url.replace("https://vk.com","");return{kind:"MiniApp",title:e.title,appLink:t,images:n}}function Nn(e){if(e.action)return{message:{kind:"Service",id:hn(e.id),action:Un(e.action),peerId:De(e.peer_id),convoLocalId:mn(e.conversation_message_id),authorId:De(e.from_id),sentAt:1e3*e.date,isOut:1===e.out},mentions:{hasDirect:!1,hasMass:!1}};const n=De(e.peer_id);return e.is_expired?{message:{kind:"Expired",id:hn(e.id),convoLocalId:mn(e.conversation_message_id),peerId:De(e.peer_id),authorId:De(e.from_id),isOut:1===e.out,sentAt:1e3*e.date},mentions:{hasDirect:!1,hasMass:!1}}:{message:{kind:"Normal",id:hn(e.id),randomId:fn(e.random_id),convoLocalId:mn(e.conversation_message_id),peerId:De(e.peer_id),authorId:De(e.from_id),chunks:We(e.text),isOut:1===e.out,isImportant:!!e.important,isMarkedDeleted:!1,sentAt:1e3*e.date,updatedAt:e.update_time&&1e3*e.update_time,attaches:En(Wn(e),!!e.was_listened,`mail${e.id}`),forwardedMessages:Rn(e.fwd_messages,n),replyMessage:e.reply_message?Ln(e.reply_message,n):void 0,expireTTL:e.expire_ttl?1e3*e.expire_ttl:void 0},mentions:{hasDirect:!1,hasMass:!1}}}function jn(e,n,t){let r,o,i,a,s,c,l,u,d,A;switch(e[0]){case 4:[,r,o,,i,a,s,c,l,u,A]=e;break;case 5:case 18:[,r,o,i,a,s,c,l,u,A,d]=e;break;default:Ee()}const p=De(i),{isOut:h,isImportant:m,noPush:f,isVoiceListened:g}=vn(o);let C;if(C=void 0!==c.from?De(Number(c.from)):h?n:p,c.source_act)return{message:{kind:"Service",id:hn(r),convoLocalId:mn(A),peerId:p,authorId:C,action:Un({type:c.source_act,member_id:c.source_mid?Number(c.source_mid):void 0,text:c.source_text,style:c.source_style}),sentAt:1e3*a,isOut:h},mentions:{hasDirect:!1,hasMass:!1},noPush:f};if("1"===c.is_expired)return{message:{kind:"Expired",id:hn(r),convoLocalId:mn(A),isOut:h,peerId:p,authorId:C,sentAt:1e3*a},mentions:{hasDirect:!1,hasMass:!1},noPush:!0};const v={hasDirect:!1,hasMass:!1};for(const e of c.marked_users||[])if(e[0]===pn.MarkedType.Mention)switch(e[1]){case"all":v.hasMass=v.hasMass||C!==n;break;case"online":v.hasMass=v.hasMass||e[2].includes(n);break;default:v.hasDirect=e[1].includes(n)}let E,_={};if("sticker"!==l.attach1_type&&"audiomsg"!==l.attach1_kind||!l.attachments)void 0!==l.attach1_type&&(_={unknown:[{data:l}]});else{const e=JSON.parse(l.attachments);Array.isArray(e)&&(_=En(e,g,`mail${r}`))}if(void 0!==l.reply){const e=t(mn(JSON.parse(l.reply).conversation_message_id));e&&(E=function(e,n){const{kind:t,convoLocalId:r,randomId:o,isOut:i,isImportant:a,isMarkedDeleted:s,replyMessage:c}=e,l=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["kind","convoLocalId","randomId","isOut","isImportant","isMarkedDeleted","replyMessage"]);return Object.assign(Object.assign({kind:"Foreign"},l),{rootPeerId:n})}(e,p))}return{message:{kind:"Normal",id:hn(r),convoLocalId:mn(A),randomId:fn(u),peerId:p,authorId:C,chunks:We(s),isOut:h,isImportant:m,isMarkedDeleted:!1,sentAt:1e3*a,updatedAt:d?1e3*d:void 0,expireTTL:c.expire_ttl?1e3*Number(c.expire_ttl):void 0,attaches:_,replyMessage:E},mentions:v,noPush:f}}function Ln(e,n){let t,r;return e.peer_id&&(t=De(e.peer_id)),e.id&&(r=hn(e.id)),{kind:"Foreign",id:r,peerId:t,rootPeerId:n,authorId:De(e.from_id),chunks:We(e.text),sentAt:1e3*e.date,updatedAt:e.update_time&&1e3*e.update_time,attaches:En(Wn(e),!!e.was_listened,e.id?`mail${e.id}`:void 0),forwardedMessages:Rn(e.fwd_messages,n),replyMessage:e.reply_message?Ln(e.reply_message,n):void 0}}function Rn(e,n){if(!e||0===e.length)return;let t;for(const r of e)t?t.push(Ln(r,n)):t=[Ln(r,n)];return t}function Un(e){const n={type:"unknown"};switch(e.type){case"chat_create":case"chat_title_update":return e.text?{type:e.type,title:e.text}:n;case"chat_photo_update":case"chat_photo_remove":case"chat_pin_message":case"chat_unpin_message":case"chat_screenshot":case"chat_group_call_started":case"chat_invite_user_by_link":case"chat_invite_user_by_call_join_link":case"chat_kick_don":case"accepted_message_request":return{type:e.type};case"chat_invite_user":case"chat_kick_user":{if(!e.member_id)return n;const t=De(e.member_id);return Se(t)||Ie(t)?{type:e.type,peerId:t}:n}case"chat_invite_user_by_message_request":case"chat_invite_user_by_call":case"chat_kick_user_call_block":{if(!e.member_id)return n;const t=De(e.member_id);return Se(t)?{type:e.type,peerId:t}:n}case"conversation_style_update":return{type:e.type,style:e.style};case"custom":return n;default:return e.type,n}}function Wn({attachments:e=[],geo:n}){return n?[...e,{type:"geo",geo:n}]:e}function Hn(e){const n=De(e.peer_id),t=De(e.from_id);return{kind:"Pinned",id:hn(e.id),convoLocalId:mn(e.conversation_message_id),peerId:n,authorId:t,chunks:We(e.text),sentAt:1e3*e.date,forwardedMessages:e.fwd_messages?Rn(e.fwd_messages,n):void 0,replyMessage:e.reply_message?Ln(e.reply_message,n):void 0,attaches:En(e.attachments||[],!1)}}const qn={18:"peer_deleted",900:"peer_blacklisted",901:"peer_blacklisted",902:"disabled_by_peer",915:"disabled_by_peer",916:"disabled_by_peer",917:"no_access",918:"no_access",203:"no_access"};function Zn(e,n){var t,r,o,i,a,s,c;if(null===(t=e.chat_settings)||void 0===t?void 0:t.is_disappearing)return null;const l=n&&Nn(n).message,u={majorSortId:(null===(r=e.sort_id)||void 0===r?void 0:r.major_id)||0,minorSortId:(null===(o=e.sort_id)||void 0===o?void 0:o.minor_id)||0,unreadCount:e.unread_count||0,isMarkedUnread:!!e.is_marked_unread,inReadBy:hn(e.in_read),outReadBy:hn(e.out_read),canWrite:(d=e.can_write,(null==d?void 0:d.allowed)?{allowed:!0}:{allowed:!1,reason:(null==d?void 0:d.reason)&&qn[d.reason]||"unknown"}),push:Vn(e.push_settings),persistedId:hn(null==l?void 0:l.id),persisted:l?new Map([[l.id,Object.assign(Object.assign({},l),{olderId:hn(),newerId:hn()})]]):new Map,queuedId:fn(),queued:new Map,unreadExpireables:new Set((e.expire_messages||[]).map(hn)),hasMore:e.last_message_id>0,entrypoint:null};var d;const A=De(e.peer.id);switch(e.peer.type){case"user":return Se(A)?{convo:Object.assign(Object.assign({},u),{kind:"UserConvo",peerId:A})}:null;case"chat":if(!Fe(A))return null;if(!e.chat_settings)throw new Error("TODO chat convo has to has chat settings");return{convo:Object.assign(Object.assign({},u),{kind:"ChatConvo",peerId:A,unreadMentions:new Set((e.mentions||[]).map(hn)),membersCount:(null===(i=e.chat_settings)||void 0===i?void 0:i.members_count)||0,isCasper:!!e.chat_settings.is_disappearing,activeCall:Yn(e.call_in_progress),pinnedMessage:e.chat_settings.pinned_message?Hn(e.chat_settings.pinned_message):void 0}),peer:{kind:"Chat",id:A,title:(null===(a=e.chat_settings)||void 0===a?void 0:a.title)||"",photo50:null===(s=e.chat_settings.photo)||void 0===s?void 0:s.photo_50,photo100:null===(c=e.chat_settings.photo)||void 0===c?void 0:c.photo_100,canCall:e.chat_settings.acl.can_call}};case"group":return Ie(A)?{convo:Object.assign(Object.assign({},u),{peerId:A,kind:"GroupConvo"})}:null;case"email":case"contact":return null;default:return e.peer.type,null}}function Vn(e){let n={mode:"everything",disabledUntil:0};return e?(e.disabled_forever?n={mode:"every-mention",disabledUntil:1/0}:e.disabled_until&&(n={mode:"every-mention",disabledUntil:1e3*e.disabled_until}),"everything"!==n.mode&&(e.disabled_mass_mentions&&(n=Object.assign(Object.assign({},n),{mode:"direct-mention"})),e.disabled_mentions&&(n=Object.assign(Object.assign({},n),{mode:"nothing"}))),n):n}function Yn(e){if(e)return{participants:{list:(e.participants.list||[]).reduce(((e,n)=>{const t=ke(n);return(Se(t)||Ie(t))&&e.push(t),e}),[]),count:e.participants.count||0},joinLink:e.join_link,canFinishCall:Boolean(e.can_finish_call),hasLink:Boolean(e.has_link)}}const Gn=[6482950,6481715,6146827],$n={1:"mobile",2:"mobile",3:"mobile",4:"mobile",5:"mobile",6:"other",7:"other"};function Xn(e){var n,t,r,o,i,a;const s={0:"unfamiliar",1:"outgoingRequest",2:"incomingRequest",3:"friends"};let c="other";(null===(n=e.online_info)||void 0===n?void 0:n.is_mobile)&&(c="mobile"),Gn.includes((null===(t=e.online_info)||void 0===t?void 0:t.app_id)||0)&&(c="vkme");const l=De(e.id);if(!Se(l))throw Error("fromApiUser получил странный объект");const u=Boolean(e.blacklisted);return{user:{kind:"User",id:l,firstName:e.first_name,firstNameGen:e.first_name_gen||e.first_name,firstNameAcc:e.first_name_acc||e.first_name,lastName:e.last_name,lastNameGen:e.last_name_gen||e.last_name,lastNameAcc:e.last_name_acc||e.last_name,screenName:e.screen_name,sex:void 0!==e.sex?{0:"unknown",1:"female",2:"male"}[e.sex]:"unknown",photo50:e.photo_50,photo100:e.photo_100,lastSeen:{isVisible:!!(null===(r=e.online_info)||void 0===r?void 0:r.visible),at:(null===(o=e.online_info)||void 0===o?void 0:o.last_seen)&&1e3*e.online_info.last_seen,platform:c},isVerified:Boolean(e.verified),isBlacklisted:u,isBlacklistedByMe:Boolean(e.blacklisted_by_me),isDeactivated:Boolean(e.deactivated),canCall:Boolean(e.can_call),canChangeFriendship:1===e.can_send_friend_request,canMessage:1===e.can_write_private_message,followersCount:e.followers_count||0,friendship:void 0!==e.friend_status?s[e.friend_status]:s[0],mutualFriends:u?{hint:[],count:0}:void 0},isOnline:!!(null===(i=e.online_info)||void 0===i?void 0:i.visible)&&!!(null===(a=e.online_info)||void 0===a?void 0:a.is_online)}}function Qn(e){var n;const t=De(-e.id);if(!Ie(t))throw new Error("fromApiGroup получил странный объект");if(!e.type)throw new Error(`fromApiGroup содержит некорректный тип ${e.type}`);const r={0:"notMember",1:"member",2:"unsure",3:"declined",4:"outgoingRequest",5:"incomingRequest"}[e.member_status||0];return{kind:"Group",id:t,type:e.type,name:e.name,screenName:e.screen_name,photo50:e.photo_50,photo100:e.photo_100,activity:e.activity,memberCount:e.members_count||0,membership:r,isDeactivated:Boolean(e.deactivated),isVerified:1===e.verified,isClosed:Boolean(e.is_closed),canMessage:1===e.can_message,canChangeMembership:0!==(null===(n=e.ban_info)||void 0===n?void 0:n.end_date)&&(0===e.is_closed||"member"===r||"incomingRequest"===r),mutualFriends:2===e.is_closed&&"member"!==r?{hint:[],count:0}:void 0}}function Kn(e,n){let t=$n[e]||"other";return Gn.includes(n)&&(t="vkme"),t}const Jn=["text","voice","photo","video","file"];function et(e,n,{merge:t}={}){var r;const o=[];for(const i of n){const n="conversation"in i?Zn(i.conversation,i.last_message):Zn(i);if(!n)continue;const{convo:a,peer:s}=n,c=e.convos.get(a.peerId);if(c&&!t){o.push(c);continue}const l=nt(a,c);e.convos.set(a.peerId,l),s&&e.peers.set(s.id,s),o.push(a),"ChatConvo"===l.kind&&e.hiddenPinnedMessages.get(l.peerId)!==(null===(r=l.pinnedMessage)||void 0===r?void 0:r.convoLocalId)&&e.hiddenPinnedMessages.delete(l.peerId)}return o}function nt(e,n){if(!n)return e;const t=Object.assign({},n);return 0===n.persisted.size&&(t.persisted=e.persisted,t.persistedId=e.persistedId),"ChatConvo"===t.kind&&"ChatConvo"===e.kind&&(t.activeCall=e.activeCall,t.pinnedMessage=e.pinnedMessage),t}function tt(e,{apiUsers:n,apiGroups:t},{dangerouslyOverwrite:r}={}){const o=[];for(const t of n){const{user:n,isOnline:i}=Xn(t),a=e.peers.get(n.id);!a||"User"!==a.kind||r?(e.peers.set(n.id,n),r&&e.onlines.delete(n.id),i&&e.onlines.add(n.id),o.push(n)):o.push(a)}const i=[];for(const n of t){const t=Qn(n),o=e.peers.get(t.id);!o||"Group"!==o.kind||r?(e.peers.set(t.id,t),i.push(t)):i.push(o)}return{insertedUsers:o,insertedGroups:i}}function rt(e){return void 0!==e.afterGapId}function ot(e){return"everything"!==e.push.mode}function it(e){const n=e.hasMore?e.unreadCount+1:e.unreadCount;return!(!rt(e)&&e.persisted.size<n)}function at(e){return[4,5,6].some((n=>(e.majorSortId&1<<n)>0))}function st(e){return e.unreadCount>0||e.isMarkedUnread}function ct(e){const n=e.queued.get(e.queuedId);return n||e.persisted.get(e.persistedId)||void 0}function lt(e,n){for(let{message:t}of ut(e))if("convoLocalId"in t&&t.convoLocalId===n)return t}function ut(e){return{[Symbol.iterator]:()=>{let n=void 0!==e.afterGapId?e.persisted.get(e.afterGapId):ct(e);return{next(){const t=n;return t?"Queued"!==t.kind?(n=e.persisted.get(t.olderId),{value:{message:t,older:n}}):(n=e.queued.get(t.olderId)||e.persisted.get(e.persistedId),{value:{message:t,older:n}}):{done:!0,value:null}}}}}}function dt(e,n){if(n.peerId!==e.peerId)throw new Error("Передано сообщение не принадлежащее беседе");return"Queued"===n.kind||(n.isOut?n.id>e.outReadBy:n.id>e.inReadBy)}function At(e,n){if(e.majorSortId!==n.majorSortId)return n.majorSortId-e.majorSortId;const t=null==e?void 0:e.queued.get(e.queuedId),r=null==n?void 0:n.queued.get(n.queuedId);return t&&!r?-1:r&&!t?1:t&&r?r.sentAt-t.sentAt:n.minorSortId-e.minorSortId}function pt(e){return e.majorSortId<=0&&e.minorSortId<=0}function ht(e,n,t,r){if(e.persistedId>=n.id)return;if(!n.isOut&&e.inReadBy<n.id&&e.unreadCount++,e.minorSortId=t,"ChatConvo"===e.kind&&r&&e.unreadMentions.add(n.id),"Normal"===n.kind&&n.expireTTL&&e.unreadExpireables.add(n.id),"Normal"===n.kind&&n.randomId){const t=e.queued.get(n.randomId);if(t){e.queued.delete(t.randomId);const n=e.queued.get(t.olderId),r=e.queued.get(t.newerId);r&&(r.olderId=t.olderId),n&&(n.newerId=t.newerId),e.queuedId===t.randomId&&(e.queuedId=t.olderId)}0===e.queued.size&&(e.queuedId=fn())}const o=e.persisted.get(e.persistedId);o&&(o.newerId=n.id),e.persisted.set(n.id,Object.assign(Object.assign({},n),{newerId:hn(),olderId:e.persistedId})),e.persistedId=n.id}function mt(e){if(e.unreadCount>0||rt(e))return;if(e.persisted.size<160)return;let n=0,t=e.persisted.get(e.persistedId);for(;t;){const r=e.persisted.get(t.olderId);n>=80&&(t.olderId=hn(),e.persisted.delete(t.id)),n++,t=r}e.hasMore=!0}function ft(e,n,t){if(!(e.inReadBy>=n)){if("number"!=typeof t){const r=[...e.persisted.values()].filter((t=>!t.isOut&&dt(e,t)&&t.id<=n)).length;t=Math.max(0,e.unreadCount-r)}switch(e.inReadBy=n,e.unreadCount=t,0===t&&(e.isMarkedUnread=!1),e.kind){case"UserConvo":case"GroupConvo":break;case"ChatConvo":for(const t of e.unreadMentions)t<=n&&e.unreadMentions.delete(t);break;default:Ee()}for(const t of e.unreadExpireables)t<=n&&e.unreadExpireables.delete(t)}}function gt(e,n){"majorSortId"in n?e.majorSortId=n.majorSortId:e.minorSortId=n.minorSortId}function Ct(e,n){e.pinnedMessage=n}function vt(e){const n=e.pinnedMessage;return delete e.pinnedMessage,n}function Et(e,n){return e.get(n)||e.get(De())}function _t(e){const n={DONT_USE_isMuted:4,isMarkedUnread:20};if("number"==typeof e){const t={};for(const r of Object.keys(n))t[r]=(e&1<<n[r])>0;return t}let t=0;for(const r of Object.keys(e))e[r]&&(t|=1<<n[r]);return t}function bt(e,n=0,t=0,r=!1){var o,i;const a=["o","p","q","r"];if("Video"===e.kind||"Gift"===e.kind)return e.image.find((({width:e,height:r})=>e>=n&&r>=t))||e.image[e.image.length-1]||null;const s="Photo"===e.kind?e.sizes:e.image;return s?s.get("local")||(r?(null===(o=Array.from(s.entries()).find((([e,{width:r,height:o}])=>a.includes(e)&&r>=n&&o>=t)))||void 0===o?void 0:o[1])||s.get("r")||s.get("q")||s.get("p")||s.get("o")||null:(null===(i=Array.from(s.entries()).find((([e,{width:r,height:o}])=>!a.includes(e)&&r>=n&&o>=t)))||void 0===i?void 0:i[1])||s.get("w")||s.get("z")||s.get("y")||s.get("x")||s.get("m")||s.get("s")||null):null}function yt(e){switch(e.kind){case"Photo":{const n=e.accessKey?`/${e.accessKey}`:"";return`/im?z=photo${e.ownerId}_${e.id}${n}`}case"Video":{const n=e.accessKey?`/${e.accessKey}`:"";return`/im?z=video${e.ownerId}_${e.id}${n}`}case"Audio":return`/audio${e.ownerId}_${e.id}`;case"AudioPlaylist":const n=e.accessKey?`_${e.accessKey}`:"";return`/music/${e.type}/${e.ownerId}_${e.id}${n}`;case"Podcast":return`/im?z=podcast${e.ownerId}_${e.id}`;case"Doc":return`/doc${e.ownerId}_${e.id}`;case"Sticker":return"/stickers";case"Link":case"Article":return e.url;case"Voice":case"MoneyTransfer":case"MoneyRequest":case"Gift":case"Graffiti":case"MarketAlbum":case"Call":case"WallReply":case"Geo":case"ActiveCall":return"";case"Market":return`/market${e.ownerId}?w=product${e.ownerId}_${e.id}`;case"Poll":return`/im?w=poll${e.ownerId}_${e.id}`;case"Story":return`/im?w=story${e.ownerId}_${e.id}`;case"Wall":return`/wall${e.ownerId}_${e.id}`;case"MiniApp":return`/im?w=${e.appLink}`;default:return Ee()}}function Bt(e){const n=[];for(const t of e.photos||[])n.push(`photo${t.ownerId}_${t.id}`);for(const t of e.videos||[])n.push(`video${t.ownerId}_${t.id}`);for(const t of e.audios||[])n.push(`audio${t.ownerId}_${t.id}`);for(const t of e.docs||[])n.push(`doc${t.ownerId}_${t.id}`);return n}function wt(e){return{id:e,kind:"Sticker",image128:{light:`https://vk.com/sticker/${e}/128.png`,dark:`https://vk.com/sticker/${e}/128b.png`},image256:{light:`https://vk.com/sticker/${e}/256.png`,dark:`https://vk.com/sticker/${e}/256b.png`}}}function xt(e,n,t,r,o,i){return function({api:a}){return function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){let s=!1,c={};o.sticker&&(c.sticker_id=o.sticker.id,c.sticker_referrer=o.sticker.referrer);try{yield a.fetch("messages.send",Object.assign(Object.assign({},c),{peer_id:e,random_id:n,message:t,attachment:0===r.length?void 0:r.join(","),entrypoint:i}))}catch(e){s=!0}return{type:"UserHitSend_RequestCompleted",peerId:e,randomId:n,hasFailed:s,entrypoint:i}}))}}const Dt=(e,n)=>{switch(n.type){case"UserHitEdit":{const{messageId:t,text:r,attaches:o,peerId:i}=n;if(!e.convos.get(i))return[];e.locks.edit.add(i);const a=Bt(o).join(",");return[function({api:e}){return function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){let n=!1;try{yield e.fetch("messages.edit",{peer_id:i,message_id:t,message:r,attachment:0===a.length?void 0:a})}catch(e){n=!0}return{type:"UserHitEdit_RequestCompleted",messageId:t,peerId:i,hasFailed:n}}))}]}case"UserHitEdit_RequestCompleted":{const{peerId:t,hasFailed:r}=n;return e.locks.edit.delete(t),e.convos.get(t),[]}default:return Ee()}};var kt=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((r=r.apply(e,n||[])).next())}))};const St=(e,n)=>{switch(n.type){case"UserSeenMessage":{const{messageId:t,peerId:r}=n,o=e.convos.get(r);if(!o)return[];if(t<=o.inReadBy)return[];const i=e.readQueues.has(r);return ft(o,t),st(o)||e.folders.unread.peerIds.delete(o.peerId),e.readQueues.set(r,o.inReadBy),i?[]:[Ft(r)]}case"UserSeenMessage_ThrottleTimedOut":{const{peerId:t}=n,r=e.readQueues.get(t);return r?[function({api:e}){return kt(this,void 0,void 0,(function*(){try{yield e.fetch("messages.markAsRead",{peer_id:t,start_message_id:r,mark_conversation_as_read:1})}catch(e){}return{type:"UserSeenMessage_RequestCompleted",peerId:t,readUntilId:r}}))}]:[]}case"UserSeenMessage_RequestCompleted":{const{peerId:t,readUntilId:r}=n,o=e.readQueues.get(t);return o?r>=o?(e.readQueues.delete(t),[]):[Ft(t)]:[]}default:return Ee()}};function Ft(e){return function(){return kt(this,void 0,void 0,(function*(){return yield _e(300),{type:"UserSeenMessage_ThrottleTimedOut",peerId:e}}))}}var It=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((r=r.apply(e,n||[])).next())}))};const Mt=(e,n)=>{switch(n.type){case"UserScrolledConvoHistory":{const{peerId:t,direction:r}=n,o=e.convos.get(t);if(!o)return[];if("end"===r)return mt(o),[];if(e.locks.getHistory.has(t))return[];if("forward"===r&&!rt(o))return[];if("backward"===r&&!o.hasMore)return[];e.locks.getHistory.add(n.peerId);const i=80;switch(r){case"forward":{const e=o.afterGapId,n=-i;return[function({api:r}){return It(this,void 0,void 0,(function*(){try{return{type:"UserScrolledConvoHistory_RequestSucceed",peerId:t,response:yield r.fetch("messages.getHistory",{peer_id:t,start_message_id:e,count:i,offset:n},{retries:5})}}catch(e){return{type:"UserScrolledConvoHistory_RequestFailed",peerId:t}}}))}]}case"backward":{const e=Math.min(...o.persisted.keys()),n=0;return[function({api:r}){return It(this,void 0,void 0,(function*(){try{const o=yield r.fetch("messages.getHistory",{peer_id:t,start_message_id:e,count:i,offset:n},{retries:5});return{type:"UserScrolledConvoHistory_RequestSucceed",peerId:t,hasMore:i===o.items.length,response:o}}catch(e){return{type:"UserScrolledConvoHistory_RequestFailed",peerId:t}}}))}]}default:return Ee()}}case"UserScrolledConvoHistory_RequestSucceed":{const{peerId:t,response:r,hasMore:o}=n;e.locks.getHistory.delete(t);const i=e.convos.get(t);return i?(function(e,n,t){void 0!==t&&(e.hasMore=t);const r=n[0];if(!r)return;n=n.filter((n=>!(null==e?void 0:e.persisted.has(n.id))));const[o,...i]=n;if(!o)return;const a=new Map;let s=Object.assign(Object.assign({},o),{olderId:hn(),newerId:hn()});const c=s;for(const e of i)s.olderId=e.id,a.set(s.id,s),s=Object.assign(Object.assign({},e),{olderId:hn(),newerId:s.id});if(a.set(s.id,s),!c||!s)return;let l;for(let n=c.id;n<=e.persistedId&&(l=e.persisted.get(n),!l);n++);if(!l)return e.persistedId=c.id,void(e.persisted=a);const u=e.persisted.get(l.olderId),d=l.convoLocalId>r.convoLocalId+1;switch(!0){case!e.afterGapId&&d:e.afterGapId=c.id;break;case e.afterGapId&&r.id>e.afterGapId:e.afterGapId=d?c.id:void 0;break;case e.afterGapId&&!u&&d:return}l.olderId=c.id,c.newerId=l.id,u&&(s.olderId=u.id,u.newerId=s.id);for(const n of a.values())e.persisted.set(n.id,n)}(i,r.items.map((e=>Nn(e).message)),o),tt(e,{apiUsers:r.profiles||[],apiGroups:r.groups||[]}),[]):[]}case"UserScrolledConvoHistory_RequestFailed":return e.locks.getHistory.delete(n.peerId),[];default:return Ee()}},Tt=(e,n)=>{switch(n.type){case"UserHitUnpinMessage":{const{peerId:t}=n,r=e.convos.get(t);if(!r||"ChatConvo"!==r.kind)return[];const o=V(vt(r));return o?[function({api:e}){return function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){try{const n=yield e.fetch("messages.unpin",{peer_id:t});return{type:"UserHitUnpinMessage_RequestCompleted",message:o,hasFailed:1!==n,peerId:t}}catch(e){return{type:"UserHitUnpinMessage_RequestCompleted",message:o,hasFailed:!0,peerId:t}}}))}]:[]}case"UserHitUnpinMessage_RequestCompleted":{const{peerId:t,hasFailed:r,message:o}=n;if(r){const n=e.convos.get(t);n&&"ChatConvo"===n.kind&&Ct(n,o),e.hiddenPinnedMessages.delete(t)}return[]}case"UserHitUnpinMessageHide":return e.hiddenPinnedMessages.set(n.peerId,n.convoLocalId),[];default:return Ee()}};var Pt=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((r=r.apply(e,n||[])).next())}))};const zt=(e,n)=>{switch(n.type){case"UserOpenedConvo":{const{peerId:t}=n,r=e.convos.get(t);if(e.locks.convosCleanup.add(t),!r)return[];const o=r.isMarkedUnread&&0===r.unreadCount;o&&(function(e){e.isMarkedUnread=!1}(r),st(r)||e.folders.unread.peerIds.delete(r.peerId));const i="ChatConvo"===r.kind&&void 0===r.members&&function(e){return e.canWrite.allowed||!e.canWrite.allowed&&"no_access"!==e.canWrite.reason}(r)&&!e.locks.getConversationMembers.has(t);i&&e.locks.getConversationMembers.add(t);const a=function(e){return{persisted:e.persisted.size,total:e.persisted.size+e.queued.size}}(r).persisted<80&&r.hasMore&&!e.locks.getHistory.has(r.peerId);a&&e.locks.getHistory.add(r.peerId);const s=r.unreadCount>0;return[i&&Fe(t)&&function({api:e}){return Pt(this,void 0,void 0,(function*(){try{return{type:"UserOpenedConvo_MembersRequestCompleted",peerId:t,response:yield e.fetch("messages.getConversationMembers",{peer_id:t},{retries:1})}}catch(e){return{type:"Noop"}}}))},o&&function({api:e}){return Pt(this,void 0,void 0,(function*(){try{yield e.fetch("messages.markAsRead",{peer_id:t,mark_conversation_as_read:1})}catch(e){}return{type:"Noop"}}))},a&&function({api:e}){var n;return Pt(this,void 0,void 0,(function*(){const{count:r,offset:o}=s?{count:Math.floor(100),offset:-80}:{count:80,offset:0};try{const i=yield e.fetch("messages.getHistory",{peer_id:t,start_message_id:-1,count:r,offset:o},{retries:5}),a=i.conversations&&(null===(n=i.conversations[0])||void 0===n?void 0:n.unread_count)||0;return{type:"UserScrolledConvoHistory_RequestSucceed",peerId:t,hasMore:r+o+a===i.items.length,response:i}}catch(e){return{type:"UserScrolledConvoHistory_RequestFailed",peerId:t}}}))}]}case"UserClosedConvo":{e.locks.convosCleanup.delete(n.peerId);const t=e.convos.get(n.peerId);return t?(mt(t),[]):[]}case"UserOpenedConvo_MembersRequestCompleted":{const{peerId:t,response:r}=n;e.locks.getConversationMembers.delete(t);const o=e.convos.get(t);if(!o||"ChatConvo"!==o.kind)return[];const{insertedUsers:i,insertedGroups:a}=tt(e,{apiUsers:r.profiles||[],apiGroups:r.groups||[]});return function(e,n){e.membersCount=n.length,e.members=n}(o,[...i.map((e=>e.id)),...a.map((e=>e.id))]),[]}default:return Ee()}};function Ot(){function e(){return{peerIds:new Set,hasMore:!0,unreadCount:0,boundary:{majorSortId:0,minorSortId:1}}}return{all:e(),unread:e(),messageRequest:e(),businessNotify:e()}}const Nt={all:"all",unread:"unread",messageRequest:"message_request",businessNotify:"business_notify"};function jt(e){return Nt[e]}function Lt(e,n,t,r){for(const r of t)Wt(e,n,r),Rt(e,n,r);e[n].hasMore=e[n].peerIds.size<r}function Rt(e,n,t){e[n].peerIds.delete(t.peerId);const r=e[n];if(function(e,n){return!pt(n)&&(n.majorSortId>e.boundary.majorSortId||n.majorSortId===e.boundary.majorSortId&&n.minorSortId>=e.boundary.minorSortId)}(r,t))switch(n){case"all":return r.peerIds.add(t.peerId),void Rt(e,"unread",t);case"unread":return void(st(t)&&r.peerIds.add(t.peerId));case"businessNotify":case"messageRequest":return;default:return Ee()}}function Ut(e,{unread:n,businessNotify:t,messageRequest:r}){void 0!==n&&(e.all.unreadCount=n,e.unread.unreadCount=n),void 0!==t&&(e.businessNotify.unreadCount=t),void 0!==r&&(e.messageRequest.unreadCount=r)}function Wt(e,n,t){pt(t)||(t.majorSortId<e[n].boundary.majorSortId?e[n].boundary={majorSortId:t.majorSortId,minorSortId:t.minorSortId}:t.majorSortId===e[n].boundary.majorSortId&&t.minorSortId<e[n].boundary.minorSortId&&(e[n].boundary.minorSortId=t.minorSortId),"all"===n&&Wt(e,"unread",t))}var Ht=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((r=r.apply(e,n||[])).next())}))};function qt(e,n,t){const{next:r}=n;if("Reconnecting"===r.kind)return e.status="reconnecting",[Zt()];if("Failure"===r.kind){e.status="resyncing";const n=e.pts;return[function({api:e,engine:t}){var r;return Ht(this,void 0,void 0,(function*(){const o=yield e.fetch("messages.getLongPollHistory",{lp_version:t.version,credentials:1,pts:n,msgs_limit:1100,events_limit:1100,last_n:1e3},{retries:1/0});if(n<(o.from_pts||0))return{type:"TemporaryHackForResync"};if(!o.credentials||!o.credentials.pts)throw new Error("В ответе getLongPollHistory отсутствуют новые креды!");return yield t.connect(Object.assign(Object.assign({},o.credentials),{pts:o.credentials.pts})),{type:"EngineBatchReceived",variant:{kind:"FromApiEngineHistory",apiMessages:Vt((null===(r=o.messages)||void 0===r?void 0:r.items)||[]),apiConvos:o.conversations||[],apiUsers:o.profiles||[],apiGroups:o.groups||[],next:{kind:"Batch",pts:o.credentials.pts,ts:o.credentials.ts,updates:o.history||[]}}}}))}]}if(void 0===t&&function(e,n){for(const t of n.updates){if(pn.isIncompleteUpdate(t))return!0;switch(t[0]){case 4:{const[,,,,n,,,,r]=t,o=De(n),i=Yt(e.convos.get(o));if(Gt(r,i))return!0;const{message:a}=jn(t,e.viewerId,i);if(!e.convos.has(a.peerId)||!e.peers.has(a.peerId)||!e.peers.has(a.authorId))return!0;switch(a.kind){case"Normal":case"Expired":break;case"Service":switch(a.action.type){case"chat_invite_user":case"chat_kick_user":case"chat_invite_user_by_call":case"chat_invite_user_by_message_request":case"chat_kick_user_call_block":if(!e.peers.has(a.action.peerId))return!0;break;case"chat_screenshot":case"chat_create":case"chat_title_update":case"chat_photo_update":case"chat_photo_remove":case"chat_pin_message":case"chat_unpin_message":case"chat_group_call_started":case"chat_invite_user_by_link":case"chat_invite_user_by_call_join_link":case"sent_message_requests_count":case"accepted_message_request":case"chat_kick_don":case"conversation_style_update":case"unknown":break;default:Ee(a.action)}break;default:Ee()}break}case 5:case 18:{const[,,,n,,,,r]=t,o=De(n);if(Gt(r,Yt(e.convos.get(o))))return!0;break}case 19:return!0;case 20:case 21:{const[,n]=t,r=De(n);if(!e.convos.has(r))return!0;break}case 52:{const[,n]=t;switch(n){case pn.ChatUpdateType.TitleChanged:case pn.ChatUpdateType.AvatarChanged:case pn.ChatUpdateType.BannerChanged:return!0;case pn.ChatUpdateType.Pinned:const[,,n,r]=t,o=De(n),i=e.convos.get(o);if(i&&0!==r)return!lt(i,r);case pn.ChatUpdateType.CopyFlagChanged:case pn.ChatUpdateType.AdminGrated:case pn.ChatUpdateType.FlagsChanged:case pn.ChatUpdateType.UserJoined:case pn.ChatUpdateType.UserLeft:case pn.ChatUpdateType.UserKicked:case pn.ChatUpdateType.AdminKicked:case pn.ChatUpdateType.KeyboardChanged:case pn.ChatUpdateType.MessageRequestChanged:case pn.ChatUpdateType.ContactConverted:case pn.ChatUpdateType.BusinessNotifyDataChanged:case pn.ChatUpdateType.MessageRequestCanceled:case pn.ChatUpdateType.MessageRequestRejected:case pn.ChatUpdateType.MessageRequestAccepted:case pn.ChatUpdateType.ContactJoined:case pn.ChatUpdateType.CallInProgressChanged:}break}}}return!1}(e,r))return[(o=e.pts,i=r,function({api:e,engine:n}){var t;return Ht(this,void 0,void 0,(function*(){const r=yield e.fetch("messages.getLongPollHistory",{pts:o,lp_version:n.version},{retries:1/0});return{type:"EngineBatchReceived",variant:{kind:"FromEngineWithMissingData",apiConvos:r.conversations||[],apiMessages:Vt((null===(t=r.messages)||void 0===t?void 0:t.items)||[]),apiUsers:r.profiles||[],apiGroups:r.groups||[],skippedBatch:i}}}))})];var o,i;e.status="running",e.pts=r.pts;const a=r.updates.flatMap((n=>{switch(n[0]){case 1:case 2:case 3:return function(e,n){const[t,r,o,i]=n,a=De(i),s=e.convos.get(a);if(!s)return[];const c={1:"replace",2:"set",3:"unset"}[t];return function(e,n,t,r){const o=e.persisted.get(n);if(!o)return;const{isDeleted:i}=function(e,n,t){var r,o,i;const a={isOut:e.isOut,isSpam:!1,isDeleted:!1,isDeletedForAll:!1,noPush:!1};let s,c;switch(e.kind){case"Normal":s=vn(Object.assign(Object.assign({},a),{isImportant:e.isImportant,isVoiceListened:!!(null===(o=null===(r=e.attaches)||void 0===r?void 0:r.voice)||void 0===o?void 0:o.isListened)}));break;case"Service":case"Expired":s=vn(Object.assign(Object.assign({},a),{isImportant:!1,isVoiceListened:!1}));break;default:Ee()}switch(n){case"unset":c=vn(s&~t);break;case"replace":c=vn(t);break;case"set":c=vn(s|t);break;default:Ee()}const{isImportant:l,isSpam:u,isDeleted:d,isDeletedForAll:A,isVoiceListened:p}=c;switch(e.kind){case"Normal":e.isImportant=l,(null===(i=e.attaches)||void 0===i?void 0:i.voice)&&(e.attaches.voice.isListened=p);break;case"Service":case"Expired":break;default:Ee()}return{isDeleted:u||d||A}}(o,t,r);if(i){!o.isOut&&e.inReadBy<n&&(e.unreadCount=Math.max(0,e.unreadCount-1)),"ChatConvo"===e.kind&&e.unreadMentions.delete(o.id),e.unreadExpireables.delete(o.id);const t=e.persisted.get(o.newerId),r=e.persisted.get(o.olderId);r&&(r.newerId=o.newerId,e.persistedId===o.id&&(e.persistedId=r.id)),t&&(t.olderId=o.olderId),e.persisted.delete(o.id)}}(s,hn(r),c,o),[]}(e,n);case 4:case 5:case 18:case 19:return function(e,n,t){const[,r,o]=n,i=null==t?void 0:t.get(r);let a,s;if(i){const e=Nn(i);a=e.message,s=e.mentions}else{if(pn.isIncompleteUpdate(n)||19===n[0]){if(o&&vn(o).isDeletedForAll)return[];const t=e.viewerId;return[function({logger:e}){return Ht(this,void 0,void 0,(function*(){const r=new Error(`Оказались в невозможном состоянии для апдейта [${n[0]}, ${n[1]}, ${n[2]}] с viewerId: ${t}`);return e.error("[EngineBatchReceived]",r),{type:"Noop"}}))}]}const t=De(4===n[0]?n[4]:n[3]),r=e.convos.get(t),i=jn(n,e.viewerId,Yt(r));a=i.message,s=i.mentions}const c=e.convos.get(a.peerId);if(!c)return[];switch(n[0]){case 4:{const t=e.typings.get(c.peerId);if(t)for(const n of Jn){const r=t[n];r&&r.peerIds.has(a.authorId)&&(r.peerIds.delete(a.authorId),r.totalCount--,0===r.totalCount&&delete t[n],0===Object.keys(t).length&&e.typings.delete(c.peerId))}const r=n[3];return"ChatConvo"===c.kind?ht(c,a,r,s.hasDirect||s.hasMass):ht(c,a,r),Rt(e.folders,"all",c),e.locks.convosCleanup.has(c.peerId)||mt(c),[]}case 5:case 18:case 19:return function(e,n,t){"ChatConvo"===e.kind&&(e.unreadMentions.delete(n.id),t&&n.id>e.inReadBy&&e.unreadMentions.add(n.id)),e.unreadExpireables.delete(n.id),("Normal"===n.kind&&n.expireTTL||"Expired"===n.kind)&&n.id>e.inReadBy&&e.unreadExpireables.add(n.id);const r=e.persisted.get(n.id);r&&e.persisted.set(r.id,Object.assign(Object.assign({},n),{newerId:r.newerId,olderId:r.olderId}))}(c,a,s.hasDirect||s.hasMass),[];default:return Ee()}}(e,n,t);case 6:case 7:return function(e,n){const[t,r,o,i]=n,a=De(r),s=e.convos.get(a);return s?(6===t?ft(s,hn(o),i):function(e,n){e.outReadBy>=n||(e.outReadBy=n)}(s,hn(o)),Rt(e.folders,"all",s),[]):[]}(e,n);case 10:case 11:case 12:return function(e,n){const[t,r,o]=n,i=De(r),a=e.convos.get(i);return a?(function(e,n,t){const r=_t({isMarkedUnread:e.isMarkedUnread});let o;switch(n){case"unset":o=_t(r&~t);break;case"replace":o=_t(t);break;case"set":o=_t(r|t);break;default:Ee()}const{isMarkedUnread:i}=o;e.isMarkedUnread=i}(a,{10:"unset",11:"replace",12:"set"}[t],o),Rt(e.folders,"all",a),[]):[]}(e,n);case 20:return function(e,n){const[,t,r]=n,o=De(t),i=e.convos.get(o);return i?(gt(i,{majorSortId:r}),Rt(e.folders,"all",i),[]):[]}(e,n);case 21:return function(e,n){const[,t,r]=n,o=De(t),i=e.convos.get(o);return i?(gt(i,{minorSortId:r}),Rt(e.folders,"all",i),[]):[]}(e,n);case 52:return function(e,n){const[,t,r,o]=n,i=De(r),a=e.convos.get(i);if(!a||"ChatConvo"!==a.kind)return[];switch(t){case pn.ChatUpdateType.UserJoined:{const e=De(o);if(!Se(e)&&!Ie(e))break;!function(e,n){e.members&&(e.membersCount++,e.members.push(n))}(a,e);break}case pn.ChatUpdateType.UserKicked:{const e=De(o);if(!Se(e)&&!Ie(e))break;!function(e,n){e.members&&(e.membersCount--,e.members=e.members.filter((e=>e!==n)))}(a,e);break}case pn.ChatUpdateType.Pinned:{const n=o;if(0===n)vt(a);else{const e=lt(a,n);e&&"Normal"===e.kind&&Ct(a,function(e){const{id:n,convoLocalId:t,peerId:r,authorId:o,chunks:i,sentAt:a,forwardedMessages:s,replyMessage:c,attaches:l}=e;return{kind:"Pinned",id:n,convoLocalId:t,peerId:r,authorId:o,chunks:i,sentAt:a,forwardedMessages:s,replyMessage:c,attaches:l}}(e))}return e.hiddenPinnedMessages.delete(i),[]}}return[]}(e,n);case 63:case 64:case 65:case 66:case 67:return function(e,n){const[t,r,o,i,a]=n,s=De(r),c=new Set(o.map((e=>De(e))));if(c.delete(e.viewerId),!e.convos.get(s))return[];const l={63:"text",64:"voice",65:"photo",66:"video",67:"file"}[t],u=Object.assign(Object.assign({},e.typings.get(s)||{}),{[l]:{peerIds:c,updatedAt:a,totalCount:i}});return e.typings.set(s,u),[function(){return Ht(this,void 0,void 0,(function*(){return yield _e(5e3),{type:"EngineBatchReceived_TypingsTimedOut",peerId:s,typingType:l,timestamp:a}}))}]}(e,n);case 80:return function(e,n){const[,t,,,r]=n;return Ut(e.folders,{unread:t,businessNotify:r}),[]}(e,n);case 114:return function(e,n){const[,{peer_id:t}]=n,r=De(t),o=e.convos.get(r);return o?(function(e,n){e.push=n}(o,function(e){switch(e[1].disabled_until){case 0:return{mode:"everything",disabledUntil:0};case-1:return{mode:"nothing",disabledUntil:1/0};default:return{mode:"nothing",disabledUntil:1e3*e[1].disabled_until}}}(n)),[]):[]}(e,n);default:return[]}}));return[Zt(),...a]}function Zt(){return function({engine:e}){return Ht(this,void 0,void 0,(function*(){return{type:"EngineBatchReceived",variant:{kind:"FromEngine",next:yield e.poll()}}}))}}function Vt(e){return new Map(e.map((e=>[e.id,e])))}function Yt(e){return function(n){if(e){const t=lt(e,n);return"Normal"===(null==t?void 0:t.kind)?t:void 0}}}function Gt(e,n){return"string"==typeof e.attach1_type?"sticker"!==e.attach1_type&&("audiomsg"!==e.attach1_kind||"doc"!==e.attach1_type):void 0!==e.geo||void 0!==e.fwd&&void 0===e.reply||void 0!==e.reply&&!n(mn(JSON.parse(e.reply).conversation_message_id))}const $t=(e,n)=>{const{type:t}=n;switch(t){case"UserChangedSetting":{const t=e.userSettings[n.setting];return e.userSettings[n.setting]=n.value,[function(e){return function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){try{return{type:"UserChangedSetting_RequestCompleted",hasFailed:1!==(yield function(e,n,t){const{api:r,storage:o}=e;switch(n){case"ctrSubmit":return r.fetch("account.setInfo",{name:"messages_multiline_input",value:String(Number(t))});case"soundNotifications":return o.set("settings-sound-notifications-on",t),Promise.resolve(1);case"showRecommendations":return r.fetch("account.setInfo",{name:"messages_recommendation_list_hidden",value:String(Number(!t))});case"countOnlyNotMuted":return r.fetch("account.setInfo",{name:"show_only_not_muted_messages",value:String(Number(t))});default:Ee()}}(e,n.setting,n.value)),setting:n.setting,previousValue:t}}catch(e){return{type:"UserChangedSetting_RequestCompleted",hasFailed:!0,setting:n.setting,previousValue:t}}}))}]}case"UserChangedSetting_RequestCompleted":return n.hasFailed&&(e.userSettings[n.setting]=n.previousValue),[];default:Ee()}},Xt=(e,n)=>{switch(n.type){case"UserChangedFriendship":{const t=e.peers.get(n.userId);if("User"!==(null==t?void 0:t.kind)||e.locks.updateFriendshipOrMembership.has(t.id))return[];const r=t.friendship;return Oe(t,n.change),r===t.friendship?[]:(e.locks.updateFriendshipOrMembership.add(t.id),[function({api:e}){return function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){let t=!1;try{yield e.fetch(`friends.${n.change}`,{user_id:n.userId})}catch(e){t=!0}return{type:"UserChangedFriendship_RequestCompleted",userId:n.userId,change:n.change,hasFailed:t}}))}])}case"UserChangedFriendship_RequestCompleted":{e.locks.updateFriendshipOrMembership.delete(n.userId);const t=e.peers.get(n.userId);return"User"!==(null==t?void 0:t.kind)||n.hasFailed&&Oe(t,{add:"delete",delete:"add"}[n.change]),[]}default:return Ee()}},Qt=(e,n)=>{switch(n.type){case"UserChangedGroupMembership":{const t=e.peers.get(n.groupId);if("Group"!==(null==t?void 0:t.kind)||e.locks.updateFriendshipOrMembership.has(t.id))return[];const r=t.membership;return Ne(t,n.change),r===t.membership?[]:(e.locks.updateFriendshipOrMembership.add(t.id),[function({api:e}){return function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){const t=`groups.${n.change}`;let r=!1;try{yield e.fetch(t,{group_id:-n.groupId})}catch(e){r=!0}return{type:"UserChangedGroupMembership_RequestCompleted",groupId:n.groupId,change:n.change,hasFailed:r}}))}])}case"UserChangedGroupMembership_RequestCompleted":{e.locks.updateFriendshipOrMembership.delete(n.groupId);const t=e.peers.get(n.groupId);return"Group"!==(null==t?void 0:t.kind)||n.hasFailed&&Ne(t,{join:"leave",leave:"join"}[n.change]),[]}default:return Ee()}},Kt={u1072:"a",u1073:"b",u1074:"v",u1075:"g",u1076:"d",u1077:"e",u1105:"yo",u1078:"zh",u1079:"z",u1080:"i",u1081:"y",u1082:"k",u1083:"l",u1084:"m",u1085:"n",u1086:"o",u1087:"p",u1088:"r",u1089:"s",u1090:"t",u1091:"u",u1092:"f",u1093:"kh",u1094:"ts",u1095:"ch",u1096:"sh",u1097:"shch",u1098:"'",u1099:"y",u1100:"'",u1101:"e",u1102:"yu",u1103:"ya"},Jt=Object.assign(Object.assign({},Kt),{u1093:"h",u1097:"sh",u1098:"",u1100:"",u1105:"e"}),er={u102:"а",u44:"б",u100:"в",u117:"г",u108:"д",u116:"е",u92:"ё",u59:"ж",u112:"з",u98:"и",u113:"й",u114:"к",u107:"л",u118:"м",u121:"н",u106:"о",u103:"п",u104:"р",u99:"с",u110:"т",u101:"у",u97:"ф",u91:"х",u119:"ц",u120:"ч",u105:"ш",u111:"щ",u93:"ъ",u109:"ь",u115:"ы",u39:"э",u46:"ю",u122:"я",u60:"б",u126:"ё",u58:"ж",u123:"х",u125:"ъ",u34:"э",u62:"ю",u64:'"',u35:"№",u36:";",u37:"%",u94:":",u38:"?",u63:",",u47:"."};function nr(e){let n=[];const t=tr(e=e.toLowerCase().trim(),Kt),r=tr(e,Jt);return t!==e&&n.push(t),r!==e&&r!==t&&n.push(r),n}function tr(e,n){let t="";for(let r of e){const e=n["u"+r.codePointAt(0)];t+=void 0!==e?e:r}return t}const rr=Symbol("items");function or(){return{[rr]:new Set}}function ir(e,n,t){if(Array.isArray(n))n.forEach((n=>ir(e,n,t)));else{const{id:r,strings:o}=t(n);(function(e){let n=[];for(let t of e){const e=t.replace(/ё/g,"е");e!==t&&n.push(e),nr(t).forEach((e=>{e!==t&&n.push(e)})),n.push(t)}return n})(o).forEach((n=>{let t=e;t[rr].add(r),Array.from(n.trim().toLowerCase()).forEach((e=>{let n=t[e];n||(n=t[e]=or()),n[rr].add(r),t=n}))}))}return e}function ar(e,n){let t=null;for(const r of n){const n=sr(e,r);if(t)for(const e of t)n.has(e)||t.delete(e);else t=new Set([...n])}return t||new Set}function sr(e,n){let t=e;const r=n.trim().toLowerCase();for(const e of r){let n=t[e];if(!n)return new Set;t=n}return t[rr]}function cr(e){let n=[];switch(e.kind){case"Chat":n.push(...lr(e.title));break;case"Group":e.screenName&&n.push(e.screenName),n.push(...lr(e.name));break;case"User":e.screenName&&n.push(e.screenName),n.push(...lr(e.firstName)),n.push(...lr(e.lastName));break;default:Ee()}return n}function lr(e){return e.trim().toLowerCase().split(/\s+/g)}var ur=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((r=r.apply(e,n||[])).next())}))};const dr=()=>[{status:"running",pts:0,viewerId:De(),folders:Ot(),convos:new Map([[De(),{kind:"UserConvo",peerId:De(),unreadCount:0,majorSortId:0,minorSortId:0,inReadBy:hn(),outReadBy:hn(),isMarkedUnread:!1,canWrite:{allowed:!1,reason:"unknown"},push:{mode:"everything",disabledUntil:0},persistedId:hn(),persisted:new Map,queuedId:fn(),queued:new Map,afterGapId:hn(),unreadExpireables:new Set,hasMore:!1,entrypoint:null}]]),readQueues:new Map,peers:new Map([[De(),{kind:"User",id:De(),firstName:"...",firstNameGen:"...",firstNameAcc:"...",lastName:"...",lastNameGen:"...",lastNameAcc:"...",sex:"unknown",lastSeen:{isVisible:!1,platform:"other"},isVerified:!1,canCall:!0,followersCount:0,canChangeFriendship:!1,canMessage:!1,friendship:"unfamiliar",isBlacklisted:!1,isBlacklistedByMe:!1,isDeactivated:!1}]]),onlines:new Set,typings:new Map,convosSearchIndex:or(),locks:{getConversations:{all:!1,unread:!1,businessNotify:!1,messageRequest:!1},getHistory:new Set,getConversationMembers:new Set,send:new Set,edit:new Set,convosCleanup:new Set,updateFriendshipOrMembership:new Set},hiddenPinnedMessages:new Map,userSettings:{ctrSubmit:!1,soundNotifications:!0,showRecommendations:!0,countOnlyNotMuted:!1}},[function({engine:e,queue:n,api:t,storage:r}){return ur(this,void 0,void 0,(function*(){const n=yield t.fetch("messages.getLongPollServer",{need_pts:1,lp_version:e.version},{retries:1/0});if(!n.pts)throw new Error("Отсутствует pts");e.connect(Object.assign(Object.assign({},n),{pts:n.pts}));const[o,i,a]=yield Promise.all([t.fetch("users.get",{},{retries:1/0}),t.fetch("messages.getConversations",{count:30},{retries:1/0}),t.fetch("account.getCounters",{filter:"all"},{retries:1/0})]),s=yield Ar(t,r),c=o[0];if(!c)throw new Error("Не удалось получить текущего пользователя");return{type:"InitialDataLoaded",responseViewer:c,responseConvos:i,unreadCount:{messages:a.messages||0,messageRequest:a.message_requests||0,businessNotify:a.business_notify||0},pts:n.pts,hiddenPinnedMessages:r.get("hidden-pinned-messages"),userSettings:s}}))}]],Ar=(e,n)=>ur(void 0,void 0,void 0,(function*(){var t;const r=yield e.fetch("account.getInfo",{fields:"messages_recommendation_list_hidden,show_only_not_muted_messages,messages_multiline_input"}),{messages_recommendation_list_hidden:o,show_only_not_muted_messages:i,messages_multiline_input:a}=r;return{ctrSubmit:Boolean(a),soundNotifications:null===(t=n.get("settings-sound-notifications-on"))||void 0===t||t,showRecommendations:!Boolean(o),countOnlyNotMuted:Boolean(i)}})),pr=(e,n)=>{e.pts=n.pts,e.hiddenPinnedMessages=new Map(Object.entries(n.hiddenPinnedMessages||{}).map((([e,n])=>[De(parseInt(e)),mn(n)])));const t=et(e,n.responseConvos.items);Lt(e.folders,"all",t,n.responseConvos.count),Ut(e.folders,{unread:n.unreadCount.messages,messageRequest:n.unreadCount.messageRequest,businessNotify:n.unreadCount.businessNotify}),tt(e,{apiUsers:[...n.responseConvos.profiles||[]],apiGroups:[...n.responseConvos.groups||[]]});const{user:r}=Xn(n.responseViewer);return e.viewerId=r.id,e.peers.set(r.id,r),ir(e.convosSearchIndex,t,(n=>{const t=e.peers.get(n.peerId);return{id:n.peerId,strings:t?cr(t):[]}})),e.userSettings=n.userSettings,[function({engine:e}){return ur(this,void 0,void 0,(function*(){return{type:"EngineBatchReceived",variant:{kind:"FromEngine",next:yield e.poll()}}}))},function({api:e,queue:n}){return ur(this,void 0,void 0,(function*(){const t=yield e.fetch("queue.subscribe",{queue_ids:`onlfriends_${r.id}`},{retries:20});return n.connect(Object.assign({user_id:r.id},t)),{type:"QueueBatchReceived",next:yield n.poll()}}))}]},hr=(e,n)=>{const{next:t}=n;if("Reconnecting"===t.kind)return[function({queue:e}){return ur(this,void 0,void 0,(function*(){return{type:"QueueBatchReceived",next:yield e.poll()}}))}];if("Failure"===t.kind){const n=e.viewerId;return[function({queue:e,api:t}){return ur(this,void 0,void 0,(function*(){const r=yield t.fetch("queue.subscribe",{queue_ids:`onlfriends_${n}`},{retries:1/0});return e.connect(Object.assign({user_id:n},r)),{type:"QueueBatchReceived",next:yield e.poll()}}))}]}for(const n of t.events)switch(n.entity_type){case"online":const t=De(n.data.user_id);if(!Se(t))break;n.data.online?e.onlines.add(t):e.onlines.delete(t);const r=e.peers.get(t);if(!r||"User"!==r.kind)break;ze(r,1e3*n.data.last_seen,Kn(n.data.platform,n.data.app_id));break;default:n.entity_type}return[function({queue:e}){return ur(this,void 0,void 0,(function*(){return{type:"QueueBatchReceived",next:yield e.poll()}}))}]},mr=(e,n)=>{switch(n.type){case"MoreConvosNeeded":{const{folder:t}=n;if(e.locks.getConversations[t]||!e.folders[t].hasMore)return[];e.locks.getConversations[t]=!0;const r=e.folders[t].peerIds.size;return[function({api:e}){return ur(this,void 0,void 0,(function*(){try{return{type:"MoreConvosLoaded",response:yield e.fetch("messages.getConversations",{count:30,offset:r,filter:jt(t)}),folder:t}}catch(e){return{type:"Noop"}}}))}]}case"MoreConvosLoaded":const{response:t,folder:r}=n;e.locks.getConversations[r]=!1;const o=et(e,t.items,{merge:!0});return Lt(e.folders,r,o,t.count),tt(e,{apiUsers:t.profiles||[],apiGroups:t.groups||[]}),[];default:Ee()}};function fr(e,n,t=dr){let r=!1;const o=!1;let i=[],[a,s]=t();o&&o.init(a);const c=n=>{if(!r)throw new Error("Стор еще не был активирован. Нужно вызвать store.start().");const[t,s]=function(e,n,t){if("TemporaryHackForResync"===n.type)return dr();const r=he(e);let o;switch(n.type){case"InitialDataLoaded":o=pr(r,n);break;case"EngineBatchReceived":case"EngineBatchReceived_TypingsTimedOut":o=((e,n)=>{switch(n.type){case"EngineBatchReceived":{const{variant:t}=n;switch(t.kind){case"FromEngine":return qt(e,t);case"FromEngineWithMissingData":return function(e,n){const{apiConvos:t,apiMessages:r,apiUsers:o,apiGroups:i}=n;return et(e,t.map((e=>({conversation:e,last_message:r.get(e.last_message_id)}))),{merge:!0}),tt(e,{apiUsers:o,apiGroups:i}),qt(e,{kind:"FromEngine",next:n.skippedBatch},r)}(e,t);case"FromApiEngineHistory":return function(e,n){const{next:t,apiMessages:r,apiConvos:o,apiUsers:i,apiGroups:a}=n;return et(e,o.map((e=>({conversation:e,last_message:r.get(e.last_message_id)}))),{merge:!0}),tt(e,{apiUsers:i,apiGroups:a},{dangerouslyOverwrite:!0}),qt(e,{kind:"FromEngine",next:t},r)}(e,t);default:return Ee()}}case"EngineBatchReceived_TypingsTimedOut":{const{peerId:t,typingType:r,timestamp:o}=n,i=e.typings.get(t);if(!i)return[];const a=i[r];return a?(a.updatedAt<=o&&delete i[r],0===Object.keys(i).length&&e.typings.delete(t),[]):[]}default:return Ee()}})(r,n);break;case"QueueBatchReceived":o=hr(r,n);break;case"MoreConvosNeeded":case"MoreConvosLoaded":o=mr(r,n);break;case"CacheUpdateReceieved":o=((e,n)=>{const{profiles:t,groups:r,conversations:o,mutualFriends:i}=n;if(et(e,o||[]),tt(e,{apiUsers:t||[],apiGroups:r||[]}),i){const n=e.peers.get(De(i.peerId));n&&function(e,n,t){e.mutualFriends={hint:n,count:t}}(n,i.hint.map(De),i.count)}return[]})(r,n);break;case"UserScrolledConvoHistory":case"UserScrolledConvoHistory_RequestSucceed":case"UserScrolledConvoHistory_RequestFailed":o=Mt(r,n);break;case"UserSeenMessage":case"UserSeenMessage_ThrottleTimedOut":case"UserSeenMessage_RequestCompleted":o=St(r,n);break;case"UserHitSend":case"UserHitSend_RequestCompleted":o=((e,n)=>{switch(n.type){case"UserHitSend":{const{text:t,attaches:r,timestamp:o,peerId:i,expireTTL:a,entrypoint:s,extra:c}=n,l=e.convos.get(i);if(!l)return[];const u=function(e){const n=-Math.pow(2,31),t=fn(-e.sentAt%Math.abs(n));return Object.assign(Object.assign({},e),{kind:"Queued",text:e.text,chunks:(r=e.text,He(r,dn)),hasFailed:!1,randomId:t});var r}({peerId:i,text:t,isOut:!0,sentAt:o,authorId:e.viewerId,attaches:r,expireTTL:a,extra:c});return function(e,n){e.queued.set(n.randomId,Object.assign(Object.assign({},n),{newerId:fn(),olderId:e.queuedId}));const t=e.queued.get(e.queuedId);t&&(t.newerId=n.randomId),e.queuedId=n.randomId}(l,u),e.locks.send.has(l.peerId)?[]:(e.locks.send.add(l.peerId),[xt(i,u.randomId,t,Bt(r),u.extra,s)])}case"UserHitSend_RequestCompleted":{const{peerId:r,randomId:o,hasFailed:i,entrypoint:a}=n;e.locks.send.delete(r);const s=e.convos.get(r);if(!s)return[];i&&function(e,n,t){const r=e.queued.get(n);r&&function(e,n){e.hasFailed=n}(r,t)}(s,o,i);const c=function(e,n){const t=e.queued.get(n);if(t)return e.queued.get(t.newerId)}(s,o),l=c&&(g(t=c)||f(23,t),t[re].t);return l?(e.locks.send.add(r),[xt(r,l.randomId,l.text,Bt(l.attaches),l.extra,a)]):[]}default:return Ee()}var t})(r,n);break;case"UserHitEdit":case"UserHitEdit_RequestCompleted":o=Dt(r,n);break;case"UserOpenedConvo":case"UserClosedConvo":case"UserOpenedConvo_MembersRequestCompleted":o=zt(r,n);break;case"UserHitUnpinMessage":case"UserHitUnpinMessageHide":case"UserHitUnpinMessage_RequestCompleted":o=Tt(r,n);break;case"UserChangedFriendship":case"UserChangedFriendship_RequestCompleted":o=Xt(r,n);break;case"UserChangedGroupMembership":case"UserChangedGroupMembership_RequestCompleted":o=Qt(r,n);break;case"UserChangedSetting":case"UserChangedSetting_RequestCompleted":o=$t(r,n);break;case"Noop":o=[];break;default:Ee()}r.convos.set(De(),Et(e.convos,De())),r.peers.set(De(),je(e.peers,De()));const i=me(r);return e.hiddenPinnedMessages!==i.hiddenPinnedMessages&&o.push((function({storage:e}){return ur(this,void 0,void 0,(function*(){return e.set("hidden-pinned-messages",Array.from(i.hiddenPinnedMessages.entries()).reduce(((e,[n,t])=>(e[n]=t,e)),{})),{type:"Noop"}}))})),[i,o]}(a,n);if(o&&o.send(n,t),gr(c,s,e),a!==t)for(const e of i)e(t);a=t};return{start:()=>{r||(r=!0,gr(c,s,e))},dispatch:c,subscribe:e=>(i.push(e),()=>{i=i.filter((n=>n!==e))}),featureFlags:n,getState:()=>a}}function gr(e,n,t){0!==n.length&&setTimeout((()=>{for(const r of n)"function"==typeof r&&r(t).then(e).catch((e=>{t.logger.error("Необработанная ошибка редьюсера",e)}))}))}var Cr=l(4790),vr=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((r=r.apply(e,n||[])).next())}))};class Er{constructor(e,n,t){this.logger=e,this.request=n,this.refreshToken=t,this.waiting=[],this.freeResources=6,this.fetch=(e,n,t={})=>vr(this,void 0,void 0,(function*(){const r=t.retries||0,o=new be(500,"messages.getLongPollHistory"===e?2e3:2e4);for(;;)try{return yield this.doFetch(e,n,t.timeout)}catch(e){if(o.attempts()===r)throw e;yield _e(o.delay()),o.backoff()}})),this.doFetch=(e,n,t=3e4)=>vr(this,void 0,void 0,(function*(){if(this.token||(this.token=yield this.refreshToken(!1)),!this.lock())return new Promise(((t,r)=>{this.waiting.push((()=>this.doFetch(e,n).then(t).catch(r)))}));this.logger.info("[API] Request",e,n);const r=e.slice(0,e.indexOf(".")),o={messages:Array.from(new Set([...ge,...Ce])).join(","),users:ge.join(","),groups:Ce.join(",")}[r],i=Object.assign({v:ve,fields:o,extended:1,access_token:this.token},n),a=`https://api.vk.com/method/${e}?${Cr.stringify(i)}`;try{const r=yield this.request(a,t);return this.logger.info("[API] Response",e,r),this.release(),r.error?5===r.error.error_code?(this.token=yield this.refreshToken(!0),this.doFetch(e,n)):Promise.reject(`Request failed. Code: ${r.error.error_code}. Message: ${r.error.error_msg}`):r.response}catch(n){return n instanceof Error&&"NetworkError"!==n.name||this.logger.error("[API] Error "+e,n),this.release(),Promise.reject(n)}})),this.lock=()=>0!==this.freeResources&&(this.freeResources=Math.max(this.freeResources-1,0),!0),this.release=()=>{setTimeout((()=>{this.freeResources=Math.min(this.freeResources+1,6);const e=this.waiting.shift();e&&e()}),2050)}}}class _r{constructor(e,n){this.logger=e,this.request=n,this.reconnectTimeout=new be(250,2e4),this.skipBackoff=()=>{},this.isWorking=!1,this.EMPTY={kind:"Buffer",buffer:[],isReconnecting:!1},this.queued=this.EMPTY,this.version=12,this.connect=e=>{this.isWorking||(this.isWorking=!0,this.queued=this.EMPTY,(()=>{!function(e,n,t,r){new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){for(;this.isWorking;){if("Buffer"===this.queued.kind&&this.queued.buffer.length>=50)return this.isWorking=!1,void this.dispatch({kind:"Failure"});try{const n=`https://${e.server}?act=a_check&key=${e.key}&ts=${e.ts}&wait=25&mode=170&version=12`,t=yield this.request(n,3e4);if(this.reconnectTimeout.reset(),"failed"in t)return this.logger.info("[ENGINE] Failure",t),this.isWorking=!1,void this.dispatch({kind:"Failure"});e.ts=t.ts,e.pts=t.pts,this.dispatch(Object.assign({kind:"Batch"},t))}catch(e){e instanceof Error&&"NetworkError"!==e.name||this.logger.error("[ENGINE]",e),this.dispatch({kind:"Reconnecting"}),yield new Promise((e=>{this.logger.info("[ENGINE]",`Reconnecting in ${this.reconnectTimeout.delay()}`);const n=setTimeout((()=>{this.logger.info("[ENGINE]","Reconnecting..."),this.skipBackoff=()=>{},e()}),this.reconnectTimeout.delay());this.skipBackoff=()=>{clearTimeout(n),this.reconnectTimeout.reset(),this.skipBackoff=()=>{},e()}})),this.reconnectTimeout.backoff()}}}))})(),this.logger.info("[ENGINE] Connected"))},this.dispatch=e=>{if("Callback"===this.queued.kind)return this.queued.resolve(e),void(this.queued=this.EMPTY);switch(this.queued.isReconnecting=!1,e.kind){case"Failure":return void this.queued.buffer.push(e);case"Batch":{const n=this.queued.buffer[this.queued.buffer.length-1];return void(n&&"Failure"!==n.kind&&n.pts===e.pts?(n.ts=e.ts,n.pts=e.pts,n.updates.push(...e.updates)):this.queued.buffer.push(e))}case"Reconnecting":return void(this.queued.isReconnecting=!0);default:Ee()}},this.skipWaiting=()=>{this.skipBackoff()},this.poll=()=>{if("Callback"===this.queued.kind)return this.queued.reject("Engine.poll вызван повторно до обработки первого вызова!"),new Promise(((e,n)=>{this.queued={kind:"Callback",resolve:e,reject:n}}));const e=this.queued.buffer.shift();return e?Promise.resolve(e):this.queued.isReconnecting?Promise.resolve({kind:"Reconnecting"}):this.isWorking?new Promise(((e,n)=>{this.queued={kind:"Callback",resolve:e,reject:n}})):Promise.reject("Engine.connect еще не был вызван!")},this.isConnected=()=>this.isWorking}}var br,yr=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((r=r.apply(e,n||[])).next())}))};class Br{constructor(e,n){this.logger=e,this.request=n,this.reconnectTimeout=new be(500,6e4),this.isWorking=!1,this.EMPTY={kind:"Buffer",buffer:[],isReconnecting:!1},this.queued=this.EMPTY,this.connect=e=>yr(this,void 0,void 0,(function*(){if(this.isWorking)return;this.isWorking=!0,this.queued=this.EMPTY;const n=e.queues.map((e=>e.key)).join("");let t=e.queues.map((e=>e.timestamp)).join("_");(()=>{yr(this,void 0,void 0,(function*(){for(;this.isWorking;){if("Buffer"===this.queued.kind&&this.queued.buffer.length>=50)return this.isWorking=!1,void this.dispatch({kind:"Failure"});try{const r=`${e.base_url}?act=a_check&key=${n}&ts=${t}&id=${e.user_id}&wait=25`,o=yield this.request(r,3e4);if(this.reconnectTimeout.reset(),"failed"in o)return this.logger.info("[QUEUE] Failure",o),this.dispatch({kind:"Failure"}),void(this.isWorking=!1);t=o.ts,this.dispatch(Object.assign({kind:"Batch"},o))}catch(e){e instanceof Error&&"NetworkError"!==e.name||this.logger.error("[QUEUE] Error",e),this.dispatch({kind:"Reconnecting"}),yield _e(this.reconnectTimeout.delay()),this.reconnectTimeout.backoff()}}}))})(),this.logger.info("[QUEUE] Connected")})),this.dispatch=e=>{if("Callback"===this.queued.kind)return this.queued.resolve(e),void(this.queued=this.EMPTY);switch(this.queued.isReconnecting=!1,e.kind){case"Failure":return void this.queued.buffer.push(e);case"Batch":{const n=this.queued.buffer[this.queued.buffer.length-1];return void(n&&"Failure"!==n.kind?(n.ts=e.ts,n.events.push(...e.events)):this.queued.buffer.push(e))}case"Reconnecting":return void(this.queued.isReconnecting=!0);default:Ee()}},this.poll=()=>{if("Callback"===this.queued.kind)return this.queued.reject("Queue.poll вызван дважды!"),new Promise(((e,n)=>{this.queued={kind:"Callback",resolve:e,reject:n}}));const e=this.queued.buffer.shift();return e?Promise.resolve(e):this.queued.isReconnecting?Promise.resolve({kind:"Reconnecting"}):this.isWorking?new Promise(((e,n)=>{this.queued={kind:"Callback",resolve:e,reject:n}})):Promise.reject("Queue.connect еще не был вызван!")}}}function wr(e,n,t){var r,o=br();if(!n||!o)return e;Array.isArray(n)?(r=n[1],e!==Math.floor(e)?r=n[o.numRules.float]:o.numRules.int.some((function(t){if("*"===t[0])return r=n[t[2]],!0;var o=t[0]?e%t[0]:e;return Array.isArray(t[1])&&-1!==t[1].indexOf(o)?(r=n[t[2]],!0):void 0}))):r=n;var i=e+"";if(t){for(var a=e.toString().split("."),s=[],c=a[0].length-3;c>-3;c-=3)s.unshift(a[0].slice(c>0?c:0,c+3));a[0]=s.join(o.numDel),i=a.join(o.numDec)}return r=(r||"%s").replace("%s",i)}function xr(e,n,t){return Array.isArray(n)&&e<n.length?n[e]:wr(e,t)}class Dr{constructor(e,n,t,r={}){this.logger=e,this.locale=n,this.translations=t,this.decodedKeys=r,this.use=(e,...n)=>{try{const t=n[0];let r=this.getTemplate(e);return r?t?("num"in t?r=wr(t.num,r):"sex"in t&&(r=function(e,n){if(!Array.isArray(n))return n;var t=br(),r=n[1];return t?(t.sexRules.some((function(t){return"*"===t[0]||e==t[0]&&n[t[1]]?(r=n[t[1]],!0):void 0})),r):r}({female:"1",male:"2",unknown:"*"}[t.sex],r)),"values"in t&&Object.keys(t.values).length>0?kr(r,t.values):Array.isArray(r)||!r?e:r):Array.isArray(r)?e:r:e}catch(n){return this.logger.error(`[LANG] Ошибка формирования строки перевода ${e}`,n),e}},this.formatDate=(e,n)=>{const t=new Date(e),r=new Date(n.now);try{switch(n.variant){case"date":case"datetime":{const e="date"===n.variant?this.getTemplate("global_date"):this.getTemplate("global_date_year_time"),o="date"===n.variant?this.getTemplate("global_short_date"):this.getTemplate("global_short_date_time"),i=t.getFullYear()!==r.getFullYear()?e:o;if("date"===n.variant)return kr(i[1],this.splitDate(t));let a="";return a=Fr(r,t)?i[3]:function(e,n){return Fr(e,new Date(n.getTime()+Sr))}(r,t)?i[2]:function(e,n){return Fr(e,new Date(n.getTime()-Sr))}(r,t)?i[4]:i[1],kr(a,this.splitDate(t))}case"time":{const{hour:e,minute:n,am_pm:r}=this.splitDate(t);return`${e}:${n} ${r}`}case"time-ago":{const t=Math.floor((r.getTime()-e)/1e3);switch(!0){case t<60:return this.getTemplate("global_just_now");case t<3600:return xr(Math.floor(t/60),this.getTemplate("global_word_mins_ago"),this.getTemplate("global_mins_ago")).toString();case t<43200:return xr(Math.floor(t/60/60),this.getTemplate("global_word_hours_ago"),this.getTemplate("global_hours_ago")).toString();default:return this.formatDate(e,{now:n.now,variant:"datetime"})}}default:return Ee(n.variant)}}catch(e){return this.logger.error(`[LANG] Ошибка форматирования даты ${n.variant}`,e),t.toISOString()}},this.getTemplate=e=>{if(!this.decodedKeys[e]){const n=this.translations.keys[e];if(!n)return;this.decodedKeys[e]=Array.isArray(n)?n.map(Ue):Ue(n)}return this.decodedKeys[e]},this.splitDate=e=>{const n=this.getTemplate("global_months_of"),t=e.getMinutes().toString().padStart(2,"0");let r=e.getHours().toString().padStart(2,"0");const o=e.getDate(),i=n[e.getMonth()]||n[0],a=e.getFullYear();let s="";const{timeSys:c}=this.translations.config;return"12hour"===c[0]&&(s=e.getHours()>11?c[2]:c[1],r=(e.getHours()%12==0?12:e.getHours()%12).toString().padStart(2,"0")),{year:a,day:o,month:i,hour:r,minute:t,am_pm:s}},br=()=>t.config}}function kr(e,n){return Object.keys(n).reduce(((e,t)=>e.replace(new RegExp("{"+t+"}","g"),(n[t]||t).toString())),e)}const Sr=864e5;function Fr(e,n){const t=e.getDate(),r=e.getMonth(),o=e.getFullYear();return n.getFullYear()===o&&n.getMonth()===r&&n.getDate()===t}const Ir="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=";class Mr{constructor(e){this.logger=e,this.prevRAFTimestamp=0,this.hasMetaData=()=>!isNaN(this.player.duration)&&this.player.duration!==1/0&&0!==this.player.duration,this.metadata=()=>this.hasMetaData()?Promise.resolve():new Promise(((e,n)=>{const t=()=>{this.player.duration!==1/0&&(o(),e())},r=e=>{o(),n(e)},o=()=>{this.player.removeEventListener("durationchange",t),this.player.removeEventListener("error",r)};this.player.addEventListener("durationchange",t),this.player.addEventListener("error",r)})),this.setState=e=>{this.state="function"==typeof e?fe(this.state,e):e,this.listeners.forEach((e=>e(this.state)))},this.handleTimeUpdate=e=>{"playing"===this.state.status&&(e-this.prevRAFTimestamp<25?window.requestAnimationFrame(this.handleTimeUpdate):(this.setState((e=>{if("playing"!==e.status)return;const n=this.player.currentTime,t=Math.max(0,Math.min(1,n/this.player.duration));"Voice"===e.currentTrack.kind&&(e.voiceProgress=t,e.voiceTime=n),e.progress=t,e.time=n})),window.requestAnimationFrame(this.handleTimeUpdate),this.prevRAFTimestamp=e))},this.play=(e,n=0)=>function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){this.player.src=e.url,this.player.load(),this.setState((n=>{"Voice"===e.kind&&(n.currentVoice=e,n.voiceProgress=0,n.voiceDuration=0,n.voiceTime=0),n.currentTrack=e,n.progress=0,n.duration=0,n.time=0,n.status="loading"}));try{yield this.metadata(),this.setState((n=>{"Voice"===e.kind&&(n.currentVoice=e,n.voiceProgress=this.player.currentTime/this.player.duration,n.voiceDuration=this.player.duration,n.voiceTime=this.player.currentTime),n.currentTrack=e,n.progress=this.player.currentTime/this.player.duration,n.duration=this.player.duration,n.time=this.player.currentTime,n.status="playing"})),this.player.currentTime=n*this.player.duration,this.player.play()}catch(e){this.logger.error("Ошибка проигрывания аудио",e),this.stop()}})),this.pause=()=>{"playing"===this.state.status&&(this.setState((e=>{e.status="paused"})),this.player.pause())},this.resume=()=>{"paused"===this.state.status&&(this.setState((e=>{e.status="playing"})),this.player.play())},this.stop=()=>{"stopped"!==this.state.status&&(this.setState(Mr.initial()),this.player.pause(),this.player.src=Ir,this.player.currentTime=0)},this.subscribe=e=>(this.listeners.push(e),()=>{this.listeners=this.listeners.filter((n=>n!==e))}),this.timeLeft=(e=!1)=>{const n=e?this.state.voiceDuration:this.state.duration,t=e?this.state.voiceTime:this.state.time;return"-"+xe(Math.floor(n-t))},this.player=document.createElement("audio"),this.player.src=Ir,this.listeners=[],this.state=Mr.initial(),this.player.addEventListener("play",(()=>{window.requestAnimationFrame(this.handleTimeUpdate)})),this.player.addEventListener("ended",(()=>{this.setState((e=>{e.status="ended",e.progress=1,e.time=this.player.duration}))}))}static initial(){return{status:"stopped",currentVoice:null,currentTrack:null,progress:0,duration:0,time:0,voiceProgress:0,voiceDuration:0,voiceTime:0}}}class Tr{constructor(e){this.dbName=e,this.get=e=>{try{const n=localStorage.getItem(`${this.dbName}-${e}`);if(!n)return;return JSON.parse(n)}catch(e){return}},this.set=(e,n)=>{try{localStorage.setItem(`${this.dbName}-${e}`,JSON.stringify(n))}catch(e){}},this.del=e=>{try{localStorage.removeItem(`${this.dbName}-${e}`)}catch(e){}}}}class Pr{constructor(){this.listeners=[],this.send=(e,n)=>{for(const t of this.listeners)t(e,n)},this.subscribe=e=>(this.listeners.push(e),()=>{this.listeners=this.listeners.filter((n=>n!==e))})}}class zr{constructor(e){this.logger=e,this.listeners=new Set,this.isIdle=()=>void 0===this.timeoutId,this.subscribe=e=>(this.listeners.add(e),()=>{this.listeners.delete(e)}),this.onVisibilityChange=()=>{document.hidden?(document.removeEventListener("mousemove",this.onActive),document.removeEventListener("keydown",this.onActive),this.onIdle()):(document.addEventListener("mousemove",this.onActive),document.addEventListener("keydown",this.onActive),this.onActive())},this.onIdle=()=>{this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0,this.notify())},this.onActive=()=>{const e=void 0!==this.timeoutId;this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.onIdle,3e4),e||this.notify()},this.notify=()=>{this.logger.info("[IDLE]","user became "+(this.isIdle()?"idle":"active"));for(const e of this.listeners)e(this.isIdle())},this.onVisibilityChange(),document.addEventListener("visibilitychange",this.onVisibilityChange)}}var Or=l(5125),Nr={};Nr.styleTagTransform=p(),Nr.setAttributes=s(),Nr.insert=i().bind(null,"head"),Nr.domAPI=r(),Nr.insertStyleElement=d(),n()(Or.Z,Nr),Or.Z&&Or.Z.locals&&Or.Z.locals;var jr=l(4098),Lr=l.n(jr),Rr=l(3137),Ur=l(8562),Wr=l(4090),Hr={};Hr.styleTagTransform=p(),Hr.setAttributes=s(),Hr.insert=i().bind(null,"head"),Hr.domAPI=r(),Hr.insertStyleElement=d(),n()(Wr.Z,Hr),Wr.Z&&Wr.Z.locals&&Wr.Z.locals;var qr,Zr=l(7508),Vr=l.n(Zr),Yr=l(1646),Gr=l(2170),$r=l.n(Gr),Xr=!("undefined"==typeof window||!window.document||!window.document.createElement);if(Xr){var Qr="__SVG_SPRITE_NODE__";qr=new($r())({attrs:{id:Qr}});var Kr=function(){var e=document.getElementById(Qr);e?qr.attach(e):qr.mount()};document.querySelector("body")?Kr():document.addEventListener("DOMContentLoaded",Kr)}else qr=null;function Jr(e){qr&&qr.add(e)}var eo=Xr?jr.useLayoutEffect:jr.useEffect,no=(0,jr.createContext)({});function to(){return(to=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function ro(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function oo(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ro(Object(t),!0).forEach((function(n){io(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ro(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function io(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ao={display:"block"},so=function(e){var n=e.width,t=e.height,r=e.viewBox,o=e.id,i=e.className,a=e.style,s=e.fill,c=e.getRootRef,l=e.Component,u=function(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,["width","height","viewBox","id","className","style","fill","getRootRef","Component"]),d=Math.max(n,t),A=(0,jr.useContext)(no),p=function(e,n){for(var t=n.classPrefix,r=n.globalClasses,o="",i=0;i<e.length;i++)t&&(o+=" "+(t+e[i])),t&&!r||(o+=" "+e[i]);return o}(["Icon","Icon--".concat(d),"Icon--w-".concat(n),"Icon--h-".concat(t),"Icon--".concat(o)],A);return Lr().createElement(l,to({role:"presentation"},u,{ref:c,className:"".concat(p," ").concat(i),style:oo(oo({},a),{},{width:n,height:t})}),Lr().createElement("svg",{viewBox:r,width:n,height:t,style:ao},Lr().createElement("use",{xlinkHref:"#".concat(o),style:{fill:"currentColor",color:s}})))};so.defaultProps={Component:"div",className:"",style:{}};var co="0 0 24 24",lo="cancel_24",uo=!1;function Ao(){uo||(Jr(new(Vr())({id:lo,viewBox:co,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="cancel_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M18.3 5.7a.99.99 0 00-1.4 0L12 10.6 7.1 5.7a.99.99 0 00-1.4 1.4l4.9 4.9-4.9 4.9a.99.99 0 001.4 1.4l4.9-4.9 4.9 4.9a.99.99 0 001.4-1.4L13.4 12l4.9-4.9a.99.99 0 000-1.4z" fill="currentColor" /></g></symbol>'})),uo=!0)}var po=function(e){return eo((function(){Ao()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:co,id:lo,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};po.mountIcon=Ao;const ho=po;var mo=l(2321),fo=l.n(mo);function go(){return(go=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var Co=new Map,vo=new WeakMap,Eo=0;function _o(e,n,t){if(void 0===t&&(t={}),!e)return function(){};var r=function(e){var n=function(e){return Object.keys(e).sort().filter((function(n){return void 0!==e[n]})).map((function(n){return n+"_"+("root"===n?(t=e.root)?(vo.has(t)||(Eo+=1,vo.set(t,Eo.toString())),vo.get(t)):"0":e[n]);var t})).toString()}(e),t=Co.get(n);if(!t){var r,o=new Map,i=new IntersectionObserver((function(n){n.forEach((function(n){var t,i=n.isIntersecting&&r.some((function(e){return n.intersectionRatio>=e}));e.trackVisibility&&void 0===n.isVisible&&(n.isVisible=i),null==(t=o.get(n.target))||t.forEach((function(e){e(i,n)}))}))}),e);r=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),t={id:n,observer:i,elements:o},Co.set(n,t)}return t}(t),o=r.id,i=r.observer,a=r.elements,s=a.get(e)||[];return a.has(e)||a.set(e,s),s.push(n),i.observe(e),function(){s.splice(s.indexOf(n),1),0===s.length&&(a.delete(e),i.unobserve(e)),0===a.size&&(i.disconnect(),Co.delete(o))}}function bo(e){return"function"!=typeof e.children}var yo=function(e){var n,t;function r(n){var t;return(t=e.call(this,n)||this).node=null,t._unobserveCb=null,t.handleNode=function(e){t.node&&(t.unobserve(),e||t.props.triggerOnce||t.props.skip||t.setState({inView:!!t.props.initialInView,entry:void 0})),t.node=e||null,t.observeNode()},t.handleChange=function(e,n){e&&t.props.triggerOnce&&t.unobserve(),bo(t.props)||t.setState({inView:e,entry:n}),t.props.onChange&&t.props.onChange(e,n)},t.state={inView:!!n.initialInView,entry:void 0},t}t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var o=r.prototype;return o.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},o.componentWillUnmount=function(){this.unobserve(),this.node=null},o.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,n=e.threshold,t=e.root,r=e.rootMargin,o=e.trackVisibility,i=e.delay;this._unobserveCb=_o(this.node,this.handleChange,{threshold:n,root:t,rootMargin:r,trackVisibility:o,delay:i})}},o.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},o.render=function(){if(!bo(this.props)){var e=this.state,n=e.inView,t=e.entry;return this.props.children({inView:n,entry:t,ref:this.handleNode})}var r=this.props,o=r.children,i=r.as,a=r.tag,s=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(r,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView"]);return(0,jr.createElement)(i||a||"div",go({ref:this.handleNode},s),o)},r}(jr.Component);function Bo(e){var n=void 0===e?{}:e,t=n.threshold,r=n.delay,o=n.trackVisibility,i=n.rootMargin,a=n.root,s=n.triggerOnce,c=n.skip,l=n.initialInView,u=(0,jr.useRef)(),d=(0,jr.useState)({inView:!!l}),A=d[0],p=d[1],h=(0,jr.useCallback)((function(e){void 0!==u.current&&(u.current(),u.current=void 0),c||e&&(u.current=_o(e,(function(e,n){p({inView:e,entry:n}),n.isIntersecting&&s&&u.current&&(u.current(),u.current=void 0)}),{root:a,rootMargin:i,threshold:t,trackVisibility:o,delay:r}))}),[Array.isArray(t)?t.toString():t,a,i,s,c,o,r]);(0,jr.useEffect)((function(){u.current||!A.entry||s||c||p({inView:!!l})}));var m=[h,A.inView,A.entry];return m.ref=m[0],m.inView=m[1],m.entry=m[2],m}function wo(e){const n=(0,jr.useRef)();return(0,jr.useEffect)((()=>{n.current=e}),[e]),n.current}function xo(e,n){const[t,r]=(0,jr.useState)(e);return(0,jr.useEffect)((()=>{const t=setTimeout((()=>{r(e)}),n);return()=>{clearTimeout(t)}}),[e,n]),t}function Do(e){const n=(0,jr.useContext)(ko);return!!Se(e)&&n.has(e)}yo.displayName="InView",yo.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};const ko=Lr().createContext(new Set),So=ko.Provider;function Fo(){const e=(0,jr.useContext)(Io);if(!e)throw new Error("DispatchProvider не добавлен в дерево Реакта!");return e}const Io=Lr().createContext(null),Mo=Io.Provider;function To(){const e=(0,jr.useContext)(Po);if(!e)throw new Error("UserSettingsProvider не добавлен в дерево Реакта!");return e}const Po=Lr().createContext(null),zo=Po.Provider;function Oo(e,n="full",t=3){const r=(0,jr.useContext)(No),o=Uo(),{lang:i}=$o(),a=r.get(e);if(!a)return;const s=[],c=new Set;for(const e of Jn){const n=a[e];n&&(s.push(e),n.peerIds.forEach((e=>c.add(e))))}const l=s.length>1?"text":s[0]||"text";if(0===t)return{text:i.use(`me_typing_${l}`),type:l};const u=[];for(const e of c){const n=o.get(e);if(n&&(u.push(n),u.length===t))break}let d;const A=c.size-u.length;switch(!0){case 0===u.length&&A>0:d=i.use("me_typing_people",{num:A});break;case A>0:d=u.map(Te).join(", "),d=i.use("me_typing_names_lots",{num:A,values:{names:d}});break;case u.length>1:{const e=u.length>t-1?u.slice(0,t-1).map(Te).join(", "):u[0]?Te(u[0]):"",n=u[u.length-1],r=n?Te(n):"";d=i.use("me_typing_names_couple",{values:{before:e,after:r}});break}case 1===u.length:d=u[0]?Te(u[0]):"";break;default:d=""}return{text:"compact"===n?d:i.use(`me_typing_${l}_named`,{num:u.length,values:{names:d}}),type:l}}const No=Lr().createContext(new Map),jo=No.Provider;function Lo(){const[e,n]=(0,jr.useState)(!1);return(0,jr.useEffect)((()=>{const e=()=>{n(window.devicePixelRatio>1.3)};e();const t=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);try{return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}catch(n){return t.addListener(e),()=>{t.removeListener(e)}}}),[]),e}function Ro(e=6e4){const[n,t]=(0,jr.useState)(0);return(0,jr.useEffect)((()=>{t(Date.now());const n=setInterval((()=>{t(Date.now())}),e);return()=>clearInterval(n)}),[e]),n}function Uo(){return(0,jr.useContext)(Wo)}const Wo=Lr().createContext(new Map),Ho=Wo.Provider,qo=Lr().createContext(null),Zo=qo.Provider;function Vo(){const e=(0,jr.useContext)(Yo);if(!e)throw new Error("ViewerProvider не добавлен в дерево Реакта!");return e}const Yo=Lr().createContext(null),Go=Yo.Provider;function $o(){const e=(0,jr.useContext)(Xo);if(!e)throw new Error("BrowserEnvProvider не добавлен в дерево Реакта!");return e}const Xo=Lr().createContext(null),Qo=Xo.Provider;function Ko({debounced:e=!1}){const[n,t]=(0,jr.useState)(Jo()),r=(0,jr.useRef)(function(e,n,t){let r=null;const o=()=>{null!==r&&(window.clearTimeout(r),r=null)},i=(...n)=>{o(),r=window.setTimeout((()=>{r=null,e(...n)}),300)};return i.cancel=o,i}(t));return(0,jr.useLayoutEffect)((()=>{const n=r.current,o=()=>{e?n(Jo()):t(Jo())};return o(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o),e&&n.cancel()}}),[e]),n}function Jo(){return"undefined"==typeof window?[0,0]:[document.documentElement.clientWidth,document.documentElement.clientHeight]}function ei({onSelect:e,requestType:n,dispatch:t,searchIndex:r,defaultResults:o}){const{api:i}=$o(),a=oi(),[s,c]=(0,jr.useState)(""),[l,u]=(0,jr.useState)(new Set),[d,A]=(0,jr.useState)(-1),[p,h]=(0,jr.useState)(!1),[m,f]=(0,jr.useState)(!1),g=(0,jr.useRef)(s),C=xo(s,300),v=(0,jr.useMemo)((()=>"convos"===n?e=>function(e,n,t){return e.fetch("messages.searchConversations",{q:t}).then((e=>(n({profiles:e.profiles,groups:e.groups,conversations:e.items}),e.items.reduce(((e,n)=>{const t=Zn(n);return t&&t.convo&&e.add(t.convo.peerId),e}),new Set))))}(i,a,e):Ee()),[i,a,n]);(0,jr.useEffect)((()=>{if(g.current===C)return;if(g.current=C,A(-1),0===C.length)return u(o);const e=r?function(e,n){const t=ar(e,lr(n)),r=ar(e,lr(tr(n.toLowerCase().trim(),er)));return new Set([...t,...r])}(r,C):new Set;u(e),f(!0),v(C).then((n=>{if(g.current!==C)return;const t=new Set([...e.values()]);n.forEach((e=>{t.has(e)||t.add(e)})),u(t),f(!1)})).catch((e=>{f(!1)}))}),[C,o,r,v]);const E=(0,jr.useCallback)((e=>c(e.target.value)),[]),_=(0,jr.useCallback)((n=>{if(p)switch(n.key){case"ArrowDown":n.preventDefault(),A(d+1<l.size?d+1:0);break;case"ArrowUp":n.preventDefault(),A(d>0?d-1:l.size-1);break;case"Enter":n.preventDefault();const t=[...l.values()][d];t&&e(t);break;case"Escape":n.preventDefault(),c("")}}),[d,p,l,e]),b=(0,jr.useCallback)((()=>{h(!0),A(-1)}),[]),y=(0,jr.useCallback)((()=>{h(!1),A(-1)}),[]),B=(0,jr.useCallback)((()=>{c("")}),[]);let w;return w=s&&m&&0===l.size?"loading":s&&!m&&0===l.size?"empty":l,{current:d,query:s,onChange:E,onKeyDown:_,onFocus:b,onBlur:y,results:w,reset:B}}function ni(e,{isUnread:n,onRead:t}){const{idle:r}=$o(),{ref:o,inView:i}=Bo({threshold:.01,triggerOnce:!0,delay:500});return(0,jr.useEffect)((()=>{if(i&&n&&!e.isOut)return r.isIdle()?r.subscribe((n=>{n||setTimeout((()=>t(e.id)),1e3)})):void t(e.id)}),[i,n,e,t,r]),o}const ti=Lr().createContext(null),ri=ti.Provider;function oi(){const e=(0,jr.useContext)(ti);if(!e)throw new Error("InsertIntoCacheProvider не добавлен в дерево Реакта!");return e}var ii=l(5094),ai={};ai.styleTagTransform=p(),ai.setAttributes=s(),ai.insert=i().bind(null,"head"),ai.domAPI=r(),ai.insertStyleElement=d(),n()(ii.Z,ai),ii.Z&&ii.Z.locals&&ii.Z.locals;var si=l(5653),ci={};ci.styleTagTransform=p(),ci.setAttributes=s(),ci.insert=i().bind(null,"head"),ci.domAPI=r(),ci.insertStyleElement=d(),n()(si.Z,ci),si.Z&&si.Z.locals&&si.Z.locals;var li=l(4262),ui=l.n(li);const di=(0,jr.forwardRef)((function(e,n){var{children:t,portalClassName:r}=e,o=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["children","portalClassName"]);const i=(0,jr.useRef)(),a=wo(r);return(0,jr.useEffect)((()=>{i.current&&(a&&i.current.classList.remove(...a.split(" ")),r&&i.current.classList.add(...r.split(" ")))}),[r,a]),(0,jr.useEffect)((()=>(i.current=function(e){const n=document.createElement("div");return e&&n.classList.add(...e.split(" ")),document.body.appendChild(n)}(r),()=>i.current&&i.current.remove())),[]),i.current?ui().createPortal(Lr().createElement("div",Object.assign({},o,{ref:n}),t),i.current):null}));function Ai(e){if("undefined"==typeof window||!(e instanceof HTMLElement))return{top:0,left:0,width:0,height:0};const n=e.getBoundingClientRect(),t=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||t.scrollTop,i=window.pageXOffset||r.scrollLeft||t.scrollLeft,a=r.clientTop||t.clientTop||0,s=r.clientLeft||t.clientLeft||0;return{top:Math.round(n.top+o-a),left:Math.round(n.left+i-s),width:e.offsetWidth,height:e.offsetHeight}}const pi=Lr().forwardRef((function(e,n){var{open:t=!0,position:r="auto",mode:o="side",align:i="auto",content:a,portalClassName:s,children:c}=e,l=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["open","position","mode","align","content","portalClassName","children"]);const u=function(...e){const n=(0,jr.useRef)(null);return Lr().useEffect((()=>{e.forEach((e=>{e&&("function"==typeof e?e(n.current):e.current=n.current)}))}),[e]),n}(n),[d,A]=(0,jr.useState)(null),[p,h]=(0,jr.useState)(null),[m,f]=(0,jr.useState)(null),g=Object.assign(Object.assign({},c.props),{ref:u});return(0,jr.useLayoutEffect)((()=>{if(u&&u.current){const[e,n,a]=function(e,n,t,r,o){if(!o)return[null,null,null];const i="auto";if(!e)return[{top:0,left:0,width:0,height:0},r===i?"left":r,t===i?"bottom":t];const a=Ai(e),s=t===i||r===i,c=s?window.innerWidth:0,l=s?window.innerHeight:0,u=s?window.pageYOffset||document.documentElement.scrollTop:0,d=s?window.pageXOffset||document.documentElement.scrollLeft:0;if(t===i){const e=a.top-u;t=u+l-a.top-a.height>e?"bottom":"top"}if(r===i){const e=a.left+.5*a.width,n=d+2*c/3;r=e>=d+c/3&&e<=n?"center":e>n?"right":"left"}let A=a.left,p=a.top;if("side"===n)return[{top:"bottom"===t?p+a.height:p,left:"right"===t?A+a.width:A,width:"top"===t||"bottom"===t?a.width:0,height:"left"===t||"right"===t?a.height:0},r,t];switch(t){case"top":A+=.5*a.width;break;case"right":A+=a.width,p+=.5*a.height;break;case"bottom":A+=.5*a.width,p+=a.height;break;case"left":p+=.5*a.height}return[{top:p,left:A,width:0,height:0},r,t]}(u.current,o,r,i,t);A(e),h(n),f(a)}}),[o,r,i,u,t]),Lr().createElement(Lr().Fragment,null,Lr().cloneElement(c,g),t&&Lr().createElement(di,Object.assign({},l,{className:fo()("MEPopper",p&&`MEPopper--align${C=p,C.length>0?C.slice(0,1).toUpperCase()+C.slice(1):""}`,m&&`MEPopper--${m}`),"data-align":p,"data-position":m,portalClassName:s,style:d||void 0}),a));var C})),hi=e=>{var{children:n,content:t,position:r="auto",align:o="auto",open:i=!1,onOpen:a,onClose:s,delay:c=50}=e,l=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["children","content","position","align","open","onOpen","onClose","delay"]);const[u,d]=(0,jr.useState)(i?"opened":"closed"),A=(0,jr.useRef)(null),p=(0,jr.useRef)(null),h=(0,jr.useRef)(null),m=()=>{p.current&&clearTimeout(p.current),h.current&&clearTimeout(h.current),p.current=h.current=null},f=(0,jr.useCallback)((()=>{"opened"===u?(d("is_closing"),h.current=window.setTimeout((()=>{d("closed")}),200)):(d("closed"),s&&s())}),[u,s]),g=(0,jr.useCallback)((()=>{m(),p.current=window.setTimeout((()=>{d("opened"),a&&a()}),c)}),[c,a]),C=(0,jr.useCallback)((()=>{m(),p.current=window.setTimeout(f,0)}),[f]);(0,jr.useEffect)((()=>{const e=A.current;return e&&(e.addEventListener("mouseenter",g),e.addEventListener("mouseleave",C)),()=>{e&&(e.removeEventListener("mouseenter",g),e.removeEventListener("mouseleave",C))}}),[g,C]),(0,jr.useEffect)((()=>m),[]),(0,jr.useEffect)((()=>{d(i?"opened":"closed")}),[i]);const v=Lr().createElement("div",{className:fo()("METooltip",{"METooltip--removed":"is_closing"===u})},t);return Lr().createElement(pi,Object.assign({content:v,position:r,align:o,open:"closed"!==u,ref:A,portalClassName:"MEConfig"},l),n)};var mi=l(6529),fi={};fi.styleTagTransform=p(),fi.setAttributes=s(),fi.insert=i().bind(null,"head"),fi.domAPI=r(),fi.insertStyleElement=d(),n()(mi.Z,fi),mi.Z&&mi.Z.locals&&mi.Z.locals;const gi=(0,jr.forwardRef)(((e,n)=>{var{children:t,href:r,payload:o}=e,i=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["children","href","payload"]);const{navigate:a}=$o(),s=function(e){const n=vi(e);return/^\/[^/]/.test(n)||/^(https?:\/\/)?([a-z0-9_\-.]+\.)?vk.(com|me)(\/.*)?/.test(n)?{url:e,isInternal:!0}:{url:Ei(e)?e:Ci(e),isInternal:!1}}(r),c=(0,jr.useCallback)((e=>s.isInternal&&a(r,o||null,e)),[r,s,o,a]);return Lr().createElement("a",Object.assign({},i,{href:s.url,onClick:i.onClick||c,target:i.target||(s.isInternal?"_self":"_blank"),ref:n}),t)}));function Ci(e){return`/away.php?to=${encodeURIComponent(vi(e))}&utf=1`}function vi(e){try{return decodeURIComponent(e)}catch(n){return e}}function Ei(e){return/^mailto:/.test(e)}var _i=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};const bi=(0,jr.forwardRef)(((e,n)=>{var{label:t,children:r,className:o}=e,i=_i(e,["label","children","className"]);return Lr().createElement("button",Object.assign({className:fo()("FCIconButton",o),onMouseDown:Bi,"aria-label":t,ref:n},i),Lr().createElement("div",{"aria-hidden":!0},r))})),yi=(0,jr.forwardRef)(((e,n)=>{var{label:t,href:r,children:o,className:i}=e,a=_i(e,["label","href","children","className"]);return Lr().createElement(gi,Object.assign({href:r,className:fo()("FCIconButton",i),onMouseDown:Bi,"aria-label":t,ref:n},a),Lr().createElement("div",{"aria-hidden":!0},o))}));function Bi(e){e.preventDefault()}const wi=({id:e,title:n,onClose:t,actions:r,footer:o,style:i,children:a,initialX:s=0,initialY:c=0,initialW:l=350,initialH:u=460,isActive:d=!0,onDragged:A,onActivate:p,className:h})=>{const{lang:m}=$o(),[f,g]=Ko({debounced:!0}),[C]=(0,jr.useState)(l),[v]=(0,jr.useState)(u),[[E,_],b]=(0,jr.useState)([-s,-c]),[[y,B],w]=(0,jr.useState)([0,0]),[x,D]=(0,jr.useState)(!1),k=(0,jr.useRef)(!1);(0,jr.useEffect)((()=>{k.current||b([-s,-c])}),[s,c]);const[S,F]=(0,jr.useState)(!0),I=(0,jr.useCallback)(((e,n)=>[xi(-f+C,0,e,10),xi(-g+v,0,n,10)]),[f,g,C,v]),M=(0,jr.useCallback)((e=>{var n;(null===(n=e.originalEvent.target)||void 0===n?void 0:n.closest(".FCWindow__actions"))||D(!0)}),[]),T=(0,jr.useCallback)((e=>{x&&(w([e.shiftX,e.shiftY]),e.originalEvent.preventDefault())}),[x]),P=(0,jr.useCallback)((()=>{if(x){if(b(I(E+y,_+B)),w([0,0]),D(!1),A){const[n,t]=I(E+y,_+B);A(e,[Math.abs(n),Math.abs(t)])}k.current||(k.current=!0)}}),[E,_,y,B,I,A,e,x]),z=(0,jr.useCallback)((n=>{(!n.target||!n.target.closest(".FCWindow__close"))&&p&&p(e)}),[e,p]),[O,N]=I(E+y,_+B);return Lr().createElement("section",{className:fo()("FCWindow",h,{"FCWindow--dragging":x,"FCWindow--active":d,"FCWindow--blocked":S}),style:Object.assign(Object.assign({},i),{transform:`translate3d(${O}px, ${N}px, 0)`,transformOrigin:"right bottom",width:C,height:v}),onMouseDown:z,onAnimationEnd:()=>F(!1)},Lr().createElement(Ur.Touch,{className:"FCWindow__header",Component:"header",onStart:M,onMove:T,onEnd:P},Lr().createElement("h1",{className:"FCWindow__title"},n),Lr().createElement("div",{className:"FCWindow__actions"},r,Lr().createElement(hi,{content:m.use("me_fc_close"),position:"top",align:"center",delay:1500},Lr().createElement(bi,{label:m.use("me_fc_close"),className:"FCWindow__close",onClick:()=>t(e)},Lr().createElement(ho,null))))),Lr().createElement("main",{className:"FCWindow__content"},a),o&&Lr().createElement("footer",{className:"FCWindow__footer"},o))};function xi(e,n,t,r){const o=Math.max(e,Math.min(n,t));return Math.abs(o-e)<r?e:Math.abs(o-n)<r?n:o}var Di=l(1198),ki={};ki.styleTagTransform=p(),ki.setAttributes=s(),ki.insert=i().bind(null,"head"),ki.domAPI=r(),ki.insertStyleElement=d(),n()(Di.Z,ki),Di.Z&&Di.Z.locals&&Di.Z.locals;var Si="0 0 16 16",Fi="cancel_16",Ii=!1;function Mi(){Ii||(Jr(new(Vr())({id:Fi,viewBox:Si,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="cancel_16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z" /><path d="M8 6.727l3.464-3.463a.9.9 0 111.272 1.272L9.273 8l3.463 3.464a.9.9 0 11-1.272 1.272L8 9.273l-3.464 3.463a.9.9 0 11-1.272-1.272L6.727 8 3.264 4.536a.9.9 0 011.272-1.272L8 6.727z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),Ii=!0)}var Ti=function(e){return eo((function(){Mi()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Si,id:Fi,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};Ti.mountIcon=Mi;const Pi=Ti,zi=({isListOpened:e,isWide:n=!1,isCollapsed:t=!1,onListToggle:r,onWidthToggle:o,children:i})=>{const{lang:a}=$o(),s=e=>{e.preventDefault()};return Lr().createElement("aside",{className:fo()("FCPanel",{"FCPanel--listOpened":e,"FCPanel--wide":n,"FCPanel--collapsed":t})},Lr().createElement(hi,{content:n?a.use("me_fc_collapse_panel"):a.use("me_fc_expand_panel"),position:"left",delay:800},Lr().createElement("button",{className:"FCPanel__widthToggle",onClick:o,onMouseDown:s,"aria-label":n?a.use("me_fc_collapse_panel"):a.use("me_fc_expand_panel")},Lr().createElement("svg",{className:"FCPanel__widthToggleIcon","aria-hidden":"true"},Lr().createElement("use",{href:"#meExpand"})))),Lr().createElement("div",{className:"FCPanel__list"},i),Lr().createElement(hi,{content:e?a.use("me_fc_hide_convo_list"):a.use("me_fc_show_convo_list"),position:"left",delay:500},Lr().createElement("button",{className:"FCPanel__add",onMouseDown:s,onClick:r},e?Lr().createElement(Pi,{className:"FCPanel__addIcon"}):Lr().createElement("svg",{className:"FCPanel__addIcon",width:"16",height:"16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},Lr().createElement("path",{d:"M8 2c3.59 0 6.5 2.582 6.5 5.766 0 3.185-2.91 5.766-6.5 5.766a7.28 7.28 0 01-1.771-.216c-.738.673-1.969 1.232-3.692 1.675a.294.294 0 01-.22-.03.313.313 0 01-.117-.42l.126-.234c.553-1.048.885-1.895.994-2.541-1.127-1.036-1.82-2.446-1.82-4C1.5 4.582 4.41 2 8 2z"})),n&&Lr().createElement("span",{className:"FCPanel__addText"},a.use("me_fc_convo_list")))))};var Oi=l(3913),Ni={};Ni.styleTagTransform=p(),Ni.setAttributes=s(),Ni.insert=i().bind(null,"head"),Ni.domAPI=r(),Ni.insertStyleElement=d(),n()(Oi.Z,Ni),Oi.Z&&Oi.Z.locals&&Oi.Z.locals;var ji=l(1121),Li={};Li.styleTagTransform=p(),Li.setAttributes=s(),Li.insert=i().bind(null,"head"),Li.domAPI=r(),Li.insertStyleElement=d(),n()(ji.Z,Li),ji.Z&&ji.Z.locals&&ji.Z.locals;var Ri="0 0 16 16",Ui="search_outline_16",Wi=!1;function Hi(){Wi||(Jr(new(Vr())({id:Ui,viewBox:Ri,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="search_outline_16"><path d="M6.5 1a5.5 5.5 0 014.383 8.823l3.896 3.9a.75.75 0 01-1.061 1.06l-3.895-3.9A5.5 5.5 0 116.5 1zm0 1.5a4 4 0 100 8 4 4 0 000-8z" fill="currentColor" /></symbol>'})),Wi=!0)}var qi=function(e){return eo((function(){Hi()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Ri,id:Ui,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};qi.mountIcon=Hi;const Zi=qi,Vi=Lr().memo((function(e){const n=(0,jr.useRef)(null);return(0,jr.useEffect)((()=>{var e;null===(e=n.current)||void 0===e||e.focus()}),[]),Lr().createElement("div",{className:"FCSearch"},Lr().createElement(Zi,{className:"FCSearch__icon"}),Lr().createElement("input",Object.assign({ref:n,type:"text",placeholder:e.placeholder,onInput:e.onChange,autoComplete:"off",spellCheck:!1},e,{className:"FCSearch__input"})))}));var Yi=l(5096),Gi={};Gi.styleTagTransform=p(),Gi.setAttributes=s(),Gi.insert=i().bind(null,"head"),Gi.domAPI=r(),Gi.insertStyleElement=d(),n()(Yi.Z,Gi),Yi.Z&&Yi.Z.locals&&Yi.Z.locals;var $i=l(6355),Xi={};Xi.styleTagTransform=p(),Xi.setAttributes=s(),Xi.insert=i().bind(null,"head"),Xi.domAPI=r(),Xi.insertStyleElement=d(),n()($i.Z,Xi),$i.Z&&$i.Z.locals&&$i.Z.locals;var Qi="0 0 8 12",Ki="online_mobile_12",Ji=!1;function ea(){Ji||(Jr(new(Vr())({id:Ki,viewBox:Qi,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 12" id="online_mobile_12"><path d="M2.01 0h3.98C7.1 0 8 .9 8 2.01v7.98C8 11.1 7.1 12 5.99 12H2.01C.9 12 0 11.1 0 9.99V2.01C0 .9.9 0 2.01 0zm-.007 3a.502.502 0 00-.503.502v4.996c0 .277.225.502.502.502h3.995a.502.502 0 00.503-.502V3.503A.502.502 0 005.997 3H2.003z" fill="currentColor" fill-rule="evenodd" /></symbol>'})),Ji=!0)}var na=function(e){return eo((function(){ea()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Qi,id:Ki,width:isNaN(e.width)?8:+e.width,height:isNaN(e.height)?12:+e.height}))};na.mountIcon=ea;const ta=na;var ra=l(6770),oa={};oa.styleTagTransform=p(),oa.setAttributes=s(),oa.insert=i().bind(null,"head"),oa.domAPI=r(),oa.insertStyleElement=d(),n()(ra.Z,oa),ra.Z&&ra.Z.locals&&ra.Z.locals;var ia=l(1938),aa=l.n(ia);const sa=({peer:e,size:n,style:t})=>{const r=Math.abs(e.id%6);return Lr().createElement("div",{style:t,className:fo()("NoPhoto",`NoPhoto--color-${r}`,`NoPhoto--size-${n}`)},function(e){const n=e=>{const n=aa()().exec(e);return n&&0===n.index?n[0]:(Array.from(e)[0]||"").toUpperCase()};let t="";switch(e.kind){case"User":t=[e.firstName,e.lastName].filter(Boolean).map(n).join("");break;case"Group":t=n(e.name);break;case"Chat":t=n(e.title);break;default:Ee()}return t}(e))},ca=Lr().memo((function({peer:e,size:n,activityIndicator:t,withOnline:r=!1,activeCall:o,className:i}){const a=Do(e.id),s=Lo(),c=function(e,n){if("User"!==e.kind)return"Offline";if(n)switch(e.lastSeen.platform){case"mobile":return"Mobile";case"vkme":return"Me";case"other":return"Online";default:return Ee(e.lastSeen.platform)}return"Offline"}(e,r&&a),l=!!o,u=(0,jr.useMemo)((()=>s?e.photo100:e.photo50),[s,e.photo50,e.photo100]),d=(0,jr.useMemo)((()=>({width:n,height:n})),[n]),A=function(e,n,t){return`mePeerFrame${e}${n}${t?"c":""}`}(c,n,l),p=(0,jr.useMemo)((()=>({clipPath:`url(#${A}Mask)`})),[A]),h=fo()("MEAvatar",`MEAvatar--size-${n}`,{"MEAvatar--withActivity":!!t,"MEAvatar--emptyCall":"empty"===o},i);return Lr().createElement("figure",{style:d,className:h},Lr().createElement("div",{className:"MEAvatar__imgWrapper",style:p},u?Lr().createElement("img",{className:"MEAvatar__img",alt:Me(e),src:u,loading:"lazy"}):Lr().createElement(sa,{peer:e,size:n}),t&&Lr().createElement("div",{className:"MEAvatar__activityIndicator"},t)),function(e){switch(e){case"Me":return Lr().createElement("svg",{className:"MEAvatar__me"},Lr().createElement("use",{href:"#meOnlineVkMe"}));case"Mobile":return Lr().createElement("div",{className:"MEAvatar__mobile"},Lr().createElement(ta,null));case"Online":return Lr().createElement("div",{className:"MEAvatar__online"});case"Offline":return"";default:Ee()}}(c),l&&Lr().createElement("div",{className:"MEAvatar__call"},Lr().createElement("svg",{className:"MEAvatar__callIcon"},Lr().createElement("use",{href:"#mePhone10"}))),Lr().createElement("svg",{className:"MEAvatar__svg"},Lr().createElement("clipPath",{id:A+"Mask"},Lr().createElement("use",{href:"#"+A})),Lr().createElement("use",{href:"#"+A,className:"MEAvatar__shadow",clipPath:p.clipPath})))}));var la=l(7661),ua={};ua.styleTagTransform=p(),ua.setAttributes=s(),ua.insert=i().bind(null,"head"),ua.domAPI=r(),ua.insertStyleElement=d(),n()(la.Z,ua),la.Z&&la.Z.locals&&la.Z.locals;var da="0 0 16 16",Aa="verified_16",pa=!1;function ha(){pa||(Jr(new(Vr())({id:Aa,viewBox:da,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="verified_16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z" /><path d="M4.5 9.586L2.957 8.043a1 1 0 00-1.414 1.414l2.25 2.25a1 1 0 001.414 0l5.25-5.25a1 1 0 10-1.414-1.414L4.5 9.586z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),pa=!0)}var ma=function(e){return eo((function(){ha()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:da,id:Aa,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};ma.mountIcon=ha;const fa=ma;var ga="0 0 16 16",Ca="muted_16",va=!1;function Ea(){va||(Jr(new(Vr())({id:Ca,viewBox:ga,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="muted_16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z" /><path d="M7.655 4.84l2.857-2.344c.27 0 .488.218.488.488v5.201l2.596 2.596a.75.75 0 11-1.06 1.061L4.404 3.71a.75.75 0 111.06-1.06l2.191 2.19zm-2.965.657l6.31 6.31v1.701c0 .27-.218.488-.488.488l-3.635-3.489-2.88-.008A1 1 0 013 9.5V6.497a1 1 0 011-1h.69z" fill="currentColor" /></g></symbol>'})),va=!0)}var _a=function(e){return eo((function(){Ea()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:ga,id:Ca,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};_a.mountIcon=Ea;const ba=_a,ya=Lr().memo((function({peer:e,isMuted:n,isShortened:t=!1,className:r}){const{lang:o}=$o(),i=Vo(),a=t?function(e){switch(e.kind){case"User":return e.firstName;case"Group":return e.name;case"Chat":return e.title;default:return Ee()}}(e):Me(e),s=i.id===e.id?o.use("me_favorites"):a;return Lr().createElement("div",{className:fo()("ConvoTitle",r)},Lr().createElement("div",{className:"ConvoTitle__title"},s),"Chat"!==e.kind&&e.isVerified&&Lr().createElement("div",{className:"ConvoTitle__icon ConvoTitle__verifiedIcon"},Lr().createElement(fa,null)),n&&Lr().createElement("span",{className:"ConvoTitle__icon ConvoTitle__mutedIcon"},Lr().createElement(ba,null)))}));var Ba="0 0 12 12",wa="bomb_12",xa=!1;function Da(){xa||(Jr(new(Vr())({id:wa,viewBox:Ba,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="bomb_12"><path d="M7.84 1.49a.6.6 0 10-1.18.22l.15.8a.6.6 0 001.18-.22l-.15-.8zm2.384.287a.6.6 0 01.002.848l-.6.602a.6.6 0 01-.85-.847l.6-.602a.6.6 0 01.848-.001z" fill="currentColor" /><path fill-rule="evenodd" clip-rule="evenodd" d="M7.823 4.174a.6.6 0 01.003.849l-.462.465a3.5 3.5 0 11-.848-.85l.458-.46a.6.6 0 01.849-.004zM6.8 7.5a2.3 2.3 0 11-4.6 0 2.3 2.3 0 014.6 0z" fill="currentColor" /><path d="M10.99 4.86a.6.6 0 01-.7.48l-.8-.15a.6.6 0 01.22-1.18l.8.15a.6.6 0 01.48.7z" fill="currentColor" /></symbol>'})),xa=!0)}var ka=function(e){return eo((function(){Da()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Ba,id:wa,width:isNaN(e.width)?12:+e.width,height:isNaN(e.height)?12:+e.height}))};ka.mountIcon=Da;const Sa=ka;var Fa="0 0 12 12",Ia="mention_12",Ma=!1;function Ta(){Ma||(Jr(new(Vr())({id:Ia,viewBox:Fa,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="mention_12"><g fill="none" fill-rule="evenodd"><path d="M0 0h12v12H0z" /><path d="M6.165 11c.764 0 1.443-.096 1.895-.246.367-.12.495-.28.495-.49 0-.21-.14-.342-.391-.342-.061 0-.14.006-.239.024-.55.132-.971.216-1.57.216-2.629 0-4.401-1.497-4.401-4.09 0-2.51 1.644-4.24 4.144-4.24 2.182 0 3.948 1.312 3.948 3.725 0 1.257-.464 2.138-1.143 2.138-.44 0-.678-.234-.678-.641v-2.97c0-.335-.196-.54-.526-.54-.324 0-.525.205-.525.54v.3h-.062c-.25-.534-.819-.84-1.491-.84-1.216 0-2.078 1.007-2.078 2.486 0 1.503.862 2.533 2.12 2.533.71 0 1.26-.347 1.529-.958h.061c.11.605.685.958 1.443.958C10.12 8.563 11 7.275 11 5.485 11 2.755 8.952 1 6.11 1 3.09 1 1 2.982 1 6.036 1 9.15 3.164 11 6.165 11zm-.287-3.371c-.758 0-1.204-.6-1.204-1.593 0-.988.452-1.575 1.204-1.575.77 0 1.259.61 1.259 1.569 0 .982-.495 1.599-1.26 1.599z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),Ma=!0)}var Pa=function(e){return eo((function(){Ta()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Fa,id:Ia,width:isNaN(e.width)?12:+e.width,height:isNaN(e.height)?12:+e.height}))};Pa.mountIcon=Ta;const za=Pa;var Oa=l(3024),Na={};Na.styleTagTransform=p(),Na.setAttributes=s(),Na.insert=i().bind(null,"head"),Na.domAPI=r(),Na.insertStyleElement=d(),n()(Oa.Z,Na),Oa.Z&&Oa.Z.locals&&Oa.Z.locals;const ja=({convo:e,isMuted:n,size:t=20})=>Lr().createElement("div",{className:fo()("UnreadCounter",`UnreadCounter--size-${t}`,{"UnreadCounter--muted":n})},we(e.unreadCount));var La=l(9027),Ra={};Ra.styleTagTransform=p(),Ra.setAttributes=s(),Ra.insert=i().bind(null,"head"),Ra.domAPI=r(),Ra.insertStyleElement=d(),n()(La.Z,Ra),La.Z&&La.Z.locals&&La.Z.locals;const Ua=({size:e,className:n})=>{const{lang:t}=$o(),r=(0,jr.useMemo)((()=>({width:e,height:e})),[e]),o=fo()("FavoritesAvatar",n);return Lr().createElement("div",{style:r,className:o,"aria-label":t.use("me_favorites")},Wa[e])},Wa={24:Lr().createElement("svg",{fill:"currentColor",height:"12",width:"12",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},Lr().createElement("path",{d:"M5.55 1.29h.9c.58 0 1.05 0 1.42.03.38.03.71.1 1.01.25.49.24.88.64 1.13 1.12.15.3.21.63.25 1.01.03.38.03.84.03 1.42v3.7c0 .44 0 .8-.03 1.07-.02.27-.08.55-.25.77-.24.3-.61.48-1 .48-.28 0-.53-.12-.76-.27-.23-.15-.51-.36-.85-.63l-.82-.64a1.8 1.8 0 00-.47-.32.43.43 0 00-.22 0 1.8 1.8 0 00-.47.32l-.82.64c-.34.27-.62.48-.85.63-.23.15-.48.28-.76.27-.39 0-.76-.18-1-.48-.17-.22-.23-.5-.25-.77-.03-.28-.03-.63-.03-1.06v-3.7c0-.59 0-1.05.03-1.43.04-.38.1-.71.25-1.01.25-.48.64-.88 1.13-1.12.3-.16.63-.22 1-.25.38-.03.85-.03 1.43-.03zm-1.35.88c-.33.03-.53.08-.7.16-.32.16-.58.43-.74.75-.08.16-.13.36-.16.69-.03.34-.03.77-.03 1.37v3.67c0 .46 0 .77.02 1 .02.24.06.3.07.32.08.1.2.16.34.16.01 0 .09-.01.29-.14.2-.12.44-.32.8-.6l.8-.62.06-.04c.25-.2.46-.37.71-.43.22-.06.46-.06.68 0 .25.06.46.23.71.43l.06.04.8.62c.36.28.6.48.8.6.2.13.28.14.3.14.12 0 .25-.06.33-.16 0-.02.05-.08.07-.32.02-.23.02-.54.02-1V5.14c0-.6 0-1.03-.03-1.37a1.81 1.81 0 00-.16-.7 1.71 1.71 0 00-.75-.74 1.81 1.81 0 00-.69-.16c-.33-.03-.76-.03-1.37-.03h-.86c-.6 0-1.04 0-1.37.03z"})),32:Lr().createElement("svg",{fill:"currentColor",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},Lr().createElement("path",{d:"M7.4 1.71h1.2c.78 0 1.4 0 1.9.05.5.04.94.12 1.34.33.65.33 1.17.85 1.5 1.5.2.4.3.83.33 1.34.04.5.04 1.12.04 1.9v4.94c0 .58 0 1.05-.03 1.41-.03.37-.1.74-.34 1.03-.32.4-.8.65-1.33.65-.37 0-.7-.17-1.01-.36-.31-.2-.68-.5-1.14-.84l-1.09-.85a2.4 2.4 0 00-.62-.43.57.57 0 00-.3 0 2.4 2.4 0 00-.62.43l-1.1.85c-.45.35-.82.64-1.13.84-.3.2-.64.36-1.01.36-.52 0-1.01-.24-1.33-.65-.24-.3-.3-.66-.34-1.03-.03-.36-.03-.83-.03-1.4V6.82c0-.78 0-1.4.04-1.9s.13-.94.33-1.34c.33-.65.85-1.17 1.5-1.5.4-.2.83-.3 1.35-.33.5-.05 1.11-.05 1.9-.05zM5.6 2.9c-.44.04-.71.1-.92.22-.43.22-.78.57-1 1-.11.2-.18.48-.21.92a24.9 24.9 0 00-.04 1.83v4.88c0 .61 0 1.03.03 1.34.03.32.08.4.1.42.1.14.26.22.44.22.02 0 .12-.01.38-.19.26-.16.6-.42 1.08-.8l1.07-.83.07-.05c.33-.26.62-.48.95-.57.3-.08.6-.08.9 0 .33.09.62.31.95.57l.07.05 1.07.84c.49.37.82.63 1.08.8.26.17.36.18.38.18.18 0 .34-.08.45-.22.01-.02.06-.1.1-.42.02-.3.02-.73.02-1.34V6.86c0-.81 0-1.39-.04-1.83-.03-.44-.1-.71-.2-.92a2.29 2.29 0 00-1-1c-.22-.11-.49-.18-.93-.22a24.9 24.9 0 00-1.83-.03H7.43c-.81 0-1.38 0-1.83.03z"})),40:Lr().createElement("svg",{fill:"currentColor",height:"20",width:"20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},Lr().createElement("path",{d:"M9.25 2.14h1.5c.97 0 1.74 0 2.37.05a4.4 4.4 0 011.68.42c.8.41 1.46 1.07 1.88 1.87.25.5.36 1.05.41 1.69.05.62.05 1.4.05 2.37v6.18c0 .71 0 1.3-.04 1.76-.04.45-.13.92-.42 1.28-.4.51-1.01.8-1.66.81-.47 0-.89-.2-1.27-.45-.39-.25-.85-.6-1.42-1.05L10.96 16a3 3 0 00-.77-.54.71.71 0 00-.38 0 3 3 0 00-.77.54l-1.37 1.06c-.57.44-1.03.8-1.42 1.05-.38.24-.8.46-1.27.45-.65 0-1.26-.3-1.66-.8a2.36 2.36 0 01-.42-1.29c-.04-.46-.04-1.05-.04-1.76V8.54c0-.97 0-1.75.05-2.37a4.4 4.4 0 01.41-1.69A4.29 4.29 0 015.2 2.61a4.4 4.4 0 011.68-.42c.63-.05 1.4-.05 2.37-.05zM7 3.62c-.55.04-.89.13-1.15.26-.54.28-.98.71-1.25 1.25-.14.27-.22.6-.27 1.15-.04.56-.04 1.28-.04 2.3v6.1c0 .76 0 1.29.03 1.67.04.4.1.5.12.52.13.17.34.27.55.28.03 0 .16-.02.5-.23.32-.21.73-.53 1.33-1l1.34-1.04a41 41 0 00.09-.07c.4-.32.77-.6 1.19-.72.37-.1.75-.1 1.12 0 .42.12.78.4 1.2.72l.08.07 1.34 1.04c.6.47 1.01.79 1.34 1 .33.21.46.23.49.23.21 0 .42-.1.55-.27.02-.03.08-.13.12-.53.03-.38.03-.9.03-1.67v-6.1c0-1.02 0-1.74-.04-2.3a3.02 3.02 0 00-.27-1.15 2.86 2.86 0 00-1.25-1.25c-.26-.13-.6-.22-1.15-.26-.56-.05-1.27-.05-2.29-.05H9.3c-1.02 0-1.73 0-2.3.05z"})),44:Lr().createElement("svg",{fill:"currentColor",height:"22",width:"22",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},Lr().createElement("path",{d:"M10.18 2.36h1.64c1.07 0 1.92 0 2.61.05.7.06 1.3.18 1.85.46.89.45 1.61 1.17 2.06 2.06.28.55.4 1.15.46 1.85.06.7.06 1.54.06 2.61v6.8c0 .79 0 1.44-.05 1.94-.04.5-.14 1-.46 1.4-.44.57-1.12.9-1.83.9a2.6 2.6 0 01-1.4-.5c-.42-.27-.93-.67-1.56-1.15l-1.5-1.17a3.3 3.3 0 00-.85-.59.78.78 0 00-.42 0 3.3 3.3 0 00-.85.59l-1.5 1.17c-.63.48-1.14.88-1.56 1.15-.42.27-.89.5-1.4.5-.71 0-1.39-.33-1.83-.9a2.6 2.6 0 01-.46-1.4c-.05-.5-.05-1.15-.05-1.94v-6.8c0-1.07 0-1.92.06-2.6.06-.7.18-1.3.46-1.86a4.71 4.71 0 012.06-2.06c.55-.28 1.15-.4 1.85-.46.69-.05 1.54-.05 2.61-.05zM7.7 3.98c-.6.05-.98.14-1.27.3-.6.3-1.07.77-1.37 1.36-.15.3-.25.67-.3 1.27-.05.62-.05 1.4-.05 2.52v6.72c0 .84 0 1.41.04 1.84.04.43.11.55.13.57.15.19.38.3.61.3.04 0 .17-.01.54-.25.36-.23.81-.58 1.47-1.1l1.47-1.14.1-.08c.45-.35.85-.66 1.31-.79.4-.1.83-.1 1.24 0 .46.13.86.44 1.3.8l.1.07 1.48 1.14c.66.52 1.11.87 1.47 1.1.37.24.5.25.54.25.23 0 .46-.11.6-.3.03-.02.1-.14.14-.57.03-.43.04-1 .04-1.84V9.43c0-1.11 0-1.9-.06-2.52-.04-.6-.14-.97-.29-1.27-.3-.59-.78-1.07-1.37-1.37-.3-.15-.66-.24-1.27-.29-.61-.05-1.4-.05-2.51-.05H10.2c-1.1 0-1.9 0-2.51.05z"})),46:Lr().createElement("svg",{fill:"currentColor",height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},Lr().createElement("path",{d:"M11.1 2.57h1.8c1.16 0 2.1 0 2.84.06.77.07 1.42.2 2.02.5.97.5 1.76 1.28 2.25 2.25.3.6.44 1.25.5 2.02.06.75.06 1.68.06 2.85v7.4c0 .87 0 1.58-.05 2.13-.05.54-.16 1.1-.5 1.53-.49.61-1.22.97-2 .98-.56 0-1.06-.25-1.52-.55-.47-.3-1.02-.73-1.7-1.26l-1.64-1.27a3.6 3.6 0 00-.94-.64.86.86 0 00-.44 0 3.6 3.6 0 00-.94.64L9.2 20.48c-.68.53-1.23.97-1.7 1.26-.46.3-.96.55-1.52.55-.78 0-1.51-.37-2-.98-.34-.44-.45-1-.5-1.53-.05-.55-.05-1.26-.05-2.12v-7.41c0-1.17 0-2.1.06-2.85.06-.77.2-1.42.5-2.02a5.14 5.14 0 012.25-2.25c.6-.3 1.25-.43 2.02-.5.75-.06 1.68-.06 2.85-.06zM8.4 4.34c-.66.06-1.07.16-1.39.32-.64.33-1.16.85-1.5 1.5-.16.32-.26.72-.31 1.38-.06.67-.06 1.53-.06 2.75v7.32c0 .92 0 1.55.05 2.01.04.48.12.6.14.63.16.2.4.32.66.33.04 0 .19-.02.59-.28.39-.25.88-.63 1.6-1.2l1.61-1.24.1-.09c.5-.38.93-.72 1.44-.86.44-.12.9-.12 1.34 0 .5.14.94.48 1.43.86l.11.09 1.6 1.24c.73.57 1.22.95 1.61 1.2.4.26.55.28.59.28.26 0 .5-.13.66-.33.02-.03.1-.15.14-.63.05-.46.05-1.09.05-2v-7.33c0-1.22 0-2.08-.06-2.75a3.62 3.62 0 00-.32-1.38 3.43 3.43 0 00-1.5-1.5 3.62 3.62 0 00-1.38-.32c-.67-.05-1.53-.05-2.74-.05h-1.72c-1.21 0-2.07 0-2.74.05z"}))},Ha=({convo:e,peer:n,isFocused:t,onClick:r,style:o})=>{const i=ct(e),a=i&&i.isOut&&dt(e,i),s=Vo().id===n.id,c=(0,jr.useCallback)((e=>{e.preventDefault()}),[]),l="ChatConvo"===e.kind&&e.activeCall?e.activeCall.participants.count>0?"filled":"empty":void 0;return Lr().createElement("button",{role:"tab",className:fo()("FCConvoListItem",{"FCConvoListItem--focused":t,"FCConvoListItem--muted":ot(e)}),onClick:()=>r(e.peerId),onMouseDown:c,style:o},s?Lr().createElement(Ua,{size:32,className:"FCConvoListItem__photo"}):Lr().createElement(ca,{size:32,peer:n,withOnline:!0,activeCall:l,className:"FCConvoListItem__photo"}),Lr().createElement(ya,{peer:n,isMuted:ot(e)}),Lr().createElement("div",{className:"FCConvoListItem__icons"},a&&Lr().createElement("div",{className:"FCConvoListItem__unreadOut"}),st(e)&&Lr().createElement(Lr().Fragment,null,e.unreadExpireables.size>0&&Lr().createElement("div",{className:"FCConvoListItem__bombIcon"},Lr().createElement(Sa,null)),"ChatConvo"===e.kind&&e.unreadMentions.size>0&&Lr().createElement("div",{className:"FCConvoListItem__mentionIcon"},Lr().createElement(za,null)),Lr().createElement(ja,{convo:e,isMuted:ot(e),size:18}))))};function qa(){return(qa=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Za(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Va(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ya(e,n,t){return n&&Va(e.prototype,n),t&&Va(e,t),e}function Ga(e){return(Ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xa(e,n){return!n||"object"!==Ga(n)&&"function"!=typeof n?$a(e):n}function Qa(e){return(Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ka(e,n){return(Ka=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Ja(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ka(e,n)}function es(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ns(e){var n,t,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(t=ns(e[n]))&&(r&&(r+=" "),r+=t);else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ts(){for(var e,n,t=0,r="";t<arguments.length;)(e=arguments[t++])&&(n=ns(e))&&(r&&(r+=" "),r+=n);return r}function rs(e){var n=e.cellCount,t=e.cellSize,r=e.computeMetadataCallback,o=e.computeMetadataCallbackProps,i=e.nextCellsCount,a=e.nextCellSize,s=e.nextScrollToIndex,c=e.scrollToIndex,l=e.updateScrollOffsetForScrollToIndex;n===i&&("number"!=typeof t&&"number"!=typeof a||t===a)||(r(o),c>=0&&c===s&&l())}function os(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}l(6723);var is=function(){function e(n){var t=n.cellCount,r=n.cellSizeGetter,o=n.estimatedCellSize;Za(this,e),es(this,"_cellSizeAndPositionData",{}),es(this,"_lastMeasuredIndex",-1),es(this,"_lastBatchedIndex",-1),es(this,"_cellCount",void 0),es(this,"_cellSizeGetter",void 0),es(this,"_estimatedCellSize",void 0),this._cellSizeGetter=r,this._cellCount=t,this._estimatedCellSize=o}return Ya(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var n=e.cellCount,t=e.estimatedCellSize,r=e.cellSizeGetter;this._cellCount=n,this._estimatedCellSize=t,this._cellSizeGetter=r}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index ".concat(e," is outside of range 0..").concat(this._cellCount));if(e>this._lastMeasuredIndex)for(var n=this.getSizeAndPositionOfLastMeasuredCell(),t=n.offset+n.size,r=this._lastMeasuredIndex+1;r<=e;r++){var o=this._cellSizeGetter({index:r});if(void 0===o||isNaN(o))throw Error("Invalid size returned for cell ".concat(r," of value ").concat(o));null===o?(this._cellSizeAndPositionData[r]={offset:t,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[r]={offset:t,size:o},t+=o,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var n=e.align,t=void 0===n?"auto":n,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;if(r<=0)return 0;var a,s=this.getSizeAndPositionOfCell(i),c=s.offset,l=c-r+s.size;switch(t){case"start":a=c;break;case"end":a=l;break;case"center":a=c-(r-s.size)/2;break;default:a=Math.max(l,Math.min(c,o))}var u=this.getTotalSize();return Math.max(0,Math.min(u-r,a))}},{key:"getVisibleCellRange",value:function(e){var n=e.containerSize,t=e.offset;if(0===this.getTotalSize())return{};var r=t+n,o=this._findNearestCell(t),i=this.getSizeAndPositionOfCell(o);t=i.offset+i.size;for(var a=o;t<r&&a<this._cellCount-1;)a++,t+=this.getSizeAndPositionOfCell(a).size;return{start:o,stop:a}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,n,t){for(;n<=e;){var r=n+Math.floor((e-n)/2),o=this.getSizeAndPositionOfCell(r).offset;if(o===t)return r;o<t?n=r+1:o>t&&(e=r-1)}return n>0?n-1:0}},{key:"_exponentialSearch",value:function(e,n){for(var t=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<n;)e+=t,t*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),n)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset ".concat(e," specified"));e=Math.max(0,e);var n=this.getSizeAndPositionOfLastMeasuredCell(),t=Math.max(0,this._lastMeasuredIndex);return n.offset>=e?this._binarySearch(t,0,e):this._exponentialSearch(t,e)}}]),e}(),as=function(){function e(n){var t=n.maxScrollSize,r=void 0===t?"undefined"!=typeof window&&window.chrome?16777100:15e5:t,o=function(e,n){if(null==e)return{};var t,r,o=os(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(n,["maxScrollSize"]);Za(this,e),es(this,"_cellSizeAndPositionManager",void 0),es(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new is(o),this._maxScrollSize=r}return Ya(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var n=e.containerSize,t=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:n,offset:t,totalSize:o});return Math.round(i*(o-r))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var n=e.align,t=void 0===n?"auto":n,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;o=this._safeOffsetToOffset({containerSize:r,offset:o});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:t,containerSize:r,currentOffset:o,targetIndex:i});return this._offsetToSafeOffset({containerSize:r,offset:a})}},{key:"getVisibleCellRange",value:function(e){var n=e.containerSize,t=e.offset;return t=this._safeOffsetToOffset({containerSize:n,offset:t}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:n,offset:t})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var n=e.containerSize,t=e.offset,r=e.totalSize;return r<=n?0:t/(r-n)}},{key:"_offsetToSafeOffset",value:function(e){var n=e.containerSize,t=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return t;var i=this._getOffsetPercentage({containerSize:n,offset:t,totalSize:r});return Math.round(i*(o-n))}},{key:"_safeOffsetToOffset",value:function(e){var n=e.containerSize,t=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return t;var i=this._getOffsetPercentage({containerSize:n,offset:t,totalSize:o});return Math.round(i*(r-n))}}]),e}();function ss(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n={};return function(t){var r=t.callback,o=t.indices,i=Object.keys(o),a=!e||i.every((function(e){var n=o[e];return Array.isArray(n)?n.length>0:n>=0})),s=i.length!==Object.keys(n).length||i.some((function(e){var t=n[e],r=o[e];return Array.isArray(r)?t.join(",")!==r.join(","):t!==r}));n=o,a&&s&&r(o)}}function cs(e){var n=e.cellSize,t=e.cellSizeAndPositionManager,r=e.previousCellsCount,o=e.previousCellSize,i=e.previousScrollToAlignment,a=e.previousScrollToIndex,s=e.previousSize,c=e.scrollOffset,l=e.scrollToAlignment,u=e.scrollToIndex,d=e.size,A=e.sizeJustIncreasedFromZero,p=e.updateScrollIndexCallback,h=t.getCellCount(),m=u>=0&&u<h;m&&(d!==s||A||!o||"number"==typeof n&&n!==o||l!==i||u!==a)?p(u):!m&&h>0&&(d<s||h<r)&&c>t.getTotalSize()-d&&p(h-1)}const ls=!("undefined"==typeof window||!window.document||!window.document.createElement);var us,ds;function As(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function ps(e){this.setState(function(n){var t=this.constructor.getDerivedStateFromProps(e,n);return null!=t?t:null}.bind(this))}function hs(e,n){try{var t=this.props,r=this.state;this.props=e,this.state=n,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,r)}finally{this.props=t,this.state=r}}As.__suppressDeprecationWarning=!0,ps.__suppressDeprecationWarning=!0,hs.__suppressDeprecationWarning=!0;var ms,fs,gs=(ds="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||ds.webkitRequestAnimationFrame||ds.mozRequestAnimationFrame||ds.oRequestAnimationFrame||ds.msRequestAnimationFrame||function(e){return ds.setTimeout(e,1e3/60)},Cs=ds.cancelAnimationFrame||ds.webkitCancelAnimationFrame||ds.mozCancelAnimationFrame||ds.oCancelAnimationFrame||ds.msCancelAnimationFrame||function(e){ds.clearTimeout(e)},vs=gs,Es=Cs,_s=function(e){return Es(e.id)};function bs(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ys(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?bs(t,!0).forEach((function(n){es(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bs(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Bs="requested",ws=(fs=ms=function(e){function n(e){var t;Za(this,n),es($a(t=Xa(this,Qa(n).call(this,e))),"_onGridRenderedMemoizer",ss()),es($a(t),"_onScrollMemoizer",ss(!1)),es($a(t),"_deferredInvalidateColumnIndex",null),es($a(t),"_deferredInvalidateRowIndex",null),es($a(t),"_recomputeScrollLeftFlag",!1),es($a(t),"_recomputeScrollTopFlag",!1),es($a(t),"_horizontalScrollBarSize",0),es($a(t),"_verticalScrollBarSize",0),es($a(t),"_scrollbarPresenceChanged",!1),es($a(t),"_scrollingContainer",void 0),es($a(t),"_childrenToDisplay",void 0),es($a(t),"_columnStartIndex",void 0),es($a(t),"_columnStopIndex",void 0),es($a(t),"_rowStartIndex",void 0),es($a(t),"_rowStopIndex",void 0),es($a(t),"_renderedColumnStartIndex",0),es($a(t),"_renderedColumnStopIndex",0),es($a(t),"_renderedRowStartIndex",0),es($a(t),"_renderedRowStopIndex",0),es($a(t),"_initialScrollTop",void 0),es($a(t),"_initialScrollLeft",void 0),es($a(t),"_disablePointerEventsTimeoutId",void 0),es($a(t),"_styleCache",{}),es($a(t),"_cellCache",{}),es($a(t),"_debounceScrollEndedCallback",(function(){t._disablePointerEventsTimeoutId=null,t.setState({isScrolling:!1,needToResetStyleCache:!1})})),es($a(t),"_invokeOnGridRenderedHelper",(function(){var e=t.props.onSectionRendered;t._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:t._columnStartIndex,columnOverscanStopIndex:t._columnStopIndex,columnStartIndex:t._renderedColumnStartIndex,columnStopIndex:t._renderedColumnStopIndex,rowOverscanStartIndex:t._rowStartIndex,rowOverscanStopIndex:t._rowStopIndex,rowStartIndex:t._renderedRowStartIndex,rowStopIndex:t._renderedRowStopIndex}})})),es($a(t),"_setScrollingContainerRef",(function(e){t._scrollingContainer=e})),es($a(t),"_onScroll",(function(e){e.target===t._scrollingContainer&&t.handleScrollEvent(e.target)}));var r=new as({cellCount:e.columnCount,cellSizeGetter:function(t){return n._wrapSizeGetter(e.columnWidth)(t)},estimatedCellSize:n._getEstimatedColumnSize(e)}),o=new as({cellCount:e.rowCount,cellSizeGetter:function(t){return n._wrapSizeGetter(e.rowHeight)(t)},estimatedCellSize:n._getEstimatedRowSize(e)});return t.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:o,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:1,scrollDirectionVertical:1,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(t._initialScrollTop=t._getCalculatedScrollTop(e,t.state)),e.scrollToColumn>0&&(t._initialScrollLeft=t._getCalculatedScrollLeft(e,t.state)),t}return Ja(n,e),Ya(n,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.alignment,t=void 0===n?this.props.scrollToAlignment:n,r=e.columnIndex,o=void 0===r?this.props.scrollToColumn:r,i=e.rowIndex,a=void 0===i?this.props.scrollToRow:i,s=ys({},this.props,{scrollToAlignment:t,scrollToColumn:o,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(s),scrollTop:this._getCalculatedScrollTop(s)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var n=e.scrollLeft,t=void 0===n?0:n,r=e.scrollTop,o=void 0===r?0:r;if(!(o<0)){this._debounceScrollEnded();var i=this.props,a=i.autoHeight,s=i.autoWidth,c=i.height,l=i.width,u=this.state.instanceProps,d=u.scrollbarSize,A=u.rowSizeAndPositionManager.getTotalSize(),p=u.columnSizeAndPositionManager.getTotalSize(),h=Math.min(Math.max(0,p-l+d),t),m=Math.min(Math.max(0,A-c+d),o);if(this.state.scrollLeft!==h||this.state.scrollTop!==m){var f={isScrolling:!0,scrollDirectionHorizontal:h!==this.state.scrollLeft?h>this.state.scrollLeft?1:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?1:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:"observed"};a||(f.scrollTop=m),s||(f.scrollLeft=h),f.needToResetStyleCache=!1,this.setState(f)}this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:m,totalColumnsWidth:p,totalRowsHeight:A})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var n=e.columnIndex,t=e.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,n):n,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,t):t}},{key:"measureAllCells",value:function(){var e=this.props,n=e.columnCount,t=e.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(n-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(t-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.columnIndex,t=void 0===n?0:n,r=e.rowIndex,o=void 0===r?0:r,i=this.props,a=i.scrollToColumn,s=i.scrollToRow,c=this.state.instanceProps;c.columnSizeAndPositionManager.resetCell(t),c.rowSizeAndPositionManager.resetCell(o),this._recomputeScrollLeftFlag=a>=0&&(1===this.state.scrollDirectionHorizontal?t<=a:t>=a),this._recomputeScrollTopFlag=s>=0&&(1===this.state.scrollDirectionVertical?o<=s:o>=s),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var n=e.columnIndex,t=e.rowIndex,r=this.props.columnCount,o=this.props;r>1&&void 0!==n&&this._updateScrollLeftForScrollToColumn(ys({},o,{scrollToColumn:n})),void 0!==t&&this._updateScrollTopForScrollToRow(ys({},o,{scrollToRow:t}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.getScrollbarSize,r=e.height,o=e.scrollLeft,i=e.scrollToColumn,a=e.scrollTop,s=e.scrollToRow,c=e.width,l=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),l.scrollbarSizeMeasured||this.setState((function(e){var n=ys({},e,{needToResetStyleCache:!1});return n.instanceProps.scrollbarSize=t(),n.instanceProps.scrollbarSizeMeasured=!0,n})),"number"==typeof o&&o>=0||"number"==typeof a&&a>=0){var u=n._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:a});u&&(u.needToResetStyleCache=!1,this.setState(u))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var d=r>0&&c>0;i>=0&&d&&this._updateScrollLeftForScrollToColumn(),s>=0&&d&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:a||0,totalColumnsWidth:l.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:l.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,n){var t=this,r=this.props,o=r.autoHeight,i=r.autoWidth,a=r.columnCount,s=r.height,c=r.rowCount,l=r.scrollToAlignment,u=r.scrollToColumn,d=r.scrollToRow,A=r.width,p=this.state,h=p.scrollLeft,m=p.scrollPositionChangeReason,f=p.scrollTop,g=p.instanceProps;this._handleInvalidatedGridSize();var C=a>0&&0===e.columnCount||c>0&&0===e.rowCount;m===Bs&&(!i&&h>=0&&(h!==this._scrollingContainer.scrollLeft||C)&&(this._scrollingContainer.scrollLeft=h),!o&&f>=0&&(f!==this._scrollingContainer.scrollTop||C)&&(this._scrollingContainer.scrollTop=f));var v=(0===e.width||0===e.height)&&s>0&&A>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):cs({cellSizeAndPositionManager:g.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:h,scrollToAlignment:l,scrollToIndex:u,size:A,sizeJustIncreasedFromZero:v,updateScrollIndexCallback:function(){return t._updateScrollLeftForScrollToColumn(t.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):cs({cellSizeAndPositionManager:g.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:f,scrollToAlignment:l,scrollToIndex:d,size:s,sizeJustIncreasedFromZero:v,updateScrollIndexCallback:function(){return t._updateScrollTopForScrollToRow(t.props)}}),this._invokeOnGridRenderedHelper(),h!==n.scrollLeft||f!==n.scrollTop){var E=g.rowSizeAndPositionManager.getTotalSize(),_=g.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:f,totalColumnsWidth:_,totalRowsHeight:E})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&_s(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,n=e.autoContainerWidth,t=e.autoHeight,r=e.autoWidth,o=e.className,i=e.containerProps,a=e.containerRole,s=e.containerStyle,c=e.height,l=e.id,u=e.noContentRenderer,d=e.role,A=e.style,p=e.tabIndex,h=e.width,m=this.state,f=m.instanceProps,g=m.needToResetStyleCache,C=this._isScrolling(),v={boxSizing:"border-box",direction:"ltr",height:t?"auto":c,position:"relative",width:r?"auto":h,WebkitOverflowScrolling:"touch",willChange:"transform"};g&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var E=f.columnSizeAndPositionManager.getTotalSize(),_=f.rowSizeAndPositionManager.getTotalSize(),b=_>c?f.scrollbarSize:0,y=E>h?f.scrollbarSize:0;y===this._horizontalScrollBarSize&&b===this._verticalScrollBarSize||(this._horizontalScrollBarSize=y,this._verticalScrollBarSize=b,this._scrollbarPresenceChanged=!0),v.overflowX=E+b<=h?"hidden":"auto",v.overflowY=_+y<=c?"hidden":"auto";var B=this._childrenToDisplay,w=0===B.length&&c>0&&h>0;return jr.createElement("div",qa({ref:this._setScrollingContainerRef},i,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:ts("ReactVirtualized__Grid",o),id:l,onScroll:this._onScroll,role:d,style:ys({},v,{},A),tabIndex:p}),B.length>0&&jr.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:a,style:ys({width:n?"auto":E,height:_,maxWidth:E,maxHeight:_,overflow:"hidden",pointerEvents:C?"none":"",position:"relative"},s)},B),w&&u())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,t=e.cellRenderer,r=e.cellRangeRenderer,o=e.columnCount,i=e.deferredMeasurementCache,a=e.height,s=e.overscanColumnCount,c=e.overscanIndicesGetter,l=e.overscanRowCount,u=e.rowCount,d=e.width,A=e.isScrollingOptOut,p=n.scrollDirectionHorizontal,h=n.scrollDirectionVertical,m=n.instanceProps,f=this._initialScrollTop>0?this._initialScrollTop:n.scrollTop,g=this._initialScrollLeft>0?this._initialScrollLeft:n.scrollLeft,C=this._isScrolling(e,n);if(this._childrenToDisplay=[],a>0&&d>0){var v=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:d,offset:g}),E=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:f}),_=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:d,offset:g}),b=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:f});this._renderedColumnStartIndex=v.start,this._renderedColumnStopIndex=v.stop,this._renderedRowStartIndex=E.start,this._renderedRowStopIndex=E.stop;var y=c({direction:"horizontal",cellCount:o,overscanCellsCount:s,scrollDirection:p,startIndex:"number"==typeof v.start?v.start:0,stopIndex:"number"==typeof v.stop?v.stop:-1}),B=c({direction:"vertical",cellCount:u,overscanCellsCount:l,scrollDirection:h,startIndex:"number"==typeof E.start?E.start:0,stopIndex:"number"==typeof E.stop?E.stop:-1}),w=y.overscanStartIndex,x=y.overscanStopIndex,D=B.overscanStartIndex,k=B.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var S=D;S<=k;S++)if(!i.has(S,0)){w=0,x=o-1;break}if(!i.hasFixedWidth())for(var F=w;F<=x;F++)if(!i.has(0,F)){D=0,k=u-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:t,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:w,columnStopIndex:x,deferredMeasurementCache:i,horizontalOffsetAdjustment:_,isScrolling:C,isScrollingOptOut:A,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:D,rowStopIndex:k,scrollLeft:g,scrollTop:f,styleCache:this._styleCache,verticalOffsetAdjustment:b,visibleColumnIndices:v,visibleRowIndices:E}),this._columnStartIndex=w,this._columnStopIndex=x,this._rowStartIndex=D,this._rowStopIndex=k}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&_s(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=function(e,n){var t;Promise.resolve().then((function(){t=Date.now()}));var r={id:vs((function o(){Date.now()-t>=n?e.call():r.id=vs(o)}))};return r}(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,n=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:n})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var n=this,t=e.scrollLeft,r=e.scrollTop,o=e.totalColumnsWidth,i=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var t=e.scrollLeft,r=e.scrollTop,a=n.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:i,scrollLeft:t,scrollTop:r,scrollWidth:o})},indices:{scrollLeft:t,scrollTop:r}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(n.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var t=e.scrollLeft,r=e.scrollTop,o=n._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:t,scrollTop:r});o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return n._getCalculatedScrollLeft(e,t)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=n._getScrollLeftForScrollToColumnStateUpdate(e,t);r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return n._getCalculatedScrollTop(e,t)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,n=this._cellCache,t=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var r=this._rowStartIndex;r<=this._rowStopIndex;r++)for(var o=this._columnStartIndex;o<=this._columnStopIndex;o++){var i="".concat(r,"-").concat(o);this._styleCache[i]=e[i],t&&(this._cellCache[i]=n[i])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=n._getScrollTopForScrollToRowStateUpdate(e,t);r&&(r.needToResetStyleCache=!1,this.setState(r))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r={};0===e.columnCount&&0!==t.scrollLeft||0===e.rowCount&&0!==t.scrollTop?(r.scrollLeft=0,r.scrollTop=0):(e.scrollLeft!==t.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==t.scrollTop&&e.scrollToRow<0)&&Object.assign(r,n._getScrollToPositionStateUpdate({prevState:t,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var o,i,a=t.instanceProps;return r.needToResetStyleCache=!1,e.columnWidth===a.prevColumnWidth&&e.rowHeight===a.prevRowHeight||(r.needToResetStyleCache=!0),a.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:n._getEstimatedColumnSize(e),cellSizeGetter:n._wrapSizeGetter(e.columnWidth)}),a.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:n._getEstimatedRowSize(e),cellSizeGetter:n._wrapSizeGetter(e.rowHeight)}),0!==a.prevColumnCount&&0!==a.prevRowCount||(a.prevColumnCount=0,a.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===a.prevIsScrolling&&Object.assign(r,{isScrolling:!1}),rs({cellCount:a.prevColumnCount,cellSize:"number"==typeof a.prevColumnWidth?a.prevColumnWidth:null,computeMetadataCallback:function(){return a.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:a.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){o=n._getScrollLeftForScrollToColumnStateUpdate(e,t)}}),rs({cellCount:a.prevRowCount,cellSize:"number"==typeof a.prevRowHeight?a.prevRowHeight:null,computeMetadataCallback:function(){return a.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:a.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){i=n._getScrollTopForScrollToRowStateUpdate(e,t)}}),a.prevColumnCount=e.columnCount,a.prevColumnWidth=e.columnWidth,a.prevIsScrolling=!0===e.isScrolling,a.prevRowCount=e.rowCount,a.prevRowHeight=e.rowHeight,a.prevScrollToColumn=e.scrollToColumn,a.prevScrollToRow=e.scrollToRow,a.scrollbarSize=e.getScrollbarSize(),void 0===a.scrollbarSize?(a.scrollbarSizeMeasured=!1,a.scrollbarSize=0):a.scrollbarSizeMeasured=!0,r.instanceProps=a,ys({},r,{},o,{},i)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var n=e.prevState,t=e.scrollLeft,r=e.scrollTop,o={scrollPositionChangeReason:Bs};return"number"==typeof t&&t>=0&&(o.scrollDirectionHorizontal=t>n.scrollLeft?1:-1,o.scrollLeft=t),"number"==typeof r&&r>=0&&(o.scrollDirectionVertical=r>n.scrollTop?1:-1,o.scrollTop=r),"number"==typeof t&&t>=0&&t!==n.scrollLeft||"number"==typeof r&&r>=0&&r!==n.scrollTop?o:{}}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,n){var t=e.columnCount,r=e.height,o=e.scrollToAlignment,i=e.scrollToColumn,a=e.width,s=n.scrollLeft,c=n.instanceProps;if(t>0){var l=t-1,u=i<0?l:Math.min(l,i),d=c.rowSizeAndPositionManager.getTotalSize(),A=c.scrollbarSizeMeasured&&d>r?c.scrollbarSize:0;return c.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:a-A,currentOffset:s,targetIndex:u})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,t){var r=t.scrollLeft,o=n._getCalculatedScrollLeft(e,t);return"number"==typeof o&&o>=0&&r!==o?n._getScrollToPositionStateUpdate({prevState:t,scrollLeft:o,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,n){var t=e.height,r=e.rowCount,o=e.scrollToAlignment,i=e.scrollToRow,a=e.width,s=n.scrollTop,c=n.instanceProps;if(r>0){var l=r-1,u=i<0?l:Math.min(l,i),d=c.columnSizeAndPositionManager.getTotalSize(),A=c.scrollbarSizeMeasured&&d>a?c.scrollbarSize:0;return c.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:t-A,currentOffset:s,targetIndex:u})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,t){var r=t.scrollTop,o=n._getCalculatedScrollTop(e,t);return"number"==typeof o&&o>=0&&r!==o?n._getScrollToPositionStateUpdate({prevState:t,scrollLeft:-1,scrollTop:o}):{}}}]),n}(jr.PureComponent),es(ms,"propTypes",null),fs);es(ws,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(e){for(var n=e.cellCache,t=e.cellRenderer,r=e.columnSizeAndPositionManager,o=e.columnStartIndex,i=e.columnStopIndex,a=e.deferredMeasurementCache,s=e.horizontalOffsetAdjustment,c=e.isScrolling,l=e.isScrollingOptOut,u=e.parent,d=e.rowSizeAndPositionManager,A=e.rowStartIndex,p=e.rowStopIndex,h=e.styleCache,m=e.verticalOffsetAdjustment,f=e.visibleColumnIndices,g=e.visibleRowIndices,C=[],v=r.areOffsetsAdjusted()||d.areOffsetsAdjusted(),E=!c&&!v,_=A;_<=p;_++)for(var b=d.getSizeAndPositionOfCell(_),y=o;y<=i;y++){var B=r.getSizeAndPositionOfCell(y),w=y>=f.start&&y<=f.stop&&_>=g.start&&_<=g.stop,x="".concat(_,"-").concat(y),D=void 0;E&&h[x]?D=h[x]:a&&!a.has(_,y)?D={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(D={height:b.size,left:B.offset+s,position:"absolute",top:b.offset+m,width:B.size},h[x]=D);var k={columnIndex:y,isScrolling:c,isVisible:w,key:x,parent:u,rowIndex:_,style:D},S=void 0;!l&&!c||s||m?S=t(k):(n[x]||(n[x]=t(k)),S=n[x]),null!=S&&!1!==S&&C.push(S)}return C},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:function(e){if((!us&&0!==us||e)&&ls){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),us=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return us},noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(e){var n=e.cellCount,t=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return 1===r?{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(n-1,i+t)}:{overscanStartIndex:Math.max(0,o-t),overscanStopIndex:Math.min(n-1,i)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),function(e){var n=e.prototype;if(!n||!n.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof n.getSnapshotBeforeUpdate)return e;var t=null,r=null,o=null;if("function"==typeof n.componentWillMount?t="componentWillMount":"function"==typeof n.UNSAFE_componentWillMount&&(t="UNSAFE_componentWillMount"),"function"==typeof n.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof n.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof n.componentWillUpdate?o="componentWillUpdate":"function"==typeof n.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==t||null!==r||null!==o){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==t?"\n  "+t:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(n.componentWillMount=As,n.componentWillReceiveProps=ps),"function"==typeof n.getSnapshotBeforeUpdate){if("function"!=typeof n.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");n.componentWillUpdate=hs;var s=n.componentDidUpdate;n.componentDidUpdate=function(e,n,t){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:t;s.call(this,e,n,r)}}}(ws);const xs=ws;var Ds,ks,Ss=(ks=Ds=function(e){function n(){var e,t;Za(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return es($a(t=Xa(this,(e=Qa(n)).call.apply(e,[this].concat(o)))),"Grid",void 0),es($a(t),"_cellRenderer",(function(e){var n=e.parent,r=e.rowIndex,o=e.style,i=e.isScrolling,a=e.isVisible,s=e.key,c=t.props.rowRenderer,l=Object.getOwnPropertyDescriptor(o,"width");return l&&l.writable&&(o.width="100%"),c({index:r,style:o,isScrolling:i,isVisible:a,key:s,parent:n})})),es($a(t),"_setRef",(function(e){t.Grid=e})),es($a(t),"_onScroll",(function(e){var n=e.clientHeight,r=e.scrollHeight,o=e.scrollTop;(0,t.props.onScroll)({clientHeight:n,scrollHeight:r,scrollTop:o})})),es($a(t),"_onSectionRendered",(function(e){var n=e.rowOverscanStartIndex,r=e.rowOverscanStopIndex,o=e.rowStartIndex,i=e.rowStopIndex;(0,t.props.onRowsRendered)({overscanStartIndex:n,overscanStopIndex:r,startIndex:o,stopIndex:i})})),t}return Ja(n,e),Ya(n,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var n=e.alignment,t=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:n,rowIndex:t,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var n=e.columnIndex,t=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:t,columnIndex:n})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.columnIndex,t=void 0===n?0:n,r=e.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:t})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,n=e.className,t=e.noRowsRenderer,r=e.scrollToIndex,o=e.width,i=ts("ReactVirtualized__List",n);return jr.createElement(xs,qa({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:i,columnWidth:o,columnCount:1,noContentRenderer:t,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:r}))}}]),n}(jr.PureComponent),es(Ds,"propTypes",null),ks);es(Ss,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:function(e){var n=e.cellCount,t=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return t=Math.max(1,t),1===r?{overscanStartIndex:Math.max(0,o-1),overscanStopIndex:Math.min(n-1,i+t)}:{overscanStartIndex:Math.max(0,o-t),overscanStopIndex:Math.min(n-1,i+1)}},overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var Fs=l(5701),Is={};Is.styleTagTransform=p(),Is.setAttributes=s(),Is.insert=i().bind(null,"head"),Is.domAPI=r(),Is.insertStyleElement=d(),n()(Fs.Z,Is),Fs.Z&&Fs.Z.locals&&Fs.Z.locals;const Ms=Lr().memo((function(){const{lang:e}=$o();return Lr().createElement("div",{className:"NoResults"},Lr().createElement("svg",{width:"48",height:"48",xmlns:"http://www.w3.org/2000/svg"},Lr().createElement("path",{d:"M24 48a24 24 0 100-48 24 24 0 000 48z",fill:"#FC3"}),Lr().createElement("path",{d:"M27.86 36.86a1.29 1.29 0 010 2.57h-7.72a1.29 1.29 0 010-2.57h7.72zm-1.29-12c.86-.86 1.72 1.71 6 1.71 3.43 0 6.43-1.71 6.86-.86.43.86-2.57 4.29-6.86 4.29-5.14 0-6.86-4.29-6-5.14zm-5.14 0c.86.85-.86 5.14-6 5.14-4.29 0-7.29-3.43-6.86-4.29.43-.85 3.43.86 6.86.86 4.28 0 5.14-2.57 6-1.71zm9.43-10.29c.85-.86 2.57 2.14 6 3.43s4.28 1.29 4.28 2.57c0 .86-.85 1.72-5.14 0-4.29-1.71-6-5.14-5.14-6zm-13.72 0c.86.86-.85 4.29-5.14 6-4.29 1.72-5.14.86-5.14 0 0-1.28.85-1.28 4.28-2.57 3.43-1.29 5.15-4.29 6-3.43z",fill:"#805446"})),Lr().createElement("div",{className:"NoResults__text"},e.use("me_convo_list_search_no_results")))}));var Ts=l(5682),Ps={};Ps.styleTagTransform=p(),Ps.setAttributes=s(),Ps.insert=i().bind(null,"head"),Ps.domAPI=r(),Ps.insertStyleElement=d(),n()(Ts.Z,Ps),Ts.Z&&Ts.Z.locals&&Ts.Z.locals;var zs="0 0 56 56",Os="messages_outline_56",Ns=!1;function js(){Ns||(Jr(new(Vr())({id:Os,viewBox:zs,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 56 56" id="messages_outline_56"><path fill-rule="evenodd" clip-rule="evenodd" d="M22.029 10c-8.474 0-14.971 5.925-14.971 12.806 0 2.468.817 4.782 2.253 6.738a1.5 1.5 0 01.291.888c0 1.638-.425 3.23-.953 4.674-.351.962-.772 1.919-1.17 2.803 3.314-.334 5.494-1.392 6.807-2.955a1.5 1.5 0 011.68-.437 17.062 17.062 0 006.063 1.095c8.474 0 14.97-5.925 14.97-12.806C37 15.925 30.504 10 22.03 10zM4.058 22.806C4.058 13.886 12.309 7 22.028 7 31.749 7 40 13.885 40 22.806c0 8.92-8.251 15.806-17.971 15.806-2.165 0-4.244-.337-6.172-.956-2.254 2.144-5.545 3.181-9.592 3.342-1.618.065-2.726-1.62-2.077-3.08.14-.318.282-.633.423-.946.434-.963.861-1.911 1.22-2.895.41-1.12.689-2.184.756-3.19-1.6-2.346-2.53-5.115-2.53-8.081z" fill="currentColor" /><path fill-rule="evenodd" clip-rule="evenodd" d="M43.012 18.768a1.5 1.5 0 00.377 2.088c3.437 2.385 5.553 5.988 5.553 9.95 0 2.469-.817 4.782-2.253 6.738a1.5 1.5 0 00-.291.888c0 1.638.425 3.23.952 4.674.352.962.773 1.919 1.17 2.803-3.314-.334-5.493-1.392-6.806-2.955a1.5 1.5 0 00-1.68-.437 17.063 17.063 0 01-6.063 1.095c-2.986 0-5.755-.748-8.078-2.026a1.5 1.5 0 00-1.446 2.63c2.77 1.523 6.037 2.396 9.524 2.396 2.164 0 4.244-.337 6.172-.956 2.254 2.144 5.545 3.181 9.592 3.342 1.618.065 2.726-1.62 2.077-3.08-.14-.318-.282-.633-.423-.946-.434-.962-.861-1.911-1.22-2.895-.41-1.12-.69-2.184-.756-3.19 1.6-2.346 2.53-5.115 2.53-8.081 0-5.09-2.725-9.557-6.843-12.415a1.5 1.5 0 00-2.088.377z" fill="currentColor" /></symbol>'})),Ns=!0)}var Ls=function(e){return eo((function(){js()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:zs,id:Os,width:isNaN(e.width)?56:+e.width,height:isNaN(e.height)?56:+e.height}))};Ls.mountIcon=js;const Rs=Ls;var Us="0 0 56 56",Ws="message_read_outline_56",Hs=!1;function qs(){Hs||(Jr(new(Vr())({id:Ws,viewBox:Us,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 56 56" id="message_read_outline_56"><g fill="none" fill-rule="evenodd"><path d="M0 0h56v56H0z" /><path d="M28.472 6c4.501 0 8.81 1.158 12.476 3.299a1.5 1.5 0 01-1.512 2.59C36.23 10.02 32.443 9 28.472 9 17.674 9 9 16.501 9 25.638c0 4.606 2.206 8.925 6.059 12.056a1.5 1.5 0 01.489 1.6c-.552 1.816-1.506 3.952-2.864 6.42 4.12-1.083 7.251-2.365 9.382-3.82a1.5 1.5 0 011.192-.221c1.683.399 3.432.603 5.214.603 10.799 0 19.472-7.501 19.472-16.638 0-1.918-.38-3.791-1.116-5.562a1.5 1.5 0 112.77-1.151 17.428 17.428 0 011.346 6.713c0 10.898-10.105 19.638-22.472 19.638a25.66 25.66 0 01-5.268-.542c-2.639 1.663-6.296 3.052-10.982 4.192a2.48 2.48 0 01-2.736-3.644c1.32-2.3 2.281-4.284 2.883-5.94C8.33 35.716 6 30.846 6 25.637 6 14.74 16.106 6 28.472 6zm19.839 4.94a1.5 1.5 0 010 2.12L30.06 31.31a1.5 1.5 0 01-2.122 0l-7.5-7.5a1.5 1.5 0 112.122-2.12L29 28.128l17.19-17.19a1.5 1.5 0 012.12 0z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),Hs=!0)}var Zs=function(e){return eo((function(){qs()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Us,id:Ws,width:isNaN(e.width)?56:+e.width,height:isNaN(e.height)?56:+e.height}))};Zs.mountIcon=qs;const Vs=Zs,Ys=Lr().memo((function({folder:e,onFolderChange:n}){var t;const{lang:r}=$o(),o=r.use("me_convo_list_placeholder_unread_set").split("|"),i=null===(t=o[Math.floor(Math.random()*o.length)])||void 0===t?void 0:t.trim();switch(e){case"all":return Lr().createElement("div",{className:"EmptyConvoList"},Lr().createElement("div",{className:"EmptyConvoList__icon"},Lr().createElement(Rs,null)),Lr().createElement("div",null,r.use("me_convo_list_placeholder_all")));case"unread":return Lr().createElement("div",{className:"EmptyConvoList"},Lr().createElement("div",{className:"EmptyConvoList__icon"},Lr().createElement(Vs,null)),Lr().createElement("div",null,i),Lr().createElement("button",{className:"EmptyConvoList__link",onClick:()=>{n("all")}},r.use("me_convo_list_placeholder_unread_link")));default:return Ee()}}));var Gs=l(5312),$s={};$s.styleTagTransform=p(),$s.setAttributes=s(),$s.insert=i().bind(null,"head"),$s.domAPI=r(),$s.insertStyleElement=d(),n()(Gs.Z,$s),Gs.Z&&Gs.Z.locals&&Gs.Z.locals;const Xs=({className:e,size:n="small",onIntersection:t})=>{const{ref:r,inView:o}=Bo({threshold:.01});return(0,jr.useEffect)((()=>{o&&t&&t()}),[o,t]),Lr().createElement("div",{ref:r,className:fo()("OptimizedSpinner",e)},o&&Lr().createElement(Ur.Spinner,{size:n}))},Qs=({windowId:e,initialX:n,initialY:t,initialW:r,initialH:o,isActive:i,onActivate:a,dispatch:s,onClose:c,onSelect:l,folders:u,convosCache:d,convosSearchIndex:A})=>{const{lang:p}=$o(),h=Uo(),{selectedFolder:m,setSelectedFolder:f}=function(e,n){const[t,r]=(0,jr.useState)("all");return{selectedFolder:(0,jr.useMemo)((()=>({id:t,convos:Array.from(n[t].peerIds,(n=>Et(e,n))).sort(At),hasMore:n[t].hasMore})),[n,t,e]),setSelectedFolder:r}}(d,u),g=(0,jr.useRef)(null);(0,jr.useLayoutEffect)((()=>{g.current&&g.current.recomputeRowHeights()}),[m.id]);const{current:C,query:v,onChange:E,onKeyDown:_,onFocus:b,onBlur:y,results:B,reset:w}=ei({requestType:"convos",searchIndex:A,dispatch:s,onSelect:(0,jr.useCallback)((e=>{l(e,"fastchats_list_all")}),[l]),defaultResults:(0,jr.useMemo)((()=>new Set(m.convos.map((e=>e.peerId)))),[m])});(0,jr.useEffect)((()=>{w()}),[w,m.id]);const x=(0,jr.useCallback)((e=>{let n;switch(m.id){case"all":n="fastchats_list_all";break;case"unread":n="fastchats_list_unread";break;default:Ee(m.id)}l(e,n)}),[l,m.id]),D=(0,jr.useCallback)((({index:e,style:n})=>{if(e>m.convos.length-1)return Lr().createElement("div",{key:"loader",className:"FCConvoList__loader",style:n},Lr().createElement(Xs,{className:"FCConvoList__loader",onIntersection:()=>s({type:"MoreConvosNeeded",folder:m.id})}));const t=m.convos[e];return t?Lr().createElement(Ha,{key:t.peerId,convo:t,peer:je(h,t.peerId),isFocused:e===C,onClick:x,style:n}):null}),[m,x,h,C,s]);return Lr().createElement(wi,{id:e,title:p.use("me_fc_chats"),footer:Lr().createElement(Lr().Fragment,null,Lr().createElement(Vi,{placeholder:p.use("me_convo_list_search_placeholder"),onChange:E,value:v,onKeyDown:_,onFocus:b,onBlur:y}),""===v&&Lr().createElement("div",{className:"FCConvoList__folder"},Lr().createElement(hi,{content:{all:p.use("me_fc_convo_list_folder_unread_tooltip"),unread:p.use("me_fc_convo_list_folder_all_tooltip")}[m.id],position:"top",align:"center"},Lr().createElement("button",{className:fo()("FCConvoList__folderDot",{"FCConvoList__folderDot--active":"unread"===m.id}),onClick:()=>{switch(m.id){case"unread":f("all");break;case"all":f("unread");break;default:Ee(m.id)}}})))),onClose:c,onActivate:a,initialX:n,initialY:t,initialW:r,initialH:o,isActive:i},(()=>{if(""!==v)switch(B){case"loading":return Lr().createElement(Xs,{className:"FCConvoList__loader",onIntersection:()=>s({type:"MoreConvosNeeded",folder:m.id})});case"empty":return Lr().createElement(Ms,null);default:return Lr().createElement(Lr().Fragment,null,[...B.values()].map(((e,n)=>{const t=Et(d,e);return Lr().createElement(Ha,{key:t.peerId,convo:t,peer:je(h,t.peerId),isFocused:n===C,onClick:x})})))}return 0===m.convos.length?Lr().createElement(Ys,{folder:m.id,onFolderChange:f}):Lr().createElement(Ss,{ref:g,className:"FCConvoList__virtual",height:373,width:350,overscanRowCount:10,rowCount:m.hasMore?m.convos.length+1:m.convos.length,rowHeight:44,rowRenderer:D})})())};var Ks=l(5419),Js={};Js.styleTagTransform=p(),Js.setAttributes=s(),Js.insert=i().bind(null,"head"),Js.domAPI=r(),Js.insertStyleElement=d(),n()(Ks.Z,Js),Ks.Z&&Ks.Z.locals&&Ks.Z.locals;var ec="0 0 20 20",nc="cancel_20",tc=!1;function rc(){tc||(Jr(new(Vr())({id:nc,viewBox:ec,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="cancel_20"><path clip-rule="evenodd" d="M4.72 4.72a.75.75 0 011.06 0L10 8.94l4.22-4.22a.75.75 0 111.06 1.06L11.06 10l4.22 4.22a.75.75 0 11-1.06 1.06L10 11.06l-4.22 4.22a.75.75 0 01-1.06-1.06L8.94 10 4.72 5.78a.75.75 0 010-1.06z" fill="currentColor" fill-rule="evenodd" /></symbol>'})),tc=!0)}var oc=function(e){return eo((function(){rc()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:ec,id:nc,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};oc.mountIcon=rc;const ic=oc;var ac="0 0 12 12",sc="cancel_12",cc=!1;function lc(){cc||(Jr(new(Vr())({id:sc,viewBox:ac,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="cancel_12"><path d="M3.525 2.464a.75.75 0 00-1.06 1.061L4.938 6 2.464 8.475a.75.75 0 101.061 1.06L6 7.062l2.475 2.475a.75.75 0 001.06-1.061L7.062 6l2.475-2.475a.75.75 0 10-1.061-1.06L6 4.938z" fill="currentColor" /></symbol>'})),cc=!0)}var uc=function(e){return eo((function(){lc()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:ac,id:sc,width:isNaN(e.width)?12:+e.width,height:isNaN(e.height)?12:+e.height}))};uc.mountIcon=lc;const dc=uc;var Ac=l(5469),pc={};pc.styleTagTransform=p(),pc.setAttributes=s(),pc.insert=i().bind(null,"head"),pc.domAPI=r(),pc.insertStyleElement=d(),n()(Ac.Z,pc),Ac.Z&&Ac.Z.locals&&Ac.Z.locals;const hc=({type:e="text",className:n})=>{const t={text:"text",voice:"voice",photo:"file",video:"file",file:"file"}[e],r=fo()("TypingIndicator",`TypingIndicator--${t}`,n);return Lr().createElement("div",{className:r},Lr().createElement("div",{className:"TypingIndicator__particle"}))},mc=({convo:e,isSelected:n,isWide:t,onClick:r,onClose:o})=>{const{lang:i}=$o(),a=je(Uo(),e.peerId),s=Oo(a.id,"compact",0),c=Vo().id===a.id,l=(0,jr.useCallback)((e=>{e.preventDefault(),r(a.id,"fastchats_thumbs")}),[r,a.id]),u="ChatConvo"===e.kind&&e.activeCall?e.activeCall.participants.count>0?"filled":"empty":void 0,d=c?i.use("me_favorites"):Me(a);return Lr().createElement("article",{className:fo()("FCThumb",{"FCThumb--selected":n,"FCThumb--muted":ot(e),"FCThumb--wide":t,"FCThumb--collapsed":!t})},Lr().createElement(hi,{content:d,position:"left",delay:500},Lr().createElement("a",{href:`https://vk.com/im?sel=${e.peerId}`,target:"_blank",rel:"noreferrer",className:"FCThumb__link",onClick:l},c?Lr().createElement(Ua,{size:40}):Lr().createElement(ca,{peer:a,size:40,withOnline:!0,activityIndicator:s&&Lr().createElement(hc,{type:s.type}),activeCall:u}),st(e)&&Lr().createElement("span",{className:"FCThumb__unread"},we(e.unreadCount)),t&&Lr().createElement(ya,{peer:a,isMuted:ot(e),isShortened:!0,className:"FCThumb__title"}))),Lr().createElement("button",{className:"FCThumb__close",onClick:()=>o(a.id),"aria-label":i.use("me_fc_close_convo")},t?Lr().createElement(ic,null):Lr().createElement(dc,null)))};var fc=l(2268),gc={};gc.styleTagTransform=p(),gc.setAttributes=s(),gc.insert=i().bind(null,"head"),gc.domAPI=r(),gc.insertStyleElement=d(),n()(fc.Z,gc),fc.Z&&fc.Z.locals&&fc.Z.locals;const Cc=()=>Lr().createElement("svg",{className:"Symbols"},Lr().createElement("defs",null,Lr().createElement("symbol",{id:"meOnlineVkMe"},Lr().createElement("path",{d:"M5 10A5 5 0 105 0a5 5 0 000 10z"}),Lr().createElement("path",{d:"M2.33 5.83a.83.83 0 100-1.66.83.83 0 000 1.66zm2.67 0a.83.83 0 100-1.66.83.83 0 000 1.66zM8.5 5a.83.83 0 11-1.67 0A.83.83 0 018.5 5z",fill:"#fff"})),Lr().createElement("symbol",{id:"mePhone10"},Lr().createElement("path",{d:"M6.17 6.8c1.1-1.09 2.32-.5 3.3.33 1.15.97.26 2.7-1.08 2.83-1.82.24-3.72-.63-5.72-2.63-2-2-2.88-3.91-2.63-5.73C.16.27 1.91-.62 2.87.52c.82.98 1.41 2.2.32 3.3-.9.9-.16 1.55.64 2.35s1.45 1.53 2.34.64z"})),Lr().createElement("symbol",{id:"meExpand"},Lr().createElement("path",{d:"M15.7688 13.7067L11.906 10L15.7688 6.29326C16.0771 5.99741 16.0771 5.51774 15.7688 5.22189C15.4605 4.92604 14.9606 4.92604 14.6523 5.22189L10.2312 9.46431C9.92292 9.76017 9.92292 10.2398 10.2312 10.5357L14.6523 14.7781C14.9606 15.074 15.4605 15.074 15.7688 14.7781C16.0771 14.4823 16.0771 14.0026 15.7688 13.7067Z"}),Lr().createElement("path",{d:"M9.76877 13.7067L5.90596 10L9.76877 6.29326C10.0771 5.99741 10.0771 5.51774 9.76877 5.22189C9.46046 4.92604 8.96059 4.92604 8.65228 5.22189L4.23123 9.46431C3.92292 9.76017 3.92292 10.2398 4.23123 10.5357L8.65228 14.7781C8.96059 15.074 9.46046 15.074 9.76877 14.7781C10.0771 14.4823 10.0771 14.0026 9.76877 13.7067Z"}))),Lr().createElement("circle",{id:"mePeerFrameOffline24",cx:"12",cy:"12",r:"12"}),Lr().createElement("path",{id:"mePeerFrameOnline24",d:"M23.57 15.18A12.02 12.02 0 0012 0a12 12 0 103.18 23.57 6 6 0 018.4-8.4z"}),Lr().createElement("path",{id:"mePeerFrameMobile24",d:"M14.08 23.82a12 12 0 119.9-12.29 3.98 3.98 0 00-1.98-.53h-4a4 4 0 00-4 4v8c0 .28.03.56.08.82z"}),Lr().createElement("path",{id:"mePeerFrameMe24",d:"M23.84 13.95a12 12 0 10-9.9 9.9 7 7 0 019.9-9.9z"}),Lr().createElement("circle",{id:"mePeerFrameOffline32",cx:"16",cy:"16",r:"16"}),Lr().createElement("path",{id:"mePeerFrameOnline32",d:"M30.72 22.29a16 16 0 10-8.43 8.43 6 6 0 018.43-8.43z"}),Lr().createElement("path",{id:"mePeerFrameMobile32",d:"M21 31.2a16 16 0 1110.52-11.3A3.98 3.98 0 0029 19h-4a4 4 0 00-4 4v8.2z"}),Lr().createElement("path",{id:"mePeerFrameMe32",d:"M31.1 21.32a16 16 0 10-9.77 9.77 7 7 0 019.77-9.77z"}),Lr().createElement("path",{id:"mePeerFrameOffline32c",d:"M31.47 20.11A12 12 0 0118.16.14a16 16 0 1013.31 19.97z"}),Lr().createElement("circle",{id:"mePeerFrameOffline40",cx:"20",cy:"20",r:"20"}),Lr().createElement("path",{id:"mePeerFrameOnline40",d:"M29.29 37.72a20 20 0 118.43-8.43 5.99 5.99 0 10-8.43 8.43z"}),Lr().createElement("path",{id:"mePeerFrameMobile40",d:"M28.2 38.25a20 20 0 1110.78-11.92A3.99 3.99 0 0036 25h-4a4 4 0 00-4 4v8a4 4 0 00.2 1.25z"}),Lr().createElement("path",{id:"mePeerFrameMe40",d:"M28.31 38.2a20 20 0 119.89-9.89 7 7 0 10-9.89 9.89z"}),Lr().createElement("path",{id:"mePeerFrameMe40c",d:"M33 22c2.61 0 5.03-.83 7-2.25V20c0 2.97-.65 5.78-1.8 8.31a7 7 0 10-9.89 9.89A20 20 0 1125.38.73 12 12 0 0033 22z"}),Lr().createElement("path",{id:"mePeerFrameMobile40c",d:"M33 22c2.61 0 5.03-.83 7-2.25V20c0 2.21-.36 4.34-1.02 6.33A3.99 3.99 0 0036 25h-4a4 4 0 00-4 4v8a4 4 0 00.2 1.25A20 20 0 1125.38.73 12 12 0 0033 22z"}),Lr().createElement("path",{id:"mePeerFrameOffline40c",d:"M40 19.75A12 12 0 0125.38.73 20.02 20.02 0 000 20a20 20 0 1040-.25z"}),Lr().createElement("path",{id:"mePeerFrameOnline40c",d:"M33 22c2.61 0 5.03-.83 7-2.25V20c0 3.35-.83 6.51-2.28 9.29a5.99 5.99 0 10-8.43 8.43A20 20 0 1125.38.74 12 12 0 0033 22z"}),Lr().createElement("circle",{id:"mePeerFrameOffline44",cx:"22",cy:"22",r:"22"}),Lr().createElement("path",{id:"mePeerFrameOnline44",d:"M41.21 32.73a22 22 0 10-8.49 8.49 6 6 0 018.49-8.49z"}),Lr().createElement("path",{id:"mePeerFrameMobile44",d:"M31.13 42.02a22 22 0 1111.1-11.37A4 4 0 0039 29h-4a4 4 0 00-4 4v8c0 .35.05.7.13 1.02z"}),Lr().createElement("path",{id:"mePeerFrameMe44",d:"M41.7 31.81a22 22 0 10-9.89 9.89 7 7 0 019.89-9.89z"}),Lr().createElement("path",{id:"mePeerFrameOffline44c",d:"M43.97 20.77A12 12 0 0129.78 1.41a22 22 0 1014.19 19.36z"}),Lr().createElement("path",{id:"mePeerFrameOnline44c",d:"M29.78 1.41a22 22 0 102.95 39.8 6 6 0 018.49-8.49 21.9 21.9 0 002.75-11.95A12 12 0 0129.78 1.41z"}),Lr().createElement("path",{id:"mePeerFrameMobile44c",d:"M43.97 20.77A12 12 0 0129.78 1.41a22 22 0 101.35 40.6 4 4 0 01-.13-1.01v-8a4 4 0 014-4h4a4 4 0 013.24 1.65 21.93 21.93 0 001.73-9.88z"}),Lr().createElement("path",{id:"mePeerFrameMe44c",d:"M29.78 1.41A22 22 0 1031.8 41.7a7 7 0 019.89-9.89 21.91 21.91 0 002.27-11.03A12 12 0 0129.78 1.41z"}),Lr().createElement("circle",{id:"mePeerFrameOffline46",cx:"23",cy:"23",r:"23"}),Lr().createElement("path",{id:"mePeerFrameOnline46",d:"M42.94 34.47a23 23 0 10-8.47 8.47 6 6 0 018.47-8.47z"}),Lr().createElement("path",{id:"mePeerFrameMobile46",d:"M33.06 43.69A23 23 0 1144 32.37 3.99 3.99 0 0041 31h-4a4 4 0 00-4 4v8c0 .24.02.47.06.69z"}),Lr().createElement("path",{id:"mePeerFrameMe46",d:"M43.43 33.58a23 23 0 10-9.85 9.85 7 7 0 019.85-9.85z"}),Lr().createElement("path",{id:"mePeerFrameOffline46c",d:"M45.9 20.82A12 12 0 0131.5 1.62a23 23 0 1014.39 19.2z"}),Lr().createElement("path",{id:"mePeerFrameOnline46c",d:"M31.5 1.63a23 23 0 102.96 41.31 6 6 0 018.47-8.47 22.9 22.9 0 002.97-13.65A12 12 0 0131.5 1.62z"}),Lr().createElement("path",{id:"mePeerFrameMobile46c",d:"M45.9 20.82A12 12 0 0131.5 1.62a23 23 0 101.55 42.06A4.03 4.03 0 0133 43v-8a4 4 0 014-4h4c1.2 0 2.28.53 3.01 1.37a22.92 22.92 0 001.89-11.55z"}),Lr().createElement("path",{id:"mePeerFrameMe46c",d:"M31.5 1.63a23 23 0 102.07 41.8 7 7 0 019.85-9.85 22.9 22.9 0 002.48-12.76A12 12 0 0131.5 1.62z"}));var vc=l(2931),Ec={};Ec.styleTagTransform=p(),Ec.setAttributes=s(),Ec.insert=i().bind(null,"head"),Ec.domAPI=r(),Ec.insertStyleElement=d(),n()(vc.Z,Ec),vc.Z&&vc.Z.locals&&vc.Z.locals;var _c=l(5492),bc={};bc.styleTagTransform=p(),bc.setAttributes=s(),bc.insert=i().bind(null,"head"),bc.domAPI=r(),bc.insertStyleElement=d(),n()(_c.Z,bc),_c.Z&&_c.Z.locals&&_c.Z.locals;var yc=l(170),Bc={};Bc.styleTagTransform=p(),Bc.setAttributes=s(),Bc.insert=i().bind(null,"head"),Bc.domAPI=r(),Bc.insertStyleElement=d(),n()(yc.Z,Bc),yc.Z&&yc.Z.locals&&yc.Z.locals;var wc="0 0 12 12",xc="error_circle_12",Dc=!1;function kc(){Dc||(Jr(new(Vr())({id:xc,viewBox:wc,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="error_circle_12"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12A6 6 0 106 0a6 6 0 000 12zM6 2a.75.75 0 01.75.75V6.3a.75.75 0 01-1.5 0V2.75A.75.75 0 016 2zm.902 7a.9.9 0 11-1.8 0 .9.9 0 011.8 0z" fill="currentColor" /></symbol>'})),Dc=!0)}var Sc=function(e){return eo((function(){kc()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:wc,id:xc,width:isNaN(e.width)?12:+e.width,height:isNaN(e.height)?12:+e.height}))};Sc.mountIcon=kc;const Fc=Sc;var Ic="0 0 12 12",Mc="clock_12",Tc=!1;function Pc(){Tc||(Jr(new(Vr())({id:Mc,viewBox:Ic,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="clock_12"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 6a6 6 0 1012 0A6 6 0 000 6zm6.403-3c0-.409-.314-.7-.701-.7A.7.7 0 005 3l.007 3.601a.7.7 0 00.489.568l2.707.82c.36.105.672-.15.775-.487.085-.37-.079-.756-.465-.874l-2.11-.646V3z" fill="currentColor" /></symbol>'})),Tc=!0)}var zc=function(e){return eo((function(){Pc()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Ic,id:Mc,width:isNaN(e.width)?12:+e.width,height:isNaN(e.height)?12:+e.height}))};zc.mountIcon=Pc;const Oc=zc;var Nc="0 0 16 16",jc="bomb_16",Lc=!1;function Rc(){Lc||(Jr(new(Vr())({id:jc,viewBox:Nc,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="bomb_16"><path d="M10.712 5.202a.75.75 0 01.106.973l-.793.858a5 5 0 11-1.06-1.06l.687-.735a.75.75 0 011.06-.036zM6 6.5a3.5 3.5 0 100 7 3.5 3.5 0 000-7zm7.118-1.19l1.25.2a.75.75 0 01.623.858c-.069.426-.455.657-.86.623l-1.25-.2a.75.75 0 01-.622-.86c.069-.426.455-.656.86-.622zm.647-3.105c.314.296.287.745.03 1.06l-.85.9a.75.75 0 01-1.06.03c-.314-.296-.287-.745-.03-1.06l.85-.9a.75.75 0 011.06-.03zm-3.27-.544l.15 1.25a.75.75 0 01-.656.834c-.428.051-.756-.257-.834-.656l-.15-1.25a.75.75 0 01.656-.834c.428-.051.756.257.834.656z" fill="currentColor" /></symbol>'})),Lc=!0)}var Uc=function(e){return eo((function(){Rc()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Nc,id:jc,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};Uc.mountIcon=Rc;const Wc=Uc;var Hc=l(1798),qc={};qc.styleTagTransform=p(),qc.setAttributes=s(),qc.insert=i().bind(null,"head"),qc.domAPI=r(),qc.insertStyleElement=d(),n()(Hc.Z,qc),Hc.Z&&Hc.Z.locals&&Hc.Z.locals;var Zc=l(6624),Vc={};Vc.styleTagTransform=p(),Vc.setAttributes=s(),Vc.insert=i().bind(null,"head"),Vc.domAPI=r(),Vc.insertStyleElement=d(),n()(Zc.Z,Vc),Zc.Z&&Zc.Z.locals&&Zc.Z.locals;const Yc=({message:e})=>{const{lang:n}=$o(),t=Uo(),r=Vo(),o=je(t,e.authorId);let i="";switch(e.action.type){case"chat_photo_remove":case"chat_photo_update":case"chat_pin_message":case"chat_unpin_message":case"chat_group_call_started":case"chat_invite_user_by_link":{const t=`me_service_${e.action.type}`,r={user:Me(o)};i="User"===o.kind?n.use(t,{sex:o.sex,values:r}):n.use(`${t}_community`,{values:r});break}case"chat_create":case"chat_title_update":{const t=`me_service_${e.action.type}`,r={user:Me(o),title:e.action.title};i="User"===o.kind?n.use(t,{sex:o.sex,values:r}):n.use(`${t}_community`,{values:r});break}case"chat_invite_user":case"chat_kick_user":{const r=`me_service_${e.action.type}`,a=je(t,e.action.peerId);if(o.id===a.id&&"User"===o.kind){i=n.use(`${r}_own`,{sex:o.sex,values:{user:Me(o)}});break}const s={user:Me(o),target:Me(a,"acc")};i="User"===o.kind?n.use(r,{sex:o.sex,values:s}):n.use(`${r}_community`,{values:s});break}case"chat_invite_user_by_call":{const r=`me_service_${e.action.type}`,a=je(t,e.action.peerId);i=n.use(r,{sex:"User"===o.kind?o.sex:"unknown",values:{user:Me(o),target:Me(a,"acc")}});break}case"chat_invite_user_by_call_join_link":{const t=`me_service_${e.action.type}`,r={user:Me(o)};i=n.use(t,{sex:"User"===o.kind?o.sex:"unknown",values:r});break}case"sent_message_requests_count":const a=`me_service_${e.action.type}`;i=n.use(a,{num:e.action.count});break;case"chat_screenshot":{const t=`me_service_${e.action.type}`;if(o.id===r.id){i=n.use("me_service_chat_screenshot_own");break}const a={user:Me(o)};i="User"===o.kind?n.use(t,{sex:o.sex,values:a}):n.use(`${t}_community`,{values:a});break}case"conversation_style_update":case"chat_kick_don":case"chat_kick_user_call_block":case"chat_invite_user_by_message_request":case"accepted_message_request":case"unknown":i=n.use("me_unsupported_message");break;default:Ee(e.action)}return Lr().createElement(Lr().Fragment,null,i)},Gc=({attach:e})=>{const{lang:n}=$o();let t="";if(Array.isArray(e))if("kind"in e[0])switch(e[0]&&e[0].kind){case"Photo":t=n.use("me_attaches_photos",{num:e.length||0});break;case"Audio":t=n.use("me_attaches_audios",{num:e.length||0});break;case"Video":t=n.use("me_attaches_videos",{num:e.length||0});break;case"Doc":t=n.use("me_attaches_docs",{num:e.length||0});break;case"MiniApp":t=n.use("me_attaches_mini_apps",{num:e.length||0});break;default:t=n.use("me_attaches_unknown")}else t=n.use("me_attaches_unknown");else switch(e.kind){case"Sticker":t=n.use("me_attaches_sticker");break;case"Story":t=n.use("me_attaches_story");break;case"Link":t=n.use("me_attaches_link");break;case"Voice":t=n.use("me_attaches_audio_message");break;case"Market":t=n.use("me_attaches_market");break;case"MarketAlbum":t=n.use("me_unsupported_message");break;case"Gift":t=n.use("me_attaches_gift"+(e.isStickerStyle?"_sticker_style":""));break;case"Wall":t=n.use("me_attaches_wall");break;case"WallReply":t=n.use("me_attaches_wall_reply");break;case"Article":t=n.use("me_attaches_article");break;case"Call":case"ActiveCall":t=n.use("me_attaches_call");break;case"Graffiti":t=n.use("me_attaches_graffiti");break;case"Poll":t=n.use("me_attaches_poll");break;case"AudioPlaylist":t=n.use(`me_attaches_audio_playlist_${e.type}`);break;case"Podcast":t=n.use("me_attaches_podcast");break;case"MoneyTransfer":t=n.use("me_attaches_money_transfer");break;case"MoneyRequest":t=n.use("me_attaches_money_request")}return Lr().createElement(Lr().Fragment,null,t)},$c=({message:e})=>{const{lang:n}=$o();if("Service"===e.kind)return Lr().createElement(Yc,{message:e});if("Expired"===e.kind)return Lr().createElement("span",{className:"MessagePreview"},n.use("me_message_expired",{num:1}));const t=function(e){let n=Object.keys(e.attaches).length;return e.forwardedMessages&&e.forwardedMessages.length>0&&n++,n}(e),r=0!==t;let o="";if(t>1)o=n.use("me_attaches_attaches",{num:t});else if(e.forwardedMessages&&e.forwardedMessages.length>0)o=n.use("me_attaches_messages",{num:e.forwardedMessages.length});else if(r){const n=Object.values(e.attaches)[0];n&&(o=Lr().createElement(Gc,{attach:n}))}return Lr().createElement("span",{className:"MessagePreview"},function(e,n){return e.chunks.reduce(((e,t)=>{switch(t.kind){case"Text":return e+t.text;case"Mention":case"ClientMention":return e+"@"+t.screenName;case"NamedMention":case"MassMention":return e+t.displayName;case"AliasMention":return e+"@"+t.displayName;case"Email":return e+t.email;case"Url":return e+t.caption;case"Hashtag":return e+t.tag;case"LineBreak":return e+(n.multiline?"\n":" ");default:return Ee()}}),"")}(e,{multiline:!1}),"Pinned"!==e.kind&&e.updatedAt&&" "+n.use("me_message_edited_label"),r&&0===e.chunks.length&&Lr().createElement("span",{className:"MessagePreview__attach"}," ",o))},Xc=({message:e})=>{const n=je(Uo(),e.authorId);return Lr().createElement("div",{className:"Reply"},Lr().createElement("div",{className:"Reply__author"},Lr().createElement(gi,{href:Pe(n),className:"Reply__authorLink"},Me(n))),Lr().createElement("div",{className:"Reply__content"},Lr().createElement($c,{message:e})))};var Qc=l(443),Kc={};Kc.styleTagTransform=p(),Kc.setAttributes=s(),Kc.insert=i().bind(null,"head"),Kc.domAPI=r(),Kc.insertStyleElement=d(),n()(Qc.Z,Kc),Qc.Z&&Qc.Z.locals&&Qc.Z.locals;var Jc=l(2283),el={};el.styleTagTransform=p(),el.setAttributes=s(),el.insert=i().bind(null,"head"),el.domAPI=r(),el.insertStyleElement=d(),n()(Jc.Z,el),Jc.Z&&Jc.Z.locals&&Jc.Z.locals;var nl=l(5138),tl={};tl.styleTagTransform=p(),tl.setAttributes=s(),tl.insert=i().bind(null,"head"),tl.domAPI=r(),tl.insertStyleElement=d(),n()(nl.Z,tl),nl.Z&&nl.Z.locals&&nl.Z.locals;const rl=e=>{var{href:n,payload:t,onClick:r,picture:o,title:i,meta:a,alt:s}=e,c=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["href","payload","onClick","picture","title","meta","alt"]);const l="isInBubble"in c,u="isLongTitle"in c;return Lr().createElement(gi,{href:n,payload:t,onClick:r,className:fo()("AttachCard",{"AttachCard--withLongTitle":u,"AttachCard--withBackground":!l,"AttachCard--inBubble":l}),target:"_blank",rel:"noreferrer"},Lr().createElement("figure",{className:"AttachCard__pic"},"string"==typeof o?Lr().createElement("img",{src:o,alt:s,className:"AttachCard__img"}):o),Lr().createElement("div",{className:"AttachCard__main",style:"background"in c?{backgroundColor:c.background}:{}},Lr().createElement("div",{className:"AttachCard__content"},Lr().createElement("h2",{className:"AttachCard__title"},i),"caption"in c&&Lr().createElement("div",{className:"AttachCard__caption"},c.caption),Lr().createElement("div",{className:"AttachCard__meta"},a))))};function ol(e,n){return 16*(e?3.5:4)*(n?"undefined"!=typeof window?window.devicePixelRatio:2:1)}var il=l(7820),al={};al.styleTagTransform=p(),al.setAttributes=s(),al.insert=i().bind(null,"head"),al.domAPI=r(),al.insertStyleElement=d(),n()(il.Z,al),il.Z&&il.Z.locals&&il.Z.locals;var sl="0 0 24 24",cl="link_24",ll=!1;function ul(){ll||(Jr(new(Vr())({id:cl,viewBox:sl,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="link_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M16.544 9.193L7.096 18.64a1.228 1.228 0 01-1.736-1.736l9.447-9.448H8.93A1.228 1.228 0 118.93 5h8.842C18.45 5 19 5.55 19 6.228v8.842a1.228 1.228 0 11-2.456 0V9.193z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),ll=!0)}var dl=function(e){return eo((function(){ul()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:sl,id:cl,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};dl.mountIcon=ul;const Al=dl;var pl="0 0 24 24",hl="story_outline_24",ml=!1;function fl(){ml||(Jr(new(Vr())({id:hl,viewBox:pl,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="story_outline_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" opacity=".1" /><path d="M9.128 3.1l6.046.002c1.56.019 2.367.191 3.204.639a4.534 4.534 0 011.881 1.88c.476.89.641 1.745.641 3.507v5.744c0 1.762-.165 2.617-.64 3.506a4.534 4.534 0 01-1.882 1.881c-.889.476-1.744.641-3.506.641H9.128c-1.762 0-2.617-.165-3.506-.64a4.534 4.534 0 01-1.881-1.882c-.476-.889-.641-1.744-.641-3.506l.002-6.046c.019-1.56.191-2.367.639-3.204A4.534 4.534 0 015.62 3.74c.89-.476 1.745-.641 3.507-.641zm5.744 1.8H9.128c-1.315 0-1.917.086-2.447.324l-.21.104A2.735 2.735 0 005.328 6.47C5.01 7.063 4.9 7.638 4.9 9.128v5.744c0 1.315.086 1.917.324 2.447l.104.21c.265.495.648.878 1.143 1.143.523.28 1.032.399 2.167.423l.49.005h5.744c1.315 0 1.917-.086 2.447-.324l.21-.104a2.735 2.735 0 001.143-1.143c.28-.523.399-1.032.423-2.167l.005-.49V9.128c0-1.315-.086-1.917-.324-2.447l-.104-.21a2.735 2.735 0 00-1.143-1.143c-.592-.317-1.167-.428-2.657-.428zM12 8.1a3.9 3.9 0 110 7.8 3.9 3.9 0 010-7.8zm0 1.8a2.1 2.1 0 100 4.2 2.1 2.1 0 000-4.2z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),ml=!0)}var gl=function(e){return eo((function(){fl()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:pl,id:hl,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};gl.mountIcon=fl;const Cl=gl;var vl="0 0 24 24",El="money_transfer_24",_l=!1;function bl(){_l||(Jr(new(Vr())({id:El,viewBox:vl,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="money_transfer_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M16 18v-2.84a.5.5 0 01.8-.4l4.927 3.68a.5.5 0 010 .802l-4.928 3.68a.5.5 0 01-.799-.4V20H5a3 3 0 01-3-3V7a3 3 0 013-3h14a3 3 0 013 3v9.148l-2-1.494V12H4v5a1 1 0 001 1h11zm4-10V7a1 1 0 00-1-1H5a1 1 0 00-1 1v1h16z" fill="currentColor" /></g></symbol>'})),_l=!0)}var yl=function(e){return eo((function(){bl()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:vl,id:El,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};yl.mountIcon=bl;const Bl=yl,wl=({href:e,onClick:n,title:t,meta:r,icon:o,payload:i})=>Lr().createElement(gi,{href:e,payload:i,onClick:n,className:"AttachMiniCard",target:"_blank",rel:"noreferrer"},Lr().createElement("figure",{className:"AttachMiniCard__icon"},"link"===o&&Lr().createElement(Al,null),"story"===o&&Lr().createElement(Cl,null),"moneyTransfer"===o&&Lr().createElement(Bl,null)),Lr().createElement("div",{className:"AttachMiniCard__title"},t),Lr().createElement("div",{className:"AttachMiniCard__meta"},r)),xl=({link:e,isInBubble:n,background:t})=>{const r=Lo(),{url:o,title:i,meta:a}=e,s=bt(e,ol(n,r),0,!0);return s?n?Lr().createElement(rl,{isInBubble:n,isLongTitle:!0,href:o,picture:s.url,title:i,alt:i,meta:a}):Lr().createElement(rl,{isLongTitle:!0,href:o,picture:s.url,title:i,alt:i,meta:a,background:t}):Lr().createElement(wl,{href:o,title:i,meta:a,icon:"link"})};var Dl=l(813),kl={};kl.styleTagTransform=p(),kl.setAttributes=s(),kl.insert=i().bind(null,"head"),kl.domAPI=r(),kl.insertStyleElement=d(),n()(Dl.Z,kl),Dl.Z&&Dl.Z.locals&&Dl.Z.locals;const Sl=({market:e,isInBubble:n,background:t})=>{const r=yt(e),o=Lr().createElement(Lr().Fragment,null,e.price," ",e.priceOld&&Lr().createElement("span",{className:"AttachMarket__priceOld"},e.priceOld));return n?Lr().createElement(rl,{isInBubble:n,isLongTitle:!0,href:r,picture:e.photo,title:e.title,alt:e.title,meta:o}):Lr().createElement(rl,{isLongTitle:!0,href:r,picture:e.photo,title:e.title,alt:e.title,meta:o,background:t})};var Fl=l(1012),Il={};Il.styleTagTransform=p(),Il.setAttributes=s(),Il.insert=i().bind(null,"head"),Il.domAPI=r(),Il.insertStyleElement=d(),n()(Fl.Z,Il),Fl.Z&&Fl.Z.locals&&Fl.Z.locals;var Ml="0 0 24 24",Tl="document_outline_24",Pl=!1;function zl(){Pl||(Jr(new(Vr())({id:Tl,viewBox:Ml,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="document_outline_24"><path d="M13.25 3.753H7.47c-1.2 0-2.169.928-2.169 2.065v11.764c0 1.137.968 2.065 2.17 2.065h9.209c1.2 0 2.169-.927 2.169-2.065V10.9h-2.274a3.325 3.325 0 01-3.325-3.325V3.753zm1.775 4.197c0 .649.526 1.175 1.175 1.175h2.317l-3.492-3.97V7.95zM3.5 5.818C3.5 3.706 5.28 2 7.47 2h5.921c.78 0 1.52.33 2.026.904L20.02 8.14c.406.461.629 1.047.629 1.653v7.79c0 2.111-1.78 3.817-3.97 3.817H7.47c-2.19 0-3.97-1.706-3.97-3.818V5.818z" fill="currentColor" /></symbol>'})),Pl=!0)}var Ol=function(e){return eo((function(){zl()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Ml,id:Tl,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};Ol.mountIcon=zl;const Nl=Ol,jl=({doc:e})=>{const n=e.ext.toUpperCase()+" · "+Be(e.size);return Lr().createElement(gi,{href:e.url,className:"AttachDoc"},Lr().createElement("figure",{className:"AttachDoc__icon"},Lr().createElement(Nl,null)),Lr().createElement("div",{className:"AttachDoc__title"},e.title),Lr().createElement("div",{className:"AttachDoc__meta"},n))};var Ll=l(178),Rl={};Rl.styleTagTransform=p(),Rl.setAttributes=s(),Rl.insert=i().bind(null,"head"),Rl.domAPI=r(),Rl.insertStyleElement=d(),n()(Ll.Z,Rl),Ll.Z&&Ll.Z.locals&&Ll.Z.locals;const Ul=Lr().memo((function({message:e,voice:n}){const{player:t}=$o(),[r,o]=(0,jr.useState)(!1),[i,a]=(0,jr.useState)("stopped"),[s,c]=(0,jr.useState)(0),[l,u]=(0,jr.useState)(0),[d,A]=(0,jr.useState)(""),p=xo(l,300),h=(0,jr.useRef)(null);(0,jr.useEffect)((()=>{const e=t.subscribe((e=>{const t=e.currentTrack&&"Voice"===e.currentTrack.kind&&e.currentTrack.id===n.id&&"ended"!==e.status;o(t||!1),a(t?e.status:"stopped"),c(t?e.progress:0)}));return()=>e()}),[n,t]);const m=(0,jr.useCallback)((o=>{if(r&&"playing"===i)t.pause();else if(r)t.resume();else{const r="Foreign"===e.kind?e.rootPeerId:e.peerId;t.play(Wl(r,n),s)}o.preventDefault()}),[e,n,t,i,s,r]),f=(0,jr.useCallback)((o=>{const i=Wl("Foreign"===e.kind?e.rootPeerId:e.peerId,n);r||(t.play(i,0),o.preventDefault());const a=o.target.closest(".AttachVoice__track");if(a){const e=(o.clientX-Ai(a).left)/p;t.play(i,e)}}),[e,n,r,t,p]);(0,jr.useLayoutEffect)((()=>{if(!window.ResizeObserver)return;const e=new ResizeObserver((([e])=>{if(e)if(e.contentBoxSize){const n=Array.isArray(e.contentBoxSize)?e.contentBoxSize[0]:e.contentBoxSize;u(n.inlineSize)}else u(e.contentRect.width)}));return h.current&&e.observe(h.current),()=>e.disconnect()}),[]),(0,jr.useEffect)((()=>{A(function(e,n,t=20){return function(e,n,t=1){const r=[],o=e.length/n;if(o<=0)return[];let i=0,a=0,s=0,c=0,l=0;return e.forEach((e=>{if(c>o)for(;c>o;){if(c-=o,c<=.8&&(i+=e,a+=e*e,s++),s>0){const e=Math.sqrt((a-i/s)/s);l<e&&(l=e),r.push(e)}i=a=s=0,c>.2&&(i+=e,a+=e*e,s++)}else i+=e,a+=e*e,s++;c++})),t?r.map((e=>e*t/Math.max(l,.01))):r}(e,n).reduce(((e,n,r)=>{const o=Math.max(.5,.5*t*n);return`${e}M${3*r+1},${.5*t-o}v${2*o}Z`}),"")}(n.waveform,Math.floor(l/3),20))}),[p,n.waveform,l]);const g=3*Math.floor(l/3);return Lr().createElement("div",{className:fo()("AttachVoice",{"AttachVoice--active":"playing"===i||"paused"===i,"AttachVoice--playing":"playing"===i}),onClick:f},Lr().createElement("button",{className:"AttachVoice__play",onClick:m},Lr().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"AttachVoice__playIcon"},"playing"!==i&&Lr().createElement("path",{d:"M1.54 9.4A1 1 0 010 8.58V1.43A1 1 0 011.54.59l5.9 3.82a.7.7 0 010 1.18L1.54 9.4z"}),"playing"===i&&Lr().createElement("path",{d:"M.6 0a.6.6 0 00-.6.6v8.8c0 .33.27.6.6.6h1.8a.6.6 0 00.6-.6V.6a.6.6 0 00-.6-.6H.6zm5 0a.6.6 0 00-.6.6v8.8c0 .33.27.6.6.6h1.8a.6.6 0 00.6-.6V.6a.6.6 0 00-.6-.6H5.6z"}))),Lr().createElement("div",{className:"AttachVoice__track",ref:h},("playing"===i||"paused"===i)&&Lr().createElement("svg",{className:"AttachVoice__svg",width:g,height:20,style:{clipPath:`inset(0 ${(1-s)*g}px 0 0)`}},Lr().createElement("path",{className:"AttachVoice__progress",d})),Lr().createElement("svg",{className:"AttachVoice__svg",width:g,height:20,style:"playing"===i||"paused"===i?{clipPath:`inset(0 0 0 ${s*g}px)`}:{}},Lr().createElement("path",{className:"AttachVoice__path",d}))),Lr().createElement("div",{className:"AttachVoice__duration",style:{minWidth:`${C=n.duration,xe(C).length+.5}ch`}},"playing"===i||"paused"===i?t.timeLeft(!0):xe(n.duration)));var C}));function Wl(e,n){return{kind:"Voice",url:n.linkMp3,id:n.id,ownerId:n.ownerId,peerId:e}}var Hl=l(2540),ql={};ql.styleTagTransform=p(),ql.setAttributes=s(),ql.insert=i().bind(null,"head"),ql.domAPI=r(),ql.insertStyleElement=d(),n()(Hl.Z,ql),Hl.Z&&Hl.Z.locals&&Hl.Z.locals;const Zl=Lr().memo((function({message:e,audio:n}){const{player:t}=$o(),[r,o]=(0,jr.useState)(!1),[i,a]=(0,jr.useState)("stopped"),[s,c]=(0,jr.useState)(0);(0,jr.useEffect)((()=>{const e=t.subscribe((e=>{const t=e.currentTrack&&"Audio"===e.currentTrack.kind&&e.currentTrack.id===n.id&&"ended"!==e.status;o(t||!1),a(t?e.status:"stopped"),c(t?e.progress:0)}));return()=>e()}),[n,t]);const l=(0,jr.useCallback)((o=>{const a=function(e,n){return n.url?Object.assign(Object.assign({url:n.url},n),{peerId:e}):null}("Foreign"===e.kind?e.rootPeerId:e.peerId,n);a&&(r&&"playing"===i?t.pause():r?t.resume():t.play(a,s),o.preventDefault())}),[n,t,i,s,r,e]);return Lr().createElement("div",{className:fo()("AttachAudio",{"AttachAudio--active":"playing"===i||"paused"===i,"AttachAudio--playing":"playing"===i})},Lr().createElement("button",{className:"AttachAudio__play",onClick:l},Lr().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"AttachVoice__playIcon"},"playing"!==i&&Lr().createElement("path",{d:"M1.54 9.4A1 1 0 010 8.58V1.43A1 1 0 011.54.59l5.9 3.82a.7.7 0 010 1.18L1.54 9.4z"}),"playing"===i&&Lr().createElement("path",{d:"M.6 0a.6.6 0 00-.6.6v8.8c0 .33.27.6.6.6h1.8a.6.6 0 00.6-.6V.6a.6.6 0 00-.6-.6H.6zm5 0a.6.6 0 00-.6.6v8.8c0 .33.27.6.6.6h1.8a.6.6 0 00.6-.6V.6a.6.6 0 00-.6-.6H5.6z"}))),Lr().createElement("div",{className:"AttachAudio__title"},n.title),Lr().createElement("div",{className:"AttachAudio__artist"},n.artist),Lr().createElement("div",{className:"AttachAudio__duration","data-filler":Vl(n.duration)},Lr().createElement("div",{className:"AttachAudio__durationIn"},"playing"===i||"paused"===i?t.timeLeft(!1):xe(n.duration))))}));function Vl(e,n=!0){return(n?"-":"")+Math.floor(e/60).toString().split("").fill("0").join("")+":00"}var Yl=l(7160),Gl={};Gl.styleTagTransform=p(),Gl.setAttributes=s(),Gl.insert=i().bind(null,"head"),Gl.domAPI=r(),Gl.insertStyleElement=d(),n()(Yl.Z,Gl),Yl.Z&&Yl.Z.locals&&Yl.Z.locals;var $l="0 0 32 32",Xl="play_32",Ql=!1;function Kl(){Ql||(Jr(new(Vr())({id:Xl,viewBox:$l,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="play_32"><path d="M24.948 14.001c1.154.656 1.732.984 1.925 1.412.17.374.17.8 0 1.174-.194.428-.77.756-1.925 1.412l-12.43 7.061c-1.154.656-1.732.984-2.205.935a1.471 1.471 0 01-1.033-.587C9 25.03 9 24.373 9 23.061V8.938c0-1.311 0-1.967.28-2.347.244-.33.62-.543 1.033-.586.473-.05 1.05.279 2.205.935L24.948 14z" fill="currentColor" /></symbol>'})),Ql=!0)}var Jl=function(e){return eo((function(){Kl()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:$l,id:Xl,width:isNaN(e.width)?32:+e.width,height:isNaN(e.height)?32:+e.height}))};Jl.mountIcon=Kl;const eu=Jl,nu=9,tu=16,ru=({videos:e,isInBubble:n,forwardLevel:t=0})=>{const r=Lo(),[,o]=function(e,n,t){const r=216+(n?0:8)-(t>0?22+10*(t-1):0);return[r,r*(e?"undefined"!=typeof window?window.devicePixelRatio:2:1)]}(r,n,t);return Lr().createElement("div",{className:fo()("AttachVideos",{"AttachVideos--inBubble":n})},e.map((e=>{const{height:n=nu,width:t=tu,duration:r}=e,i=bt(e,o);return i?Lr().createElement("div",{className:"AttachVideos__item",key:e.id},Lr().createElement(gi,{href:yt(e),payload:e,className:"AttachVideos__video",style:{backgroundImage:`url('${i.url}')`,paddingTop:n/t*100+"%",height:0}},Lr().createElement("div",{className:"AttachVideos__videoPlay"},Lr().createElement(eu,null)),void 0!==r&&Lr().createElement("div",{className:"AttachVideos__videoDuration"},xe(r)))):null})))};var ou=l(9189),iu={};iu.styleTagTransform=p(),iu.setAttributes=s(),iu.insert=i().bind(null,"head"),iu.domAPI=r(),iu.insertStyleElement=d(),n()(ou.Z,iu),ou.Z&&ou.Z.locals&&ou.Z.locals;const au=({photos:e,isInBubble:n,forwardLevel:t=0})=>{const r=Lo(),[o,i]=function(e,n,t){const r=232+(n?0:8)-(t>0?22+10*(t-1):0);return[r,r*(e?"undefined"!=typeof window?window.devicePixelRatio:2:1)]}(r,n,t);return Lr().createElement("div",{className:fo()("AttachPhotos",{"AttachPhotos--inBubble":n})},e.map((e=>{const n=bt(e,i);if(!n)return null;const t=Math.min(n.width,o),r=Math.ceil(n.height/n.width*t);return Lr().createElement(gi,{href:yt(e),payload:e,target:"_blank",rel:"noreferrer",key:e.id,className:"AttachPhotos__link",style:{width:t,height:r}},Lr().createElement("img",{src:n.url,alt:"",className:"AttachPhotos__img"}))})))},su=({timestamp:e,variant:n})=>{const{lang:t}=$o(),r=Ro();return Lr().createElement(Lr().Fragment,null,t.formatDate(e,{now:r,variant:n}))},cu=({story:e,isInBubble:n,background:t})=>{const{lang:r}=$o(),o=Uo(),i=yt(e),a=Lo(),s=r.use("me_story_from",{values:{from:Me(je(o,De(e.ownerId)),"acc")}}),c=e.date?Lr().createElement(su,{timestamp:e.date,variant:"date"}):"";if(!e.image)return Lr().createElement(wl,{href:i,title:s,meta:e.available?c:r.use("me_story_unavailable"),icon:"story"});const l=bt(e,ol(a,n));return l?n?Lr().createElement(rl,{isInBubble:n,isLongTitle:!0,href:i,payload:e,picture:l.url,title:s,alt:s,meta:e.available?c:r.use("me_story_unavailable")}):Lr().createElement(rl,{isLongTitle:!0,href:i,payload:e,picture:l.url,title:s,alt:s,meta:e.available?c:r.use("me_story_unavailable"),background:t}):null};var lu=l(4863),uu={};uu.styleTagTransform=p(),uu.setAttributes=s(),uu.insert=i().bind(null,"head"),uu.domAPI=r(),uu.insertStyleElement=d(),n()(lu.Z,uu),lu.Z&&lu.Z.locals&&lu.Z.locals;var du="0 0 24 24",Au="playlist_24",pu=!1;function hu(){pu||(Jr(new(Vr())({id:Au,viewBox:du,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="playlist_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M13 6.883A.88.88 0 0012.118 6H2.882A.888.888 0 002 6.883v.234A.88.88 0 002.882 8h9.236A.888.888 0 0013 7.117v-.234zm0 4a.88.88 0 00-.882-.883H2.882a.888.888 0 00-.882.883v.234a.88.88 0 00.882.883h9.236a.888.888 0 00.882-.883v-.234zM2 15.117v-.234A.89.89 0 012.885 14h4.227c.492 0 .885.395.885.883v.234a.89.89 0 01-.885.883H2.885A.882.882 0 012 15.117zm15.004.694c0 3.752-.993 4.654-3.776 5.142-1.48.259-3.223-.479-3.223-2.81 0-1.14.712-2.221 2.187-2.504 1.127-.216-.42.052 2.128-.42.618-.116.689-.337.689-.809 0-.236-.006-.428-.013-1.85V8.724s-.005-1.83 0-2.745c.006-1.094.833-1.496 2.596-1.852 0 0 2.35-.339 3.827-.607.327-.06.576.062.576.437V7.4c0 .37-.15.537-.524.603a228.49 228.49 0 01-3.986.649c-.333.081-.485.315-.485.652l.004 6.508z" fill="currentColor" /></g></symbol>'})),pu=!0)}var mu=function(e){return eo((function(){hu()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:du,id:Au,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};mu.mountIcon=hu;const fu=mu,gu=({playlist:e,isInBubble:n,background:t})=>{const r=Lo(),[o,i,a]=e.image||[],s=(r?null==a?void 0:a.url:null==i?void 0:i.url)||(null==o?void 0:o.url)||Lr().createElement("figure",{className:"AttachAudioPlaylist__icon"},Lr().createElement(fu,null)),c={isLongTitle:!0,title:e.title,alt:e.title,href:yt(e),meta:Lr().createElement(Gc,{attach:e}),picture:s};return n?Lr().createElement(rl,Object.assign({isInBubble:!0},c)):Lr().createElement(rl,Object.assign({background:t},c))},Cu=({message:e,moneyTransfer:n})=>Lr().createElement(wl,{title:n.text,href:gn(e),payload:n,meta:Lr().createElement(Gc,{attach:n}),icon:"moneyTransfer"});var vu=l(5972),Eu={};Eu.styleTagTransform=p(),Eu.setAttributes=s(),Eu.insert=i().bind(null,"head"),Eu.domAPI=r(),Eu.insertStyleElement=d(),n()(vu.Z,Eu),vu.Z&&vu.Z.locals&&vu.Z.locals;const _u=({message:e,geo:n,isInBubble:t})=>{const r=Lo(),{lang:o}=$o(),i=300*(r?2:1),a=Math.floor(.5625*i),s=function({latitude:e,longitude:n},{width:t,height:r,zoom:o,locale:i,point:a}){let s="en_US";["ru","br","kz"].includes(i)?s="ru_RU":"ua"===i&&(s="uk_UA"),t>650&&(r=Math.round(650/t*r),t=650),r>450&&(t=Math.round(450/r*t),r=450);const c=new URL("https://static-maps.yandex.ru/1.x/");return c.search=new URLSearchParams({ll:`${n},${e}`,size:`${t},${r}`,z:`${o}`,lang:s,l:"map",pt:`${n},${e},${a}`,key:"AKPeBEwBAAAA0qePSQIA03AwA4O4ze6XTqIecsNp7REB6VYAAAAAAAAAAADNzChqedeUxsCAyYkFUHiD7MPITA=="}).toString(),c.toString()}(n.coordinates,{width:i,height:a,locale:o.locale,zoom:12,point:"vkbkm"}),c=n.place?(l=n.place).title?l.title:[l.country,l.city,l.address].filter(Boolean).join(", "):"";var l;return Lr().createElement(gi,{href:gn(e),title:c,payload:n,className:fo()("AttachGeo",{"AttachGeo--inBubble":t})},Lr().createElement("img",{className:"AttachGeo__mapImage",src:s,alt:c}))};var bu=l(7436),yu={};yu.styleTagTransform=p(),yu.setAttributes=s(),yu.insert=i().bind(null,"head"),yu.domAPI=r(),yu.insertStyleElement=d(),n()(bu.Z,yu),bu.Z&&bu.Z.locals&&bu.Z.locals;const Bu=Lr().memo((function({miniApp:e}){const{title:n,images:t}=e,r=Lo(),{lang:o}=$o(),[i,a]=t,s=((r?i:a)||i).url;return Lr().createElement(gi,{payload:e,href:yt(e),target:"_blank",rel:"noreferrer",className:"AttachMiniApp"},Lr().createElement("div",{className:"AttachMiniApp__cover"},Lr().createElement("img",{className:"AttachMiniApp__coverImage",src:s,alt:o.use("me_attaches_mini_app_alt")})),Lr().createElement("div",{className:"AttachMiniApp__fields"},Lr().createElement("h2",{className:"AttachMiniApp__fieldsTitle"},n),Lr().createElement("h3",{className:"AttachMiniApp__fieldsDescription"},o.use("me_attaches_mini_app_description"))))})),wu=({message:e,isInBubble:n,forwardLevel:t=0})=>{const r={isInBubble:n,background:"Foreign"!==e.kind&&e.isOut?"var(--im_bubble_outgoing)":"var(--im_bubble_incoming)"};return Lr().createElement("div",{className:"Attachments"},e.attaches.photos&&Lr().createElement(au,{photos:e.attaches.photos,isInBubble:n,forwardLevel:t}),e.attaches.videos&&Lr().createElement(ru,Object.assign({},r,{videos:e.attaches.videos,forwardLevel:t})),e.attaches.link&&Lr().createElement(xl,Object.assign({link:e.attaches.link},r)),e.attaches.market&&Lr().createElement(Sl,Object.assign({market:e.attaches.market},r)),e.attaches.story&&Lr().createElement(cu,Object.assign({story:e.attaches.story},r)),e.attaches.geo&&Lr().createElement(_u,Object.assign({message:e,geo:e.attaches.geo},r)),e.attaches.docs&&e.attaches.docs.map((e=>Lr().createElement(jl,Object.assign({key:e.id,doc:e},r)))),e.attaches.voice&&Lr().createElement(Ul,{message:e,voice:e.attaches.voice}),e.attaches.audios&&e.attaches.audios.map((n=>Lr().createElement(Zl,{message:e,audio:n,key:n.id}))),e.attaches.podcast&&Lr().createElement(gu,Object.assign({playlist:e.attaches.podcast},r)),e.attaches.audioPlaylist&&Lr().createElement(gu,Object.assign({playlist:e.attaches.audioPlaylist},r)),e.attaches.miniApps&&e.attaches.miniApps.map(((e,n)=>Lr().createElement(Bu,{key:n,miniApp:e}))),e.attaches.moneyRequest&&Lr().createElement(Cu,Object.assign({message:e,moneyTransfer:e.attaches.moneyRequest},r)),e.attaches.moneyTransfer&&Lr().createElement(Cu,Object.assign({message:e,moneyTransfer:e.attaches.moneyTransfer},r)))};var xu=l(71),Du={};Du.styleTagTransform=p(),Du.setAttributes=s(),Du.insert=i().bind(null,"head"),Du.domAPI=r(),Du.insertStyleElement=d(),n()(xu.Z,Du),xu.Z&&xu.Z.locals&&xu.Z.locals;var ku=l(5724),Su=l.n(ku);const Fu=({sticker:e})=>{const n=Lo(),t=(0,Ur.useAppearance)(),r=(0,jr.useRef)(null);(0,jr.useEffect)((()=>{if(!r.current||!e.animation)return;const n=r.current;var t=n.getBoundingClientRect();const o=t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth),i=Su().loadAnimation({container:n,autoplay:o,loop:2,renderer:"svg",path:e.animation.light}),a=()=>{i.isPaused&&(i.stop(),i.play())};return n.addEventListener("mouseenter",a),()=>{n.removeEventListener("mouseenter",a),i.destroy()}}),[e]);const o=n?e.image256:e.image128;return Lr().createElement("div",{ref:r,className:"AttachSticker"},!e.animation&&Lr().createElement("img",{className:"AttachSticker__static",src:"dark"===t?o.dark:o.light,alt:"TODO: Добавить описание стикера"}))};var Iu=l(8516),Mu={};Mu.styleTagTransform=p(),Mu.setAttributes=s(),Mu.insert=i().bind(null,"head"),Mu.domAPI=r(),Mu.insertStyleElement=d(),n()(Iu.Z,Mu),Iu.Z&&Iu.Z.locals&&Iu.Z.locals;var Tu=l(3669),Pu={};Pu.styleTagTransform=p(),Pu.setAttributes=s(),Pu.insert=i().bind(null,"head"),Pu.domAPI=r(),Pu.insertStyleElement=d(),n()(Tu.Z,Pu),Tu.Z&&Tu.Z.locals&&Tu.Z.locals;var zu=l(8049),Ou={};Ou.styleTagTransform=p(),Ou.setAttributes=s(),Ou.insert=i().bind(null,"head"),Ou.domAPI=r(),Ou.insertStyleElement=d(),n()(zu.Z,Ou),zu.Z&&zu.Z.locals&&zu.Z.locals;var Nu=l(8422),ju={};ju.styleTagTransform=p(),ju.setAttributes=s(),ju.insert=i().bind(null,"head"),ju.domAPI=r(),ju.insertStyleElement=d(),n()(Nu.Z,ju),Nu.Z&&Nu.Z.locals&&Nu.Z.locals;var Lu="0 0 16 16",Ru="user_add_16",Uu=!1;function Wu(){Uu||(Jr(new(Vr())({id:Ru,viewBox:Lu,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="user_add_16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z" /><path d="M12.5 5.5a2.5 2.5 0 10-4.999-.001A2.5 2.5 0 0012.5 5.5zM3.5 7h1.25a.75.75 0 010 1.5H3.5v1.25a.75.75 0 11-1.5 0V8.5H.75a.75.75 0 010-1.5H2V5.75a.75.75 0 011.5 0V7zM5 11.77C5 9.614 8.197 9 10 9s5 .615 5 2.77v.434c0 .44-.356.796-.796.796H5.796A.796.796 0 015 12.204v-.435z" fill="currentColor" /></g></symbol>'})),Uu=!0)}var Hu=function(e){return eo((function(){Wu()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Lu,id:Ru,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};Hu.mountIcon=Wu;const qu=Hu;var Zu="0 0 16 16",Vu="done_16",Yu=!1;function Gu(){Yu||(Jr(new(Vr())({id:Vu,viewBox:Zu,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="done_16"><path d="M13.743 3.756a.872.872 0 010 1.237l-7.317 7.25a.88.88 0 01-1.242 0L2.257 9.366a.872.872 0 010-1.237.88.88 0 011.242 0l2.306 2.261L12.5 3.756a.88.88 0 011.242 0z" fill="currentColor" /></symbol>'})),Yu=!0)}var $u=function(e){return eo((function(){Gu()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Zu,id:Vu,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};$u.mountIcon=Gu;const Xu=$u;var Qu="0 0 16 16",Ku="user_check_16",Ju=!1;function ed(){Ju||(Jr(new(Vr())({id:Ku,viewBox:Qu,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="user_check_16"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.78 5.72a.75.75 0 010 1.06l-3 3a.75.75 0 01-1.06 0l-1.5-1.5a.75.75 0 111.06-1.06l.97.97 2.47-2.47a.75.75 0 011.06 0z" fill="currentColor" /><path d="M12.5 5.5a2.5 2.5 0 10-4.999-.001A2.5 2.5 0 0012.5 5.5zM10 9c1.803 0 5 .615 5 2.77v.434c0 .44-.356.796-.796.796H5.796A.796.796 0 015 12.204v-.435C5 9.615 8.197 9 10 9z" fill="currentColor" /></symbol>'})),Ju=!0)}var nd=function(e){return eo((function(){ed()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Qu,id:Ku,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};nd.mountIcon=ed;const td=nd;var rd="0 0 16 16",od="phone_16",id=!1;function ad(){id||(Jr(new(Vr())({id:od,viewBox:rd,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="phone_16"><path d="M5.443 2.64l.575.684c.796.943.713 2.365-.19 3.268l-.49.49a.475.475 0 00-.11.499c.179.487.634 1.096 1.364 1.827.732.731 1.34 1.185 1.827 1.364.174.064.369.02.5-.11l.489-.49c.903-.902 2.324-.985 3.269-.19l.683.574c.779.656.858 1.839.175 2.64-.372.431-.896.702-1.463.756-2.182.294-4.471-.758-6.868-3.155-2.398-2.398-3.45-4.688-3.156-6.87a2.213 2.213 0 01.756-1.464c.802-.68 1.984-.602 2.64.178z" fill="currentColor" /></symbol>'})),id=!0)}var sd=function(e){return eo((function(){ad()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:rd,id:od,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};sd.mountIcon=ad;const cd=sd;var ld="0 0 20 20",ud="phone_outline_20",dd=!1;function Ad(){dd||(Jr(new(Vr())({id:ud,viewBox:ld,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="phone_outline_20"><g fill="none" fill-rule="evenodd"><path opacity=".1" d="M0 0h20v20H0z" /><path d="M7.78 2.7l.7.833c1.373 1.628 1.229 4.054-.299 5.582l-.297.296c.226.38.633.878 1.23 1.475.53.53.984.912 1.344 1.149l.13.082.298-.297c1.526-1.527 3.95-1.672 5.58-.302l.833.702c1.46 1.229 1.602 3.419.346 4.894a3.859 3.859 0 01-2.29 1.289l-.506.06c-3.005.292-6.037-1.16-9.094-4.217-3.056-3.056-4.51-6.09-4.226-9.025l.06-.515a3.834 3.834 0 011.3-2.354l.168-.135c1.462-1.107 3.54-.924 4.723.484zm-3.911.788c-.321.276-.562.633-.698 1.033a2.37 2.37 0 00-.115.552c-.343 2.548.898 5.25 3.76 8.112 2.86 2.862 5.562 4.103 8.123 3.758a2.376 2.376 0 001.571-.81c.719-.844.636-2.082-.177-2.766l-.833-.701-.142-.112c-1.02-.739-2.471-.614-3.411.326l-.597.598-.088.076a.903.903 0 01-.862.133c-.648-.238-1.425-.818-2.346-1.74-.923-.923-1.503-1.7-1.74-2.347a.903.903 0 01.209-.95l.598-.597.129-.137c.862-.987.906-2.44.084-3.416l-.702-.834-.112-.122c-.7-.697-1.853-.735-2.651-.056z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),dd=!0)}var pd=function(e){return eo((function(){Ad()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:ld,id:ud,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};pd.mountIcon=Ad;const hd=pd;var md="0 0 20 20",fd="videocam_outline_20",gd=!1;function Cd(){gd||(Jr(new(Vr())({id:fd,viewBox:md,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="videocam_outline_20"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.96 13.705c-.035.385-.103.676-.233.93a2.5 2.5 0 01-1.092 1.092C12.1 16 11.4 16 10 16H5c-1.4 0-2.1 0-2.635-.273a2.5 2.5 0 01-1.093-1.092C1 14.1 1 13.4 1 12V8c0-1.4 0-2.1.272-2.635a2.5 2.5 0 011.093-1.093C2.9 4 3.6 4 5 4h5c1.4 0 2.1 0 2.635.272a2.5 2.5 0 011.092 1.093c.13.254.198.545.233.93l1.3-.742c1.666-.953 3.74.25 3.74 2.17v4.554c0 1.92-2.074 3.123-3.74 2.17l-1.3-.742zM5 5.5h5c.725 0 1.178.001 1.52.03.324.026.413.068.434.079a1 1 0 01.437.437c.01.02.053.11.08.434.028.342.029.795.029 1.52v4c0 .725-.001 1.178-.03 1.52-.026.324-.069.413-.079.434a1 1 0 01-.437.437c-.02.01-.11.053-.434.08-.342.028-.795.029-1.52.029H5c-.725 0-1.178-.001-1.52-.03-.324-.026-.413-.069-.434-.079a1 1 0 01-.437-.437c-.01-.02-.053-.11-.08-.434-.028-.342-.029-.795-.029-1.52V8c0-.725.001-1.178.03-1.52.026-.324.068-.413.079-.434a1 1 0 01.437-.437c.02-.01.11-.053.434-.08.342-.028.795-.029 1.52-.029zm9 6.5l2.004 1.145a1 1 0 001.496-.868V7.723a1 1 0 00-1.496-.868L14 8m0 0v4-4z" fill="currentColor" /></symbol>'})),gd=!0)}var vd=function(e){return eo((function(){Cd()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:md,id:fd,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};vd.mountIcon=Cd;const Ed=vd,_d=({user:e,onWrite:n,onCall:t,onChangeFriendship:r})=>{const{lang:o}=$o(),[i,a]=(0,jr.useState)(!1),s=xo(i,200),c={unfamiliar:{icon:Lr().createElement(qu,{className:"PeerInfoActions__buttonIcon"}),text:e.canChangeFriendship?o.use("me_add_to_friends"):o.use("me_user_friendship_subscribe"),action:"add",mode:"primary"},incomingRequest:{icon:Lr().createElement(qu,{className:"PeerInfoActions__buttonIcon"}),text:o.use("me_friend_request_confirm"),action:"add",mode:"secondary"},outgoingRequest:{icon:Lr().createElement(Xu,{className:"PeerInfoActions__buttonIcon"}),text:e.canChangeFriendship?o.use("me_friend_request_sent"):o.use("me_user_friendship_unsubscribe"),action:"delete",mode:"secondary"},friends:{icon:Lr().createElement(td,{className:"PeerInfoActions__buttonIcon"}),text:o.use("me_in_your_friends"),action:"delete",mode:"secondary"}}[e.friendship],l=(0,jr.useMemo)((()=>"incomingRequest"===e.friendship),[]);return Lr().createElement("div",{className:"PeerInfoActions"},n&&Lr().createElement(Ur.Button,{mode:"primary",onClick:()=>n(e.id)},o.use("me_write_private_message")),t&&Lr().createElement(Lr().Fragment,null,Lr().createElement(Ur.Button,{className:fo()({"PeerInfoActions__button--icon":!n}),mode:"primary",onClick:()=>t(e.id,!1),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1)},n?Lr().createElement(cd,{className:"PeerInfoActions__buttonIcon"}):o.use("me_start_call")),Lr().createElement("div",{className:fo()("PeerInfoActions__callDropdown",{"PeerInfoActions__callDropdown--visible":s}),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1)},Lr().createElement("div",{className:"PeerInfoActions__callDropdownList"},Lr().createElement("button",{className:"PeerInfoActions__callDropdownAction",onClick:()=>t(e.id,!1)},Lr().createElement(hd,{className:"PeerInfoActions__callDropdownIcon"}),Lr().createElement(Ur.Text,{className:"PeerInfoActions__callDropdownText",weight:"regular"},o.use("me_audio_call"))),Lr().createElement("button",{className:"PeerInfoActions__callDropdownAction",onClick:()=>t(e.id,!0)},Lr().createElement(Ed,{className:"PeerInfoActions__callDropdownIcon"}),Lr().createElement(Ur.Text,{className:"PeerInfoActions__callDropdownText",weight:"regular"},o.use("me_video_call")))))),r&&(!n&&!t||l?Lr().createElement(Ur.Button,{mode:c.mode,onClick:()=>r(e.id,c.action)},c.text):Lr().createElement(hi,{content:c.text,position:"top",align:"center"},Lr().createElement(Ur.Button,{mode:c.mode,onClick:()=>r(e.id,c.action)},c.icon))))},bd=({group:e,onWrite:n,onChangeMembership:t})=>{const{lang:r}=$o(),o={notMember:"join",member:"leave",unsure:"leave",declined:"join",outgoingRequest:"leave",incomingRequest:"join"}[e.membership],i={event_notMember:r.use("me_group_membership_event_join"),event_member:r.use("me_group_membership_event_leave"),event_unsure:r.use("me_group_membership_event_leave"),event_declined:r.use("me_group_membership_event_join"),event_incomingRequest:r.use("me_group_membership_incoming_request"),event_outgoingRequest:r.use("me_group_membership_outgoing_request"),group_notMember:r.use("me_group_membership_group_join"),group_member:r.use("me_group_membership_group_leave"),group_unsure:"",group_declined:r.use("me_group_membership_group_join"),group_incomingRequest:r.use("me_group_membership_incoming_request"),group_outgoingRequest:r.use("me_group_membership_outgoing_request"),page_notMember:r.use("me_group_membership_page_join"),page_member:r.use("me_group_membership_page_leave"),page_unsure:"",page_declined:"",page_incomingRequest:r.use("me_group_membership_incoming_request"),page_outgoingRequest:""}[`${e.type}_${e.membership}`],a={notMember:"primary",declined:"primary",incomingRequest:"secondary",member:"secondary",unsure:"secondary",outgoingRequest:"secondary"}[e.membership];return Lr().createElement("div",{className:"PeerInfoActions"},t&&Lr().createElement(Ur.Button,{mode:a,onClick:()=>t(e.id,o)},i),n&&Lr().createElement(Ur.Button,{mode:"primary",onClick:()=>n(e.id)},r.use("me_write_private_message")))},yd=Lr().memo((function({className:e,user:n}){const{lang:t}=$o(),r=Do(n.id),o=Ro(6e5);if(r)return Lr().createElement("span",{className:e},t.use("global_online",{sex:n.sex}));if(!n.lastSeen.at)return null;if(n.lastSeen.isVisible)return Lr().createElement("span",{className:e},t.formatDate(n.lastSeen.at,{now:o,variant:"time-ago"}));const i=o-n.lastSeen.at;let a;switch(!0){case i<864e5:a="global_online_was_recently";break;case i<6048e5:a="global_online_was_week";break;case i<24192e5:a="global_online_this_month";break;default:a="global_online_long_ago"}return Lr().createElement("span",{className:e},t.use(a,{sex:n.sex}))})),Bd=({peer:e,mutualFriends:n,convoId:t,onConvoOpen:r,onTerminate:o})=>{const i=Fo(),a=Vo(),{calls:s,lang:c}=$o(),l=(0,jr.useCallback)((e=>{r(e),o()}),[r,o]),u=(0,jr.useCallback)(((e,n)=>{i({type:"UserChangedFriendship",userId:e,change:n})}),[i]),d=(0,jr.useCallback)(((e,n)=>{i({type:"UserChangedGroupMembership",groupId:e,change:n})}),[i]),A=e.id===t;return Lr().createElement("div",{className:"PeerInfo"},Lr().createElement(gi,{href:Pe(e),className:"PeerInfo__avatar",target:"_blank"},e.photo100?Lr().createElement(Ur.Avatar,{src:e.photo100,size:72}):Lr().createElement(sa,{peer:e,size:72})),Lr().createElement("div",{className:"PeerInfo__content"},Lr().createElement("div",{className:"PeerInfo__title"},Lr().createElement(gi,{href:Pe(e),className:"PeerInfo__link",target:"_blank"},Lr().createElement(Ur.Text,{className:"PeerInfo__name",weight:"medium"},Me(e))),e.isVerified&&Lr().createElement(fa,{className:"PeerInfo__verified"})),"User"===e.kind&&Lr().createElement(Lr().Fragment,null,Lr().createElement(yd,{className:"PeerInfo__status",user:e}),n.count>0&&Lr().createElement("div",{className:"PeerInfo__mutual"},Lr().createElement(Ur.UsersStack,{photos:n.hint.map((e=>(null==e?void 0:e.photo50)||""))},c.use("me_n_common_friends",{num:n.count}))),!e.canChangeFriendship&&e.followersCount>0&&Lr().createElement("div",{className:"PeerInfo__followers"},Lr().createElement(Ur.Subhead,{Component:"span",weight:"regular"},c.use("me_n_followers",{num:e.followersCount}))),a.id!==e.id&&!e.isDeactivated&&!e.isBlacklistedByMe&&!e.isBlacklisted&&Lr().createElement("div",{className:"PeerInfo__actions"},Lr().createElement(_d,{user:e,onWrite:!A&&e.canMessage?l:void 0,onCall:s&&!A&&e.canCall?s.callPeer:void 0,onChangeFriendship:u}))),"Group"===e.kind&&Lr().createElement(Lr().Fragment,null,e.activity&&Lr().createElement("div",{className:"PeerInfo__status"},e.activity),e.memberCount>0&&Lr().createElement("div",{className:n.count>0?"PeerInfo__mutual":"PeerInfo__followers"},n.count>0&&Lr().createElement(Ur.UsersStack,{photos:n.hint.map((e=>(null==e?void 0:e.photo50)||""))},c.use("me_n_community_common_friends",{num:n.count})," · "),Lr().createElement("div",null,Lr().createElement(Ur.Subhead,{Component:"span",weight:"regular"},c.use("me_group_members_count",{num:e.memberCount})))),Lr().createElement("div",{className:"PeerInfo__actions"},Lr().createElement(bd,{group:e,onChangeMembership:e.canChangeMembership?d:void 0,onWrite:!A&&e.canMessage?l:void 0})))))};function wd(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,Ka(e,n)}function xd(e,n){return e.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Dd=Lr().createContext(null);var kd="unmounted",Sd="exited",Fd="entering",Id="entered",Md="exiting",Td=function(e){function n(n,t){var r;r=e.call(this,n,t)||this;var o,i=t&&!t.isMounting?n.enter:n.appear;return r.appearStatus=null,n.in?i?(o=Sd,r.appearStatus=Fd):o=Id:o=n.unmountOnExit||n.mountOnEnter?kd:Sd,r.state={status:o},r.nextCallback=null,r}wd(n,e),n.getDerivedStateFromProps=function(e,n){return e.in&&n.status===kd?{status:Sd}:null};var t=n.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(e){var n=null;if(e!==this.props){var t=this.state.status;this.props.in?t!==Fd&&t!==Id&&(n=Fd):t!==Fd&&t!==Id||(n=Md)}this.updateStatus(!1,n)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var e,n,t,r=this.props.timeout;return e=n=t=r,null!=r&&"number"!=typeof r&&(e=r.exit,n=r.enter,t=void 0!==r.appear?r.appear:n),{exit:e,enter:n,appear:t}},t.updateStatus=function(e,n){void 0===e&&(e=!1),null!==n?(this.cancelNextCallback(),n===Fd?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Sd&&this.setState({status:kd})},t.performEnter=function(e){var n=this,t=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[ui().findDOMNode(this),r],i=o[0],a=o[1],s=this.getTimeouts(),c=r?s.appear:s.enter;e||t?(this.props.onEnter(i,a),this.safeSetState({status:Fd},(function(){n.props.onEntering(i,a),n.onTransitionEnd(c,(function(){n.safeSetState({status:Id},(function(){n.props.onEntered(i,a)}))}))}))):this.safeSetState({status:Id},(function(){n.props.onEntered(i)}))},t.performExit=function(){var e=this,n=this.props.exit,t=this.getTimeouts(),r=this.props.nodeRef?void 0:ui().findDOMNode(this);n?(this.props.onExit(r),this.safeSetState({status:Md},(function(){e.props.onExiting(r),e.onTransitionEnd(t.exit,(function(){e.safeSetState({status:Sd},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Sd},(function(){e.props.onExited(r)}))},t.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(e,n){n=this.setNextCallback(n),this.setState(e,n)},t.setNextCallback=function(e){var n=this,t=!0;return this.nextCallback=function(r){t&&(t=!1,n.nextCallback=null,e(r))},this.nextCallback.cancel=function(){t=!1},this.nextCallback},t.onTransitionEnd=function(e,n){this.setNextCallback(n);var t=this.props.nodeRef?this.props.nodeRef.current:ui().findDOMNode(this),r=null==e&&!this.props.addEndListener;if(t&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[t,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},t.render=function(){var e=this.state.status;if(e===kd)return null;var n=this.props,t=n.children,r=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,os(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return Lr().createElement(Dd.Provider,{value:null},"function"==typeof t?t(e,r):Lr().cloneElement(Lr().Children.only(t),r))},n}(Lr().Component);function Pd(){}Td.contextType=Dd,Td.propTypes={},Td.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Pd,onEntering:Pd,onEntered:Pd,onExit:Pd,onExiting:Pd,onExited:Pd},Td.UNMOUNTED=kd,Td.EXITED=Sd,Td.ENTERING=Fd,Td.ENTERED=Id,Td.EXITING=Md;const zd=Td;var Od=function(e,n){return e&&n&&n.split(" ").forEach((function(n){return r=n,void((t=e).classList?t.classList.remove(r):"string"==typeof t.className?t.className=xd(t.className,r):t.setAttribute("class",xd(t.className&&t.className.baseVal||"",r)));var t,r}))},Nd=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(e,t){var r=n.resolveArguments(e,t),o=r[0],i=r[1];n.removeClasses(o,"exit"),n.addClass(o,i?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(e,t)},n.onEntering=function(e,t){var r=n.resolveArguments(e,t),o=r[0],i=r[1]?"appear":"enter";n.addClass(o,i,"active"),n.props.onEntering&&n.props.onEntering(e,t)},n.onEntered=function(e,t){var r=n.resolveArguments(e,t),o=r[0],i=r[1]?"appear":"enter";n.removeClasses(o,i),n.addClass(o,i,"done"),n.props.onEntered&&n.props.onEntered(e,t)},n.onExit=function(e){var t=n.resolveArguments(e)[0];n.removeClasses(t,"appear"),n.removeClasses(t,"enter"),n.addClass(t,"exit","base"),n.props.onExit&&n.props.onExit(e)},n.onExiting=function(e){var t=n.resolveArguments(e)[0];n.addClass(t,"exit","active"),n.props.onExiting&&n.props.onExiting(e)},n.onExited=function(e){var t=n.resolveArguments(e)[0];n.removeClasses(t,"exit"),n.addClass(t,"exit","done"),n.props.onExited&&n.props.onExited(e)},n.resolveArguments=function(e,t){return n.props.nodeRef?[n.props.nodeRef.current,e]:[e,t]},n.getClassNames=function(e){var t=n.props.classNames,r="string"==typeof t,o=r?(r&&t?t+"-":"")+e:t[e];return{baseClassName:o,activeClassName:r?o+"-active":t[e+"Active"],doneClassName:r?o+"-done":t[e+"Done"]}},n}wd(n,e);var t=n.prototype;return t.addClass=function(e,n,t){var r=this.getClassNames(n)[t+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===n&&"done"===t&&o&&(r+=" "+o),"active"===t&&e&&e.scrollTop,r&&(this.appliedClasses[n][t]=r,function(e,n){e&&n&&n.split(" ").forEach((function(n){return r=n,void((t=e).classList?t.classList.add(r):function(e,n){return e.classList?!!n&&e.classList.contains(n):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+n+" ")}(t,r)||("string"==typeof t.className?t.className=t.className+" "+r:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+r)));var t,r}))}(e,r))},t.removeClasses=function(e,n){var t=this.appliedClasses[n],r=t.base,o=t.active,i=t.done;this.appliedClasses[n]={},r&&Od(e,r),o&&Od(e,o),i&&Od(e,i)},t.render=function(){var e=this.props,n=(e.classNames,os(e,["classNames"]));return Lr().createElement(zd,qa({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(Lr().Component);Nd.defaultProps={classNames:""},Nd.propTypes={};const jd=Nd;function Ld(e){const n=Vo(),t=Uo(),{api:r}=$o(),o=oi(),i=(0,jr.useRef)(!1);return(0,jr.useEffect)((()=>{if(e&&void 0===e.mutualFriends&&!i.current)switch(i.current=!0,e.kind){case"User":r.fetch("friends.getMutual",{source_uid:n.id,target_uid:e.id,order:"random"}).then((n=>{const i=Rd(n.map(De),t);if(0!==n.length&&3!==i.length)return r.fetch("users.get",{user_ids:n.slice(3).join(",")}).then((t=>{o({profiles:t,mutualFriends:{peerId:e.id,hint:n,count:n.length}})}));o({mutualFriends:{peerId:e.id,hint:n,count:n.length}})})).catch((()=>{})).finally((()=>i.current=!1));break;case"Group":r.fetch("groups.getMembers",{group_id:(-e.id).toString(),filter:"friends",count:3}).then((n=>{o({profiles:n.items,mutualFriends:{peerId:e.id,hint:n.items.map((e=>e.id)),count:n.count}})})).catch((()=>{})).finally((()=>i.current=!1));break;default:Ee()}}),[e,t,n.id,r,o]),(null==e?void 0:e.mutualFriends)&&{hint:Rd(e.mutualFriends.hint,t),count:e.mutualFriends.count}}function Rd(e,n){return(e||[]).reduce(((e,t)=>{const r=n.get(t);return r&&"User"===r.kind&&e.push(r),e}),[])}const Ud=({peerId:e,convoId:n,children:t})=>{const[r,o]=(0,jr.useState)("closed"),i=(0,jr.useRef)(null),a=function(e){const n=Uo(),{api:t}=$o(),r=oi(),o=e&&n.get(e);if((0,jr.useEffect)((()=>{!o&&e&&(Se(e)&&t.fetch("users.get",{user_ids:e.toString()},{retries:2}).then((e=>{r({profiles:e})})),Ie(e)&&t.fetch("groups.getById",{group_ids:(-e).toString()},{retries:2}).then((e=>{r({groups:e.groups})})))}),[t,r,o,e]),"User"===(null==o?void 0:o.kind)||"Group"===(null==o?void 0:o.kind))return o}("closed"!==r?e:void 0),s=Ld("closed"!==r?a:void 0),c=()=>{o((e=>"closing"===e?"opened":"opening"))},l=(0,jr.useCallback)((()=>{o((e=>"opening"===e?"closed":"closing"))}),[]),u=(0,jr.useCallback)((()=>{o("opened")}),[]),d=(0,jr.useCallback)((()=>{o("closed")}),[]),A=(0,jr.useCallback)((e=>{console.info("handleConvoOpen",e)}),[]);return a&&s?Lr().createElement(pi,{open:"closed"!==r,position:"auto",align:"auto",portalClassName:"vkui__root MEConfig",content:Lr().createElement(jd,{nodeRef:i,in:"opening"===r||"opened"===r,addEndListener:e=>{var n;return null===(n=i.current)||void 0===n?void 0:n.addEventListener("transitionend",e,!1)},mountOnEnter:!0,unmountOnExit:!0,appear:!0,classNames:"PeerInfoPopper__popper-",onEntered:u,onExited:d},Lr().createElement("div",{ref:i,className:"PeerInfoPopper__popper",onMouseEnter:c,onMouseLeave:l},Lr().createElement(Bd,{peer:a,mutualFriends:s,convoId:n,onTerminate:d,onConvoOpen:A})))},Lr().createElement("span",{className:"PeerInfoPopper",onMouseEnter:c,onMouseLeave:l},t)):Lr().createElement("span",{className:"PeerInfoPopper",onMouseEnter:c,onMouseLeave:l},t)},Wd=({message:e,isCompact:n=!1,className:t})=>Lr().createElement("span",{className:fo()("MessageText",t)},e.chunks.map(((t,r)=>{switch(t.kind){case"Text":return Lr().createElement(Lr().Fragment,{key:r},t.text);case"Mention":{const o=Lr().createElement(Hd,{key:r,url:`/${t.screenName}`,displayName:"@"+t.screenName});return"Foreign"===e.kind||n?o:Lr().createElement(Ud,{key:r,peerId:t.peerId,convoId:e.peerId},o)}case"NamedMention":const o=Lr().createElement(Hd,{key:r,url:`/${t.type}${t.peerId}`,displayName:t.displayName});return"Foreign"===e.kind||n?o:Lr().createElement(Ud,{key:r,peerId:t.peerId,convoId:e.peerId},o);case"AliasMention":return Lr().createElement(Hd,{key:r,url:`/${t.screenName}`,displayName:t.displayName});case"ClientMention":return Lr().createElement(Hd,{key:r,displayName:"@"+t.screenName});case"MassMention":return Lr().createElement(Hd,{key:r,displayName:t.displayName});case"Email":return Lr().createElement(gi,{key:r,href:`mailto:${t.email}`,target:"_blank",rel:"noreferrer",className:"MessageText__link",onClick:()=>{}},t.email);case"Url":return Lr().createElement(gi,{key:r,href:t.href,target:"_blank",className:"MessageText__link",onClick:()=>{}},t.caption);case"Hashtag":return Lr().createElement(Lr().Fragment,{key:r},e.peerId?Lr().createElement(gi,{className:"MessageText__link",href:`/im?sel=${e.peerId}&st=${encodeURIComponent(t.tag)}`},t.tag):t.tag);case"LineBreak":return Lr().createElement("br",{key:r});default:return Ee()}}))),Hd=({url:e,displayName:n})=>e?Lr().createElement(gi,{href:e,className:"MessageText__link",target:"_blank",onClick:()=>{}},n):Lr().createElement("span",{className:"MessageText__pseudoLink"},n);var qd=l(2019),Zd={};Zd.styleTagTransform=p(),Zd.setAttributes=s(),Zd.insert=i().bind(null,"head"),Zd.domAPI=r(),Zd.insertStyleElement=d(),n()(qd.Z,Zd),qd.Z&&qd.Z.locals&&qd.Z.locals;var Vd=l(4998),Yd={};Yd.styleTagTransform=p(),Yd.setAttributes=s(),Yd.insert=i().bind(null,"head"),Yd.domAPI=r(),Yd.insertStyleElement=d(),n()(Vd.Z,Yd),Vd.Z&&Vd.Z.locals&&Vd.Z.locals;var Gd="0 0 16 16",$d="palette_outline_16",Xd=!1;function Qd(){Xd||(Jr(new(Vr())({id:$d,viewBox:Gd,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="palette_outline_16"><path d="M8 1a7.008 7.008 0 016.915 5.908c.323 2.65-1.796 4.507-4.003 4.507h-.59c-.593.005-.825.027-.981.087-.081.031-.23.154-.09.39l.207.358c.115.213.218.446.322.737C10.116 13.933 9.262 15 8 15c-3.72 0-7-3.203-7-7a7 7 0 017-7zm0 1.5A5.5 5.5 0 002.5 8c0 2.96 2.6 5.5 5.5 5.5.27 0 .256-.189.166-.418a3.714 3.714 0 00-.235-.478 1.936 1.936 0 01-.225-.715c-.096-.764.391-1.517 1.1-1.788.308-.118.572-.163 1.092-.179l.387-.006h.627c1.383 0 2.716-1.17 2.518-2.798A5.502 5.502 0 008 2.5zM4.313 6.667a1 1 0 110 2 1 1 0 010-2zm7.334 0a1 1 0 110 2 1 1 0 010-2zM6.313 4a1 1 0 110 2 1 1 0 010-2zm3.334 0a1 1 0 110 2 1 1 0 010-2z" fill="currentColor" /></symbol>'})),Xd=!0)}var Kd=function(e){return eo((function(){Qd()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Gd,id:$d,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};Kd.mountIcon=Qd;const Jd=Kd;var eA="0 0 16 16",nA="gift_16",tA=!1;function rA(){tA||(Jr(new(Vr())({id:nA,viewBox:eA,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="gift_16"><path d="M7.5 9.438v4H5.423c-.669 0-.911-.07-1.156-.2a1.363 1.363 0 01-.567-.567c-.13-.244-.2-.487-.2-1.156V9.438zm5 0v2.077c0 .67-.07.911-.2 1.156-.131.244-.323.436-.567.567-.223.119-.443.187-.984.199l-.172.001H8.5v-4zm-5-4v3H3.461c-.334 0-.455-.034-.577-.1a.682.682 0 01-.284-.283c-.065-.123-.1-.244-.1-.578v-.615c0-.343.058-.58.167-.784.109-.204.269-.364.472-.473.204-.109.442-.167.784-.167zm4.577 0c.342 0 .58.058.783.167s.364.27.473.473c.09.17.146.363.162.62l.005.164v.615c0 .334-.035.455-.1.578a.681.681 0 01-.284.283c-.104.056-.209.09-.447.098l-.13.002H8.5v-3zM8 5.07l.001-.119C8.124 1.661 10.45.888 11.5 1.938c1.1 1.1.2 3.6-3.5 3.5-3.7.1-4.6-2.4-3.5-3.5C5.563.876 7.931 1.68 8.001 5.07z" fill="currentColor" /></symbol>'})),tA=!0)}var oA=function(e){return eo((function(){rA()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:eA,id:nA,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};oA.mountIcon=rA;const iA=oA,aA=176,sA=({message:e,gift:n})=>{const t=bt(n,Lo()&&"undefined"!=typeof window?aA*(window.devicePixelRatio||1):aA);return t?Lr().createElement("div",{className:"AttachGift"},Lr().createElement(gi,{href:gn(e),payload:n,className:"AttachGift__image"},Lr().createElement("img",{src:t.url,width:aA,height:aA,alt:""})),Lr().createElement("div",{className:fo()("AttachGift__title",{"AttachGift__title--withMessage":e.chunks.length})},n.isStickerStyle?Lr().createElement(Jd,{className:"AttachGift__titleIcon"}):Lr().createElement(iA,{className:"AttachGift__titleIcon"}),Lr().createElement(Gc,{attach:n}))):null},cA=({messageId:e,peerId:n,message:t,level:r=1})=>{const{lang:o}=$o(),i=je(Uo(),t.authorId),a=!t.attaches.sticker&&!t.attaches.gift&&Object.keys(t.attaches).length>0,s=()=>{},c=`/im?sel=${n}&msgid=${e}`,l=0===t.chunks.length&&!Object.keys(t.attaches).find((e=>"unknown"!==e))&&!t.forwardedMessages;return Lr().createElement("div",{className:"ForwardedMessage"},Lr().createElement("header",{className:"ForwardedMessage__header"},Lr().createElement("div",{className:"ForwardedMessage__avatar"},Lr().createElement(gi,{href:Pe(i),target:"_blank",rel:"noreferrer",onClick:s},Lr().createElement(ca,{peer:i,size:32}))),Lr().createElement("div",{className:"ForwardedMessage__titleLink"},("User"===i.kind||"Group"===i.kind)&&Lr().createElement(gi,{href:Pe(i),className:"ForwardedMessage__link",target:"_blank",rel:"noreferrer",onClick:s},Me(i))),Lr().createElement("div",{className:"ForwardedMessage__date"},Lr().createElement(su,{timestamp:t.sentAt,variant:"datetime"}))),t.attaches.gift&&Lr().createElement(sA,{message:t,gift:t.attaches.gift}),Lr().createElement(Wd,{message:t,className:"ForwardedMessage__text"}),t.attaches.wall&&Lr().createElement(gi,{href:yt(t.attaches.wall),className:"ForwardedMessage__link"},Lr().createElement(Gc,{attach:t.attaches.wall})),t.attaches.poll&&Lr().createElement(gi,{href:yt(t.attaches.poll),payload:t.attaches.poll,className:"ForwardedMessage__link"},Lr().createElement(Gc,{attach:t.attaches.poll})),t.attaches.sticker&&Lr().createElement(Fu,{sticker:t.attaches.sticker}),a&&Lr().createElement("div",{className:"ForwardedMessage__attachments"},Lr().createElement(wu,{message:t,isInBubble:!0,forwardLevel:r})),t.forwardedMessages&&t.forwardedMessages.length>0&&(r+1<5?t.forwardedMessages.map(((t,o)=>Lr().createElement(cA,{messageId:e,peerId:n,message:t,key:o,level:r+1}))):Lr().createElement("div",null,Lr().createElement(gi,{href:c,className:"ForwardedMessage__link"},o.use("me_forwarded_messages",{num:t.forwardedMessages.length})))),t.replyMessage&&(r+1<5?Lr().createElement(cA,{messageId:e,peerId:n,message:t.replyMessage,level:r+1}):Lr().createElement("div",null,Lr().createElement(gi,{href:c,className:"ForwardedMessage__link"},o.use("me_with_reply")))),l&&Lr().createElement("span",{className:"ForwardedMessage__empty"},o.use("me_empty_message")))};var lA=l(1019),uA={};uA.styleTagTransform=p(),uA.setAttributes=s(),uA.insert=i().bind(null,"head"),uA.domAPI=r(),uA.insertStyleElement=d(),n()(lA.Z,uA),lA.Z&&lA.Z.locals&&lA.Z.locals;const dA=({activeCall:e,isCompact:n=!1})=>{const t=Uo(),{lang:r,calls:o}=$o(),i=e.participants.coverList.map((e=>{var n;return(null===(n=t.get(e))||void 0===n?void 0:n.photo50)||""})).filter((e=>!!e));return n?Lr().createElement("div",{className:"AttachActiveCall AttachActiveCall--compact"},Lr().createElement("div",{className:"AttachActiveCall__info"},Lr().createElement("div",{className:"AttachActiveCall__title"},r.use("me_group_call")),Lr().createElement("div",{className:"AttachActiveCall__infoWrapper"},i.length>0&&Lr().createElement(Ur.UsersStack,{photos:i,className:"AttachActiveCall__userList"}),Lr().createElement("div",{className:"AttachActiveCall__description"},e.participants.count>0?r.use("me_group_call_participant_count",{num:e.participants.count}):r.use("me_group_call_participant_count_none")))),o&&e.joinLink&&Lr().createElement(Ur.Button,{className:"AttachActiveCall__join",mode:"outline",size:"s",stretched:!0,onClick:()=>o.joinCall(e.joinLink||"")},r.use("me_group_call_join"))):Lr().createElement("div",{className:"AttachActiveCall AttachActiveCall--full"},Lr().createElement("div",{className:"AttachActiveCall__info"},i.length>0&&Lr().createElement(Ur.UsersStack,{photos:i,className:"AttachActiveCall__userList"}),Lr().createElement("div",{className:"AttachActiveCall__infoWrapper"},Lr().createElement("div",{className:"AttachActiveCall__title"},r.use("me_group_call")),Lr().createElement("div",{className:"AttachActiveCall__description"},e.participants.count>0?r.use("me_group_call_participant_count",{num:e.participants.count}):r.use("me_group_call_participant_count_none")))),o&&e.joinLink&&Lr().createElement(Ur.Button,{className:"AttachActiveCall__join",mode:"outline",onClick:()=>o.joinCall(e.joinLink||"")},r.use("me_group_call_join")))};var AA=l(9263),pA={};pA.styleTagTransform=p(),pA.setAttributes=s(),pA.insert=i().bind(null,"head"),pA.domAPI=r(),pA.insertStyleElement=d(),n()(AA.Z,pA),AA.Z&&AA.Z.locals&&AA.Z.locals;const hA=({message:e,wall:n})=>{const{lang:t}=$o(),r=je(Uo(),n.ownerId),o=Se(n.ownerId),i={isInBubble:!0,background:"var(--im_bubble_incoming)"};return Lr().createElement(Lr().Fragment,null,Lr().createElement("div",{className:fo()("AttachWall__info",{"AttachWall__info--with-message":e.chunks.length})},o?t.use("me_fc_wall_post_user"):t.use("me_fc_wall_post_group")),Lr().createElement("div",{className:"AttachWall"},Lr().createElement("header",{className:"AttachWall__header"},Lr().createElement("div",{className:"AttachWall__avatar"},Lr().createElement(gi,{href:Pe(r),target:"_blank"},Lr().createElement(ca,{peer:r,size:32}))),Lr().createElement("div",{className:"AttachWall__titleLink"},("User"===r.kind||"Group"===r.kind)&&Lr().createElement(gi,{href:Pe(r),className:"AttachWall__link",target:"_blank"},Me(r))),Lr().createElement("div",{className:"AttachWall__date"},Lr().createElement(su,{timestamp:n.date,variant:"datetime"}))),Lr().createElement("span",{className:"AttachWall__message"},n.chunks.map(((e,n)=>{switch(e.kind){case"Text":return Lr().createElement(Lr().Fragment,{key:n},e.text);case"Mention":return Lr().createElement(mA,{key:n,url:`/${e.screenName}`,displayName:"@"+e.screenName});case"NamedMention":return Lr().createElement(mA,{key:n,url:`/${e.type}${e.peerId}`,displayName:e.displayName});case"AliasMention":return Lr().createElement(mA,{key:n,url:`/${e.screenName}`,displayName:e.displayName});case"ClientMention":return Lr().createElement(mA,{key:n,displayName:"@"+e.screenName});case"MassMention":return Lr().createElement(Lr().Fragment,{key:n},e.displayName);case"Email":return Lr().createElement(gi,{key:n,href:`mailto:${e.email}`,target:"_blank",rel:"noreferrer",className:"AttachWall__link AttachWall__link--text",onClick:()=>{}},e.email);case"Url":return Lr().createElement(gi,{key:n,href:e.href,target:"_blank",className:"AttachWall__link AttachWall__link--text",onClick:()=>{}},e.caption);case"Hashtag":return Lr().createElement(Lr().Fragment,{key:n},r.id?Lr().createElement(gi,{className:"AttachWall__link AttachWall__link--text",href:`/wall-${Math.abs(r.id)}?q=${encodeURIComponent(e.tag)}`},e.tag):e.tag);case"LineBreak":return Lr().createElement("br",{key:n});default:return Ee()}}))),Lr().createElement("div",{className:"AttachWall__attaches"},n.attaches.photos&&Lr().createElement(au,{forwardLevel:1,photos:n.attaches.photos,isInBubble:!0}),n.attaches.videos&&Lr().createElement(ru,Object.assign({forwardLevel:1,videos:n.attaches.videos},i)),n.attaches.link&&Lr().createElement(xl,Object.assign({link:n.attaches.link},i)),n.attaches.market&&Lr().createElement(Sl,Object.assign({market:n.attaches.market},i)),n.attaches.story&&Lr().createElement(cu,Object.assign({story:n.attaches.story},i)),n.attaches.geo&&Lr().createElement(_u,Object.assign({message:e,geo:n.attaches.geo},i)),n.attaches.docs&&n.attaches.docs.map((e=>Lr().createElement(jl,Object.assign({key:e.id,doc:e},i)))),n.attaches.voice&&Lr().createElement(Ul,{message:e,voice:n.attaches.voice}),n.attaches.audios&&n.attaches.audios.map((n=>Lr().createElement(Zl,{message:e,audio:n,key:n.id}))),n.attaches.podcast&&Lr().createElement(gu,Object.assign({playlist:n.attaches.podcast},i)),n.attaches.audioPlaylist&&Lr().createElement(gu,Object.assign({playlist:n.attaches.audioPlaylist},i)),n.attaches.miniApps&&n.attaches.miniApps.map(((e,n)=>Lr().createElement(Bu,{key:n,miniApp:e}))),n.attaches.moneyRequest&&Lr().createElement(Cu,Object.assign({message:e,moneyTransfer:n.attaches.moneyRequest},i)),n.attaches.moneyTransfer&&Lr().createElement(Cu,Object.assign({message:e,moneyTransfer:n.attaches.moneyTransfer},i))),Lr().createElement(gi,{href:yt(n),className:"AttachWall__link AttachWall__link--post"},t.use("me_fc_open_wall_post"))))},mA=({url:e,displayName:n})=>e?Lr().createElement(gi,{href:e,className:"AttachWall__link",target:"_blank",onClick:()=>{}},n):Lr().createElement("span",{className:"AttachWal__link"},n),fA=Lr().memo((function({peer:e,message:n,isUnread:t,isHead:r,isSelected:o,isCompact:i=!1,onClick:a,onRead:s}){const{lang:c}=$o(),l=Vo(),u=ni(n,{isUnread:t,onRead:s}),d=n.attaches,A=!n.isOut&&r&&!d.voice&&!d.gift&&!(d.sticker&&!n.replyMessage),p=n.forwardedMessages&&n.forwardedMessages.length>0,h=d.voice||d.audios||d.videos||d.docs||d.market||d.link||d.photos||d.story||d.gift||d.geo||d.wall,m=function(e){return 0===Object.keys(e).length?null:e.audios&&e.audios[e.audios.length-1]||e.voice||e.docs&&e.docs[e.docs.length-1]||e.story||e.market||e.link||e.videos&&e.videos[e.videos.length-1]||e.photos&&e.photos[e.photos.length-1]||e.sticker||e.poll||e.call||e.wall||e.gift||e.podcast||e.audioPlaylist||e.geo||e.moneyTransfer||e.moneyRequest||e.activeCall||null}(n.attaches),f=p||!h||"Photo"===(null==m?void 0:m.kind)||"Geo"===(null==m?void 0:m.kind)||"Wall"===(null==m?void 0:m.kind),g=d.sticker||m&&("Photo"===m.kind||"Geo"===m.kind),C=!!d.activeCall,v=!(d.sticker||d.gift||d.activeCall||d.wall||d.call||d.poll||d.article||!(Object.keys(d).length>0)),E=0===n.chunks.length&&!Object.keys(d).find((e=>"unknown"!==e))&&!p;return Lr().createElement("div",{ref:u,className:fo()("ConvoMessage",{"ConvoMessage--unread":n.authorId!==l.id&&t,"ConvoMessage--selected":o,"ConvoMessage--sending":"Queued"===n.kind&&!n.hasFailed,"ConvoMessage--failed":"Queued"===n.kind&&n.hasFailed,"ConvoMessage--expiring":"Normal"===n.kind&&n.expireTTL,"ConvoMessage--out":n.authorId===l.id||n.isOut,"ConvoMessage--noBackground":d.sticker&&!n.replyMessage,"ConvoMessage--withReply":n.replyMessage,"ConvoMessage--wideAttach":h||p,"ConvoMessage--withAuthor":A,"ConvoMessage--withGift":d.gift,"ConvoMessage--withDate":f,"ConvoMessage--floatDate":g,"ConvoMessage--separateDate":C,"ConvoMessage--attachOnly":0===n.chunks.length&&v&&!A}),onClick:()=>a(n)},"Queued"===n.kind&&(n.hasFailed?Lr().createElement("div",{className:fo()("ConvoMessage__statusIcon","ConvoMessage__statusIcon--failed")},Lr().createElement(Fc,{width:8,height:8})):Lr().createElement("div",{className:fo()("ConvoMessage__statusIcon","ConvoMessage__statusIcon--sending")},Lr().createElement(Oc,{width:8,height:8}))),A&&Lr().createElement("div",{className:"ConvoMessage__author"},("User"===e.kind||"Group"===e.kind)&&Lr().createElement(gi,{href:Pe(e),className:"ConvoMessage__authorLink",target:"_blank",rel:"noreferrer"},i?Me(e):Lr().createElement(Ud,{peerId:e.id,convoId:n.peerId},Me(e)))),n.expireTTL&&Lr().createElement(gA,{expiresAt:n.sentAt+n.expireTTL}),Lr().createElement("div",{className:"ConvoMessage__content"},n.replyMessage&&Lr().createElement("div",{className:"ConvoMessage__reply"},Lr().createElement(Xc,{message:n.replyMessage})),Lr().createElement("span",{className:"ConvoMessage__text"},d.gift&&Lr().createElement(sA,{message:n,gift:d.gift}),Lr().createElement(Wd,{message:n,isCompact:i}),d.wall&&Lr().createElement(hA,{wall:d.wall,message:n}),d.call&&Lr().createElement(Lr().Fragment,null," ",Lr().createElement(gi,{href:gn(n),className:"ConvoMessage__link"},Lr().createElement(Gc,{attach:d.call}))),d.poll&&Lr().createElement(Lr().Fragment,null," ",Lr().createElement(gi,{href:yt(d.poll),payload:d.poll,className:"ConvoMessage__link"},Lr().createElement(Gc,{attach:d.poll}))),d.article&&Lr().createElement(Lr().Fragment,null," ",Lr().createElement(gi,{href:yt(d.article),payload:d.poll,className:"ConvoMessage__link"},Lr().createElement(Gc,{attach:d.article}))),d.sticker&&Lr().createElement(Fu,{sticker:d.sticker}),d.activeCall&&Lr().createElement(dA,{activeCall:d.activeCall,isCompact:i}),v&&Lr().createElement("div",{className:"ConvoMessage__attachments"},Lr().createElement(wu,{message:n,isInBubble:!0})),E&&Lr().createElement("span",{className:"ConvoMessage__empty"},c.use("me_empty_message")),"Normal"===n.kind&&n.forwardedMessages&&n.forwardedMessages.length>0&&n.forwardedMessages.map(((e,t)=>Lr().createElement(cA,{messageId:n.id,peerId:n.peerId,key:t,message:e})))),f&&Lr().createElement("span",{className:"ConvoMessage__date"},n.updatedAt&&c.use("me_message_edited_label")+" ",Lr().createElement(su,{timestamp:n.sentAt,variant:"time"}))))})),gA=({expiresAt:e})=>{const[n,t]=(0,jr.useState)(!1),r=Ro(1e3),o=Math.max(e-r,0),i=Math.floor(o/1e3%60),a=Math.floor(o/1e3/60%60),s=Math.floor(o/1e3/3600%24),c=`${s>0?s.toString().padStart(2,"0")+":":""}${[a,i].map((e=>e.toString().padStart(2,"0"))).join(":")}`;return Lr().createElement("button",{className:fo()("ConvoMessage__bomb",{"ConvoMessage__bomb--soon":o<=6e4,"ConvoMessage__bomb--blink":o<=1e4}),onClick:()=>t(!n)},n?c:Lr().createElement(Wc,null))};var CA=l(5870),vA={};vA.styleTagTransform=p(),vA.setAttributes=s(),vA.insert=i().bind(null,"head"),vA.domAPI=r(),vA.insertStyleElement=d(),n()(CA.Z,vA),CA.Z&&CA.Z.locals&&CA.Z.locals;const EA=({peer:e,isOut:n,isCentered:t,children:r})=>{const o=fo()("ConvoStack",{"ConvoStack--out":n,"ConvoStack--centered":t});return Lr().createElement("section",{className:o},!n&&!t&&Lr().createElement("div",{className:"ConvoStack__author",key:"stack-author"},("User"===e.kind||"Group"===e.kind)&&Lr().createElement(gi,{href:Pe(e),className:"ConvoStack__authorLink",target:"_blank",rel:"noreferrer"},Lr().createElement(ca,{peer:e,size:32})),"Chat"===e.kind&&Lr().createElement(ca,{peer:e,size:32})),Lr().createElement("div",{className:"ConvoStack__content"},r))};var _A=l(5982),bA={};bA.styleTagTransform=p(),bA.setAttributes=s(),bA.insert=i().bind(null,"head"),bA.domAPI=r(),bA.insertStyleElement=d(),n()(_A.Z,bA),_A.Z&&_A.Z.locals&&_A.Z.locals;const yA=({message:e,isUnread:n,onRead:t})=>{const r=ni(e,{isUnread:n,onRead:t});return Lr().createElement("div",{ref:r,className:"ServiceMessage"},Lr().createElement(Yc,{message:e}))};var BA=l(9764),wA={};wA.styleTagTransform=p(),wA.setAttributes=s(),wA.insert=i().bind(null,"head"),wA.domAPI=r(),wA.insertStyleElement=d(),n()(BA.Z,wA),BA.Z&&BA.Z.locals&&BA.Z.locals;const xA=({peerId:e,isCompactView:n=!1,isNamed:t=!0})=>{const r=Oo(e,n?"compact":"full",t?n?2:3:0);return r?Lr().createElement("div",{className:"ConvoHistoryTyping"},Lr().createElement(hc,{type:r.type,className:"ConvoHistoryTyping__indicator"}),Lr().createElement("div",{className:"ConvoHistoryTyping__text"},r.text)):null};var DA=l(4102),kA={};kA.styleTagTransform=p(),kA.setAttributes=s(),kA.insert=i().bind(null,"head"),kA.domAPI=r(),kA.insertStyleElement=d(),n()(DA.Z,kA),DA.Z&&DA.Z.locals&&DA.Z.locals;var SA="0 0 20 20",FA="bomb_outline_20",IA=!1;function MA(){IA||(Jr(new(Vr())({id:FA,viewBox:SA,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="bomb_outline_20"><path d="M12.537 6.405L13.72 5.22a.75.75 0 011.129.983l-.067.077-1.183 1.186a6.501 6.501 0 11-1.06-1.06zm-7.573 1.56a5 5 0 107.071 7.07 5 5 0 00-7.07-7.07zM16.89 5.013l.098.026 1.5.5a.75.75 0 01-.375 1.448l-.1-.025-1.5-.5a.75.75 0 01.377-1.449zm.876-2.806a.75.75 0 01.09.982l-.064.078-1.048 1.1a.75.75 0 01-1.151-.956l.065-.078 1.047-1.1a.75.75 0 011.06-.026zm-3.342-.788l.039.094.5 1.5a.75.75 0 01-1.385.569l-.038-.095-.5-1.5a.75.75 0 011.384-.568z" fill="currentColor" /></symbol>'})),IA=!0)}var TA=function(e){return eo((function(){MA()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:SA,id:FA,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};TA.mountIcon=MA;const PA=TA,zA=({lastMessage:e,count:n,isUnread:t,onRead:r})=>{const{lang:o}=$o(),i=ni(e,{isUnread:t,onRead:r});return Lr().createElement("div",{ref:i,className:"ExpiredMessage"},Lr().createElement("div",{className:"ExpiredMessage__container"},Lr().createElement("div",{className:"ExpiredMessage__icon"},Lr().createElement(PA,null)),Lr().createElement("div",{className:"ExpiredMessage__text"},o.use("me_message_expired",{num:n}))))},OA=({convo:e,selected:n,onSelectMessage:t,onLoadMore:r,onMessageRead:o,onEndReached:i,isCompactView:a=!1})=>{const{lang:s}=$o(),c=Vo(),l=Uo(),u=(0,jr.useRef)(null),d=(0,jr.useRef)(null),A=(0,jr.useRef)(e.unreadCount>0?"unread":"bottom"),p=(0,jr.useRef)(!1),{ref:h,onScroll:m}=function(e){const n=(0,jr.useRef)(null),t=(0,jr.useRef)(null),r=(0,jr.useRef)(!1);return(0,jr.useLayoutEffect)((()=>{if(!n.current)return;if(!t.current)return void(t.current=n.current.scrollHeight);const e=n.current.scrollHeight-t.current;0!==e&&(0===n.current.scrollTop&&(r.current=!0,n.current.scrollTop=e),t.current=n.current.scrollHeight)})),{onScroll:()=>{if(!n.current)return;if(r.current)return void(r.current=!1);if(n.current.scrollTop<0)return void(n.current.scrollTop=0);const t=n.current.scrollTop,o=n.current.scrollHeight-(n.current.clientHeight+n.current.scrollTop);e(t,o)},ref:n}}(((n,t)=>{if(p.current)p.current=!1;else{switch(A.current){case"unread":A.current="nothing";break;case"bottom":t>0&&(A.current="nothing");break;case"nothing":break;default:Ee(A.current)}switch(!0){case 0===t:rt(e)?(A.current="nothing",r("forward")):(A.current="bottom",i());break;case 0===n:r("backward")}}})),f=wo(e);(0,jr.useLayoutEffect)((()=>{switch(A.current){case"unread":d.current&&(p.current=!0,d.current.scrollIntoView(!0));break;case"bottom":u.current&&(p.current=!0,u.current.scrollIntoView(!0),f&&f.persistedId!==e.persistedId&&i());break;case"nothing":break;default:Ee(A.current)}if(!u.current)return;const n=ct(e);n&&n.isOut&&f&&e.queued.size>f.queued.size&&(p.current=!0,u.current.scrollIntoView(!0),A.current="bottom")}),[e,f,i]);const{initialInReadBy:g,initialOutReadBy:C}=(0,jr.useMemo)((()=>({initialInReadBy:e.inReadBy,initialOutReadBy:e.outReadBy})),[]);if(!it(e))return Lr().createElement("div",{className:"ConvoHistory"},Lr().createElement("div",{className:"ConvoHistory__loader"},Lr().createElement(Ur.Spinner,{size:"small"})));let v,E=[],_=[];for(const{message:r,older:i}of ut(e)){const u=je(l,r.authorId),A="Normal"===r.kind&&g<r.id,p=i?Cn(i,r,g,C):{kind:"split",atUnread:A,atDate:!0};switch(r.kind){case"Normal":case"Queued":_.unshift(Lr().createElement(fA,{key:"Queued"===r.kind?r.randomId:r.id,peer:u,message:r,isUnread:dt(e,r),isHead:"continue"!==p.kind,isSelected:"Queued"!==r.kind&&n.includes(r.id),isCompact:a,onClick:t,onRead:o}));break;case"Service":_.unshift(Lr().createElement(yA,{key:r.id,message:r,isUnread:dt(e,r),onRead:o}));break;case"Expired":v?v.count++:v={message:r,count:1},_=[Lr().createElement(zA,{key:v.message.id,lastMessage:v.message,count:v.count,isUnread:dt(e,v.message),onRead:o})];break;default:Ee()}"continue"!==p.kind&&(E.unshift(Lr().createElement(EA,{key:"Queued"===r.kind?r.randomId:r.id,peer:u,isOut:c.id===u.id,isCentered:"Service"===r.kind||"Expired"===r.kind},_)),v=void 0,_=[]),("split"===p.kind&&p.atDate||!i)&&E.unshift(Lr().createElement("div",{key:`date-separator-${r.sentAt}`,className:fo()("ConvoHistory__separator","ConvoHistory__separator--date")},Lr().createElement(su,{timestamp:r.sentAt,variant:"date"}))),"split"===p.kind&&p.atUnread&&e.peerId!==c.id&&E.unshift(Lr().createElement("div",{key:"unread-separator",ref:d,className:fo()("ConvoHistory__separator","ConvoHistory__separator--unread")},s.use("me_convo_history_new_messages")))}return Lr().createElement("div",{className:fo()("ConvoHistory",{"ConvoHistory--s":a})},0===E.length?Lr().createElement("div",{className:"ConvoHistory__empty"},Lr().createElement("div",{className:"ConvoHistory__emptyIcon"},Lr().createElement(Rs,null)),Lr().createElement("div",{className:"ConvoHistory__emptyText"},s.use("me_convo_history_placeholder"))):Lr().createElement("div",{className:"ConvoHistory__scrollable",ref:h,onScroll:m},e.hasMore&&Lr().createElement(Xs,{className:"ConvoHistory__spinner"}),Lr().createElement("div",{className:"ConvoHistory__flow"},E),rt(e)?Lr().createElement(Xs,{className:"ConvoHistory__spinner"}):Lr().createElement("div",{ref:u}),Lr().createElement(xA,{peerId:e.peerId,isCompactView:a,isNamed:"ChatConvo"===e.kind})))};var NA=l(7758),jA={};jA.styleTagTransform=p(),jA.setAttributes=s(),jA.insert=i().bind(null,"head"),jA.domAPI=r(),jA.insertStyleElement=d(),n()(NA.Z,jA),NA.Z&&NA.Z.locals&&NA.Z.locals;var LA="0 0 24 24",RA="smile_outline_24",UA=!1;function WA(){UA||(Jr(new(Vr())({id:RA,viewBox:LA,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="smile_outline_24"><path d="M8.438 14.297a.9.9 0 011.259.133c.013.016.196.223.53.432.383.24.97.488 1.773.488a3.3 3.3 0 001.773-.488c.191-.12.382-.26.53-.432a.9.9 0 011.4 1.132 4.045 4.045 0 01-.976.826A5.094 5.094 0 0112 17.15a5.094 5.094 0 01-2.727-.762 3.987 3.987 0 01-.976-.826.9.9 0 01.14-1.265zm1.812-4.047a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zM15 11.5A1.25 1.25 0 1015 9a1.25 1.25 0 000 2.5z" fill="currentColor" /><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.1c-5.468 0-9.9 4.432-9.9 9.9s4.432 9.9 9.9 9.9 9.9-4.432 9.9-9.9-4.432-9.9-9.9-9.9zM3.9 12a8.1 8.1 0 1116.2 0 8.1 8.1 0 01-16.2 0z" fill="currentColor" /></symbol>'})),UA=!0)}var HA=function(e){return eo((function(){WA()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:LA,id:RA,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};HA.mountIcon=WA;const qA=HA;var ZA=l(7238),VA={};VA.styleTagTransform=p(),VA.setAttributes=s(),VA.insert=i().bind(null,"head"),VA.domAPI=r(),VA.insertStyleElement=d(),n()(ZA.Z,VA),ZA.Z&&ZA.Z.locals&&ZA.Z.locals;var YA="0 0 24 24",GA="attach_24",$A=!1;function XA(){$A||(Jr(new(Vr())({id:GA,viewBox:YA,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="attach_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M18.338 14.297l-4.557 4.546a4.614 4.614 0 01-6.526-.007l-.04-.04a4.993 4.993 0 01.017-6.983l6.827-6.947a2.85 2.85 0 014.1.037c1.173 1.238 1.16 3.133-.001 4.326L11.28 16.29a1.1 1.1 0 01-1.496.074l-.074-.062a.94.94 0 01-.076-1.367l4.632-4.875a.9.9 0 00-1.305-1.24L8.33 13.696a2.74 2.74 0 00.222 3.985l.074.062a2.9 2.9 0 003.944-.196l6.879-7.063a4.9 4.9 0 00-.098-6.936 4.65 4.65 0 00-6.575.056l-6.827 6.947a6.793 6.793 0 00-.022 9.501l.055.055a6.414 6.414 0 009.07.01l4.558-4.545a.9.9 0 10-1.271-1.275z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),$A=!0)}var QA=function(e){return eo((function(){XA()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:YA,id:GA,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};QA.mountIcon=XA;const KA=QA,JA=({onAdd:e})=>{const{vkcom_mediaSelector:n}=$o(),t=(0,jr.useRef)(null);return(0,jr.useEffect)((()=>{if(!t.current)return;const r=n.create(t.current,(n=>{switch(n.type){case"photo":{const t=xn(n.apiPhoto);if(!t)return;return e(t)}case"video":{const t=Dn(n.apiVideo);if(!t)return;return e(t)}case"audio":return e(In(n.apiAudio));case"doc":{const t=wn(n.apiDoc);if(!t)return;return e(t)}default:return}}));return()=>r()}),[n,e]),Lr().createElement("button",{ref:t,className:"Clip"},Lr().createElement(KA,null))};var ep=l(9608),np={};np.styleTagTransform=p(),np.setAttributes=s(),np.insert=i().bind(null,"head"),np.domAPI=r(),np.insertStyleElement=d(),n()(ep.Z,np),ep.Z&&ep.Z.locals&&ep.Z.locals;var tp=l(2650),rp={};rp.styleTagTransform=p(),rp.setAttributes=s(),rp.insert=i().bind(null,"head"),rp.domAPI=r(),rp.insertStyleElement=d(),n()(tp.Z,rp),tp.Z&&tp.Z.locals&&tp.Z.locals;var op=l(4672),ip={};ip.styleTagTransform=p(),ip.setAttributes=s(),ip.insert=i().bind(null,"head"),ip.domAPI=r(),ip.insertStyleElement=d(),n()(op.Z,ip),op.Z&&op.Z.locals&&op.Z.locals;var ap="0 0 12 16",sp="chevron_16",cp=!1;function lp(){cp||(Jr(new(Vr())({id:sp,viewBox:ap,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 16" id="chevron_16"><g fill="none" fill-rule="evenodd"><path d="M0 0h12v16H0z" /><path d="M7.227 8L3.864 4.636a.9.9 0 111.272-1.272l4 4a.9.9 0 010 1.272l-4 4a.9.9 0 11-1.272-1.272L7.227 8z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),cp=!0)}var up=function(e){return eo((function(){lp()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:ap,id:sp,width:isNaN(e.width)?12:+e.width,height:isNaN(e.height)?16:+e.height}))};up.mountIcon=lp;const dp=up;var Ap="0 0 16 24",pp="chevron_24",hp=!1;function mp(){hp||(Jr(new(Vr())({id:pp,viewBox:Ap,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 24" id="chevron_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v24H0z" /><path d="M4.706 7.706a1 1 0 010-1.412l.088-.088a.997.997 0 011.414.002l5.084 5.084a.998.998 0 010 1.416l-5.084 5.084a1.002 1.002 0 01-1.414.002l-.088-.088a.995.995 0 010-1.412L9 12 4.706 7.706z" fill="currentColor" /></g></symbol>'})),hp=!0)}var fp=function(e){return eo((function(){mp()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Ap,id:pp,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?24:+e.height}))};fp.mountIcon=mp;const gp=fp,Cp=({onClick:e,direction:n,size:t="m"})=>Lr().createElement("div",{className:fo()("HorizontalScroll__arrow",`HorizontalScroll__arrow-${n}`,`HorizontalScroll__arrow--size-${t}`),onClick:e},Lr().createElement("div",{className:"HorizontalScroll__arrow-icon"},"s"===t&&Lr().createElement(dp,null),"m"===t&&Lr().createElement(gp,null))),vp=e=>{var{children:n,getScrollToLeft:t,getScrollToRight:r,showArrows:o,scrollAnimationDuration:i,size:a}=e,s=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["children","getScrollToLeft","getScrollToRight","showArrows","scrollAnimationDuration","size"]);const[c,l]=(0,jr.useState)(!1),[u,d]=(0,jr.useState)(!1),A=(0,jr.useRef)(!1),p=(0,jr.useRef)(null),h=(0,jr.useRef)([]);function m(e){const n=p.current;h.current.push((()=>{var t;return function({scrollElement:e,getScrollPosition:n,animationQueue:t,onScrollToRightBorder:r,onScrollEnd:o,onScrollStart:i,initialScrollWidth:a,scrollAnimationDuration:s=250}){if(!e||!n)return;const c=a-e.offsetWidth;let l=e.scrollLeft,u=n(l);i(),u>=c&&(r(),u=c);const d=Ep();!function n(){if(!e)return void o();const r=Ep(),i=function(e){return.5*(1-Math.cos(Math.PI*e))}(Math.min((r-d)/s,1)),a=l+(u-l)*i;e.scrollLeft=Math.ceil(a),e.scrollLeft===Math.max(0,u)?(o(),t.shift(),t.length>0&&t[0]&&t[0]()):requestAnimationFrame(n)}()}({scrollElement:n,getScrollPosition:e,animationQueue:h.current,onScrollToRightBorder:()=>d(!1),onScrollEnd:()=>A.current=!1,onScrollStart:()=>A.current=!0,initialScrollWidth:(null===(t=null==n?void 0:n.firstElementChild)||void 0===t?void 0:t.scrollWidth)||0,scrollAnimationDuration:i})})),1===h.current.length&&h.current[0]&&h.current[0]()}const f=(0,jr.useCallback)((()=>{if(o&&p.current&&!A.current){const e=p.current;l(e.scrollLeft>0),d(e.scrollLeft+e.offsetWidth<e.scrollWidth)}}),[o]);return(0,jr.useEffect)((()=>{const e=p.current;return e&&e.addEventListener("scroll",f),()=>{e&&e.removeEventListener("scroll",f)}}),[f]),(0,jr.useEffect)(f,[p,f,n]),Lr().createElement("div",Object.assign({},s,{className:"HorizontalScroll"}),o&&c&&Lr().createElement(Cp,{direction:"left",size:a,onClick:()=>m(t)}),o&&u&&Lr().createElement(Cp,{direction:"right",size:a,onClick:()=>m(r)}),Lr().createElement("div",{className:"HorizontalScroll__in",ref:p},Lr().createElement("div",{className:"HorizontalScroll__in-wrapper"},n)))};function Ep(){return performance&&performance.now?performance.now():Date.now()}var _p=l(8220),bp={};bp.styleTagTransform=p(),bp.setAttributes=s(),bp.insert=i().bind(null,"head"),bp.domAPI=r(),bp.insertStyleElement=d(),n()(_p.Z,bp),_p.Z&&_p.Z.locals&&_p.Z.locals;const yp=({photo:e})=>{const n=function(e,n){const t=bt(e,68,68,!0),r=bt(e,136,136,!0);return t||r?t&&r?{srcSet:`${t.url}, ${r.url} 2x`,src:r.url}:{src:t?t.url:r?r.url:""}:null}(e);return Lr().createElement("div",{className:"ComposerAttachPhoto"},n&&Lr().createElement("img",Object.assign({},n,{alt:"",className:"ComposerAttachPhoto__img"})))};var Bp=l(9251),wp={};wp.styleTagTransform=p(),wp.setAttributes=s(),wp.insert=i().bind(null,"head"),wp.domAPI=r(),wp.insertStyleElement=d(),n()(Bp.Z,wp),Bp.Z&&Bp.Z.locals&&Bp.Z.locals;const xp=({video:e})=>{Lo();const{duration:n}=e,t=bt(e,68*((null===window||void 0===window?void 0:window.devicePixelRatio)||1));return Lr().createElement("div",{className:"ComposerAttachVideo"},t&&Lr().createElement("img",{src:t.url,alt:"",className:"ComposerAttachVideo__img"}),n&&Lr().createElement("div",{className:"ComposerAttachVideo__videoDuration"},xe(n)))};var Dp=l(9689),kp={};kp.styleTagTransform=p(),kp.setAttributes=s(),kp.insert=i().bind(null,"head"),kp.domAPI=r(),kp.insertStyleElement=d(),n()(Dp.Z,kp),Dp.Z&&Dp.Z.locals&&Dp.Z.locals;const Sp=({icon:e,main:n,secondary:t})=>Lr().createElement("div",{className:"ComposerAttachCard"},Lr().createElement("figure",{className:"ComposerAttachCard__icon"},e),Lr().createElement("div",{className:"ComposerAttachCard__main ComposerAttachCard__overflow"},n),Lr().createElement("div",{className:"ComposerAttachCard__secondary ComposerAttachCard__overflow"},t));var Fp="0 0 20 20",Ip="music_outline_20",Mp=!1;function Tp(){Mp||(Jr(new(Vr())({id:Ip,viewBox:Fp,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="music_outline_20"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v20H0z" /><path d="M14.733 2.048a2.28 2.28 0 012.746 2.233v7.985c0 3.575-3.491 5.413-5.387 3.517-1.895-1.895-.058-5.387 3.517-5.387h.37V6.765L8.004 8.434v5.815c0 3.505-3.356 5.34-5.274 3.624l-.113-.107c-1.895-1.896-.058-5.387 3.517-5.387l.37-.001V6.231c0-.64.047-1.004.183-1.357l.055-.133c.169-.377.425-.692.76-.934.354-.256.705-.39 1.409-.537zm-8.23 11.83h-.37c-2.319 0-3.34 1.942-2.455 2.827.885.885 2.826-.137 2.826-2.456v-.37zm9.476-1.982h-.37c-2.32 0-3.341 1.942-2.456 2.827.885.885 2.826-.137 2.826-2.457v-.37zm-.017-7.774a.78.78 0 00-.922-.605L9.058 4.772c-.392.088-.536.149-.677.25a.802.802 0 00-.27.332c-.08.178-.107.35-.107.877v.67l7.975-1.668v-.952a.78.78 0 00-.004-.08z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),Mp=!0)}var Pp=function(e){return eo((function(){Tp()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Fp,id:Ip,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};Pp.mountIcon=Tp;const zp=Pp,Op=({audio:e})=>Lr().createElement(Sp,{icon:Lr().createElement(zp,null),main:e.title,secondary:e.artist});var Np="0 0 20 20",jp="document_outline_20",Lp=!1;function Rp(){Lp||(Jr(new(Vr())({id:jp,viewBox:Np,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="document_outline_20"><path clip-rule="evenodd" d="M17.205 6.783c.11.18.19.374.24.579.055.23.055.474.055.963V11.3c0 2.52 0 3.78-.49 4.743a4.5 4.5 0 01-1.967 1.966c-.963.491-2.223.491-4.743.491h-.6c-2.52 0-3.78 0-4.743-.49a4.5 4.5 0 01-1.967-1.967C2.5 15.08 2.5 13.82 2.5 11.3V8.7c0-2.52 0-3.78.49-4.743A4.5 4.5 0 014.957 1.99C5.92 1.5 7.18 1.5 9.7 1.5h.975c.489 0 .733 0 .963.055.205.05.4.13.579.24.201.123.374.296.72.642l3.626 3.626c.346.346.519.519.642.72zM10.3 17h-.6c-1.285 0-2.158-.001-2.833-.056-.658-.054-.994-.151-1.229-.271a3 3 0 01-1.311-1.311c-.12-.235-.217-.57-.27-1.229C4 13.458 4 12.585 4 11.3V8.7c0-1.285.001-2.158.056-2.833.054-.658.151-.994.271-1.229a3 3 0 011.311-1.311c.235-.12.57-.217 1.229-.27C7.542 3 8.415 3 9.7 3h.3v1.281c0 .674 0 1.224.037 1.672.037.463.118.882.317 1.272a3.25 3.25 0 001.42 1.42c.391.2.81.28 1.273.318.448.037.998.037 1.672.037H16v2.3c0 1.285-.001 2.158-.056 2.833-.054.658-.151.994-.271 1.229a3 3 0 01-1.311 1.311c-.235.12-.57.217-1.229.27C12.458 17 11.585 17 10.3 17zm5.57-9.5h-1.12c-.712 0-1.202 0-1.58-.032-.371-.03-.57-.085-.714-.159a1.75 1.75 0 01-.765-.765c-.074-.144-.13-.343-.16-.713-.03-.38-.031-.869-.031-1.581V3.13l.012.01c.08.074.182.176.365.358l3.625 3.625c.182.183.284.285.357.365l.011.012z" fill="currentColor" fill-rule="evenodd" /></symbol>'})),Lp=!0)}var Up=function(e){return eo((function(){Rp()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Np,id:jp,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};Up.mountIcon=Rp;const Wp=Up,Hp=({doc:e})=>Lr().createElement(Sp,{icon:Lr().createElement(Wp,null),main:e.title,secondary:`${e.ext.toUpperCase()} · ${Be(e.size)}`}),qp=({handleRemove:e,attach:n,children:t})=>Lr().createElement("li",{className:"ComposerAttaches__item"},t,Lr().createElement("button",{onClick:()=>e(n),className:"ComposerAttaches__remove"},Lr().createElement(dc,null))),Zp=({attaches:e,onRemove:n,className:t})=>{const r=(0,jr.useCallback)((e=>n(e)),[n]);return 0===Object.keys(e).length?null:Lr().createElement("div",{className:fo()("ComposerAttaches",t)},Lr().createElement(vp,{showArrows:!0,getScrollToLeft:e=>e-140,getScrollToRight:e=>e+140,size:"s"},Lr().createElement("ul",{className:"ComposerAttaches__list"},e.photos&&e.photos.map((e=>Lr().createElement(qp,{handleRemove:r,attach:e,key:`${e.kind}${e.id}`},Lr().createElement(yp,{photo:e})))),e.videos&&e.videos.map((e=>Lr().createElement(qp,{handleRemove:r,attach:e,key:`${e.kind}${e.id}`},Lr().createElement(xp,{video:e})))),e.docs&&e.docs.map((e=>Lr().createElement(qp,{handleRemove:r,attach:e,key:`${e.kind}${e.id}`},Lr().createElement(Hp,{doc:e})))),e.audios&&e.audios.map((e=>Lr().createElement(qp,{handleRemove:r,attach:e,key:`${e.kind}${e.id}`},Lr().createElement(Op,{audio:e})))))))},Vp=({members:e,onSend:n,onTyping:t})=>{const{lang:r,vkcom_textInput:o,vkcom_mediaSelector:i}=$o(),{ctrSubmit:a}=To(),[s,c]=(0,jr.useState)({}),l=(0,jr.useRef)(null),u=(0,jr.useRef)(-1);(0,jr.useEffect)((()=>i.removeMedia),[i]);const d=(0,jr.useCallback)((()=>{if(!l.current)return;if(i.isUploading())return;const e=o.val(l.current).trim();0===e.length&&0===Object.keys(s).length||(o.val(l.current,""),i.removeMedia(),c({}),n(e,s,{}))}),[o,i,s,n]),A=(0,jr.useCallback)(((e,t)=>{n("",{sticker:wt(e)},{sticker:{id:e,referrer:t}})}),[n]);(0,jr.useEffect)((()=>{if(!l.current)return;const e=()=>a;-1===u.current?(u.current=o.init(l.current,d,A,t,e),o.focus(l.current)):o.swapCallbacks(u.current,d,A,t,e)}),[o,d,A,t,a]),(0,jr.useEffect)((()=>()=>{o.destroy(u.current)}),[o]);const p=(0,jr.useCallback)((e=>{switch(e.kind){case"Photo":return void c(Ae((n=>{n.photos=n.photos?[...n.photos,e]:[e]})));case"Video":return void c(Ae((n=>{n.videos=n.videos?[...n.videos,e]:[e]})));case"Audio":return void c(Ae((n=>{n.audios=n.audios?[...n.audios,e]:[e]})));case"Doc":return void c(Ae((n=>{n.docs=n.docs?[...n.docs,e]:[e]})));default:return Ee()}}),[]),h=(0,jr.useCallback)((e=>{c(Ae((n=>{!function(e,n){switch(n.kind){case"Audio":if(!e.audios)break;const t=ye(e.audios.filter((e=>e.id!==n.id)));t?e.audios=t:delete e.audios;break;case"Doc":if(!e.docs)break;const r=ye(e.docs.filter((e=>e.id!==n.id)));r?e.docs=r:delete e.docs;break;case"Photo":if(!e.photos)break;const o=ye(e.photos.filter((e=>e.id!==n.id)));o?e.photos=o:delete e.photos;break;case"Video":if(!e.videos)break;const i=ye(e.videos.filter((e=>e.id!==n.id)));i?e.videos=i:delete e.videos;break;default:Ee()}}(n,e)}))),i.removeMedia({ownerId:e.ownerId,id:e.id,type:{Photo:"photo",Video:"video",Doc:"doc",Audio:"audio"}[e.kind]})}),[i]);return Lr().createElement("div",{className:"FCComposer"},Lr().createElement("div",{className:"FCComposer__field"},Lr().createElement(JA,{onAdd:p}),Lr().createElement("div",{className:"FCComposer__emojiHack _emoji_field_wrap"},Lr().createElement("div",{ref:l,role:"textbox",className:"FCComposer__input",placeholder:r.use("me_composer_input_placeholder"),contentEditable:!0}),Lr().createElement("div",{className:"FCComposer__smile emoji_smile_wrap _emoji_wrap"},Lr().createElement("button",{className:"FCComposer__button emoji_smile _emoji_btn",onMouseOver:e=>{e.persist(),o.show(e.currentTarget,e)},onMouseOut:e=>{e.persist(),o.hide(e.currentTarget,e)}},Lr().createElement(qA,null))))),Lr().createElement(Zp,{attaches:s,onRemove:h,className:"FCComposer__attaches"}))};var Yp=l(1626),Gp={};Gp.styleTagTransform=p(),Gp.setAttributes=s(),Gp.insert=i().bind(null,"head"),Gp.domAPI=r(),Gp.insertStyleElement=d(),n()(Yp.Z,Gp),Yp.Z&&Yp.Z.locals&&Yp.Z.locals;var $p="0 0 24 24",Xp="error_circle_outline_24",Qp=!1;function Kp(){Qp||(Jr(new(Vr())({id:Xp,viewBox:$p,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="error_circle_outline_24"><path d="M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm0 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm0 14a1.333 1.333 0 110 2.667A1.333 1.333 0 0112 16zm.324-10.667a1 1 0 011 1.037l-.266 7.276a1.059 1.059 0 01-2.116 0l-.265-7.276a1 1 0 01.963-1.036h.684z" fill="currentColor" /></symbol>'})),Qp=!0)}var Jp=function(e){return eo((function(){Kp()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:$p,id:Xp,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};Jp.mountIcon=Kp;const eh=Jp,nh=({reason:e})=>{const n=function(e){const{lang:n}=$o();return"peer_deleted"===e?n.use("me_composer_can_write_peer_deleted"):n.use("me_composer_can_write_unknown")}(e);return Lr().createElement("div",{className:"FCConvoPrivacyStub"},Lr().createElement(eh,{className:"FCConvoPrivacyStub__icon"}),Lr().createElement("span",{className:"FCConvoPrivacyStub__message"},n))};var th="0 0 24 24",rh="phone_outline_24",oh=!1;function ih(){oh||(Jr(new(Vr())({id:rh,viewBox:th,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="phone_outline_24"><g fill="none"><path d="M0 0h24v24H0z" /><path d="M4.477 4.116c-2.924 3.217-1.362 8.196 2.932 12.51 4.204 4.222 9.407 5.8 12.486 2.936 1.685-1.567 1.436-4.343-.645-6.198l-.19-.161c-1.931-1.563-4.734-1.568-6.445-.027l-.088.082-.05-.042c-.187-.16-.43-.381-.724-.673l-.298-.303-.306-.326c-.092-.101-.174-.194-.246-.277l-.124-.147-.07.075c1.69-1.697 1.706-4.72.006-6.75-1.887-2.255-4.75-2.335-6.238-.699zM9.335 5.97c1.18 1.41 1.049 3.371.099 4.325l-.148.14c-.63.567-1.246.901 1.032 3.218 2.458 2.499 2.765 1.622 3.405.952 1.006-1.01 2.975-1.104 4.329.103 1.497 1.334 1.335 2.868.617 3.536-2.222 2.067-6.476.636-9.984-2.888-3.507-3.523-5.064-7.622-2.876-10.03.508-.558 2.101-1.057 3.526.644z" fill="currentColor" /></g></symbol>'})),oh=!0)}var ah=function(e){return eo((function(){ih()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:th,id:rh,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};ah.mountIcon=ih;const sh=ah;var ch="0 0 24 24",lh="fullscreen_24",uh=!1;function dh(){uh||(Jr(new(Vr())({id:lh,viewBox:ch,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="fullscreen_24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 4.9a.9.9 0 01.9-.9h4.2a.9.9 0 01.9.9v4.2a.9.9 0 11-1.8 0V7.073l-3.664 3.663a.9.9 0 11-1.272-1.272L16.927 5.8H14.9a.9.9 0 01-.9-.9zm-3.264 8.364a.9.9 0 010 1.272L7.073 18.2h2.025a.9.9 0 110 1.8H4.9a.9.9 0 01-.9-.9v-4.2a.9.9 0 011.8 0v2.027l3.664-3.663a.9.9 0 011.272 0z" fill="currentColor" /></symbol>'})),uh=!0)}var Ah=function(e){return eo((function(){dh()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:ch,id:lh,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};Ah.mountIcon=dh;const ph=Ah;var hh=l(7996),mh={};mh.styleTagTransform=p(),mh.setAttributes=s(),mh.insert=i().bind(null,"head"),mh.domAPI=r(),mh.insertStyleElement=d(),n()(hh.Z,mh),hh.Z&&hh.Z.locals&&hh.Z.locals;var fh="0 0 24 24",gh="pin_outline_24",Ch=!1;function vh(){Ch||(Jr(new(Vr())({id:gh,viewBox:fh,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="pin_outline_24"><path d="M13.158 3.724a.9.9 0 011.52-.46l6.058 6.06a.9.9 0 01-.46 1.518l-1.8.36a.325.325 0 00-.166.09l-2.88 2.88a.324.324 0 00-.094.204l-.347 4.511a1.206 1.206 0 01-2.055.76L9.28 15.994l-4.744 4.744a.9.9 0 01-1.353-1.18l.08-.093 4.744-4.744-3.654-3.653a1.206 1.206 0 01-.088-1.608l.088-.098c.204-.203.473-.327.76-.35l4.512-.346a.324.324 0 00.204-.094l2.88-2.88a.324.324 0 00.09-.166l.36-1.8zm1.435 2.002l-.03.152a2.125 2.125 0 01-.58 1.085l-2.88 2.88a2.125 2.125 0 01-1.34.616l-3.224.248 6.754 6.754.248-3.223c.034-.443.206-.862.489-1.2l.127-.14 2.88-2.88a2.124 2.124 0 011.086-.58l.151-.031-3.681-3.681z" fill="currentColor" /></symbol>'})),Ch=!0)}var Eh=function(e){return eo((function(){vh()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:fh,id:gh,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};Eh.mountIcon=vh;const _h=Eh,bh=Lr().memo((({pinnedMessage:e,isHidden:n,onUnpinMessage:t,onPinnedMessageHide:r})=>{const o=Uo(),{lang:i}=$o(),a=je(o,e.authorId),[s,c]=(0,jr.useState)("message");(0,jr.useEffect)((()=>{n||c("message")}),[n]);const l=()=>{t(e.peerId)};return"message"===s&&n?null:Lr().createElement("div",{className:"FCConvoPinnedMessage"},Lr().createElement("div",{className:"FCConvoPinnedMessage__content"},(()=>{switch(s){case"message":return Lr().createElement(Lr().Fragment,null,Lr().createElement("div",{className:"FCConvoPinnedMessage__pinIcon"},Lr().createElement(_h,null)),Lr().createElement("div",{className:"FCConvoPinnedMessage__info"},Lr().createElement("div",{className:"FCConvoPinnedMessage__title"},Lr().createElement(gi,{href:Pe(a),className:"FCConvoPinnedMessage__authorLink",target:"_blank",rel:"noreferrer"},Me(a)),Lr().createElement("span",{className:"FCConvoPinnedMessage__messageDate"},Lr().createElement(su,{timestamp:e.sentAt,variant:"date"}))),Lr().createElement("div",{className:"FCConvoPinnedMessage__message"},e.chunks.length?Lr().createElement(Wd,{message:e}):Lr().createElement($c,{message:e}))));case"actions":return Lr().createElement("div",{className:"FCConvoPinnedMessage__info FCConvoPinnedMessage__info--unpin"},Lr().createElement("span",null,i.use("me_fc_hidden_pinned_message")),Lr().createElement("button",{onClick:l,className:"FCConvoPinnedMessage__unpinButton"},i.use("me_fc_unpin_pinned_message_for_all")));default:return Ee()}})(),Lr().createElement(hi,{content:i.use("me_fc_hide_pinned_message"),position:"top",align:"center",delay:500},Lr().createElement(bi,{onClick:()=>{switch(s){case"message":return r(e.peerId,e.convoLocalId),void c("actions");case"actions":return void c("message");default:return Ee()}},label:i.use("me_fc_hide_pinned_message"),className:fo()("FCConvoPinnedMessage__hideButton",{"FCConvoPinnedMessage__hideButton--unpin":"actions"===s})},Lr().createElement(Pi,null)))))})),yh=({peerId:e,entrypoint:n,convo:t,hiddenPinnedMessages:r,dispatch:o,onClose:i,initialX:a,initialY:s,initialW:c,initialH:l,isActive:u,onActivate:d,onDragged:A})=>{var p;const{lang:h,calls:m}=$o(),f=Uo(),g=Vo(),C=function(){const e=(0,jr.useContext)(qo);if(!e)throw new Error("FeatureFlagsProvider не добавлен в дерево Реакта!");return e}(),[v,E]=(0,jr.useState)([]),_=(0,jr.useCallback)((e=>{"Queued"!==e.kind&&E((n=>n.includes(e.id)?n.filter((n=>n!==e.id)):[...n,e.id]))}),[]),b=(0,jr.useCallback)((n=>{o({type:"UserSeenMessage",messageId:n,peerId:e})}),[o,e]),y=(0,jr.useCallback)((n=>{o({type:"UserScrolledConvoHistory",peerId:e,direction:n})}),[o,e]),B=(0,jr.useCallback)((()=>{o({type:"UserScrolledConvoHistory",peerId:e,direction:"end"})}),[o,e]),w=function(e){const{api:n}=$o(),t=Vo(),r=(0,jr.useRef)();return(0,jr.useEffect)((()=>()=>{r.current&&clearTimeout(r.current)}),[]),(0,jr.useCallback)((()=>{if(r.current)return;const o=e=>{r.current&&clearTimeout(r.current),r.current=window.setTimeout((()=>{r.current=void 0}),e)};o(12e4),n.fetch("messages.setActivity",{user_id:t.id,peer_id:e,type:"typing"}).then((()=>{o(5e3)})).catch((()=>{}))}),[n,t.id,e])}(t.peerId),x=(0,jr.useCallback)(((t,r,i)=>{o({type:"UserHitSend",entrypoint:n,text:t,attaches:r,timestamp:Date.now(),peerId:e,extra:i})}),[o,e,n]),D=(0,jr.useCallback)((e=>{o({type:"UserHitUnpinMessage",peerId:e})}),[o]),k=(0,jr.useCallback)(((e,n)=>{o({type:"UserHitUnpinMessageHide",peerId:e,convoLocalId:n})}),[o]),S=(0,jr.useCallback)((()=>{m&&m.callPeer(e)}),[m,e]),F=je(f,e),I=m&&"Group"!==F.kind&&F.canCall,M=g.id===F.id;return Lr().createElement(wi,{id:e,title:Lr().createElement("div",{className:"FCConvo__header"},M?Lr().createElement(Ua,{size:24}):Lr().createElement(ca,{peer:F,size:24,withOnline:!0}),Lr().createElement("div",{className:"FCConvo__title"},Lr().createElement(ya,{peer:F,isMuted:ot(t)}))),onClose:i,initialX:a,initialY:s,initialW:c,initialH:l,isActive:u,onActivate:d,onDragged:A,actions:Lr().createElement(Lr().Fragment,null,I&&Lr().createElement(hi,{content:h.use("me_fc_convo_call"),position:"top",align:"center",delay:500},Lr().createElement(bi,{label:h.use("me_fc_convo_call"),onClick:S},Lr().createElement(sh,null))),Lr().createElement(hi,{content:h.use("me_fc_convo_open_me"),position:"top",align:"center",delay:500},Lr().createElement(yi,{label:h.use("me_fc_convo_open_me"),href:`/im?sel=${t.peerId}`},Lr().createElement(ph,null)))),footer:t.canWrite.allowed?Lr().createElement(Vp,{members:"ChatConvo"!==t.kind||null===(p=t.members)||void 0===p?void 0:p.map((e=>je(f,e))),onTyping:w,onSend:x}):Lr().createElement(nh,{reason:t.canWrite.reason}),className:"FCConvo"},Lr().createElement("div",{className:"FCConvo__content"},it(t)?Lr().createElement(Lr().Fragment,null,"ChatConvo"===t.kind&&t.pinnedMessage&&C.me_fc_pinned_message&&Lr().createElement(bh,{pinnedMessage:t.pinnedMessage,onUnpinMessage:D,onPinnedMessageHide:k,isHidden:r.has(e)}),Lr().createElement(OA,{convo:t,selected:v,onSelectMessage:_,onLoadMore:y,onEndReached:B,isCompactView:!0,onMessageRead:b})):Lr().createElement("div",{className:"FCConvo__spinner"},Lr().createElement(Ur.Spinner,{size:"small"}))))},Bh=({children:e,env:n,featureFlags:t,state:r,dispatch:o,viewer:i})=>{const a=(0,jr.useCallback)((e=>{o(Object.assign({type:"CacheUpdateReceieved"},e))}),[o]);return Lr().createElement(Qo,{value:n},Lr().createElement(Mo,{value:o},Lr().createElement(Zo,{value:t},Lr().createElement(zo,{value:r.userSettings},Lr().createElement(So,{value:r.onlines},Lr().createElement(jo,{value:r.typings},Lr().createElement(Ho,{value:r.peers},Lr().createElement(Go,{value:i},Lr().createElement(ri,{value:a},e)))))))))},wh=({store:e,env:n,isCollapsedInitially:t})=>{const[r,o]=(0,jr.useState)(e.getState());if((0,jr.useEffect)((()=>e.subscribe(o)),[e]),0===r.viewerId)return null;const i=je(r.peers,r.viewerId);return Lr().createElement(Rr.ErrorBoundary,{fallbackRender:()=>null,onError:e=>n.logger.error("[FCApp] Error",e)},Lr().createElement(Bh,{env:n,state:r,dispatch:e.dispatch,featureFlags:e.featureFlags,viewer:i},Lr().createElement(xh,{state:r,dispatch:e.dispatch,isCollapsedInitially:t})))},xh=({state:e,dispatch:n,isCollapsedInitially:t=!1})=>{const r=$o(),[o,i]=(0,jr.useState)(null),{thumbs:a,addThumb:s,removeThumb:c,setShouldEmerge:l}=function({state:e,dispatch:n}){const{api:t,storage:r,logger:o}=$o(),i=(0,jr.useCallback)((({add:e=[],remove:n=[]})=>{const t=r.get("fc-heads"),o=t?t.filter((e=>!n.includes(e))).reduce(((e,n)=>e.includes(n)?e:[...e,n]),e).slice(0,7):e;t&&t.join("_")===o.join("_")||r.set("fc-heads",o)}),[r]),a=(0,jr.useCallback)((n=>!ot(n)&&n.canWrite.allowed&&n.peerId!==e.viewerId),[e.viewerId]),[s,c]=(0,jr.useState)(null);return(0,jr.useEffect)((()=>{var i;const s=Array.from(e.folders.all.peerIds,(n=>Et(e.convos,n))).sort(((e,n)=>n.minorSortId-e.minorSortId)),l=r.get("fc-heads");if(c({shouldEmerge:!0,minorSortId:(null===(i=s[0])||void 0===i?void 0:i.minorSortId)||0,peerIds:l?l.map(De):s.filter(a).slice(0,3).map((e=>e.peerId))}),!l)return;const u=l.map(De).filter((n=>!e.convos.has(n)));0!==u.length&&t.fetch("messages.getConversationsById",{peer_ids:u.join(",")},{retries:2}).then((e=>{n({type:"CacheUpdateReceieved",profiles:e.profiles,groups:e.groups,conversations:e.items})})).catch((()=>{o.error("Не удалось загрузить сохраненные головы!")}))}),[]),(0,jr.useEffect)((()=>{const n=Array.from(e.folders.all.peerIds).map((n=>Et(e.convos,n))).sort(((e,n)=>n.minorSortId-e.minorSortId));let t;c((r=>{var o;if(!r)return r;t=r.shouldEmerge?n.filter((e=>e.minorSortId>r.minorSortId&&a(e)&&e.unreadCount>0&&!r.peerIds.includes(e.peerId))).map((e=>e.peerId)):[];const i=[...t,...r.peerIds.filter((n=>{const t=e.convos.get(n);return!t||t.minorSortId>0}))].slice(0,7);return{shouldEmerge:r.shouldEmerge,minorSortId:(null===(o=n[0])||void 0===o?void 0:o.minorSortId)||r.minorSortId,peerIds:i}})),t&&t.length>0&&i({add:t})}),[e.folders.all.peerIds,e.convos,i,a]),{thumbs:s&&s.peerIds,addThumb:(0,jr.useCallback)((e=>{s&&!s.peerIds.includes(e)&&(c(Object.assign(Object.assign({},s),{peerIds:[e,...s.peerIds].slice(0,7)})),i({add:[e]}))}),[s,i]),removeThumb:(0,jr.useCallback)((e=>{s&&(c(Object.assign(Object.assign({},s),{peerIds:s.peerIds.filter((n=>n!==e))})),i({remove:[e]}))}),[s,i]),setShouldEmerge:(0,jr.useCallback)((e=>s&&s.shouldEmerge!==e&&c(Object.assign(Object.assign({},s),{shouldEmerge:e}))),[s])}}({state:e,dispatch:n});(0,jr.useEffect)((()=>r.player.subscribe(i)),[r.player]);const[u,d]=function(e,n,t){const[r,o]=(0,jr.useState)(null);(0,jr.useEffect)((()=>{if(null!==r)return;const t=e.get(n)||!1;null!==t&&o(t)}));const i=(0,jr.useCallback)((t=>{try{e.set(n,t)}catch(e){}finally{o(t)}}),[e,n]);return[r,i]}(r.storage,"fc-panel-wide"),[A,p]=(0,jr.useState)(t),{activeWindow:h,windowsState:m,add:f,remove:g,activate:C,drag:v}=function(e={}){const{width:n,height:t,indent:r,layoutIndent:o,onRemoved:i,onAdded:a}=Object.assign(Object.assign({},{width:350,height:460,indent:10,layoutIndent:0,onRemoved:()=>{},onAdded:()=>{}}),e),[s]=Ko({debounced:!0}),[c,l]=(0,jr.useState)({flow:new Map,windows:new Map}),[u,d]=(0,jr.useState)(null),A=(0,jr.useMemo)((()=>Math.min(Math.floor((.5*s-o)/(n+r))-1,2)),[s,o,n,r]),p=(0,jr.useCallback)((e=>{if(e.flow.size===A+1)return A;for(let n=0;n<=A;n++)if(!e.flow.has(n))return n;return A}),[A]),h=(0,jr.useCallback)(((e,i,s=!0)=>{l(fe((a=>{const s=p(a),c=s*(n+r)+o,l=a.flow.get(s);a.flow.set(s,e),l&&a.windows.delete(l),a.windows.set(e,{id:e,coords:[c,0],initialX:c,initialY:0,size:[n,t],place:s,entrypoint:i})}))),s&&d(e),a([e])}),[p,t,r,o,n,a]),m=(0,jr.useCallback)((e=>{const n=Array.isArray(e)?e:[e];l(fe((e=>{n.forEach((n=>{const t=e.windows.get(n);t&&null!==t.place&&e.flow.delete(t.place),e.windows.delete(n)}))})));const t=ye(n);t&&i(t)}),[i]),f=(0,jr.useCallback)((e=>d(e)),[]),g=(0,jr.useCallback)(((e,n)=>{const t=c.windows.get(e);l((r=>fe(r,(r=>{t&&null!==t.place&&r.flow.delete(t.place),r.windows.set(e,Object.assign(Object.assign({},r.windows.get(e)),{place:null,coords:n}))}))))}),[c.windows]);(0,jr.useLayoutEffect)((()=>{l((e=>0===e.flow.size?e:fe(e,(t=>{e.flow.forEach((i=>{const a=e.windows.get(i);if(!a||null===a.place)return;if(a.place>A)return t.flow.delete(a.place),void t.windows.delete(i);const s=a.place*(n+r)+o;t.windows.set(i,Object.assign(Object.assign({},a),{coords:[s,0],initialX:s,initialY:0}))}))}))))}),[o,r,A,n]);const C=wo(c.windows);return(0,jr.useEffect)((()=>{const e=ye([...c.windows.keys()].filter((e=>!C||!C.has(e))));e&&i(e)}),[C,c.windows,i]),{activeWindow:u,windowsState:c,add:h,remove:m,activate:f,drag:g}}({layoutIndent:u?184:88,onRemoved:(0,jr.useCallback)((e=>{e.forEach((e=>{var t;"list"!==e&&((null===(t=null==o?void 0:o.currentTrack)||void 0===t?void 0:t.peerId)===e&&r.player.stop(),n({type:"UserClosedConvo",peerId:e}))}))}),[n,r.player,o]),onAdded:(0,jr.useCallback)((e=>{e.forEach((e=>{"list"!==e&&n({type:"UserOpenedConvo",peerId:e})}))}),[n])}),E=(0,jr.useCallback)(((e,n)=>{if(m.windows.has(e))return C(e);s(e),m.flow.size>0&&g([...m.flow.values()]),f(e,n)}),[m,f,g,C,s]),_=(0,jr.useCallback)((e=>E(e,"fastchats_thumbs")),[E]),b=(0,jr.useCallback)((e=>{c(e),g(e)}),[g,c]),y=(0,jr.useCallback)((e=>{"list"===e?m.windows.get("list")&&g("list"):g(e)}),[g,m.windows]),B=(0,jr.useCallback)((()=>{if(m.windows.get("list"))return g("list");m.flow.size>0&&g([...m.flow.values()]),f("list","fastchats_thumbs")}),[m,g,f]),w=(0,jr.useCallback)((()=>{d(!u)}),[u,d]),x=(0,jr.useCallback)((e=>{n(Object.assign({type:"CacheUpdateReceieved"},e))}),[n]);return(0,jr.useEffect)((()=>{return r.externalEvents.subscribe((t={"change-should-emerge":Fh(Dh,l),"select-peer":Fh(kh,(t=>{if(!t)return;const{peerId:o,entrypoint:i}=t;e.convos.get(o)||r.api.fetch("messages.getConversationsById",{peer_ids:o.toString()},{retries:3}).then((e=>{x({profiles:e.profiles,groups:e.groups,conversations:e.items}),n({type:"UserOpenedConvo",peerId:o})})).catch((()=>{r.logger.error("Не удалось загрузить открытую извне беседу")})),E(o,i)})),"change-is-collapsed":Fh(Sh,p)},o=r.logger,(e,n)=>{const r=t[e];if(!r)return;const[i,a]=r,s=i(n);void 0!==s?a(s):o.error(`Некорректные данные для внешнего события ${e}`,n)}));var t,o}),[r.api,r.logger,r.externalEvents,n,e.convos,E,l,x]),a&&null!==u?Lr().createElement(Ur.ConfigProvider,{platform:Ur.Platform.VKCOM,scheme:"inherit"},Lr().createElement(Ur.AdaptivityProvider,null,Lr().createElement("div",{className:"FCApp MEConfig vkui__root"},Lr().createElement(Cc,null),Lr().createElement(zi,{isListOpened:!!m.windows.get("list"),isWide:u,isCollapsed:A,onListToggle:B,onWidthToggle:w},a.map((n=>{const t=e.convos.get(n);return t?Lr().createElement(mc,{key:n,convo:t,isSelected:!1,isWide:u,onClick:_,onClose:b}):Lr().createElement("section",{key:n,className:"FCApp__thumbStub"},Lr().createElement(Ur.Spinner,{size:"small"}))}))),[...m.windows.values()].map((t=>{const r={key:t.id.toString(),isActive:h===t.id,initialX:t.initialX,initialY:t.initialY,initialW:t.size[0],initialH:t.size[1],onActivate:C,onDragged:v,onClose:y};if("list"===t.id)return Lr().createElement(Qs,Object.assign({windowId:"list",dispatch:n,onSelect:E,folders:e.folders,convosCache:e.convos,convosSearchIndex:e.convosSearchIndex},r));const o=e.convos.get(t.id);return o?Lr().createElement(yh,Object.assign({dispatch:n,peerId:t.id,entrypoint:t.entrypoint,convo:o,hiddenPinnedMessages:e.hiddenPinnedMessages},r)):Lr().createElement(wi,Object.assign({id:t.id,title:Lr().createElement(Lr().Fragment,null,"...")},r),Lr().createElement("div",{className:"FCApp__convoStub"},Lr().createElement(Ur.Spinner,{size:"small"})))}))))):null};function Dh(e){return"boolean"==typeof e?Boolean(e):void 0}function kh(e){if("number"!=typeof(null==e?void 0:e.peerId)||"string"!=typeof(null==e?void 0:e.entrypoint))return;const{entrypoint:n,peerId:t}=e;return function(e){return["top_messenger_list_all","top_messenger_list_unread","global_search","notifications"].includes(e)}(n)?{peerId:De(Number(t)),entrypoint:n}:void 0}function Sh(e){return"boolean"==typeof e?Boolean(e):void 0}function Fh(e,n){return[e,n]}var Ih=l(4399),Mh={};Mh.styleTagTransform=p(),Mh.setAttributes=s(),Mh.insert=i().bind(null,"head"),Mh.domAPI=r(),Mh.insertStyleElement=d(),n()(Ih.Z,Mh),Ih.Z&&Ih.Z.locals&&Ih.Z.locals;var Th="0 0 20 20",Ph="search_20",zh=!1;function Oh(){zh||(Jr(new(Vr())({id:Ph,viewBox:Th,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="search_20"><path clip-rule="evenodd" d="M8.5 2a6.5 6.5 0 015.096 10.535l3.391 3.392a.75.75 0 11-1.06 1.06l-3.392-3.39A6.5 6.5 0 118.5 2zm0 1.5a5 5 0 100 10 5 5 0 000-10z" fill="currentColor" fill-rule="evenodd" /></symbol>'})),zh=!0)}var Nh=function(e){return eo((function(){Oh()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Th,id:Ph,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};Nh.mountIcon=Oh;const jh=Nh;var Lh="0 0 16 16",Rh="cancel_circle_16",Uh=!1;function Wh(){Uh||(Jr(new(Vr())({id:Rh,viewBox:Lh,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="cancel_circle_16"><path d="M8 0a8 8 0 110 16A8 8 0 018 0zm2.466 4.26L8 6.727 5.536 4.26a.9.9 0 10-1.273 1.273l2.465 2.468-2.465 2.469a.9.9 0 001.273 1.273L8 9.275l2.466 2.468a.9.9 0 101.273-1.273L9.271 8.001l2.466-2.468a.9.9 0 10-1.272-1.273z" fill="currentColor" /></symbol>'})),Uh=!0)}var Hh=function(e){return eo((function(){Wh()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Lh,id:Rh,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};Hh.mountIcon=Wh;const qh=Hh;var Zh=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},Vh=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Yh=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Gh=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n},$h=void 0;$h="undefined"!=typeof window?window:"undefined"!=typeof self?self:l.g;var Xh=null,Qh=null,Kh=$h.clearTimeout,Jh=$h.setTimeout,em=$h.cancelAnimationFrame||$h.mozCancelAnimationFrame||$h.webkitCancelAnimationFrame,nm=$h.requestAnimationFrame||$h.mozRequestAnimationFrame||$h.webkitRequestAnimationFrame;null==em||null==nm?(Xh=Kh,Qh=function(e){return Jh(e,20)}):(Xh=function(e){var n=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e,2),t=n[0],r=n[1];em(t),Kh(r)},Qh=function(e){var n=nm((function(){Kh(t),e()})),t=Jh((function(){em(n),e()}),20);return[n,t]});var tm=function(e){function n(){var e,t,r;Zh(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=r=Gh(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,n=e.disableHeight,t=e.disableWidth,o=e.onResize;if(r._parentNode){var i=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},c=parseInt(s.paddingLeft,10)||0,l=parseInt(s.paddingRight,10)||0,u=parseInt(s.paddingTop,10)||0,d=parseInt(s.paddingBottom,10)||0,A=i-u-d,p=a-c-l;(!n&&r.state.height!==A||!t&&r.state.width!==p)&&(r.setState({height:i-u-d,width:a-c-l}),o({height:i,width:a}))}},r._setRef=function(e){r._autoSizer=e},Gh(r,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),Vh(n,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=function(e){var n=void 0,t=void 0,r=void 0,o=void 0,i=void 0,a=void 0,s=void 0,c="undefined"!=typeof document&&document.attachEvent;if(!c){a=function(e){var n=e.__resizeTriggers__,t=n.firstElementChild,r=n.lastElementChild,o=t.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=t.offsetWidth+1+"px",o.style.height=t.offsetHeight+1+"px",t.scrollLeft=t.scrollWidth,t.scrollTop=t.scrollHeight},i=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},s=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var n=this;a(this),this.__resizeRAF__&&Xh(this.__resizeRAF__),this.__resizeRAF__=Qh((function(){i(n)&&(n.__resizeLast__.width=n.offsetWidth,n.__resizeLast__.height=n.offsetHeight,n.__resizeListeners__.forEach((function(t){t.call(n,e)})))}))}};var l=!1,u="";r="animationstart";var d="Webkit Moz O ms".split(" "),A="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),p=document.createElement("fakeelement");if(void 0!==p.style.animationName&&(l=!0),!1===l)for(var h=0;h<d.length;h++)if(void 0!==p.style[d[h]+"AnimationName"]){u="-"+d[h].toLowerCase()+"-",r=A[h],l=!0;break}n="@"+u+"keyframes "+(t="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",o=u+"animation: 1ms "+t+"; "}return{addResizeListener:function(i,l){if(c)i.attachEvent("onresize",l);else{if(!i.__resizeTriggers__){var u=i.ownerDocument,d=$h.getComputedStyle(i);d&&"static"===d.position&&(i.style.position="relative"),function(t){if(!t.getElementById("detectElementResize")){var r=(n||"")+".resize-triggers { "+(o||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',i=t.head||t.getElementsByTagName("head")[0],a=t.createElement("style");a.id="detectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(t.createTextNode(r)),i.appendChild(a)}}(u),i.__resizeLast__={},i.__resizeListeners__=[],(i.__resizeTriggers__=u.createElement("div")).className="resize-triggers";var A=u.createElement("div");A.className="expand-trigger",A.appendChild(u.createElement("div"));var p=u.createElement("div");p.className="contract-trigger",i.__resizeTriggers__.appendChild(A),i.__resizeTriggers__.appendChild(p),i.appendChild(i.__resizeTriggers__),a(i),i.addEventListener("scroll",s,!0),r&&(i.__resizeTriggers__.__animationListener__=function(e){e.animationName===t&&a(i)},i.__resizeTriggers__.addEventListener(r,i.__resizeTriggers__.__animationListener__))}i.__resizeListeners__.push(l)}},removeResizeListener:function(e,n){if(c)e.detachEvent("onresize",n);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(n),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(r,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,n=e.children,t=e.className,r=e.disableHeight,o=e.disableWidth,i=e.style,a=this.state,s=a.height,c=a.width,l={overflow:"visible"},u={},d=!1;return r||(0===s&&(d=!0),l.height=0,u.height=s),o||(0===c&&(d=!0),l.width=0,u.width=c),(0,jr.createElement)("div",{className:t,ref:this._setRef,style:Yh({},l,i)},!d&&n(u))}}]),n}(jr.PureComponent);tm.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};const rm=tm;var om=l(5958),im={};im.styleTagTransform=p(),im.setAttributes=s(),im.insert=i().bind(null,"head"),im.domAPI=r(),im.insertStyleElement=d(),n()(om.Z,im),om.Z&&om.Z.locals&&om.Z.locals;const am=({convo:e,peer:n,isFocused:t,onClick:r})=>{const o=Vo().id===n.id;return Lr().createElement("button",{key:n.id,className:"SearchResult",role:"tab",tabIndex:t?0:-1,"aria-selected":t,onClick:()=>r(e.peerId)},o?Lr().createElement(Ua,{size:40}):Lr().createElement(ca,{peer:n,size:40,withOnline:!0}),Lr().createElement(ya,{peer:n,isMuted:ot(e)}),st(e)&&Lr().createElement("div",{className:"SearchResult__icons"},Lr().createElement(ja,{convo:e,isMuted:ot(e)})))};var sm=l(5940),cm={};cm.styleTagTransform=p(),cm.setAttributes=s(),cm.insert=i().bind(null,"head"),cm.domAPI=r(),cm.insertStyleElement=d(),n()(sm.Z,cm),sm.Z&&sm.Z.locals&&sm.Z.locals;var lm="0 0 16 16",um="clock_outline_16",dm=!1;function Am(){dm||(Jr(new(Vr())({id:um,viewBox:lm,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="clock_outline_16"><g fill="currentColor"><path d="M8 4.75a.75.75 0 00-1.5 0v4a.75.75 0 00.44.683l2.75 1.25a.75.75 0 00.62-1.366L8 8.267z" /><path clip-rule="evenodd" d="M16 8A8 8 0 110 8a8 8 0 0116 0zm-1.5 0a6.5 6.5 0 11-13 0 6.5 6.5 0 0113 0z" fill-rule="evenodd" /></g></symbol>'})),dm=!0)}var pm=function(e){return eo((function(){Am()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:lm,id:um,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};pm.mountIcon=Am;const hm=pm;var mm="0 0 16 16",fm="pin_16",gm=!1;function Cm(){gm||(Jr(new(Vr())({id:fm,viewBox:mm,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="pin_16"><path d="M10.235 2.106l3.657 3.663c.225.226.064.633-.263.633h-.523a.895.895 0 00-.633.263L10.758 8.38a.896.896 0 00-.262.633v2.996c0 .554-.7.858-1.1.456l-2.301-2.3-3.57 3.57a.893.893 0 11-1.264-1.263L5.83 8.898l-2.29-2.29c-.391-.392-.109-1.102.456-1.102H6.99a.895.895 0 00.633-.262L9.338 3.53a.896.896 0 00.263-.634V2.37c0-.32.403-.495.634-.263z" fill="currentColor" /></symbol>'})),gm=!0)}var vm=function(e){return eo((function(){Cm()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:mm,id:fm,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};vm.mountIcon=Cm;const Em=vm,_m=({convo:e,isSelected:n,onClick:t})=>{const{lang:r}=$o(),o=Vo(),i=Uo(),a=ct(e),s=function(e){const{lang:n}=$o(),t=Ro();if(!e)return;const r=6e4,o=36e5,i=864e5,a=6048e5,s=24192e5,c=t-e;switch(!0){case c<r:return;case c<o:return n.use("me_convo_list_date_mins",{values:{time:Math.round(c%o/r)}});case c<i:return n.use("me_convo_list_date_hours",{values:{time:Math.round(c%i/o)}});case c<a:return n.use("me_convo_list_date_days",{values:{time:Math.round(c%a/i)}});case c<s:return n.use("me_convo_list_date_weeks",{values:{time:Math.round(c%s/a)}});default:return n.formatDate(e,{now:t,variant:"datetime"})}}(null==a?void 0:a.sentAt),c=je(i,e.peerId),l=o.id===c.id;let u;if("ChatConvo"===e.kind&&a&&"Service"!==a.kind){const e=je(i,a.authorId);u=Lr().createElement("span",{className:"TCLConvoListItem__author"},e.id===o.id?r.use("me_convo_list_author_you"):r.use("me_convo_list_author_name",{values:{name:Te(e)}})," ")}const d=Oo(c.id,"compact","ChatConvo"===e.kind?2:0),A=a&&a.isOut&&dt(e,a),p="ChatConvo"===e.kind&&e.activeCall?e.activeCall.participants.count>0?"filled":"empty":void 0;return Lr().createElement("article",{className:fo()("TCLConvoListItem",{"TCLConvoListItem--selected":n,"TCLConvoListItem--muted":ot(e)}),role:"tab",tabIndex:0,"aria-selected":n,onClick:()=>t(e.peerId),onKeyDown:n=>"Enter"===n.key&&t(e.peerId)},Lr().createElement("div",{className:"TCLConvoListItem__avatar"},l?Lr().createElement(Ua,{size:40}):Lr().createElement(ca,{peer:c,size:40,withOnline:!0,activeCall:p})),Lr().createElement("header",{className:"TCLConvoListItem__header"},Lr().createElement(ya,{peer:c,isMuted:ot(e)})),Lr().createElement("div",{className:"TCLConvoListItem__message"},d?Lr().createElement("span",{className:"TCLConvoListItem__typing"},Lr().createElement("span",{className:"TCLConvoListItem__typingText"},d.text),Lr().createElement(hc,{className:"TCLConvoListItem__typingIndicator",type:d.type})):Lr().createElement(Lr().Fragment,null,Lr().createElement("span",{className:"TCLConvoListItem__text"},u,a&&Lr().createElement($c,{message:a})),Lr().createElement("span",{className:"TCLConvoListItem__date"},s?"· "+s:""))),Lr().createElement("div",{className:"TCLConvoListItem__icons"},A&&Lr().createElement("div",{className:"TCLConvoListItem__unreadOut"}),st(e)&&Lr().createElement(Lr().Fragment,null,e.unreadExpireables.size>0&&Lr().createElement("div",{className:"TCLConvoListItem__bombIcon"},Lr().createElement(Sa,null)),"ChatConvo"===e.kind&&e.unreadMentions.size>0&&Lr().createElement("div",{className:"TCLConvoListItem__mentionIcon"},Lr().createElement(za,null)),Lr().createElement(ja,{convo:e,isMuted:ot(e),size:18})),!A&&a&&"Queued"===a.kind&&Lr().createElement("div",{className:"TCLConvoListItem__clockIcon"},Lr().createElement(hm,null)),!A&&!st(e)&&at(e)&&Lr().createElement("div",{className:"TCLConvoListItem__pinIcon"},Lr().createElement(Em,null))))},bm=({dispatch:e,folders:n,convosCache:t,convosSearchIndex:r,onItemClick:o,onShowAllClick:i})=>{const{lang:a}=$o(),s=Uo(),{selectedFolder:c,setSelectedFolder:l}=function(e,n){const[t,r]=(0,jr.useState)("unread");return{selectedFolder:(0,jr.useMemo)((()=>({id:t,convos:Array.from(n[t].peerIds,(n=>Et(e,n))).sort(At),hasMore:n[t].hasMore})),[n,t,e]),setSelectedFolder:r}}(t,n),u=(0,jr.useRef)(null);(0,jr.useLayoutEffect)((()=>{u.current&&u.current.recomputeRowHeights()}),[c.id]);const{query:d,onChange:A,onKeyDown:p,onFocus:h,onBlur:m,results:f,reset:g}=ei({requestType:"convos",searchIndex:r,dispatch:e,onSelect:(0,jr.useCallback)((e=>{o(e,"top_messenger_list_all")}),[o]),defaultResults:(0,jr.useMemo)((()=>new Set(c.convos.map((e=>e.peerId)))),[c])});(0,jr.useEffect)((()=>{g()}),[g,c.id]);const C=(0,jr.useCallback)((e=>{let n;switch(c.id){case"all":n="top_messenger_list_all";break;case"unread":n="top_messenger_list_unread";break;default:Ee(c.id)}o(e,n)}),[o,c.id]),v=(0,jr.useCallback)((({index:e})=>{const n=c.convos[e],t=c.convos[e-1];return n&&t&&at(t)&&!at(n)?69:56}),[c]),E=(0,jr.useCallback)((({index:n,style:t})=>{if(n>c.convos.length-1)return Lr().createElement("div",{key:"loader",className:"TCLConvoList__itemsLoader",style:t},Lr().createElement(Xs,{className:"TCLConvoList__loader",onIntersection:()=>e({type:"MoreConvosNeeded",folder:c.id})}));const r=c.convos[n],o=c.convos[n-1];if(!r)return null;const i=o&&at(o)&&!at(r);return Lr().createElement("div",{key:r.peerId,style:t,className:fo()("TCLConvoList__item",{"TCLConvoList__item--separator":i})},Lr().createElement(_m,{convo:r,isSelected:!1,onClick:C}))}),[e,c,C]);return Lr().createElement("div",{className:"TCLConvoList"},Lr().createElement("div",{className:"TCLConvoList__header"},Lr().createElement("div",{className:fo()("TCLConvoList__search",{"TCLConvoList__search--active":d.length>0})},Lr().createElement("div",{className:"TCLConvoList__searchIcon"},Lr().createElement(jh,{width:18,height:18})),Lr().createElement("input",{className:"TCLConvoList__searchInput",type:"search",placeholder:a.use("me_convo_list_search_placeholder"),value:d||"",onChange:A,onKeyDown:p,onFocus:h,onBlur:m,autoFocus:!0}),Lr().createElement("div",{className:"TCLConvoList__cancelIcon",onClick:()=>g()},Lr().createElement(qh,{width:14,height:14})))),Lr().createElement("div",{className:"TCLConvoList__items"},(()=>{if(""!==d)switch(f){case"loading":return Lr().createElement(Xs,{className:"TCLConvoList__loader",onIntersection:()=>e({type:"MoreConvosNeeded",folder:c.id})});case"empty":return Lr().createElement(Ms,null);default:return Lr().createElement(Lr().Fragment,null,[...f.values()].map(((e,n)=>{const r=je(s,e),o=Et(t,r.id);return Lr().createElement(am,{key:r.id,convo:o,peer:r,isFocused:!1,onClick:C})})))}return 0===c.convos.length?Lr().createElement(Ys,{folder:c.id,onFolderChange:l}):Lr().createElement(rm,{disableWidth:!0},(e=>Lr().createElement(Ss,{ref:u,className:"TCLConvoList__virtual",height:e.height,width:350,overscanRowCount:10,rowCount:c.hasMore?c.convos.length+1:c.convos.length,rowHeight:v,rowRenderer:E})))})()),Lr().createElement("div",{className:"TCLConvoList__footer"},""===d?Lr().createElement("button",{className:"TCLConvoList__folder",onClick:()=>{switch(c.id){case"unread":l("all");break;case"all":l("unread");break;default:Ee(c.id)}}},{all:a.use("me_tcl_convo_list_folder_unread"),unread:a.use("me_tcl_convo_list_folder_all")}[c.id]):Lr().createElement("div",null),Lr().createElement(gi,{href:"/im",className:"TCLConvoList__showAll",onClick:i},a.use("me_tcl_convo_list_show_all"))))},ym=({store:e,env:n,onItemClick:t,onShowAllClick:r})=>{const[o,i]=(0,jr.useState)(e.getState());if((0,jr.useEffect)((()=>e.subscribe(i)),[e]),0===o.viewerId)return null;const a=je(o.peers,o.viewerId);return Lr().createElement(Rr.ErrorBoundary,{fallbackRender:()=>null,onError:e=>n.logger.error("[TCLApp] Error",e)},Lr().createElement(Bh,{env:n,state:o,dispatch:e.dispatch,featureFlags:e.featureFlags,viewer:a},Lr().createElement(Bm,{state:o,dispatch:e.dispatch,onItemClick:t,onShowAllClick:r})))},Bm=({state:e,dispatch:n,onItemClick:t,onShowAllClick:r})=>Lr().createElement(Ur.ConfigProvider,{platform:Ur.Platform.VKCOM,scheme:"inherit"},Lr().createElement(Ur.AdaptivityProvider,null,Lr().createElement("div",{className:"TCLApp MEConfig vkui__root"},Lr().createElement(Cc,null),Lr().createElement(bm,{dispatch:n,folders:e.folders,convosCache:e.convos,convosSearchIndex:e.convosSearchIndex,onItemClick:t,onShowAllClick:r}))));var wm=l(7438),xm={};xm.styleTagTransform=p(),xm.setAttributes=s(),xm.insert=i().bind(null,"head"),xm.domAPI=r(),xm.insertStyleElement=d(),n()(wm.Z,xm),wm.Z&&wm.Z.locals&&wm.Z.locals;var Dm=l(8067),km={};km.styleTagTransform=p(),km.setAttributes=s(),km.insert=i().bind(null,"head"),km.domAPI=r(),km.insertStyleElement=d(),n()(Dm.Z,km),Dm.Z&&Dm.Z.locals&&Dm.Z.locals;const Sm=(0,jr.forwardRef)((function({content:e,placement:n=Fm,coords:t,className:r,onMouseEnter:o,onMouseLeave:i},a){const s=(0,jr.useRef)(null),[c,l]=(0,jr.useState)({side:n.side||Fm.side,style:{top:0,left:0}});return(0,jr.useLayoutEffect)((()=>{s.current&&l(function(e,n,t){const{side:r=Fm.side,targetAlign:o=Fm.targetAlign,popoverAlign:i=Fm.popoverAlign,offset:a=Fm.offset}=e,{targetOffset:s,targetRect:c,containerRect:l}=n,u=function(e){if(!document)return e;const n=[200,0,80,0],{clientWidth:t,clientHeight:r}=document.documentElement,o=Math.min(Math.max(e.top,n[0]),r),i=Math.min(Math.max(e.left,n[3]),t);return{top:o,left:i,width:Math.min(e.width,t-i-n[1]),height:Math.min(e.height,r-o-n[2])}}(l),d=t.getBoundingClientRect();let A=r,p=Tm(A,c,d,o,i),h=zm(c,d,p),m=Pm(h,u,a);if(!m)return{style:Im(s,p),side:A};const f={top:{opposite:"bottom",sidePlus:"left",sideMinus:"right"},bottom:{opposite:"top",sidePlus:"left",sideMinus:"right"},left:{opposite:"right",sidePlus:"top",sideMinus:"bottom"},right:{opposite:"left",sidePlus:"top",sideMinus:"bottom"}},g={top:0,left:0};if(m[A]>0){const e=A,n=p,t=m[A];A=f[A].opposite,p=Tm(A,c,d,o,i),h=zm(c,d,p),m=Pm(h,u,a),m&&m[A]>t&&(A=e,p=n)}if(m){const{sidePlus:e,sideMinus:n}=f[A];g[e]=m[e]-m[n]}return{style:Im(s,p,g),side:A}}(n,t,s.current))}),[t,n]),Lr().createElement("div",{ref:a,className:"Popover__wrapper",onMouseEnter:o,onMouseLeave:i},Lr().createElement("div",{ref:s,style:c.style,className:`Popover Popover--${c.side}`},Lr().createElement("div",{className:fo()("Popover__content",r)},e)))})),Fm={side:"top",targetAlign:"50%",popoverAlign:"50%",offset:12};function Im(...e){return e.reduce(((e,{top:n,left:t})=>({top:e.top+n,left:e.left+t})),{top:0,left:0})}function Mm(e,n){const t=function(e){if("number"==typeof e)return{number:e,unit:"px"};const n=/(-)?(\d*\.?\d*)(px|%)?/.exec(e);return Array.isArray(n)&&n[2]&&n[3]?{number:Boolean(n[1])?-parseFloat(n[2]):parseFloat(n[2]),unit:"%"===n[2]?"%":"px"}:null}(n);if(t){const{number:n,unit:r}=t;let o=Math.abs(n);return"%"===r&&(o=e*Math.abs(n)*.01),n<0?e-o:o}return 0}function Tm(e,n,t,r,o){return{top:{top:-t.height,left:Mm(n.width,r)-Mm(t.width,o)},bottom:{top:n.height,left:Mm(n.width,r)-Mm(t.width,o)},left:{top:Mm(n.height,r)-Mm(t.height,o),left:-t.width},right:{top:Mm(n.height,r)-Mm(t.height,o),left:n.width}}[e]||{top:0,left:0}}function Pm(e,n,t){const r=function(e,n){let t={top:Fm.offset,left:Fm.offset,width:-Fm.offset,height:-Fm.offset};return"number"==typeof n?t={top:n,left:n,width:-n,height:-n}:2===n.length?t={top:n[0],left:n[1],width:-n[1],height:-n[0]}:4===n.length&&(t={top:n[0],left:n[3],width:-n[1],height:-n[2]}),function(...e){return e.reduce(((e,{top:n,left:t,width:r,height:o})=>({top:e.top+n,left:e.left+t,width:e.width+r,height:e.height+o})),{top:0,left:0,width:0,height:0})}(e,t)}(n,t),o=Math.abs(Math.min(e.top-r.top,0)),i=Math.abs(Math.min(n.top+r.height-e.top-e.height,0)),a=Math.abs(Math.min(e.left-r.left,0)),s=Math.abs(Math.min(n.left+r.width-e.left-e.width,0));return 0===o&&0===i&&0===a&&0===s?null:{top:o,bottom:i,left:a,right:s}}function zm(e,n,t){return Object.assign(Object.assign({},Im(e,t)),{width:n.width,height:n.height})}const Om=({store:e,env:n,data:t,onConvoOpen:r})=>{const[o,i]=(0,jr.useState)(e.getState());if((0,jr.useEffect)((()=>e.subscribe(i)),[e]),0===o.viewerId)return null;const a=je(o.peers,o.viewerId);return Lr().createElement(Rr.ErrorBoundary,{fallbackRender:()=>null,onError:e=>n.logger.error("[ProfileInfoTTApp] Error",e)},Lr().createElement(Bh,{env:n,state:o,dispatch:e.dispatch,featureFlags:e.featureFlags,viewer:a},Lr().createElement(Nm,{state:o,data:t,onConvoOpen:r})))},Nm=({data:e,onConvoOpen:n})=>{const[t,r]=(0,jr.useState)(new Map);return(0,jr.useEffect)((()=>{r(e?Ae((n=>{n.set(e.id,e)})):new Map)}),[e]),Lr().createElement(Ur.ConfigProvider,{platform:Ur.Platform.VKCOM,scheme:"inherit"},Lr().createElement(Ur.AdaptivityProvider,null,Lr().createElement(Ur.AppRoot,{mode:"partial",noLegacyClasses:!0},Lr().createElement("div",{className:"MEConfig vkui__root"},0===t.size?null:Array.from(t.values()).map((e=>Lr().createElement(jm,{key:e.id,popover:e,onConvoOpen:n,onTerminate:()=>{return n=e.id,void r(Ae((e=>{e.delete(n)})));var n}})))))))},jm=({popover:e,onConvoOpen:n,onTerminate:t})=>{const[r,o]=(0,jr.useState)("opening"),i=(0,jr.useRef)(null),a=De(e.peerId),s=De(e.convoId),c=function(e){const n=Uo(),{api:t}=$o(),r=oi(),o=e&&n.get(e);if((0,jr.useEffect)((()=>{!o&&e&&(Se(e)&&t.fetch("users.get",{user_ids:e.toString()},{retries:2}).then((e=>{r({profiles:e})})),Ie(e)&&t.fetch("groups.getById",{group_ids:(-e).toString()},{retries:2}).then((e=>{r({groups:e.groups})})))}),[t,r,o,e]),"User"===(null==o?void 0:o.kind)||"Group"===(null==o?void 0:o.kind))return o}(a),l=Ld(c),u=(0,jr.useCallback)((()=>{if("opening"===r)return t();o("closing")}),[r,o,t]),d=(0,jr.useCallback)((()=>{o("opened")}),[]);return(0,jr.useEffect)((()=>e.subscribeMouseLeave(u)),[e,u]),c&&l?Lr().createElement(jd,{nodeRef:i,in:"opening"===r||"opened"===r,addEndListener:e=>{var n;return null===(n=i.current)||void 0===n?void 0:n.addEventListener("transitionend",e,!1)},appear:!0,classNames:"ProfileInfoTTApp__popover-",onEntered:d,onExited:t},Lr().createElement(Sm,{ref:i,className:"ProfileInfoTTApp__popover",placement:{side:"top",targetAlign:0,popoverAlign:64,offset:[12,12,40,12]},coords:e.coords,content:Lr().createElement(Bd,{peer:c,mutualFriends:l,convoId:s,onConvoOpen:n,onTerminate:t}),onMouseEnter:()=>{o((e=>"closing"===e?"opened":"opening"))},onMouseLeave:u})):null};var Lm=l(2405),Rm={};Rm.styleTagTransform=p(),Rm.setAttributes=s(),Rm.insert=i().bind(null,"head"),Rm.domAPI=r(),Rm.insertStyleElement=d(),n()(Lm.Z,Rm),Lm.Z&&Lm.Z.locals&&Lm.Z.locals;var Um=l(5630),Wm={};Wm.styleTagTransform=p(),Wm.setAttributes=s(),Wm.insert=i().bind(null,"head"),Wm.domAPI=r(),Wm.insertStyleElement=d(),n()(Um.Z,Wm),Um.Z&&Um.Z.locals&&Um.Z.locals;var Hm=l(8099),qm={};qm.styleTagTransform=p(),qm.setAttributes=s(),qm.insert=i().bind(null,"head"),qm.domAPI=r(),qm.insertStyleElement=d(),n()(Hm.Z,qm),Hm.Z&&Hm.Z.locals&&Hm.Z.locals;const Zm=({icon:e,title:n,description:t,control:r})=>Lr().createElement("li",{className:"SettingsListItem"},Lr().createElement("div",{className:"SettingsListItem__icon"},e),Lr().createElement("div",{className:"SettingsListItem__info"},Lr().createElement("div",{className:"SettingsListItem__title"},n),t&&Lr().createElement("div",{className:"SettingsListItem__description"},t)),Lr().createElement("div",{className:"SettingsListItem__control"},r));var Vm="0 0 28 28",Ym="send_circle_fill_gray_28",Gm=!1;function $m(){Gm||(Jr(new(Vr())({id:Ym,viewBox:Vm,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="send_circle_fill_gray_28"><linearGradient id="send_circle_fill_gray_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#send_circle_fill_gray_28_a)" /><path d="M10.16 16.628c-.458 1.298-.745 2.21-.863 2.737-.368 1.653-.637 2.026.738 1.24 1.375-.786 8.031-4.679 9.516-5.544 1.936-1.128 1.962-1.04-.104-2.237-1.573-.912-8.15-4.703-9.412-5.447-1.26-.745-1.106-.414-.738 1.24.12.533.41 1.453.875 2.761.324.915 1.079 1.586 1.992 1.772l3.843.781a.07.07 0 01.052.083.068.068 0 01-.052.055l-3.852.78c-.916.186-1.673.86-1.996 1.779z" fill="#fff" /></symbol>'})),Gm=!0)}var Xm=function(e){return eo((function(){$m()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Vm,id:Ym,width:isNaN(e.width)?28:+e.width,height:isNaN(e.height)?28:+e.height}))};Xm.mountIcon=$m;const Qm=Xm;var Km="0 0 28 28",Jm="volume_circle_fill_gray_28",ef=!1;function nf(){ef||(Jr(new(Vr())({id:Jm,viewBox:Km,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="volume_circle_fill_gray_28"><linearGradient id="volume_circle_fill_gray_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#volume_circle_fill_gray_28_a)" /><path clip-rule="evenodd" d="M6.923 11.5H9l3.293-3.293A1 1 0 0114 8.914v10.172a1 1 0 01-1.707.707L9 16.5H6.923c-.669 0-.911-.07-1.156-.2-.244-.131-.436-.323-.567-.567s-.2-.487-.2-1.156v-1.154c0-.669.07-.911.2-1.156.131-.244.323-.436.567-.567.245-.13.487-.2 1.156-.2zm9.526-.788a.9.9 0 011.27.097A4.885 4.885 0 0118.9 14c0 1.216-.444 2.33-1.177 3.186a.9.9 0 11-1.367-1.17A3.084 3.084 0 0017.1 14c0-.772-.28-1.476-.747-2.018a.9.9 0 01.096-1.27zm4.044-2.39a.9.9 0 10-1.251 1.294A6.08 6.08 0 0121.1 14a6.08 6.08 0 01-1.859 4.384.9.9 0 001.252 1.294A7.88 7.88 0 0022.9 14a7.88 7.88 0 00-2.407-5.677z" fill="#fff" fill-rule="evenodd" /></symbol>'})),ef=!0)}var tf=function(e){return eo((function(){nf()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Km,id:Jm,width:isNaN(e.width)?28:+e.width,height:isNaN(e.height)?28:+e.height}))};tf.mountIcon=nf;const rf=tf;var of="0 0 28 28",af="users_circle_fill_gray_28",sf=!1;function cf(){sf||(Jr(new(Vr())({id:af,viewBox:of,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="users_circle_fill_gray_28"><linearGradient id="users_circle_fill_gray_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#users_circle_fill_gray_28_a)" /><path d="M10.5 15c2.25 0 4.5.9 4.5 2.846v.134c0 .295-.04.447-.114.585a.773.773 0 01-.32.321c-.14.075-.29.114-.586.114H7.02c-.295 0-.447-.04-.585-.114a.773.773 0 01-.321-.32c-.075-.14-.114-.29-.114-.586v-.134C6 15.9 8.25 15 10.5 15zm7 0c2.25 0 4.5.9 4.5 2.846v.134c0 .295-.04.447-.114.585a.773.773 0 01-.32.321c-.14.075-.29.114-.586.114H16.6c.084-.248.13-.508.144-.797l.006-.223v-.134c0-1.069-.358-1.957-.971-2.659A7.74 7.74 0 0117.5 15zm-7-6a2.25 2.25 0 110 4.5 2.25 2.25 0 010-4.5zm7 0a2.25 2.25 0 110 4.5 2.25 2.25 0 010-4.5z" fill="#fff" /></symbol>'})),sf=!0)}var lf=function(e){return eo((function(){cf()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:of,id:af,width:isNaN(e.width)?28:+e.width,height:isNaN(e.height)?28:+e.height}))};lf.mountIcon=cf;const uf=lf;var df="0 0 28 28",Af="message_unread_circle_fill_gray_28",pf=!1;function hf(){pf||(Jr(new(Vr())({id:Af,viewBox:df,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="message_unread_circle_fill_gray_28"><linearGradient id="message_unread_circle_fill_gray_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#message_unread_circle_fill_gray_28_a)" /><g fill="#fff"><path d="M19.87 12.17a3 3 0 01-4.09-3.935A6.77 6.77 0 0013.999 8c-3.314 0-6 2.359-6 5.269 0 1.406.628 2.684 1.653 3.63a11.487 11.487 0 01-.404 1.688c-.055.173-.13.376-.224.606a.578.578 0 00.017.475.606.606 0 00.801.273l.159-.076c.152-.075.286-.145.401-.21a12 12 0 001.895-1.333c.54.14 1.11.215 1.702.215 3.314 0 6-2.359 6-5.268 0-.377-.045-.745-.13-1.099z" /><path d="M20 9.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" /></g></symbol>'})),pf=!0)}var mf=function(e){return eo((function(){hf()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:df,id:Af,width:isNaN(e.width)?28:+e.width,height:isNaN(e.height)?28:+e.height}))};mf.mountIcon=hf;const ff=mf;var gf="0 0 28 28",Cf="notification_circle_fill_gray_28",vf=!1;function Ef(){vf||(Jr(new(Vr())({id:Cf,viewBox:gf,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="notification_circle_fill_gray_28"><linearGradient id="notification_circle_fill_gray_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#notification_circle_fill_gray_28_a)" /><path d="M15.817 19.5a1.85 1.85 0 01-3.634 0zM9.5 18c-1 0-1.5-.333-1.5-1 0-1 1.5-1 1.5-2.5v-3a4.501 4.501 0 013.7-4.43V7a.8.8 0 011.6 0v.071a4.501 4.501 0 013.7 4.429v3C18.5 16 20 16 20 17c0 .667-.5 1-1.5 1z" fill="#fff" /></symbol>'})),vf=!0)}var _f=function(e){return eo((function(){Ef()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:gf,id:Cf,width:isNaN(e.width)?28:+e.width,height:isNaN(e.height)?28:+e.height}))};_f.mountIcon=Ef;const bf=_f;var yf="0 0 12 8",Bf="dropdown_12",wf=!1;function xf(){wf||(Jr(new(Vr())({id:Bf,viewBox:yf,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 8" id="dropdown_12"><path clip-rule="evenodd" d="M2.156 2.295a.75.75 0 011.051-.137L6 4.306l2.793-2.148a.75.75 0 11.914 1.189l-3.25 2.5a.75.75 0 01-.914 0l-3.25-2.5a.75.75 0 01-.137-1.052z" fill="currentColor" fill-rule="evenodd" /></symbol>'})),wf=!0)}var Df=function(e){return eo((function(){xf()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:yf,id:Bf,width:isNaN(e.width)?12:+e.width,height:isNaN(e.height)?8:+e.height}))};Df.mountIcon=xf;const kf=Df;var Sf="0 0 12 12",Ff="chevron_12",If=!1;function Mf(){If||(Jr(new(Vr())({id:Ff,viewBox:Sf,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="chevron_12"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.22 2.47a.75.75 0 011.06 0l3 3a.75.75 0 010 1.06l-3 3a.75.75 0 01-1.06-1.06L6.69 6 4.22 3.53a.75.75 0 010-1.06z" fill="currentColor" /></symbol>'})),If=!0)}var Tf=function(e){return eo((function(){Mf()}),[]),Lr().createElement(so,(0,Yr.assign)({},e,{viewBox:Sf,id:Ff,width:isNaN(e.width)?12:+e.width,height:isNaN(e.height)?12:+e.height}))};Tf.mountIcon=Mf;const Pf=Tf;function zf(){return(zf=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var Of={_noConflict:!1,_isSet:!1,get noConflict(){return this._noConflict},set noConflict(e){this._isSet&&e!==this.noConflict&&setTimeout((function(){throw new Error("[vkui]: Single VKUI instance can not have different globalClassName settings")}),0),this._noConflict=e,this._isSet=!0}},Nf=/\b(?=[A-Z])/g,jf={},Lf={};function Rf(e){var n=Of.noConflict,t=n?jf:Lf;if(t[e])return t[e];var r=e.replace(Nf,"vkui"),o=n||e===r?r:r+" "+e;return t[e]=o,o}function Uf(e){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&"vkuiClass"!==t&&(n[t]=e[t]);if(e.vkuiClass){var r=e.className,o=function(e){var n="";if("string"==typeof e)n=Rf(e);else for(var t=0;t<e.length;t++)n+=" "+Rf(e[t]);return n}(e.vkuiClass);n.className=r?r+" "+o:o}return n}function Wf(e,n){var t=arguments;if(!n||!("vkuiClass"in n))return jr.createElement.apply(void 0,t);var r=t.length,o=new Array(r);o[0]=t[0],o[1]=Uf(n);for(var i=2;i<r;i++)o[i]=t[i];return jr.createElement.apply(null,o)}Wf.Fragment=jr.Fragment;var Hf,qf,Zf,Vf=Wf;!function(e){e.COMPACT="compact",e.REGULAR="regular"}(Hf||(Hf={})),function(e){e[e.SMALL_MOBILE=1]="SMALL_MOBILE",e[e.MOBILE=2]="MOBILE",e[e.SMALL_TABLET=3]="SMALL_TABLET",e[e.TABLET=4]="TABLET",e[e.DESKTOP=5]="DESKTOP"}(qf||(qf={})),function(e){e[e.EXTRA_SMALL=1]="EXTRA_SMALL",e[e.SMALL=2]="SMALL",e[e.MEDIUM=3]="MEDIUM"}(Zf||(Zf={}));var Yf=jr.createContext({sizeX:Hf.COMPACT,sizeY:Hf.REGULAR}),Gf=jr.createContext({portalRoot:null}),$f=function(e){var n=e.children,t=e.className,r=jr.useContext(Gf),o=r.portalRoot;return r.embedded&&o?(0,li.createPortal)(Vf("div",{className:t},n),o):Vf(jr.Fragment,null,n)},Xf=!("undefined"==typeof window||!window.document||!window.document.createElement),Qf=Xf&&!!window.addEventListener,Kf={supported:!1,name:"animationend"},Jf={supported:!1,name:"transitionend"};Xf&&("undefined"!=typeof AnimationEvent?Kf.supported=!0:"undefined"!=typeof WebKitAnimationEvent&&(Kf.supported=!0,Kf.name="webkitAnimationEnd"),"undefined"!=typeof TransitionEvent?Jf.supported=!0:"undefined"!=typeof WebKitTransitionEvent&&(Jf.supported=!0,Jf.name="webkitTransitionEnd"));var eg=function(){};if(Qf)try{var ng=Object.defineProperty({},"passive",{get:function(){}});window.addEventListener("test",eg,ng),window.removeEventListener("test",eg,ng)}catch(e){}!function(){if(!Xf)return!1;try{document.createElement("div").scrollTo({top:0,get behavior(){return"smooth"}})}catch(e){}}();var tg=function(e){e||(e=Xf?navigator.userAgent.toLowerCase():"");var n=function(e){if(!Xf)return!1;var n=!/ipad|iphone|ipod/.test(e);return!(!/mac os/.test(e)||!n||"boolean"!=typeof navigator.standalone)}(e),t=n||-1!==e.indexOf("ipad"),r=!t&&-1!==e.search(/iphone|ipod/),o=r||t,i=o&&e.match(/OS ([\d_]+) like Mac OS X/i),a=0,s=0;n?(a=13,s=0):i&&(a=+(i=i[1].split("_"))[0],s=+i[1]),i=null;var c=a<13&&!(11===a&&s<3),l=o&&function(e){if(!Xf)return!1;var n=window.webkit;if(n&&n.messageHandlers)return!0;var t=/constructor/i.test(String(window.HTMLElement)),r=!!window.indexedDB;if(-1===e.indexOf("safari")||-1===e.indexOf("version")||navigator.standalone)if(!r&&t||!window.statusbar||!window.statusbar.visible);else if(!t||r)return!0;return!1}(e),u=!1;return Xf&&(u=o&&375===screen.width&&812===screen.height&&3===window.devicePixelRatio),{isIPad:t,isIPhone:r,isIOS:o,isIPadOS:n,iosMajor:a,iosMinor:s,isWKWebView:l,isScrollBasedViewport:c,isIPhoneX:u,isIOSChrome:-1!==e.search(/crios/i)}}(),rg=(tg.isIPad,tg.isIPhone,tg.isIOS),og=tg.isIPadOS;if(tg.iosMajor,tg.iosMinor,tg.isWKWebView,tg.isScrollBasedViewport,tg.isIPhoneX,tg.isIOSChrome,Xf)if(rg&&!og);else if("ontouchstart"in document||"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0){var ig=!/android|mobile|tablet/i.test(navigator.userAgent);(window.matchMedia&&matchMedia("(pointer)").matches?matchMedia("(pointer: fine)").matches:ig)&&window.matchMedia&&matchMedia("(hover)").matches&&matchMedia("(hover: hover)").matches}var ag=jr.createContext({window:Xf?window:null,document:Xf?document:null}),sg=["popout","modal","viewWidth","viewHeight","hasMouse","children","getRootRef"],cg=function(e){var n=e.popout,t=e.modal,r=e.viewWidth,o=e.viewHeight,i=e.hasMouse,a=e.children,s=e.getRootRef,c=function(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,sg),l=jr.useContext(ag).document,u=r>=qf.SMALL_TABLET&&(i||o>=Zf.MEDIUM);return jr.useEffect((function(){n&&function(e){e&&e.activeElement&&e.activeElement.blur()}(l)}),[!!n]),Vf("div",zf({},c,{vkuiClass:"PopoutRoot",ref:s}),a,Vf($f,null,!!n&&Vf("div",{vkuiClass:u?"PopoutRoot--absolute":"PopoutRoot__popout"},n),!!t&&Vf("div",{vkuiClass:"PopoutRoot__modal"},t)))};cg.displayName="PopoutRoot";var lg,ug,dg=(lg=cg,ug={viewWidth:!0,viewHeight:!0,hasMouse:!0},function(e){var n=jr.useContext(Yf),t=!1;(e.sizeX||e.sizeY)&&(t=!0);var r=e.sizeX||n.sizeX,o=e.sizeY||n.sizeY,i=n.viewWidth,a=n.viewHeight,s=n.hasMouse,c={};ug.sizeX&&(c.sizeX=r),ug.sizeY&&(c.sizeY=o),ug.viewWidth&&(c.viewWidth=i),ug.viewHeight&&(c.viewHeight=a),ug.hasMouse&&(c.hasMouse=s);var l=Vf(lg,zf({},e,c));return t?Vf(Yf.Provider,{value:{sizeX:r,sizeY:o,viewWidth:i,viewHeight:a,hasMouse:s}},l):l});const Ag=({isLoading:e})=>{const{lang:n,browserNotifications:t}=$o(),r=To(),o=Fo();return Lr().createElement("ul",{className:"Settings"},e&&Lr().createElement(Xs,{className:"Settings__loader"}),Lr().createElement(Zm,{icon:Lr().createElement(Qm,null),title:n.use("me_settings_message_submit"),control:Lr().createElement(pg,{isCtrSubmitSelected:r.ctrSubmit,onChange:e=>o({type:"UserChangedSetting",setting:"ctrSubmit",value:e})})}),Lr().createElement(Zm,{icon:Lr().createElement(rf,null),title:n.use("me_settings_sound_notifications"),control:Lr().createElement(Ur.Switch,{className:"Settings__switch",checked:r.soundNotifications,onChange:e=>o({type:"UserChangedSetting",setting:"soundNotifications",value:Boolean(e.target.checked)})})}),Lr().createElement(Zm,{icon:Lr().createElement(uf,null),title:n.use("me_settings_show_recommendations"),control:Lr().createElement(Ur.Switch,{className:"Settings__switch",checked:r.showRecommendations,onChange:e=>o({type:"UserChangedSetting",setting:"showRecommendations",value:Boolean(e.target.checked)})})}),Lr().createElement(Zm,{icon:Lr().createElement(ff,null),title:n.use("me_settings_count_not_muted"),description:n.use("me_settings_count_not_muted_note"),control:Lr().createElement(Ur.Switch,{className:"Settings__switch",checked:!r.countOnlyNotMuted,onChange:e=>o({type:"UserChangedSetting",setting:"countOnlyNotMuted",value:!Boolean(e.target.checked)})})}),t&&Lr().createElement(Zm,{icon:Lr().createElement(bf,null),title:n.use("me_settings_browser_notifications"),control:Lr().createElement(hg,{browserNotifications:t})}))},pg=({isCtrSubmitSelected:e,onChange:n})=>{const{lang:t}=$o(),r=(0,jr.useRef)(null),[o,i]=(0,jr.useState)(!1),a=(0,jr.useCallback)((e=>{if(!(e.target instanceof HTMLInputElement))return;const t=Boolean(Number(e.target.value));n(t)}),[n]),s=e?t.use("me_settings_message_submit_option_ctr"):t.use("me_settings_message_submit_option_default");return Lr().createElement("div",{className:"Settings__select"},Lr().createElement(dg,{popout:o?Lr().createElement(Ur.ActionSheet,{onClose:()=>i(!1),toggleRef:r,popupDirection:"bottom"},Lr().createElement(Ur.ActionSheetItem,{autoclose:!0,subtitle:t.use("me_settings_message_submit_option_default_note"),selectable:!0,checked:!e,value:"0",onChange:a},t.use("me_settings_message_submit_option_default")),Lr().createElement(Ur.ActionSheetItem,{autoclose:!0,subtitle:t.use("me_settings_message_submit_option_ctr_note"),selectable:!0,checked:e,value:"1",onChange:a},t.use("me_settings_message_submit_option_ctr"))):null},Lr().createElement("button",{className:"Settings__button",ref:r,onClick:()=>i(!0)},s,Lr().createElement("span",{className:"Settings__buttonChevron"},Lr().createElement(kf,null)))))},hg=({browserNotifications:e})=>{const[n,t]=(0,jr.useState)(e.getState()),{lang:r}=$o();return"external"===n?Lr().createElement("button",{className:"Settings__button",onClick:e.onExternal},r.use("me_settings_browser_notifications_external"),Lr().createElement("span",{className:"Settings__buttonChevron"},Lr().createElement(Pf,null))):Lr().createElement(Ur.Switch,{className:"Settings__switch",checked:n,onChange:n=>e.onChange(Boolean(n.target.checked)).then((e=>t(e)))})},mg=({store:e,env:n})=>{const[t,r]=(0,jr.useState)(e.getState());(0,jr.useEffect)((()=>e.subscribe(r)),[e]);const o=0===t.pts,i=je(t.peers,t.viewerId);return Lr().createElement(Rr.ErrorBoundary,{fallbackRender:()=>null,onError:e=>n.logger.error("[SettingsApp] Error",e)},Lr().createElement("div",{className:"SettingsApp vkui__root"},Lr().createElement(Bh,{env:n,state:t,dispatch:e.dispatch,featureFlags:e.featureFlags,viewer:i},Lr().createElement(Ur.ConfigProvider,{platform:Ur.Platform.VKCOM,scheme:"inherit"},Lr().createElement(Ur.AdaptivityProvider,null,Lr().createElement(Ag,{isLoading:o}))))))};function fg(){G(),pe(!1);const e=l(1954),n=l(8327);e.shim(),n.shim()}})(),u})())},184723:(e,n,t)=>{"use strict";t.d(n,{Api:()=>l});var r=t(570655),o=t(559653),i=t(891047),a=t(262643),s=t(206566),c=["messages.getLongPollServer","messages.getLongPollHistory","queue.subscribe"],l=function(){function e(n){var t=this;this.request=function(e,n){return(0,a.api)(e,n,{version:o.API_VERSION})},this.fetch=function(e,n,i){return void 0===i&&(i={}),(0,r.__awaiter)(t,void 0,Promise,(function(){var t,a,s,c,l;return(0,r.__generator)(this,(function(d){switch(d.label){case 0:if("queue.subscribe"===e)return[2,Promise.resolve({base_url:"mock",queues:[]})];t=e.slice(0,e.indexOf(".")),a={messages:Array.from(new Set((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(o.API_USER_FIELDS)),(0,r.__read)(o.API_GROUP_FIELDS)))).join(","),users:o.API_USER_FIELDS.join(","),groups:o.API_GROUP_FIELDS.join(",")}[t],n=(0,r.__assign)({extended:1,fields:a},n),s=i.retries||0,c=500,d.label=1;case 1:0,d.label=2;case 2:return d.trys.push([2,4,,6]),[4,this.fetchWithCache(e,n)];case 3:return[2,d.sent()];case 4:if(l=d.sent(),0===s)throw l;return s--,[4,u(c)];case 5:return d.sent(),c=Math.min(2*c,2e4),[3,6];case 6:return[3,1];case 7:return[2]}}))}))},this.fetchWithCache=function(e,n){var r=c.includes(e);return new Promise((function(e){if(!window.curNotifier||window.curNotifier.is_server||s.browser.safari)return e();var n,t;setTimeout(e,(n=500,t=1500,Math.random()*(t-n+1)+n))})).then((function(){return t.checkCache})).then((function(o){if(!r||!o)return t.request(e,n);var a=e+" "+JSON.stringify(n);return i.get(a,t.cache).then((function(r){return void 0!==r&&r.expiresAt>=Date.now()?(setTimeout((function(){i.del(a,t.cache).catch((function(){}))}),Date.now()-r.expiresAt),r.response):t.request(e,n).then((function(e){return i.set(a,{response:e,expiresAt:Date.now()+3e3},t.cache).then((function(){setTimeout((function(){i.del(a,t.cache).catch((function(){}))}),3e3)})).catch((function(){})),e}))}),(function(r){return console.error(r),t.request(e,n)}))}))},this.cache=i.createStore(e.CACHE_DB_NAME,"api-cache-"+n),this.checkCache=i.get("test",this.cache).then((function(){return!0})).catch((function(){return!1}))}return e.CACHE_DB_NAME="reforged-db-v1",e}();function u(e){return new Promise((function(n){return setTimeout(n,e)}))}},472206:(e,n,t)=>{"use strict";t.d(n,{BrowserNotifications:()=>o});var r=t(636600),o=function(){var e=this;this.getState=function(){var n;return(null===(n=window.pushNotifier)||void 0===n?void 0:n.loadEndpoint())||window.ls.get("im_ui_notify_off")?"external":e.isBrowserNotificationsEnabled()},this.onChange=function(n){return n&&!e.isBrowserNotificationsEnabled()?new Promise((function(n){window.DesktopNotifications.requestPermission((function(){e.statlogsBrowserNotificationsOn(),n("external")}))})):!n&&e.isBrowserNotificationsEnabled()?(window.ls.set("im_ui_notify_off",1),e.statlogsBrowserNotificationsOff(),Promise.resolve(!1)):Promise.resolve(n)},this.onExternal=function(){return window.nav.go("/settings?act=notify")},this.isBrowserNotificationsEnabled=function(){return window.DesktopNotifications.supported()&&!window.DesktopNotifications.checkPermissionNeeded()&&!window.ls.get("im_ui_notify_off")},this.statlogsBrowserNotificationsOn=function(){(0,r.statlogsProbValueEvent)(1,"im_browser_notifications_on",1)},this.statlogsBrowserNotificationsOff=function(){(0,r.statlogsProbValueEvent)(1,"im_browser_notifications_off",1)}}},407085:(e,n,t)=>{"use strict";t.d(n,{Logger:()=>i});var r=t(570655),o=t(89722),i=function(){var e=this;this.visible=!1,this.info=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];e.visible&&console.log.apply(console,(0,r.__spreadArray)([],(0,r.__read)(n)))},this.error=function(e,n){n?console.error(e,n):console.error(e);var t=function(e){(0,o.logError)(e,{environment:"messenger"})};if(n instanceof Error){var r=new Error(e+" "+n.message);return r.name=n.name,r.stack=n.stack,t(r)}if("string"==typeof n)return t(new Error(e+" "+n));if(n&&"api_error"===n.type){var i=JSON.stringify(n.error);return t(new Error(e+" "+i))}return t(new Error(e))},this.show=function(){e.visible=!0},this.hide=function(){e.visible=!1}}},798922:(e,n,t)=>{"use strict";t.d(n,{Player:()=>u});var r=t(570655),o=t(559653),i=t(659397),a=t(660058),s=t(709961),c=t(469433),l=t(311046),u=function(){function e(n){var t=this;this.logger=n,this.player=(0,c.getAudioPlayer)(),this.listeners=[],this.state=e.initial(),this.play=function(n,r){return void 0===r&&(r=0),Promise.resolve().then((function(){if("Audio"===n.kind){t.reforgedPlayer.stop();var o=e.toAudio(n),i=new a.WebPlayerAdapter(t.player).getPlaylistId()?t.player.getCurrentPlaylist():t.player.getPlaylist(l.AudioPlaylist.TYPE_TEMP,window.vk.id,"im"+(n.peerId||""));i.mergeWith({list:[o]}),t.player.play(o,i,"im"),r>0&&t.player.seek(r)}else if("Voice"===n.kind)return t.player.stop(),window.Notifier.pauseGlobalMedia(),t.reforgedPlayer.play(n,r)}))},this.pause=function(){"playing"===t.state.status&&("Audio"===t.state.currentTrack.kind?t.player.pause():"Voice"===t.state.currentTrack.kind&&t.reforgedPlayer.pause())},this.resume=function(){"paused"===t.state.status&&("Audio"===t.state.currentTrack.kind?t.player.play():"Voice"===t.state.currentTrack.kind&&t.reforgedPlayer.resume())},this.stop=function(){t.player.stop()},this.subscribe=function(e){return t.listeners.push(e),function(){t.listeners=t.listeners.filter((function(n){return n!==e}))}},this.timeLeft=function(e){var n=e?t.state.voiceDuration:t.state.duration,r=e?t.state.voiceTime:t.state.time,o=Math.floor(n-r);return"-"+(0,i.formatDuration)(o)};var r=Symbol();this.reforgedPlayer=new o.Player(n),this.player.on(this,s.events.PLAY_REQUESTED,(function(n){t.setState({status:"loading",currentVoice:t.state.currentVoice||null,currentTrack:e.toTrack(n),progress:0,duration:n[5],time:0,voiceProgress:t.state.voiceProgress||0,voiceDuration:t.state.voiceDuration||0,voiceTime:t.state.voiceTime||0})})),this.player.on(r,s.events.PLAY,(function(n){t.setState({status:"playing",currentVoice:t.state.currentVoice||null,currentTrack:e.toTrack(n),progress:0,duration:n[5],time:0,voiceProgress:t.state.voiceProgress||0,voiceDuration:t.state.voiceDuration||0,voiceTime:t.state.voiceTime||0})})),this.player.on(this,s.events.PAUSE,(function(){"stopped"!==t.state.status&&t.setState({status:"paused",currentVoice:t.state.currentVoice||null,currentTrack:t.state.currentTrack,progress:t.state.progress||0,duration:t.state.duration||0,time:t.state.time||0,voiceProgress:t.state.voiceProgress||0,voiceDuration:t.state.voiceDuration||0,voiceTime:t.state.voiceTime||0})})),this.player.on(this,[s.events.STOP,s.events.ENDED],(function(){t.setState(e.initial())})),this.player.on(this,s.events.PROGRESS,(function(n,r){var o=n[5];t.setState({status:"playing",currentVoice:t.state.currentVoice||null,currentTrack:e.toTrack(n),progress:r,duration:o,time:r*o,voiceProgress:t.state.voiceProgress||0,voiceDuration:t.state.voiceDuration||0,voiceTime:t.state.voiceTime||0})})),this.reforgedPlayer.subscribe((function(e){t.setState(e),"stopped"!==e.status&&"ended"!==e.status||window.Notifier.resumeGlobalMedia()})),window.Notifier.addRecvClbk("video_start","fastchats",this.pause),window.Notifier.addRecvClbk("audio_start","fastchats",this.pause),window.Notifier.addRecvClbk("stories_video_start","fastchats",this.pause),window.Notifier.addRecvClbk("logged_off","fastchats",(function(){t.player.stop(),t.reforgedPlayer.stop()}))}return e.prototype.setState=function(e){var n=this;this.state=e,this.listeners.forEach((function(e){return e(n.state)}))},e.initial=function(){return{status:"stopped",currentVoice:null,currentTrack:null,progress:0,duration:0,time:0,voiceProgress:0,voiceDuration:0,voiceTime:0}},e.toTrack=function(e){var n=(0,r.__read)(e,26),t=n[0],o=n[1],i=n[2],a=n[3],s=n[4],c=n[5],l=n[6],u=n[15],d=n[16],A=n[17],p=n[18],h=n[19],m=n[20],f=n[21],g=n[22],C=n[24],v=n[25];return{kind:"Audio",id:t,ownerId:o,url:i,title:a,artist:s,duration:c,albumId:l,ads:u,subtitle:d,mainArtists:A||void 0,featuredArtists:p||void 0,album:h?{owner_id:h[0],id:h[1],access_key:h[2],title:""}:void 0,trackCode:m,contentRestricted:f,albumPartNumber:g,accessKey:C,chartInfo:v||void 0,peerId:null}},e.toAudio=function(e){var n=e.id,t=e.ownerId,r=e.url,o=e.title,i=e.artist,a=e.duration,s=e.albumId,c=e.ads,l=e.subtitle,u=e.mainArtists,d=e.featuredArtists,A=e.album,p=e.trackCode,h=e.contentRestricted,m=e.albumPartNumber,f=e.accessKey,g=e.chartInfo;return[n,t,r,o,i,a,s||0,0,"",0,0,"im","[]","/////"+f+"/","",c||{},l||"",u||"",d||"",!!A&&[A.owner_id,A.id,A.access_key],p||"",h||0,m||0,0,f||"",g||!1]},e}()},143468:(e,n,t)=>{"use strict";t.d(n,{ProxyStorage:()=>o});var r=t(559653),o=function(e){var n=this;this.get=function(e){return"settings-sound-notifications-on"===e?!window.ls.get("sound_notify_off"):n.storage.get(e)},this.set=function(e,t){"settings-sound-notifications-on"!==e?n.storage.set(e,t):window.ls.set("sound_notify_off",Number(!t))},this.del=function(e){"settings-sound-notifications-on"!==e?n.storage.del(e):window.ls.remove("sound_notify_off")},this.storage=new r.Storage(e),this.dbName=e}},180508:(e,n,t)=>{"use strict";t.d(n,{SharedEngine:()=>o});var r=t(559653),o=function(e,n){var t=this;if(this.logger=e,this.isMaster=n,this.queued={kind:"Buffer",buffer:[]},this.ts=0,this.pts=0,this.connect=function(e){return t.ts=e.ts,t.pts=e.pts,t.engine.connect(e)},this.poll=function(){return t.engine.poll()},this.isConnected=function(){return t.engine.isConnected()},this.skipWaiting=function(){if(t.isMaster)return t.engine.skipWaiting();t.broadcast&&t.broadcast({type:"skip-waiting"})},this.switch=function(e){if(t.broadcast)switch(t.logger.info("[SHARED ENGINE] switch to",e),e){case"master":switch(t.queued.kind){case"Callback":t.queued.cancel();break;case"Buffer":t.queued.buffer=[]}return void(t.isMaster=!0);case"slave":return void(t.isMaster=!1)}},this.fetch=function(e,n){return Promise.resolve().then((function(){if(!t.isMaster)return t.fetchSlave();var r=+(new URL(e).searchParams.get("ts")||1/0);return t.logger.info("[SHARED ENIGNE]",t.ts,r),r>t.ts?Promise.resolve({failed:1}):t.fetchMaster(e,n)})).then((function(e){return"ts"in e&&(t.ts=e.ts,t.pts=e.pts),e}))},this.fetchMaster=function(e,n){t.logger.info("[SHARED ENGINE] fetch master",e);var r,o=window.AbortController?new AbortController:void 0;return n&&o&&(r=window.setTimeout((function(){return o.abort()}),n)),fetch(e,{method:"POST",signal:null==o?void 0:o.signal,headers:{Connection:"keep-alive"}}).then((function(e){return e.json()})).then((function(e){var n=t.ts;return setTimeout((function(){t.broadcast&&t.broadcast({type:"updates",payload:{tsOld:n,data:e}})})),e})).finally((function(){r&&clearTimeout(r)}))},this.fetchSlave=function(){if("Callback"===t.queued.kind)return Promise.reject(new Error("vkcom engine slave double fetch error"));t.logger.info("[SHARED ENGINE] fetch slave");var e=t.queued.buffer.shift();return(e?Promise.resolve(e):new Promise((function(e){t.queued={kind:"Callback",push:function(n){t.queued={kind:"Buffer",buffer:[]},e(n)},cancel:function(){t.queued={kind:"Buffer",buffer:[]},e({tsOld:t.ts,data:{ts:t.ts,pts:t.pts,updates:[]}})}}}))).then((function(e){return e.tsOld>t.ts?(t.queued={kind:"Buffer",buffer:[]},Promise.resolve({failed:1})):e.data}))},this.engine=new r.Engine(this.logger,this.fetch),this.version=this.engine.version,void 0!==window.BroadcastChannel){var o=new BroadcastChannel("messenger-shared-engine");this.broadcast=function(e){return o.postMessage(e)},o.onmessage=function(e){switch(e.data.type){case"updates":var n=e.data.payload;if(t.isMaster)return;if(t.logger.info("[SHARED ENGINE] broadcast received",n),!t.isConnected())return;return"Callback"===t.queued.kind?void t.queued.push(n):void t.queued.buffer.push(n);case"skip-waiting":return void t.engine.skipWaiting();default:t.logger.error("[SHARED ENGINE] Неизвестный бродкаст")}}}}},167109:(e,n,t)=>{"use strict";t.d(n,{SharedQueue:()=>r});var r=function(){function e(){var e=this;this.MAX_BUFFER_SIZE=50,this.isWorking=!1,this.EMPTY={kind:"Buffer",buffer:[]},this.poll=function(){if("Callback"===e.queued.kind)return e.queued.reject("Queue.poll вызван дважды!"),new Promise((function(n,t){e.queued={kind:"Callback",resolve:n,reject:t}}));var n=e.queued.buffer.shift();if(n)return Promise.resolve(n);if(!e.isWorking)throw new Error("Queue.connect еще не был вызван!");return new Promise((function(n,t){e.queued={kind:"Callback",resolve:n,reject:t}}))},this.queued=this.EMPTY}return e.prototype.connect=function(){var e=this;if(!this.isWorking){this.isWorking=!0;var n=window.Notifier.getEventQueueInstance().subscribe((function(t){var r={kind:"Batch",ts:"1",events:[t]};if("Callback"===e.queued.kind){var o=e.queued.resolve;return e.queued=e.EMPTY,void o(r)}if(e.queued.buffer.length>=e.MAX_BUFFER_SIZE)return e.queued.buffer.push({kind:"Failure"}),n(),void(e.isWorking=!1);e.queued.buffer.push(r)}))}},e}()}}]);try{stManager.done("dist/11cdaa76d93e3e29e182f89ef3670afb.86c97701d4ba1465baff.js")}catch(e){}