(()=>{var t,e,r,n={130523:(t,e,r)=>{"use strict";r.d(e,{default:()=>g});r(530522),r(66108),r(296253),r(991181),r(579665),r(95767),r(59357);var n=r(667294),o=r(7692),a=r(881150),i=r(581685),s=r(639790),c=r(838482),l=r(359873),u=r(121265),h=r(495104);r(45697);function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const g=function(t){var e=n.useState,r=n.useEffect,f=t.isOpened,g=t.photo,p=t.defaultPhoto,v=void 0===p?"/images/camera_c.gif":p,_=t.defaultTitle,m=void 0===_?"":_,y=t.onClose,b=t.onUploadAvatar,w=t.onRemoveAvatar,C=t.onSave,L=t.chatCreationMode,x=void 0===L?"":L,E=t.settingsUrl,k=t.isCommunity,O=void 0!==k&&k,A=!!x,N=x===h.CHAT_CREATION_MODE.DONUT_ONLY,T=x===h.CHAT_CREATION_MODE.REGULAR_ONLY,P=d(e(m),2),j=P[0],R=P[1],S=d(e(j),2),U=S[0],M=S[1],I=d(e(!1),2),D=I[0],B=I[1],F=d(e(N||!1),2),H=F[0],G=F[1],Y=unclean(j),$=null;function V(t){var e=W(t);M(e),B(!1)}function W(t){return t.trim().replace("\n","")}r((()=>{$&&$.onClick()}),[f]);var J=(0,u.classNames)("CommunityChatCreation__content",{"CommunityChatCreation__content--editable":!0}),q=!!W(j);return f&&n.createElement(o.default,{appearance:"blue",onClose:y,title:O?getLang("mail_new_community_chat_title"):getLang("mail_new_chat_title"),footerHint:A&&n.createElement(l.default,{checked:H,disabled:N||T,onChange:function(t,e){G(e)},settingsUrl:E,chatCreationMode:x}),actionButtons:[n.createElement(a.default,{key:"cancel",appearance:"tertiary",onClick:y},getLang("global_cancel")),n.createElement(a.default,{key:"ok",onClick:function(){D&&V(j);var t=W(j);C(t,H),y()},disabled:!q},O?getLang("groups_edit_add_new_chat_link"):getLang("global_save"))],className:"CommunityChatCreation"},n.createElement("div",{className:J},n.createElement("div",{className:"CommunityChatCreation__header"},n.createElement("div",{className:"CommunityChatCreation__photo"},n.createElement("div",{className:"CommunityChatCreation__attach",onClick:b,"data-tip":getLang("mail_settings_photo")},n.createElement(i.default,{photo:g||v,title:Y})),g&&n.createElement(c.default,{text:getLang("mail_settings_remove_photo"),position:"t",align:"left"},n.createElement("button",{onClick:w,className:"CommunityChatCreation__photoRemove"}))),n.createElement("div",{className:"CommunityChatCreation__title"},n.createElement(s.default,{value:j,changed:D,useEnter:!0,onSave:function(t){V(t.value)},onChange:function(t){if(j!==t.target.value){var e=t.target.value.replace("\n","");e.length>255||(B(function(t){return t!==U}(e)),R(e))}},onCancel:function(){R(U),B(""!==U)},validate:function(t){return!!W(t)},placeholder:getLang("mail_im_chat_title_intro"),ref:t=>{$=t}})))))}},493693:(t,e,r)=>{"use strict";r.d(e,{mount:()=>L});r(535666),r(940851),r(296253);var n=r(533246),o=r(973935),a=r(667294),i=r(130523),s=r(917999),c=r(621260),l=r(389430),u=r(791563);function h(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function d(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){h(a,n,o,i,s,"next",t)}function s(t){h(a,n,o,i,s,"throw",t)}i(void 0)}))}}var f=null;function g(t,e){var r,n=p(),s=t.get();n&&(null===(r=window.cur.destroy)||void 0===r||r.push((()=>e.closeDialog())),o.render(a.createElement(i.default,{isOpened:s.isOpened,photo:s.photo,createHash:s.createHash,isCommunity:!!s.gid,defaultPhoto:s.defaultPhoto,defaultTitle:s.defaultTitle,isUploadingAvatar:s.isUploadingAvatar,chatCreationMode:s.chatCreationMode,settingsUrl:s.settingsUrl,onClose:e.closeDialog,onUploadAvatar:v.bind(null,t),onRemoveAvatar:m.bind(null,t),onSave:y.bind(null,t,e)}),n))}function p(){return document.getElementById("CommunityChatCreation")}function v(t){return _.apply(this,arguments)}function _(){return(_=d(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=2e9+Math.round((0,s.rand)(1e6,2e6)),t.next=3,e.setState({isOpened:!1,isUploadingAvatar:!0});case 3:cur.recieveCropResult=t=>{cur.recieveCropResult=!1,(0,c.curBox)()&&(0,c.curBox)().hide(),(0,l.getOwnerPhoto)(t,r).then((r=>{Array.isArray(r)&&(r=r[0]),e.setState({photo:r,nextChatAvatar:t})}))},Page.ownerPhoto(r,{gid:e.get().gid}),(0,c.curBox)().setOptions({onHideAttempt:function(){return e.setState({isOpened:!0,isUploadingAvatar:!1}),!0}});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){t.setState({photo:!1,nextChatAvatar:!1})}function y(t,e,r,n){return b.apply(this,arguments)}function b(){return(b=d(regeneratorRuntime.mark((function t(e,r,n,o){var a,i,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.get(),i=a.nextChatAvatar,s=a.onCreate,c=void 0===s?null:s,t.prev=1,t.next=4,e.set(l.createCommunityChat.bind(null,i,n,o));case 4:c&&c(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),(0,u.showFastBox)(getLang("global_error"),t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))).apply(this,arguments)}function w(t,e){f&&e.unsubscribe(f);var r=p();r&&o.unmountComponentAtNode(r),(0,n.destroyModule)(t)}function C(t,e){return{unmount:w.bind(null,t,e),openDialog:()=>e.setState({isOpened:!0}),closeDialog(){var r=e.get(),n=r.isUploadingAvatar,o=r.onClose,a=void 0===o?null:o;n||(a&&a(),e.setState({isOpened:!1}).then((()=>w(t,e))))}}}function L(t,e,r){var o=(0,(0,n.createMutations)(C).bindMutations)((0,n.createModule)({handlers:(t,e)=>{}}),e);return f=g.bind(null,e,o),e.subscribe(f),g(e,o),o}},441148:(t,e,r)=>{"use strict";var n=r(293795);window.GeChats=new n.default;try{stManager.done(jsc("web/groups_edit_chats.js"))}catch(t){}},624268:(t,e,r)=>{"use strict";r.d(e,{joinChatBox:()=>c});var n=r(917685),o=r(389430),a=r(371372),i=r(663527),s=r(91257);function c(t,e,r,a){(0,n.cancelEvent)(a);var c={invite_chat_id:e,invite_hash:t},u=(0,s.default)({writeHash:r,longpoll:[],tabs:{},dialog_tabs:{},invitation:c,onJoinChat:l});(0,i.showInvitationBox)(u,c,o.leaveInvitation)}function l(t){if((0,a.isChatPeer)(t)){var e=(0,i.convertPeerToUrl)(t);nav.go(`im?sel=${e}`)}}},293795:(t,e,r)=>{"use strict";r.d(e,{default:()=>b});r(209865),r(940851),r(296253),r(176774),r(535666);var n=r(493693),o=r(212311),a=r(91257),i=r(573084),s=r(389430),c=r(663527),l=r(414914),u=r(917685),h=r(74934),d=r(116886),f=r(791563),g=r(624268),p=r(897557),v=r(236205);function _(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function m(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){_(a,n,o,i,s,"next",t)}function s(t){_(a,n,o,i,s,"throw",t)}i(void 0)}))}}class y{constructor(){var t=this;this.createLock=!1,this.addChatLock=!1,this.setEnabledLock=!1,this.deleteLock=!1,this.hideLock=!1,this.restoreLock=!1,this.store=null,this.needUpdate=!1,this.editChatBox=function(){var e=m(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,u.cancelEvent)(n),r){e.next=3;break}return e.abrupt("return",!1);case 3:return r=Number(r),e.prev=4,e.next=7,t.store.setState({peer:r});case 7:(0,o.mount)(null,t.store),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,r){return e.apply(this,arguments)}}(),this.onUpdateFlags=(t,e)=>!!t&&(e=Number(e),!!(0,c.getTab)(this.store,t)&&this.store.set(this.updateStoreFlags.bind(this,t,e))),this.updateStoreFlags=(t,e,r)=>{var n=(0,c.getTab)(r,t);return n?(n.data.flags=e,Promise.resolve(r)):r},this.setNeedReload=()=>{this.needUpdate=!0},this.reload=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t.needUpdate||e)if(t.isFrontPage){var n=t.store.get(),o=n.gid;showWiki({w:`chats-${o}`})}else{var a={noscroll:!0};r&&(a.onDone=r),nav.reload(a)}}}init(t){var e,r=t.id,n=t.gid,o=t.lpConfig,c=t.tabs,l=t.timeshift,u=t.is_front_page,h=void 0!==u&&u;cur.imDb=(0,i.mount)(n),this.setEnabledLock=!1,this.deleteLock=!1,this.hideLock=!1,this.needUpdate=!1,this.store=(0,a.default)({id:Number(r),gid:Number(n),viewer_id:null===(e=window.vk)||void 0===e?void 0:e.id,tabs:c,lpConfig:o,oCache:{},timeshift:l,onUpdateFlags:this.onUpdateFlags,onUpdate:this.setNeedReload,onClose:this.reload}),this.store.set(s.preloadSearchIndex.bind(null,cur.imDb)),this.isFrontPage=h,cur.shareSetOwnPhoto=()=>{y.onDestroy(),this.reload(!0)},cur.destroy.push((t=>{t===cur&&y.onDestroy()}))}toggleBlockVisibility(t,e,r,n){if(this.setEnabledLock)return!1;if(e&&(0,u.checkEvent)(e))return!0;var o=geByClass1("ui_toggler",t),a=hasClass(o,"on");if(!r&&!a&&n){e&&(0,u.cancelEvent)(e);var i=(0,f.showFastBox)((0,d.getLang)("global_action_confirmation"),(0,d.getLang)("groups_chats_edit_replace_section_label"),(0,d.getLang)("global_yes"),(()=>{i.hide(),this.toggleBlockVisibility(t,e,!0)}),(0,d.getLang)("global_cancel"));return!1}return(0,l.toggleClass)(o,"on"),this.setEnabled(!a)}setEnabled(t){var e={act:"chats_set_enabled",id:cur.groupId,enabled:t?1:0,hash:cur.setEnabledHash};ajax.post("groupsedit.php",e,{onDone:function(){},showProgress:()=>{this.setEnabledLock=!0},hideProgress:()=>{this.setEnabledLock=!1}})}createNewChatStore(t){return(0,a.default)({isOpened:!0,writeHash:t.hash,gid:t.groupId,defaultPhoto:t.ownerPhoto,onCreate:t.onCreate,defaultTitle:(0,p.decodeHTMLEntities)(t.ownerTitle),onClose:t.onClose,settingsUrl:t.settingsUrl,chatCreationMode:t.chatCreationMode})}addNewChat(t,e,r,n,o,a){if(!this.addChatLock){var i=t=>{var e=a.target;e&&(e.disabled=t,e.classList.toggle("flat_button_loading",t))};this.addChatLock=!0,i(this.addChatLock),this.createNewChatStore({groupId:t,hash:e,ownerPhoto:r,ownerTitle:n}).set((t=>(0,s.createCommunityChat)("",n,"",t))).then((e=>{slideUp((0,l.ge)("gtop_add_chat_promo"),150);var r=o?`/gim${t}?sel=${(0,v.getPeer)(e)}`:`/club${t}?act=chats`;nav.go(r)})).catch((t=>{var e=t&&t.message||(0,d.getLang)("groups_top_notice_add_chat_promo_error");(0,f.showFastBox)((0,d.getLang)("global_error"),e)})).finally((()=>{this.addChatLock=!1,i(this.addChatLock)}))}}newChatBox(t,e,r,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";if(!t||!e||this.createLock)return!1;var s=(0,l.ge)("groups_edit_add_new_chat");if(hasClass(s,"button_disabled")&&s.disabled)return!1;var c=t=>{t?(this.createLock=!0,s.setAttribute("disabled","disabled"),(0,l.addClass)(s,"button_disabled")):(this.createLock=!1,s.removeAttribute("disabled"),(0,l.removeClass)(s,"button_disabled"))};c(!0),this.createLock=!0;var u=this.createNewChatStore({hash:e,groupId:t,ownerPhoto:r,chatCreationMode:a,settingsUrl:i,onCreate:()=>{c(!0),this.reload(!0,(()=>{c(!1)}))},ownerTitle:o,onClose:()=>{c(!1)}});(0,n.mount)(null,u)}newChatLimitBox(){(0,f.showFastBox)({title:(0,d.getLang)("global_error")},(0,d.getLang)("groups_section_chats_limit_warning"))}restoreChat(t,e){var r=this;return m(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e||!(0,u.checkEvent)(e)){n.next=2;break}return n.abrupt("return",!0);case 2:if((0,u.cancelEvent)(e),!r.restoreLock){n.next=5;break}return n.abrupt("return",!1);case 5:return o=function(){var e=m(regeneratorRuntime.mark((function e(){var n,o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,c.getTab)(r.store,t),(o=n.data.flags)&h.MAIL_CHAT_FLAG_DENY_ANYONE_TO_WRITE){e.next=4;break}return e.abrupt("return",!0);case 4:return a=o&~h.MAIL_CHAT_FLAG_DENY_ANYONE_TO_WRITE,i=r.store.get(),e.prev=6,r.restoreLock=!0,e.next=10,(0,s.updateFlags)(t,a,i);case 10:r.reload(!0),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",!1);case 16:r.restoreLock=!1;case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}(),(0,f.showFastBox)({title:(0,d.getLang)("global_warning")},(0,d.getLang)("groups_section_chats_restore_prompt"),(0,d.getLang)("groups_chats_edit_value_restore_label"),o,(0,d.getLang)("global_cancel")),n.abrupt("return",!0);case 8:case"end":return n.stop()}}),n)})))()}deleteChat(t,e,r){var n=this;return m(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!r||!(0,u.checkEvent)(r)){o.next=2;break}return o.abrupt("return",!0);case 2:if((0,u.cancelEvent)(r),!n.deleteLock){o.next=5;break}return o.abrupt("return",!1);case 5:a=()=>{if(!(0,l.ge)(`groups_edit_chats_list__item-${t}`))return!1;var r={act:"chats_delete",id:cur.groupId,hash:e,peer_id:t};ajax.post("groupsedit.php",r,{onDone:()=>{n.reload(!0)},showProgress:()=>{n.deleteLock=!0},hideProgress:()=>{n.deleteLock=!1}})},(0,f.showFastBox)({title:(0,d.getLang)("global_warning")},(0,d.getLang)("groups_section_chats_delete_prompt"),(0,d.getLang)("groups_chats_edit_value_delete_label"),a,(0,d.getLang)("global_cancel"));case 7:case"end":return o.stop()}}),o)})))()}hideChat(t,e,r){return this.setVisibilityChat(t,e,!1,r)}showChat(t,e,r){return this.setVisibilityChat(t,e,!0,r)}setVisibilityChat(t,e,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return m(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!o||!(0,u.checkEvent)(o)){a.next=2;break}return a.abrupt("return",!0);case 2:if((0,u.cancelEvent)(o),!n.hideLock){a.next=5;break}return a.abrupt("return",!1);case 5:i=()=>{if(!(0,l.ge)(`groups_edit_chats_list__item-${t}`))return!1;var o={act:"chats_hide",id:cur.groupId,hash:e,peer_id:t,is_visible:r?1:0};ajax.post("groupsedit.php",o,{onDone:()=>{n.reload(!0)},showProgress:()=>{n.hideLock=!0},hideProgress:()=>{n.hideLock=!1}})},(0,f.showFastBox)({title:(0,d.getLang)("global_warning")},r?(0,d.getLang)("groups_section_chats_show_prompt"):(0,d.getLang)("groups_section_chats_hide_prompt"),r?(0,d.getLang)("groups_chats_edit_value_show_label"):(0,d.getLang)("groups_chats_edit_value_hide_label"),i,(0,d.getLang)("global_cancel"));case 7:case"end":return a.stop()}}),a)})))()}joinChat(t,e,r,n){(0,g.joinChatBox)(t,e,r,n)}static onDestroy(){for(;curBox();)curBox().hide()}}const b=y},535666:function(t,e,r){!function(e){"use strict";var r,n=Object.prototype,o=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",l=e.regeneratorRuntime;if(l)t.exports=l;else{(l=e.regeneratorRuntime=t.exports).wrap=y;var u="suspendedStart",h="suspendedYield",d="executing",f="completed",g={},p={};p[i]=function(){return this};var v=Object.getPrototypeOf,_=v&&v(v(T([])));_&&_!==n&&o.call(_,i)&&(p=_);var m=L.prototype=w.prototype=Object.create(p);C.prototype=m.constructor=L,L.constructor=C,L[c]=C.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===C||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,L):(t.__proto__=L,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(m),t},l.awrap=function(t){return{__await:t}},x(E.prototype),E.prototype[s]=function(){return this},l.AsyncIterator=E,l.async=function(t,e,r,n){var o=new E(y(t,e,r,n));return l.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(m),m[c]="Generator",m[i]=function(){return this},m.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},l.values=T,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return s.type="throw",s.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),g}}}function y(t,e,r,n){var o=e&&e.prototype instanceof w?e:w,a=Object.create(o.prototype),i=new N(n||[]);return a._invoke=function(t,e,r){var n=u;return function(o,a){if(n===d)throw new Error("Generator is already running");if(n===f){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=k(i,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===u)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var c=b(t,e,r);if("normal"===c.type){if(n=r.done?f:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=f,r.method="throw",r.arg=c.arg)}}}(t,r,i),a}function b(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function w(){}function C(){}function L(){}function x(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function E(t){function r(e,n,a,i){var s=b(t[e],t,n);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&o.call(l,"__await")?Promise.resolve(l.__await).then((function(t){r("next",t,a,i)}),(function(t){r("throw",t,a,i)})):Promise.resolve(l).then((function(t){c.value=t,a(c)}),i)}i(s.arg)}var n;"object"==typeof e.process&&e.process.domain&&(r=e.process.domain.bind(r)),this._invoke=function(t,e){function o(){return new Promise((function(n,o){r(t,e,n,o)}))}return n=n?n.then(o,o):o()}}function k(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,k(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=b(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,g;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,g):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:P}}function P(){return{value:r,done:!0}}}("object"==typeof r.g?r.g:"object"==typeof window?window:"object"==typeof self?self:this)},359873:(t,e,r)=>{"use strict";r.d(e,{default:()=>l});var n=r(667294),o=r(731585),a=r(838482),i=r(41437),s=r(495104),c=function(t){var e=t.url,r=(0,i.getLang)("groups_donut_dons_only_chat_hint"),o=r.split(/\{\/?link\}/);return 3!==o.length?r:n.createElement("div",null,o[0],n.createElement("a",{href:""+e},o[1]),o[2])};const l=function(t){var e=t.checked,r=t.onChange,l=t.settingsUrl,u=t.disabled,h=t.chatCreationMode,d=(0,i.getLang)("groups_donut_dons_only_chat_checkbox"),f=(0,i.getLang)("groups_donut_dons_only_available_chat_checkbox"),g=n.createElement(o.default,{className:"CommunityChatCreation__checkbox",checked:e,onChange:r,disabled:u},d);return h===s.CHAT_CREATION_MODE.ALL?g:h===s.CHAT_CREATION_MODE.DONUT_ONLY?n.createElement(a.default,{text:f,position:"t",align:"left",appearance:"light",maxWidth:220,allowMouseOverTooltipContent:!0},g):h===s.CHAT_CREATION_MODE.REGULAR_ONLY?n.createElement(a.default,{text:n.createElement(c,{url:l}),position:"t",align:"left",appearance:"light",maxWidth:220,allowMouseOverTooltipContent:!0},g):null}},495104:(t,e,r)=>{"use strict";r.d(e,{CHAT_CREATION_MODE:()=>n});var n={ALL:"all",DONUT_ONLY:"donut_only",REGULAR_ONLY:"regular_only"}}},o={};function a(t){var e=o[t];if(void 0!==e)return e.exports;var r=o[t]={id:t,loaded:!1,exports:{}};return n[t].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=n,t=[],a.O=(e,r,n,o)=>{if(!r){var i=1/0;for(u=0;u<t.length;u++){for(var[r,n,o]=t[u],s=!0,c=0;c<r.length;c++)(!1&o||i>=o)&&Object.keys(a.O).every((t=>a.O[t](r[c])))?r.splice(c--,1):(s=!1,o<i&&(i=o));if(s){t.splice(u--,1);var l=n();void 0!==l&&(e=l)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[r,n,o]},a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},r=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,a.t=function(t,n){if(1&n&&(t=this(t)),8&n)return t;if("object"==typeof t&&t){if(4&n&&t.__esModule)return t;if(16&n&&"function"==typeof t.then)return t}var o=Object.create(null);a.r(o);var i={};e=e||[null,r({}),r([]),r(r)];for(var s=2&n&&t;"object"==typeof s&&!~e.indexOf(s);s=r(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>t[e]));return i.default=()=>t,a.d(o,i),o},a.d=(t,e)=>{for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},a.e=()=>Promise.resolve(),a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={7424:0};a.O.j=e=>0===t[e];var e=(e,r)=>{var n,o,[i,s,c]=r,l=0;for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(c)var u=c(a);for(e&&e(r);l<i.length;l++)o=i[l],a.o(t,o)&&t[o]&&t[o][0](),t[i[l]]=0;return a.O(u)},r=self.webpackChunkvk=self.webpackChunkvk||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var i=a.O(void 0,[8592,4509,9429,3087],(()=>a(441148)));i=a.O(i)})();