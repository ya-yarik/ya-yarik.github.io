(self.webpackChunkvk=self.webpackChunkvk||[]).push([[4432],{384295:(e,t,n)=>{var o,r,a,s;window,e.exports=(o=n(667294),r=n(86894),a=n(660145),s=n(376624),function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=33)}([function(e,t){e.exports=o},function(e,t){e.exports=r},function(e,t,n){var o=n(5),r=n(25);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),o(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t){e.exports=a},function(e,t,n){var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)&&o.length){var s=r.apply(null,o);s&&e.push(s)}else if("object"===a)for(var i in o)n.call(o,i)&&o[i]&&e.push(i)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},function(e,t,n){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function i(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},o=[],r=0;r<e.length;r++){var a=e[r],l=t.base?a[0]+t.base:a[0],c=n[l]||0,p="".concat(l," ").concat(c);n[l]=c+1;var d=i(p),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(s[d].references++,s[d].updater(h)):s.push({identifier:p,updater:g(h,t),references:1}),o.push(p)}return o}function c(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var s=a(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var p,d=(p=[],function(e,t){return p[e]=t,p.filter(Boolean).join("\n")});function h(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var a=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function u(e,t,n){var o=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var m=null,f=0;function g(e,t){var n,o,r;if(t.singleton){var a=f++;n=m||(m=c(t)),o=h.bind(null,n,a,!1),r=h.bind(null,n,a,!0)}else n=c(t),o=u.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=i(n[o]);s[r].references--}for(var a=l(e,t),c=0;c<n.length;c++){var p=i(n[c]);0===s[p].references&&(s[p].updater(),s.splice(p,1))}n=a}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,o,r,a=e[1]||"",s=e[3];if(!s)return a;if(t&&"function"==typeof btoa){var i=(n=s,o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(r," */")),l=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[a].concat(l).concat([i]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(r[s]=!0)}for(var i=0;i<e.length;i++){var l=[].concat(e[i]);o&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var o=n(5),r=n(29);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),o(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){var o=n(5),r=n(32);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),o(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){var o=n(5),r=n(26);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),o(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){var o=n(5),r=n(30);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),o(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){var o=n(21),r=n(22),a=n(23),s=n(24);e.exports=function(e){return o(e)||r(e)||a(e)||s()}},function(e,t,n){var o=n(5),r=n(28);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),o(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},function(e,t,n){var o=n(5),r=n(27);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),o(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t){e.exports=s},function(e,t,n){var o=n(5),r=n(31);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),o(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){var o=n(15);e.exports=function(e){if(Array.isArray(e))return o(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t,n){var o=n(15);e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){(t=n(6)(!1)).push([e.i,"/* stylelint-disable */\n/*\n* Этот файл сгенерирован автоматически. Не надо править его руками.\n*/\n/* stylelint-enable */\n/* stylelint-disable */\n/*\n* Этот файл сгенерирован автоматически. Не надо править его руками.\n*/\n/* stylelint-enable */\n._3nkNC0nOut45P4pyFllZcd {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-flow: column;\n     -moz-box-orient: vertical;\n     -moz-box-direction: normal;\n      -ms-flex-flow: column;\n          flex-flow: column;\n  -webkit-box-align: stretch;\n  -webkit-align-items: stretch;\n     -moz-box-align: stretch;\n      -ms-flex-align: stretch;\n          align-items: stretch;\n  overflow: hidden;\n  position: relative;\n  -webkit-transition: opacity 300ms;\n  -o-transition: opacity 300ms;\n  -moz-transition: opacity 300ms;\n  transition: opacity 300ms;\n}\n._1GF5A5cDMIM8fadWITtIu8 {\n  width: 40px;\n  height: 40px;\n  -webkit-border-radius: 50%;\n     -moz-border-radius: 50%;\n          border-radius: 50%;\n  margin-right: 12px;\n  overflow: hidden;\n  -webkit-flex-shrink: 0;\n      -ms-flex-negative: 0;\n          flex-shrink: 0;\n}\n._3CdmeXZ_jkzxxlpanS-ygT {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-flow: row;\n     -moz-box-orient: horizontal;\n     -moz-box-direction: normal;\n      -ms-flex-flow: row;\n          flex-flow: row;\n  -webkit-box-align: stretch;\n  -webkit-align-items: stretch;\n     -moz-box-align: stretch;\n      -ms-flex-align: stretch;\n          align-items: stretch;\n  overflow: hidden;\n}\n._1w0AGD82rdttcKaAh5SX0w {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  text-align: left;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n     -moz-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding: 10px 10px 10px 16px;\n  -webkit-box-sizing: border-box;\n     -moz-box-sizing: border-box;\n          box-sizing: border-box;\n  -webkit-box-flex: 1;\n  -webkit-flex-grow: 1;\n     -moz-box-flex: 1;\n      -ms-flex-positive: 1;\n          flex-grow: 1;\n  overflow: hidden;\n  cursor: pointer;\n  text-decoration: none;\n  background: none;\n  border: 0;\n  margin: 0;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n._1w0AGD82rdttcKaAh5SX0w:hover {\n  background-color: rgba(0, 0, 0, 0.04);\n  text-decoration: none;\n}\n._3CdmeXZ_jkzxxlpanS-ygT > .BOG-sGGMdzobJMS6tQopc {\n  -webkit-flex-basis: 0;\n      -ms-flex-preferred-size: 0;\n          flex-basis: 0;\n}\n.BOG-sGGMdzobJMS6tQopc {\n  padding: 0;\n  position: relative;\n}\n.BOG-sGGMdzobJMS6tQopc ._3VRSpsRNhZoDz8y51E8cMd {\n  padding: 10px 16px;\n  -webkit-box-sizing: border-box;\n     -moz-box-sizing: border-box;\n          box-sizing: border-box;\n  -webkit-box-flex: 1;\n  -webkit-flex-grow: 1;\n     -moz-box-flex: 1;\n      -ms-flex-positive: 1;\n          flex-grow: 1;\n}\n._2mVEyQvZZ8xPv6frLG3dzo {\n  font-size: 14px;\n  line-height: 18px;\n  color: #000000;\n}\n._7dWCiDxOyXQxYB6sr-JKC ._2mVEyQvZZ8xPv6frLG3dzo {\n  font-size: 13px;\n}\n._1BYaFQkclDMbVy-WiWvYsG {\n  overflow: hidden;\n  position: absolute;\n  right: 0;\n  bottom: 0;\n}\n.KgRLLRK-QVodXbLeQ6-nU {\n  background-color: rgba(0, 0, 0, 0.08);\n}\n._3nkNC0nOut45P4pyFllZcd > .KgRLLRK-QVodXbLeQ6-nU {\n  height: 1px;\n  -webkit-transform: scaleY(0.5);\n     -moz-transform: scaleY(0.5);\n      -ms-transform: scaleY(0.5);\n       -o-transform: scaleY(0.5);\n          transform: scaleY(0.5);\n}\n._3CdmeXZ_jkzxxlpanS-ygT > .KgRLLRK-QVodXbLeQ6-nU {\n  width: 1px;\n  -webkit-transform: scaleX(0.5);\n     -moz-transform: scaleX(0.5);\n      -ms-transform: scaleX(0.5);\n       -o-transform: scaleX(0.5);\n          transform: scaleX(0.5);\n}\n.SaPsSskFQpq_v77dG1AXJ {\n  font-size: 12px;\n  line-height: 14px;\n  font-weight: 400;\n  color: #818c99;\n  margin-bottom: 2px;\n}\n.w93Lr0pKAwjVxwkyqS2Y1 {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n     -moz-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n._31-Xarb_9ywkFuvI64vRoY {\n  font-size: 14px;\n  line-height: 18px;\n  font-weight: 500;\n  color: #000000;\n}\n._7dWCiDxOyXQxYB6sr-JKC ._31-Xarb_9ywkFuvI64vRoY {\n  font-size: 13px;\n}\n._1pikBxnP7f_5FKRYt_LWdp {\n  text-align: center;\n  margin-right: 4px;\n  color: #99a2ad;\n}\n._3VRSpsRNhZoDz8y51E8cMd {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-flow: column;\n     -moz-box-orient: vertical;\n     -moz-box-direction: normal;\n      -ms-flex-flow: column;\n          flex-flow: column;\n}\n.Qtp6iAIhvWY0T7Al3my1z {\n  margin-top: 1px;\n  color: #000000;\n  font-size: 16px;\n  line-height: 20px;\n  min-height: 20px;\n  white-space: nowrap;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n     text-overflow: ellipsis;\n}\n._7dWCiDxOyXQxYB6sr-JKC .Qtp6iAIhvWY0T7Al3my1z {\n  font-size: 13px;\n}\n._2xsyUZPFZMET-Jvv3oyxbs {\n  color: #818c99;\n  font-size: 13px;\n  line-height: 16px;\n  min-height: 16px;\n  white-space: nowrap;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n     text-overflow: ellipsis;\n}\n._2xsyUZPFZMET-Jvv3oyxbs:not(:first-child) {\n  margin-top: 3px;\n}\n._7dWCiDxOyXQxYB6sr-JKC ._2xsyUZPFZMET-Jvv3oyxbs:not(:first-child) {\n  margin-top: 2px;\n}\n._2bo7AMD6nRzx7m45Z-Y85- ._1mvJSJwXyEOe-K8z3CyK5i:first-child {\n  font-size: 14px;\n  line-height: 18px;\n  min-height: 18px;\n}\n._1mvJSJwXyEOe-K8z3CyK5i {\n  color: #3f8ae0;\n  font-size: 13px;\n  line-height: 16px;\n  min-height: 16px;\n}\n._1mvJSJwXyEOe-K8z3CyK5i:not(:first-child) {\n  margin-top: 4px;\n}\n._7dWCiDxOyXQxYB6sr-JKC ._1mvJSJwXyEOe-K8z3CyK5i {\n  font-size: 13px;\n  white-space: nowrap;\n}\n._7dWCiDxOyXQxYB6sr-JKC ._1mvJSJwXyEOe-K8z3CyK5i:not(:first-child) {\n  margin-top: 3px;\n}\n._3VYDdVu1uDxkBGjhOc6BYT {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-flow: column;\n     -moz-box-orient: vertical;\n     -moz-box-direction: normal;\n      -ms-flex-flow: column;\n          flex-flow: column;\n  -webkit-box-flex: 1;\n  -webkit-flex-grow: 1;\n     -moz-box-flex: 1;\n      -ms-flex-positive: 1;\n          flex-grow: 1;\n  margin-right: 8px;\n  overflow: hidden;\n  margin-bottom: -1px;\n}\n._3dr-hL8NcVLGqVMLB623u_ {\n  -webkit-flex-shrink: 0;\n      -ms-flex-negative: 0;\n          flex-shrink: 0;\n}\n._3jPsuIetWdSDSa7rOq8SsT {\n  color: #b8c1cc;\n}\n._2ZvREkYyqeomiFHmH9PQCU {\n  color: #4986cc;\n  padding: 30px;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n     -moz-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  font-size: 15px;\n  font-weight: 500;\n}\n/* loading state */\n._1GF5A5cDMIM8fadWITtIu8,\n.Qtp6iAIhvWY0T7Al3my1z,\n._2xsyUZPFZMET-Jvv3oyxbs,\n._1mvJSJwXyEOe-K8z3CyK5i,\n.SaPsSskFQpq_v77dG1AXJ,\n._2mVEyQvZZ8xPv6frLG3dzo {\n  -webkit-transition: opacity 300ms cubic-bezier(0.4, 0, 0.2, 1);\n  -o-transition: opacity 300ms cubic-bezier(0.4, 0, 0.2, 1);\n  -moz-transition: opacity 300ms cubic-bezier(0.4, 0, 0.2, 1);\n  transition: opacity 300ms cubic-bezier(0.4, 0, 0.2, 1);\n}\n.azQ6Gq3b8hSXU4YaQswxT ._1GF5A5cDMIM8fadWITtIu8,\n.azQ6Gq3b8hSXU4YaQswxT .Qtp6iAIhvWY0T7Al3my1z,\n.azQ6Gq3b8hSXU4YaQswxT ._2xsyUZPFZMET-Jvv3oyxbs,\n.azQ6Gq3b8hSXU4YaQswxT ._1mvJSJwXyEOe-K8z3CyK5i,\n.azQ6Gq3b8hSXU4YaQswxT .SaPsSskFQpq_v77dG1AXJ,\n.azQ6Gq3b8hSXU4YaQswxT ._2mVEyQvZZ8xPv6frLG3dzo {\n  opacity: 0;\n}\n._2EuEXVyF1RxFJ89shGln47 {\n  opacity: 0;\n  -webkit-transition: opacity 300ms cubic-bezier(0.4, 0, 0.2, 1);\n  -o-transition: opacity 300ms cubic-bezier(0.4, 0, 0.2, 1);\n  -moz-transition: opacity 300ms cubic-bezier(0.4, 0, 0.2, 1);\n  transition: opacity 300ms cubic-bezier(0.4, 0, 0.2, 1);\n}\n._3vajaj4VeLV_c4EogOnnip {\n  -webkit-animation: _1CuP31DTgonfBn9j0EOc6h 2s cubic-bezier(0.4, 0.0, 0.2, 1) infinite;\n     -moz-animation: _1CuP31DTgonfBn9j0EOc6h 2s cubic-bezier(0.4, 0.0, 0.2, 1) infinite;\n       -o-animation: _1CuP31DTgonfBn9j0EOc6h 2s cubic-bezier(0.4, 0.0, 0.2, 1) infinite;\n          animation: _1CuP31DTgonfBn9j0EOc6h 2s cubic-bezier(0.4, 0.0, 0.2, 1) infinite;\n}\n._1_advOIelg_fgXynqxei1F {\n  display: none;\n  -webkit-animation: _3iVu7cyv0x5G90gdNMg8ZK 300ms 1;\n     -moz-animation: _3iVu7cyv0x5G90gdNMg8ZK 300ms 1;\n       -o-animation: _3iVu7cyv0x5G90gdNMg8ZK 300ms 1;\n          animation: _3iVu7cyv0x5G90gdNMg8ZK 300ms 1;\n}\n@-webkit-keyframes _1CuP31DTgonfBn9j0EOc6h {\n  0% {\n    -webkit-transform: translateX(-100%);\n            transform: translateX(-100%);\n  }\n\n  60% {\n    -webkit-transform: translateX(-100%);\n            transform: translateX(-100%);\n  }\n\n  100% {\n    -webkit-transform: translateX(100%);\n            transform: translateX(100%);\n  }\n}\n@-moz-keyframes _1CuP31DTgonfBn9j0EOc6h {\n  0% {\n    -moz-transform: translateX(-100%);\n         transform: translateX(-100%);\n  }\n\n  60% {\n    -moz-transform: translateX(-100%);\n         transform: translateX(-100%);\n  }\n\n  100% {\n    -moz-transform: translateX(100%);\n         transform: translateX(100%);\n  }\n}\n@-o-keyframes _1CuP31DTgonfBn9j0EOc6h {\n  0% {\n    -o-transform: translateX(-100%);\n       transform: translateX(-100%);\n  }\n\n  60% {\n    -o-transform: translateX(-100%);\n       transform: translateX(-100%);\n  }\n\n  100% {\n    -o-transform: translateX(100%);\n       transform: translateX(100%);\n  }\n}\n@keyframes _1CuP31DTgonfBn9j0EOc6h {\n  0% {\n    -webkit-transform: translateX(-100%);\n       -moz-transform: translateX(-100%);\n         -o-transform: translateX(-100%);\n            transform: translateX(-100%);\n  }\n\n  60% {\n    -webkit-transform: translateX(-100%);\n       -moz-transform: translateX(-100%);\n         -o-transform: translateX(-100%);\n            transform: translateX(-100%);\n  }\n\n  100% {\n    -webkit-transform: translateX(100%);\n       -moz-transform: translateX(100%);\n         -o-transform: translateX(100%);\n            transform: translateX(100%);\n  }\n}\n@-webkit-keyframes _3iVu7cyv0x5G90gdNMg8ZK {\n  0% {\n    opacity: 1;\n  }\n\n  99% {\n    opacity: 0;\n  }\n\n  100% {\n    display: none;\n  }\n}\n@-moz-keyframes _3iVu7cyv0x5G90gdNMg8ZK {\n  0% {\n    opacity: 1;\n  }\n\n  99% {\n    opacity: 0;\n  }\n\n  100% {\n    display: none;\n  }\n}\n@-o-keyframes _3iVu7cyv0x5G90gdNMg8ZK {\n  0% {\n    opacity: 1;\n  }\n\n  99% {\n    opacity: 0;\n  }\n\n  100% {\n    display: none;\n  }\n}\n@keyframes _3iVu7cyv0x5G90gdNMg8ZK {\n  0% {\n    opacity: 1;\n  }\n\n  99% {\n    opacity: 0;\n  }\n\n  100% {\n    display: none;\n  }\n}\n.azQ6Gq3b8hSXU4YaQswxT ._2EuEXVyF1RxFJ89shGln47 {\n  opacity: 1;\n}\n",""]),t.locals={menu:"_3nkNC0nOut45P4pyFllZcd",avatar:"_1GF5A5cDMIM8fadWITtIu8",row:"_3CdmeXZ_jkzxxlpanS-ygT",button:"_1w0AGD82rdttcKaAh5SX0w",buttonBalance:"BOG-sGGMdzobJMS6tQopc",col:"_3VRSpsRNhZoDz8y51E8cMd",buttonBalanceLink:"_2mVEyQvZZ8xPv6frLG3dzo",regular:"_7dWCiDxOyXQxYB6sr-JKC",balanceLabel:"_1BYaFQkclDMbVy-WiWvYsG",separator:"KgRLLRK-QVodXbLeQ6-nU",buttonTitle:"SaPsSskFQpq_v77dG1AXJ",buttonSubtitle:"w93Lr0pKAwjVxwkyqS2Y1",balance:"_31-Xarb_9ywkFuvI64vRoY",balanceIcon:"_1pikBxnP7f_5FKRYt_LWdp",name:"Qtp6iAIhvWY0T7Al3my1z",phone:"_2xsyUZPFZMET-Jvv3oyxbs",hideAvatar:"_2bo7AMD6nRzx7m45Z-Y85-",link:"_1mvJSJwXyEOe-K8z3CyK5i",details:"_3VYDdVu1uDxkBGjhOc6BYT",right:"_3dr-hL8NcVLGqVMLB623u_",chevron:"_3jPsuIetWdSDSa7rOq8SsT",buttonRetry:"_2ZvREkYyqeomiFHmH9PQCU",loading:"azQ6Gq3b8hSXU4YaQswxT",skeleton:"_2EuEXVyF1RxFJ89shGln47",skeletonBackground:"_3vajaj4VeLV_c4EogOnnip","skeleton-blink":"_1CuP31DTgonfBn9j0EOc6h",skeletonHidden:"_1_advOIelg_fgXynqxei1F","skeleton-hide":"_3iVu7cyv0x5G90gdNMg8ZK"},e.exports=t},function(e,t,n){(t=n(6)(!1)).push([e.i,"/* stylelint-disable */\n/*\n* Этот файл сгенерирован автоматически. Не надо править его руками.\n*/\n/* stylelint-enable */\n.WbE4m-apLVDKtAZR4Nxuf {\n  display: block;\n  height: 100%;\n  width: 100%;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n     -moz-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n     -moz-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  text-align: center;\n  background: #ffffff;\n}\n.mkBjCgYQdRf4Fz1r8aV3p {\n  margin: auto;\n}\n.B5hD6hWTtew6xyufJuhhP {\n  margin: 12px auto 0;\n  font-size: 14px;\n  line-height: 18px;\n  color: #76787a;\n  max-width: 400px;\n}\n._3f5IB-rctMpxGe_mWEnC1g {\n  margin-top: 4px;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 18px;\n  color: #4986cc;\n}\n.Txgnf6NyLE5jFnAxwsZC4 {\n  margin-top: 16px;\n}\n",""]),t.locals={container:"WbE4m-apLVDKtAZR4Nxuf",headerIcon:"mkBjCgYQdRf4Fz1r8aV3p",text:"B5hD6hWTtew6xyufJuhhP",moreLink:"_3f5IB-rctMpxGe_mWEnC1g",button:"Txgnf6NyLE5jFnAxwsZC4"},e.exports=t},function(e,t,n){(t=n(6)(!1)).push([e.i,"._16JAdWsJKiDJ0NKgWeGRC1 {\n  height: 100%;\n  min-height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n",""]),t.locals={iframe:"_16JAdWsJKiDJ0NKgWeGRC1"},e.exports=t},function(e,t,n){(t=n(6)(!1)).push([e.i,"/* stylelint-disable */\n/*\n* Этот файл сгенерирован автоматически. Не надо править его руками.\n*/\n/* stylelint-enable */\n._3xv09EXqbzDzDEfFCP8iD4 {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n._2fPdOMpF64LXm8JxiQ60bA {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n     -moz-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n     -moz-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  z-index: 1;\n}\n._3nIomjKoG5NMHr9fiCgKKj {\n  left: 0;\n  top: 0;\n  position: absolute;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  -webkit-border-radius: 8px;\n     -moz-border-radius: 8px;\n          border-radius: 8px;\n}\n",""]),t.locals={miniApp:"_3xv09EXqbzDzDEfFCP8iD4",auth:"_2fPdOMpF64LXm8JxiQ60bA",miniAppWrap:"_3nIomjKoG5NMHr9fiCgKKj"},e.exports=t},function(e,t,n){(t=n(6)(!1)).push([e.i,"/* stylelint-disable */\n/*\n* Этот файл сгенерирован автоматически. Не надо править его руками.\n*/\n/* stylelint-enable */\n._1qRCLpECKMDpEsNLY3-hEb {\n  position: absolute;\n  top: 14px;\n  right: -42px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: reverse;\n  -webkit-flex-flow: column-reverse;\n     -moz-box-orient: vertical;\n     -moz-box-direction: reverse;\n      -ms-flex-flow: column-reverse;\n          flex-flow: column-reverse;\n  z-index: 5;\n}\n._2PCrKgKw_S8w2NmCS52icA {\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-flow: row;\n     -moz-box-orient: horizontal;\n     -moz-box-direction: normal;\n      -ms-flex-flow: row;\n          flex-flow: row;\n  top: 10px;\n  right: 8px;\n  width: 88px;\n  height: 32px;\n  -webkit-border-radius: 10px;\n     -moz-border-radius: 10px;\n          border-radius: 10px;\n  background-color: rgba(40, 43, 46, 0.2);\n}\n.fus3I550RPBN99nvjB2wd {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n     -moz-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n     -moz-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  width: 28px;\n  height: 28px;\n  outline: none;\n  color: #ffffff;\n  padding: 0;\n  cursor: pointer;\n  border: 0;\n  background: rgba(0, 0, 0, 0.35);\n  -webkit-border-radius: 50%;\n     -moz-border-radius: 50%;\n          border-radius: 50%;\n  margin-bottom: 10px;\n}\n._2PCrKgKw_S8w2NmCS52icA .fus3I550RPBN99nvjB2wd {\n  width: auto;\n  height: auto;\n  margin: 0;\n  padding: 0 10px;\n  -webkit-border-radius: 0;\n     -moz-border-radius: 0;\n          border-radius: 0;\n  background-color: transparent;\n}\n._3XGpZ-rELYtmyA-UxPfJde {\n  display: none;\n}\n._2PCrKgKw_S8w2NmCS52icA ._3XGpZ-rELYtmyA-UxPfJde {\n  display: block;\n  position: absolute;\n  right: 43px;\n  top: 4px;\n  content: '';\n  width: 1px;\n  height: 24px;\n  background-color: rgba(255, 255, 255, 0.12);\n}\n",""]),t.locals={header:"_1qRCLpECKMDpEsNLY3-hEb",mobileHeader:"_2PCrKgKw_S8w2NmCS52icA",controls:"fus3I550RPBN99nvjB2wd",delimiter:"_3XGpZ-rELYtmyA-UxPfJde"},e.exports=t},function(e,t,n){(t=n(6)(!1)).push([e.i,"/* stylelint-disable */\n/*\n* Этот файл сгенерирован автоматически. Не надо править его руками.\n*/\n/* stylelint-enable */\n/* stylelint-disable */\n/*\n* Этот файл сгенерирован автоматически. Не надо править его руками.\n*/\n/* stylelint-enable */\n/* stylelint-disable */\n/*\n* Этот файл сгенерирован автоматически. Не надо править его руками.\n*/\n/* stylelint-enable */\n._1K3icTSdiYSlf05MROWE7D {\n  position: absolute;\n  width: 202px;\n  background: #ffffff;\n  top: 100%;\n  right: 0;\n  -webkit-border-radius: 4px;\n     -moz-border-radius: 4px;\n          border-radius: 4px;\n  border: 1px solid #b8c1cc;\n  -webkit-box-sizing: border-box;\n     -moz-box-sizing: border-box;\n          box-sizing: border-box;\n  -webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n     -moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n}\n._1K3icTSdiYSlf05MROWE7D:after {\n  content: '';\n  position: absolute;\n  right: 6px;\n  top: -12px;\n  border: 6px solid transparent;\n  border-bottom: 6px solid #ffffff;\n  z-index: 1;\n}\n._1K3icTSdiYSlf05MROWE7D a {\n  color: #3c6a9e;\n  text-decoration: none;\n}\n._1LdnvhvI19H0hi87KjXT5d {\n  height: 1px;\n  width: 168px;\n  margin: auto;\n  background: #b8c1cc;\n}\n._1yS1GNEfcK9YnACSGPcoUA {\n  position: absolute;\n  width: 50px;\n  height: 40px;\n  right: 0;\n  top: -40px;\n}\n._15dZkoUhh88iUGbE1ReKPM {\n  margin-left: 5px;\n  -o-text-overflow: ellipsis;\n     text-overflow: ellipsis;\n  overflow: hidden;\n}\n",""]),t.locals={desktopMenu:"_1K3icTSdiYSlf05MROWE7D",delimeter:"_1LdnvhvI19H0hi87KjXT5d",hoverMask:"_1yS1GNEfcK9YnACSGPcoUA",authorLink:"_15dZkoUhh88iUGbE1ReKPM"},e.exports=t},function(e,t,n){(t=n(6)(!1)).push([e.i,".Rc2ML2PX4t1TdXaEWsyjj {\n  text-align: center;\n}\n",""]),t.locals={qrContainer:"Rc2ML2PX4t1TdXaEWsyjj"},e.exports=t},function(e,t,n){(t=n(6)(!1)).push([e.i,"/* stylelint-disable */\n/*\n* Этот файл сгенерирован автоматически. Не надо править его руками.\n*/\n/* stylelint-enable */\n._1SOE078Vm95URFxyPy4kyh {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n}\n._2hd9yd56p88c97nUCdraMh {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.75);\n}\n._1FycCvi-fnquhF31UO6RDS {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  margin: auto;\n  -webkit-transform: translate3d(0, 0, 0);\n     -moz-transform: translate3d(0, 0, 0);\n          transform: translate3d(0, 0, 0);\n}\n.fzwUkWkfkV7F1pLieOciU {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  margin: auto;\n  background: #ffffff;\n}\n@media screen and (min-width: 768px) {\n  ._1FycCvi-fnquhF31UO6RDS {\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n       -moz-transform: translateX(-50%);\n        -ms-transform: translateX(-50%);\n         -o-transform: translateX(-50%);\n            transform: translateX(-50%);\n    max-width: 748px;\n    padding: 25px 0 80px ;\n    -webkit-box-sizing: border-box;\n       -moz-box-sizing: border-box;\n            box-sizing: border-box;\n    max-height: 100%;\n  }\n\n  ._3YZzN1W5CZCfNjhG0RA-Z1 {\n    max-width: 100%;\n    padding: 0;\n  }\n\n  .fzwUkWkfkV7F1pLieOciU {\n    -webkit-border-radius: 8px;\n       -moz-border-radius: 8px;\n            border-radius: 8px;\n    -webkit-box-shadow: 0 0 14px 0 rgba(0, 0, 0, 0.60);\n       -moz-box-shadow: 0 0 14px 0 rgba(0, 0, 0, 0.60);\n            box-shadow: 0 0 14px 0 rgba(0, 0, 0, 0.60);\n  }\n}\n",""]),t.locals={miniAppPopup:"_1SOE078Vm95URFxyPy4kyh",overlay:"_2hd9yd56p88c97nUCdraMh",container:"_1FycCvi-fnquhF31UO6RDS",content:"fzwUkWkfkV7F1pLieOciU",containerFullMode:"_3YZzN1W5CZCfNjhG0RA-Z1"},e.exports=t},function(e,t,n){"use strict";var o;n.r(t),n.d(t,"MiniAppBase",(function(){return Ne})),n.d(t,"MiniApp",(function(){return qe})),n.d(t,"MiniAppPopup",(function(){return ut})),n.d(t,"EcosystemAccountMenu",(function(){return ce})),n.d(t,"MiniAppEvents",(function(){return p})),n.d(t,"MiniAppUIActionNames",(function(){return Ue})),n.d(t,"MiniAppAdaptivity",(function(){return Ce})),n.d(t,"MiniAppBackButton",(function(){return we})),n.d(t,"MiniAppIntegration",(function(){return Ae})),n.d(t,"ERROR_CODES",(function(){return o})),function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.MISSING_PARAM=2]="MISSING_PARAM",e[e.CONNECTION_LOST=3]="CONNECTION_LOST",e[e.USER_DENIED=4]="USER_DENIED",e[e.INVALID_PARAMS=5]="INVALID_PARAMS",e[e.CUSTOM=6]="CUSTOM",e[e.ACCESS_DENIED=11]="ACCESS_DENIED",e[e.OLD_MISSING_PARAM=100]="OLD_MISSING_PARAM"}(o||(o={}));const r=e=>`Missing required param "${e}".`,a=(e,t)=>`Param "${e}" should be a ${t}`,s=(e,t)=>`Param "${e}" should be a ${t}`,i=e=>e+". Unsupported platform",l=()=>"User denied",c=e=>e&&e.error_msg;var p;!function(e){e.Init="VKWebAppInit",e.GetAuthToken="VKWebAppGetAuthToken",e.UpdateConfig="VKWebAppUpdateConfig",e.CallApiMethod="VKWebAppCallAPIMethod",e.GetClientVersion="VKWebAppGetClientVersion",e.Close="VKWebAppClose",e.GetGeodata="VKWebAppGetGeodata",e.StorageGet="VKWebAppStorageGet",e.StorageSet="VKWebAppStorageSet",e.GetUserInfo="VKWebAppGetUserInfo",e.OpenApp="VKWebAppOpenApp",e.AllowNotifications="VKWebAppAllowNotifications",e.DenyNotifications="VKWebAppDenyNotifications",e.GetPhoneNumber="VKWebAppGetPhoneNumber",e.GetEmail="VKWebAppGetEmail",e.StorageGetKeys="VKWebAppStorageGetKeys",e.OpenPayForm="VKWebAppOpenPayForm",e.ActionDone="VKWebAppActionDone",e.AddToFavorites="VKWebAppAddToFavorites",e.AllowMessagesFromGroup="VKWebAppAllowMessagesFromGroup",e.JoinGroup="VKWebAppJoinGroup",e.LeaveGroup="VKWebAppLeaveGroup",e.GetGroupInfo="VKWebAppGetGroupInfo",e.Alert="VKWebAppAlert",e.GetConfig="VKWebAppGetConfig",e.RetargetingPixel="VKWebAppRetargetingPixel",e.CopyText="VKWebAppCopyText",e.Scroll="VKWebAppScroll"}(p||(p={}));const d=[p.Alert,"VKWebAppAuthByExchangeToken","VKWebAppChangePassword","VKWebAppForceLogout","VKWebAppGetCustomConfig","VKWebAppLogout","VKWebAppOpenLiveCoverCamera","VKWebAppOpenP2P","VKWebAppPrivacyEditSuccess"];var h;!function(e){e.SetSupportedHandlers="SetSupportedHandlers"}(h||(h={}));var u=n(3),m=n(1),f=n(4),g=n.n(f),b=n(0),_=n.n(b);const v=(...e)=>{},y=(...e)=>{},x=Object(b.createContext)({appId:0,apiUrl:"",getToken:()=>Promise.resolve("")});function k(){return Object(b.useContext)(x)}const C=({children:e,onGetHostToken:t,appId:n,apiUrl:o})=>{const[r,a]=Object(b.useState)();Object(b.useEffect)((()=>{t().then(a).catch(y)}),[t]);const s=Object(b.useCallback)((e=>r&&!e?Promise.resolve(r):t(e).then((e=>(a(e),e))).catch((e=>(y(e),"")))),[r,t]);return _.a.createElement(x.Provider,{value:{appId:n,apiUrl:o,getToken:s}},e)};var A=!("undefined"==typeof window||!window.document||!window.document.createElement),w=A&&!!window.addEventListener,M={supported:!1,name:"animationend"},E={supported:!1,name:"transitionend"};A&&("undefined"!=typeof AnimationEvent?M.supported=!0:"undefined"!=typeof WebKitAnimationEvent&&(M.supported=!0,M.name="webkitAnimationEnd"),"undefined"!=typeof TransitionEvent?E.supported=!0:"undefined"!=typeof WebKitTransitionEvent&&(E.supported=!0,E.name="webkitTransitionEnd"));var P=n(9),S=n.n(P);function N(e){return navigator.clipboard?function(e){return navigator.clipboard.writeText(e).then((function(){return!0}))}(e):function(e){return new Promise((function(t,n){var o=document.createElement("textarea"),r=document.createRange();o.value=e,o.style.position="fixed",o.contentEditable="true",document.body.appendChild(o),o.focus(),o.select(),r.selectNodeContents(o);var a=window.getSelection();a&&(a.removeAllRanges(),a.addRange(r)),o.setSelectionRange(0,999999);try{document.execCommand("copy")?t(!0):n(new Error("copy failed"))}catch(e){n(e)}a&&a.removeAllRanges(),document.body.removeChild(o)}))}(e)}var O=function(){};if(w)try{var I=Object.defineProperty({},"passive",{get:function(){}});window.addEventListener("test",O,I),window.removeEventListener("test",O,I)}catch(e){}!function(){if(!A)return!1;try{document.createElement("div").scrollTo({top:0,get behavior(){return"smooth"}})}catch(e){}}(),n(13);var j=n(7),T=n.n(j);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){T()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R={parse:function(e){if("string"!=typeof e)return{};if(!(e=e.trim().replace(/^[?#&]/,"")))return{};var t=/\?(.+)$/gi.exec(e);return(t?t[1]:e).split("&").reduce((function(e,t){var n=t.split("=");return n[1]&&(e[n[0]]=decodeURIComponent(n[1])),e}),{})},stringify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==S()(e)||null===e)return"";t=V({encode:!0},t);var n=function(e){return t.encode?encodeURIComponent(e):String(e)};return Object.keys(e).reduce((function(o,r){var a=e[r];return void 0===a?o:null===a?(t.skipNull||o.push([n(r),""].join("=")),o):Array.isArray(a)?(a.map((function(e){o.push("".concat(n(r),"[]=").concat(n(e)))})).join(),o):(o.push([n(r),n(a)].join("=")),o)}),[]).join("&")}};n(16),n(17);const z=(e,t,n)=>{const o=((e,t)=>{delete t.callback,Object.keys(t).forEach((e=>{"object"!=typeof t[e]||Array.isArray(t[e])||(t[e]=JSON.stringify(t[e]))}));const n=Object.assign({method:e,format:"json"},t);return R.stringify(n)})(t,n);return fetch(`${e}/${t}`,{method:"POST",mode:"cors",body:o,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((e=>e.json()))},L=Object(b.createContext)({fetchData:()=>Promise.resolve()}),D=({children:e,apiMethod:t,fetchOnMount:n})=>{const[o,r]=Object(b.useState)(),[a,s]=Object(b.useState)(!0),[i,l]=Object(b.useState)(!1),{appId:c,apiUrl:p,getToken:d}=k();Object(b.useEffect)((()=>{d().catch(y)}),[d]);const h=Object(b.useCallback)((()=>(s(!0),l(!1),d().then((e=>{if(p&&t)return z(p+"/method",t,{access_token:e,app_id:c,v:5.131}).then((e=>{if(e.error)throw new Error(e.error);return s(!1),l(!1),r(e),e}))})).catch((e=>{s(!1),l(!0),y(e)})))),[p,t]);return Object(b.useEffect)((()=>{n&&h().catch(y)}),[]),_.a.createElement(L.Provider,{value:{fetchData:h,data:o,loading:a,failed:i}},e)};D.defaultProps={fetchOnMount:!0};const K=Object(b.createContext)({features:{},fetchToggles:()=>Promise.resolve()}),H=({children:e,toggles:t})=>{const[n,o]=Object(b.useState)({}),{apiUrl:r,getToken:a}=k(),s=Object(b.useCallback)((e=>a().then((t=>{if(r)return z(r+"/method","account.getToggles",{access_token:t,version:0,toggles:e.join(","),v:"5.103"}).then((e=>{if((e=>e.error)(e))throw new Error(e.error);{let t={};return e.response.toggles.map((e=>{t[e.name]=e})),o(t),t}}))})).catch(y)),[a,r]);return Object(b.useEffect)((()=>{a().catch(y),t&&s(t).catch(y)}),[a,t]),_.a.createElement(K.Provider,{value:{fetchToggles:s,features:n}},e)},F=_.a.createContext({getLang:()=>""});function W(e){const t={getLang:e.getLang};return _.a.createElement(F.Provider,{value:t},e.children)}function U(){return Object(b.useContext)(F)}const q=e=>t=>{const n=U();return _.a.createElement(e,Object.assign({},t,{langContext:n}))};class X extends _.a.Component{constructor(){super(...arguments),this.contentRef=Object(b.createRef)()}componentDidMount(){const{langContext:e}=this.props,{getLang:t}=e,n=Object.keys(this.props).reduce(((e,t)=>("lang"===t||(e[t]=`<span data-key="${t}"></span>`),e)),{});this.contentRef.current&&(this.contentRef.current.innerHTML=t(this.props.lang,n),this.updateKeys())}componentDidUpdate(){this.updateKeys()}updateKeys(){if(!this.contentRef.current)return;const e=this.contentRef.current.querySelectorAll("[data-key]");e.length&&[].slice.call(e).map((e=>[e,e.getAttribute("data-key")])).forEach((([e,t])=>{e.textContent=this.props[t]}))}render(){return _.a.createElement("span",{ref:this.contentRef})}}var B=q(X);const Z=e=>_.a.createElement("svg",Object.assign({},e,{width:"56",height:"54",viewBox:"0 0 56 54",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),_.a.createElement("g",{clipPath:"url(#clip0)"},_.a.createElement("circle",{opacity:"0.12",cx:"40",cy:"38",r:"22",fill:"var(--icon_tertiary)"}),_.a.createElement("path",{opacity:"0.64",fillRule:"evenodd",clipRule:"evenodd",d:"M44.1873 27.8282C46.4341 28.7531 48.3114 30.3958 49.5263 32.5L47.4305 33.71C46.4829 32.0687 45.0186 30.7874 43.2661 30.066C41.5137 29.3446 39.5716 29.2236 37.7432 29.7221C35.9148 30.2206 34.3028 31.3104 33.159 32.8215C32.0152 34.3325 31.4038 36.1797 31.4203 38.0748C31.4369 39.9699 32.0804 41.8062 33.2504 43.2971C34.4204 44.7879 36.0511 45.8495 37.8879 46.316C39.7248 46.7825 41.6644 46.6277 43.404 45.8759C45.1436 45.124 46.5854 43.8173 47.5042 42.1597L49.6208 43.333C48.4428 45.4581 46.5944 47.1333 44.3641 48.0972C42.1338 49.0612 39.6472 49.2596 37.2922 48.6615C34.9373 48.0634 32.8467 46.7025 31.3466 44.7911C29.8466 42.8798 29.0216 40.5255 29.0004 38.0959C28.9792 35.6663 29.763 33.2981 31.2295 31.3609C32.696 29.4236 34.7625 28.0264 37.1067 27.3873C39.4508 26.7483 41.9406 26.9033 44.1873 27.8282ZM44 38C44 40.2346 42.2247 42 40 42C37.7753 42 36 40.2346 36 38C36 35.7654 37.7753 34 40 34C42.2247 34 44 35.7654 44 38Z",fill:"var(--icon_tertiary)"})),_.a.createElement("defs",null,_.a.createElement("clipPath",{id:"clip0"},_.a.createElement("rect",{width:"40",height:"40",fill:"white",transform:"translate(16 14)"}))));var J=n(2),Q=n.n(J);const Y=e=>_.a.createElement("svg",Object.assign({},e,{width:"56",height:"54",viewBox:"0 0 56 54",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),_.a.createElement("g",{clipPath:"url(#clip0)"},_.a.createElement("path",{opacity:"0.12",fillRule:"evenodd",clipRule:"evenodd",d:"M44.8827 18.4956C43.2929 16.9498 42.4899 16.5201 41.5367 16.2311C40.5199 15.923 39.4801 15.923 38.4633 16.2311C37.4465 16.5393 36.6007 17.0078 34.7886 18.8199L33.6613 19.9471C33.1456 20.4629 32.4461 20.7526 31.7168 20.7526H30.1226C27.5599 20.7526 26.6306 21.0194 25.6937 21.5205C24.7568 22.0215 24.0215 22.7568 23.5205 23.6937C23.0194 24.6306 22.7526 25.5599 22.7526 28.1227V29.7168C22.7526 30.4461 22.4629 31.1456 21.9471 31.6613L20.4956 33.1173C18.9498 34.7071 18.5201 35.5101 18.2311 36.4633C17.923 37.4801 17.923 38.5199 18.2311 39.5367C18.5393 40.5535 19.0078 41.3993 20.8199 43.2114L21.9471 44.3387C22.4629 44.8544 22.7526 45.5539 22.7526 46.2832V47.8774C22.7526 50.4401 23.0194 51.3694 23.5205 52.3063C24.0215 53.2432 24.7568 53.9785 25.6937 54.4795C26.6306 54.9806 27.5599 55.2474 30.1226 55.2474H31.7168C32.4461 55.2474 33.1456 55.5372 33.6613 56.0529L35.1173 57.5044C36.7071 59.0502 37.5101 59.4799 38.4633 59.7689C39.4801 60.077 40.5199 60.077 41.5367 59.7689C42.5535 59.4607 43.3993 58.9922 45.2114 57.1801L46.3387 56.0529C46.8544 55.5372 47.5539 55.2474 48.2832 55.2474H49.8774C52.4401 55.2474 53.3694 54.9806 54.3063 54.4795C55.2432 53.9785 55.9785 53.2432 56.4795 52.3063C56.9806 51.3694 57.2474 50.4401 57.2474 47.8774V46.2832C57.2474 45.5539 57.5372 44.8544 58.0529 44.3387L59.5044 42.8827C61.0502 41.2929 61.4799 40.4899 61.7689 39.5367C62.077 38.5199 62.077 37.4801 61.7689 36.4633C61.4607 35.4465 60.9922 34.6007 59.1801 32.7886L58.0529 31.6613C57.5372 31.1456 57.2474 30.4461 57.2474 29.7168V28.1227C57.2474 25.5599 56.9806 24.6306 56.4795 23.6937C55.9785 22.7568 55.2432 22.0215 54.3063 21.5205C53.3694 21.0194 52.4401 20.7526 49.8774 20.7526H48.2832C47.5539 20.7526 46.8544 20.4629 46.3387 19.9471L44.8827 18.4956Z",fill:"var(--icon_tertiary)"}),_.a.createElement("path",{opacity:"0.64",fillRule:"evenodd",clipRule:"evenodd",d:"M44.8752 30.7942C45.1759 30.1728 44.9159 29.4253 44.2945 29.1246C43.673 28.8239 42.9255 29.0839 42.6248 29.7053L35.1248 45.2053C34.8241 45.8268 35.0841 46.5743 35.7055 46.875C36.327 47.1757 37.0745 46.9157 37.3752 46.2942L44.8752 30.7942ZM35 35.2498V33.7498C35 33.0594 34.4404 32.4998 33.75 32.4998C33.0596 32.4998 32.5 33.0594 32.5 33.7498V35.2498C32.5 35.9402 33.0596 36.4998 33.75 36.4998C34.4404 36.4998 35 35.9402 35 35.2498ZM33.75 29.9998C31.6789 29.9998 30 31.6787 30 33.7498V35.2498C30 37.3209 31.6789 38.9998 33.75 38.9998C35.8211 38.9998 37.5 37.3209 37.5 35.2498V33.7498C37.5 31.6787 35.8211 29.9998 33.75 29.9998ZM47.5 42.2498V40.7498C47.5 40.0594 46.9404 39.4998 46.25 39.4998C45.5596 39.4998 45 40.0594 45 40.7498V42.2498C45 42.9402 45.5596 43.4998 46.25 43.4998C46.9404 43.4998 47.5 42.9402 47.5 42.2498ZM46.25 36.9998C44.1789 36.9998 42.5 38.6787 42.5 40.7498V42.2498C42.5 44.3209 44.1789 45.9998 46.25 45.9998C48.3211 45.9998 50 44.3209 50 42.2498V40.7498C50 38.6787 48.3211 36.9998 46.25 36.9998Z",fill:"var(--icon_tertiary)"})),_.a.createElement("defs",null,_.a.createElement("clipPath",{id:"clip0"},_.a.createElement("rect",{width:"56",height:"54",fill:"white"})))),$=e=>_.a.createElement("svg",Object.assign({},e,{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),_.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.00876551 6C0.0292882 5.13476 0.0978604 4.5877 0.32698 4.13803C0.614601 3.57354 1.07354 3.1146 1.63803 2.82698C2.27976 2.5 3.11984 2.5 4.8 2.5H9.2C10.8802 2.5 11.7202 2.5 12.362 2.82698C12.9265 3.1146 13.3854 3.57354 13.673 4.13803C13.9021 4.5877 13.9707 5.13476 13.9912 6H14V7.2285C14 7.25216 14 7.27599 14 7.3L14 8L14 8.7C14 10.3802 14 11.2202 13.673 11.862C13.3854 12.4265 12.9265 12.8854 12.362 13.173C11.7202 13.5 10.8802 13.5 9.2 13.5H4.8C3.11984 13.5 2.27976 13.5 1.63803 13.173C1.07354 12.8854 0.614601 12.4265 0.32698 11.862C0 11.2202 0 10.3802 0 8.7V8V7.3V6H0.00876551ZM1.5 8V9.52C1.5 10.3881 1.5 10.8221 1.66894 11.1537C1.81754 11.4453 2.05466 11.6825 2.34631 11.8311C2.67788 12 3.11192 12 3.98 12H10.02C10.8881 12 11.3221 12 11.6537 11.8311C11.9453 11.6825 12.1825 11.4453 12.3311 11.1537C12.5 10.8221 12.5 10.3881 12.5 9.52V8H1.5ZM12.4986 6H1.50144C1.50703 5.43905 1.53447 5.11022 1.66894 4.84631C1.81754 4.55466 2.05466 4.31754 2.34631 4.16894C2.67788 4 3.11192 4 3.98 4H10.02C10.8881 4 11.3221 4 11.6537 4.16894C11.9453 4.31754 12.1825 4.55466 12.3311 4.84631C12.4655 5.11022 12.493 5.43905 12.4986 6Z",fill:"currentColor"})),ee=e=>_.a.createElement("svg",Object.assign({},e,{width:"56",height:"54",viewBox:"0 0 56 54",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),_.a.createElement("g",{clipPath:"url(#clip0)"},_.a.createElement("g",{clipPath:"url(#clip1)"},_.a.createElement("circle",{opacity:"0.12",cx:"40.25",cy:"38",r:"22",fill:"var(--icon_tertiary)"}),_.a.createElement("path",{opacity:"0.64",fillRule:"evenodd",clipRule:"evenodd",d:"M36 29.25C36 28.5596 36.5596 28 37.25 28H42.25C45.4256 28 48 30.5744 48 33.75C48 36.9256 45.4256 39.5 42.25 39.5H38.5V42H42.75C43.4404 42 44 42.5596 44 43.25C44 43.9404 43.4404 44.5 42.75 44.5H38.5V46.75C38.5 47.4404 37.9404 48 37.25 48C36.5596 48 36 47.4404 36 46.75V44.5H34.25C33.5596 44.5 33 43.9404 33 43.25C33 42.5596 33.5596 42 34.25 42H36V39.5H34.25C33.5596 39.5 33 38.9404 33 38.25C33 37.5596 33.5596 37 34.25 37H36V29.25ZM38.5 37H42.25C44.0449 37 45.5 35.5449 45.5 33.75C45.5 31.9551 44.0449 30.5 42.25 30.5H38.5V37Z",fill:"var(--icon_tertiary)"}))),_.a.createElement("defs",null,_.a.createElement("clipPath",{id:"clip0"},_.a.createElement("rect",{width:"56",height:"54",fill:"white"})),_.a.createElement("clipPath",{id:"clip1"},_.a.createElement("rect",{width:"40",height:"40",fill:"white",transform:"translate(16.25 14)"}))));var te=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};let ne=0;const oe=(e="id_")=>{const t=Object(b.useRef)(null);return null===t.current&&(t.current=ne++),`${e}${t.current}`},re={avatar:!0,name:!0,phone:!0,buttons:!0,vkConnectHref:"https://connect.vk.com/account",vkPayConnectHref:"https://vk.com/miniapps_vkpay#promo=vkconnect-bind-card",vkPayOpenHref:"https://vk.com/miniapps_vkpay#promo=vkconnect-sign-up",vkComboOpenHref:"https://vk.com/vkcombo"},ae={backgroundColor:"var(--content_tint_background)",textColor:"var(--text_primary)",textColorAccent:"var(--accent)",borderRadius:8,width:254,fontFamily:"inherit"};var se;!function(e){e.CLICK_ENTER_LK="click_enter_lk",e.CLICK_VK_PAY="click_vk_pay",e.CLICK_VK_COMBO="click_vk_combo"}(se||(se={}));const ie=({id:e,config:t,isDesktop:n,hidden:o})=>{const r=!t.avatar,a=!t.name,s=!t.phone,i=!t.buttons,l=30+(a||s?0:10),c=16+(r?0:52),p=13+(a?0:23),d=13+(a?0:23)+(s?0:20)+(a&&s?r?3:11:0),h=n?r?a&&s?45:a?55:s?60:79:a||s?61:79:r?a&&s?45:a?56:s?61:80:a||s?61:80;return _.a.createElement("svg",{className:g()(Q.a.skeleton,{[Q.a.skeletonHidden]:o}),width:"100%",height:"100%",style:{position:"absolute"},xmlns:"http://www.w3.org/2000/svg"},_.a.createElement("defs",null,_.a.createElement("mask",{id:e},!r&&_.a.createElement("circle",{cx:"36",cy:l,r:"20",fill:"#fff"}),_.a.createElement("svg",{x:c},!a&&_.a.createElement("rect",{x:"0",y:13,width:"140",height:"15",rx:"4",fill:"#fff"}),!s&&_.a.createElement("rect",{x:"0",y:p,width:"84",height:"12",rx:"4",fill:"#fff"}),_.a.createElement("rect",{x:"0",y:d,width:"152",height:"12",rx:"4",fill:"#fff"})),!i&&_.a.createElement("svg",{y:h},_.a.createElement("svg",null,_.a.createElement("rect",{x:"16",y:"11",width:"40",height:"12",rx:"4",fill:"#fff"}),_.a.createElement("rect",{x:"16",y:"29",width:66,height:"14",rx:"4",fill:"#fff"})),_.a.createElement("svg",{x:"50%"},_.a.createElement("rect",{x:"16",y:11,width:"60",height:"12",rx:"4",fill:"#fff"}),_.a.createElement("rect",{x:"16",y:29,width:70,height:"14",rx:"4",fill:"#fff"})))),_.a.createElement("linearGradient",{id:"skeleton-gradient"},_.a.createElement("stop",{stopColor:"var(--icon_tertiary)",stopOpacity:"0",offset:"0%"}),_.a.createElement("stop",{stopColor:"var(--icon_tertiary)",stopOpacity:"0.12",offset:"50%"}),_.a.createElement("stop",{stopColor:"var(--icon_tertiary)",stopOpacity:"0",offset:"100%"}))),_.a.createElement("g",{mask:`url(#${e})`},_.a.createElement("rect",{x:"0",y:"0",opacity:"0.12",fill:"var(--icon_tertiary)",width:"100%",height:"100%"}),_.a.createElement("rect",{className:Q.a.skeletonBackground,x:"0",y:"0",fill:"url(#skeleton-gradient)",width:"100%",height:"100%"})))},le=Object(m.withAdaptivity)((e=>{var t,n,o;const{sizeX:r,disableStats:a,entryPoint:s}=e,{getToken:i,appId:l,apiUrl:c}=k(),{fetchData:p,data:d,loading:h,failed:f}=Object(b.useContext)(L),{features:v={}}=Object(b.useContext)(K),x=Object.assign(Object.assign({},re),e.config),C=Object.assign(Object.assign({},ae),e.styles),A={backgroundColor:C.backgroundColor,borderRadius:C.borderRadius,width:C.width,fontFamily:C.fontFamily},w=!x.avatar,M=!x.name,E=!x.phone,P=!x.buttons,S=null==d?void 0:d.response,N=null==S?void 0:S.account_navigation_info,O=Object(b.useCallback)((e=>{!a&&i().then((t=>z(c+"/method","statEvents.add",{access_token:t,auth_token:t,app_id:l,v:5.131,vkui:1,events:JSON.stringify([{id:Math.floor(2147483647*Math.random()),prev_event_id:0,prev_nav_id:0,timestamp:String(1e3*Date.now()),screen:"main",type:"type_action",type_action:{type:"type_vk_connect_navigation_item",type_vk_connect_navigation_item:{event_type:e,flow_service:s}}}])}))).catch(y)}),[a,i,c,l]),I=Object(b.useCallback)((()=>{O(se.CLICK_ENTER_LK),x.onVkConnectClick&&x.onVkConnectClick()}),[x.onVkConnectClick]),j=Object(b.useCallback)((()=>{O(se.CLICK_VK_PAY),(null==S?void 0:S.vkpay_payments_navigation_info)&&(S.vkpay_payments_navigation_info.card_digits?x.onVkPayOpenApp&&x.onVkPayOpenApp():x.onVkPayConnectCard&&x.onVkPayConnectCard())}),[null==S?void 0:S.vkpay_payments_navigation_info,x.onVkPayConnectCard,x.onVkPayOpenApp]),T=(null===(t=null==S?void 0:S.vkpay_payments_navigation_info)||void 0===t?void 0:t.card_digits)?x.vkPayOpenHref:x.vkPayConnectHref,G=(null===(n=v.vkc_ecosystem_profile_combo_ic)||void 0===n?void 0:n.value)?Z:Y,V=Object(b.useCallback)((()=>{O(se.CLICK_VK_COMBO),x.onVkComboOpenApp&&x.onVkComboOpenApp()}),[x.onVkComboOpenApp]),R=r===m.SizeType.REGULAR,D=oe(),H=!E&&(h||(null==N?void 0:N.phone)||(null==N?void 0:N.domain))&&_.a.createElement("div",{className:Q.a.phone},(null==N?void 0:N.phone)?null===(o=N.phone)||void 0===o?void 0:o.replace(/&nbsp;/g," ").replace(/\*/g,"·"):"@"+(null==N?void 0:N.domain)),F=_.a.createElement("div",{className:Q.a.link,style:{color:C.textColorAccent}},_.a.createElement(B,{lang:"vkconnect_sak_ecosystem_menu_vkconnect_control"}));return _.a.createElement("div",{className:g()(Q.a.menu,R?Q.a.regular:Q.a.compact,{[Q.a.loading]:h,[Q.a.hideAvatar]:w}),style:A},f?_.a.createElement("div",{className:Q.a.row},_.a.createElement("button",{className:g()(Q.a.button,Q.a.buttonRetry),onClick:p},_.a.createElement(B,{lang:"vkconnect_sak_ecosystem_menu_vkconnect_retry"}))):_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:Q.a.row},_.a.createElement("a",{href:x.vkConnectHref,className:Q.a.button,onClick:I},!w&&_.a.createElement("div",{className:Q.a.avatar},_.a.createElement(m.Avatar,{className:Q.a.avatar,size:40,src:null==N?void 0:N.photo_200})),_.a.createElement("div",{className:Q.a.details},!M&&_.a.createElement("div",{className:Q.a.name,style:{color:C.textColor}},N&&(N.first_name||N.last_name)?""+[N.first_name,N.last_name].join(" "):"DELETED"),w&&M?F:H,w&&M?H:F),_.a.createElement("div",{className:Q.a.right},_.a.createElement(u.Icon24Chevron,{className:Q.a.chevron})))),!P&&_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:Q.a.separator}),_.a.createElement("div",{className:Q.a.row},_.a.createElement("a",{href:T,className:g()(Q.a.button,Q.a.buttonBalance),onClick:j},_.a.createElement("div",{className:Q.a.col},_.a.createElement("div",{className:Q.a.buttonTitle},_.a.createElement(B,{lang:"vkconnect_sak_ecosystem_menu_vkpay_button_title"})),_.a.createElement("div",{className:Q.a.buttonBalanceLink},(null==S?void 0:S.vkpay_payments_navigation_info.is_enabled)&&(null==S?void 0:S.vkpay_payments_navigation_info.card_digits)?_.a.createElement("div",{className:Q.a.buttonSubtitle},_.a.createElement($,{className:Q.a.balanceIcon}),_.a.createElement("span",{className:Q.a.balance},"·· ",null==S?void 0:S.vkpay_payments_navigation_info.card_digits.slice(-4))):_.a.createElement("span",{style:{color:C.textColorAccent}},_.a.createElement(B,{lang:"vkconnect_sak_ecosystem_menu_vkpay_button_subtitle"})))),_.a.createElement(ee,{className:Q.a.balanceLabel})),_.a.createElement("div",{className:Q.a.separator}),_.a.createElement("a",{href:x.vkComboOpenHref,className:g()(Q.a.button,Q.a.buttonBalance),onClick:V},_.a.createElement("div",{className:Q.a.col},_.a.createElement("div",{className:Q.a.buttonTitle},_.a.createElement(B,{lang:"vkconnect_sak_ecosystem_menu_vkcombo_button_title"})),(null==S?void 0:S.combo_subscriptions_navigation_info.is_enabled)?_.a.createElement("div",{className:Q.a.buttonBalanceLink},_.a.createElement(B,{key:"subtitle",lang:"vkconnect_sak_ecosystem_menu_vkcombo_button_subtitle"})):_.a.createElement("div",{className:Q.a.buttonBalanceLink,style:{color:C.textColorAccent}},_.a.createElement(B,{key:"subtitle_more",lang:"vkconnect_sak_ecosystem_menu_vkcombo_button_subtitle_more"}))),_.a.createElement(G,{className:Q.a.balanceLabel}))))),_.a.createElement(ie,{id:D,config:x,isDesktop:R,hidden:!h}))}),{sizeX:!0}),ce=e=>{var{apiUrl:t,appId:n,onGetHostToken:o,getLang:r}=e,a=te(e,["apiUrl","appId","onGetHostToken","getLang"]);return _.a.createElement(C,{appId:n,apiUrl:t,onGetHostToken:o},_.a.createElement(D,{apiMethod:"account.getProfileNavigationInfo"},_.a.createElement(H,{toggles:["vkc_ecosystem_profile_combo_ic"]},_.a.createElement(W,{getLang:r},_.a.createElement(le,Object.assign({},a))))))};var pe,de,he;ce.defaultProps={config:re,styles:ae,apiUrl:"https://api.vk.com"};class ue{constructor(e){this.handlerName="",this.handle=(e,t)=>{this.parseHandlerParams(e).catch(console.error)},this.parseHandlerParams=e=>Promise.resolve({request_id:e.request_id}),this.handleFailed=e=>Promise.resolve({type:this.errorDescriptor,data:{error_type:c(e)?"api_error":"client_error",error_data:e}}),this.handleSuccess=e=>Promise.resolve({data:e,type:this.successDescriptor}),this.controller=e}get successDescriptor(){return this.handlerName+"Result"}get errorDescriptor(){return this.handlerName+"Failed"}}!function(e){e.TRANSACTION="transaction"}(pe||(pe={})),function(e){e.TRANSACTION="VKWebAppOpenPayFormResult"}(de||(de={})),function(e){e.INVALID_TOKEN="invalid_token"}(he||(he={}));class me{constructor(e){this.destroy=()=>{window.removeEventListener("message",this.handleMessage)},this.sendMessage=e=>{if(!this.config.iframe)throw new Error("No iframe passed for bridge!");const{originMessage:t,message:n}=e;(null==t?void 0:t.params)&&t.params.request_id&&(n.data.request_id=t.params.request_id),v("send to app",e.message),this.config.iframe.contentWindow.postMessage(n,"*")},this.handleMessage=e=>{var t;"vk-connect"===(null===(t=e.data)||void 0===t?void 0:t.type)&&(v("received from app",e.data),this.config.handler(e.data))},this.config=e,window.addEventListener("message",this.handleMessage)}}var fe={VKWebAppInit:class extends ue{constructor(){super(...arguments),this.handlerName=p.Init,this.handle=()=>{this.updateConfig();const e=this.sendSupportedHandlers();return e?e.then((()=>this.handleSuccess({result:!0}))).catch(this.handleFailed):this.handleSuccess({result:!0})},this.sendSupportedHandlers=()=>this.controller.invoke({params:{},handler:h.SetSupportedHandlers,type:"vk-connect"}),this.updateConfig=()=>{var e;null===(e=this.controller.invoke({params:{},handler:p.UpdateConfig,type:"vk-connect"}))||void 0===e||e.catch(y)}}},VKWebAppUpdateConfig:class extends ue{constructor(){super(...arguments),this.handlerName=p.UpdateConfig,this.handle=()=>this.handleSuccess(this.controller.getMiniAppConfig())}get successDescriptor(){return this.handlerName}},VKWebAppGetClientVersion:class extends ue{constructor(){super(...arguments),this.handlerName=p.GetClientVersion,this.handle=()=>this.handleSuccess({platform:"universal_web",version:"1.3.0"})}},VKWebAppGetAuthToken:class extends ue{constructor(){super(...arguments),this.handlerName=p.GetAuthToken,this.getAppTokenTryTimes=1,this.maxGetAppTokenTryTimes=3,this.handle=e=>(this.getAppTokenTryTimes=1,this.parseHandlerParams(e).then(this.getMiniAppToken).then(this.handleSuccess).catch(this.handleFailed)),this.parseHandlerParams=e=>e.scope||""===e.scope?"string"!=typeof e.scope?Promise.reject({error_code:o.MISSING_PARAM,error_reason:s("scope","string")}):Promise.resolve({scope:e.scope}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("scope")}),this.getMiniAppToken=(e,t=!1,n=0)=>{const{app:r}=this.controller.getMiniAppInfo();return this.controller.getHostToken(t).then((t=>this.fetchMiniAppToken(Object.assign(Object.assign({},e),{app_id:r.id,access_token:t,force:n})))).then((t=>{var n;if(!t.error&&(null===(n=t.response)||void 0===n?void 0:n.access_token))return Promise.resolve(t.response);if(!t.error)return this.requestConfirmUserPermission(e).then((()=>this.getMiniAppToken(e,!1,1)));switch(t.error_type){case he.INVALID_TOKEN:return this.getAppTokenTryTimes<=this.maxGetAppTokenTryTimes?(this.getAppTokenTryTimes++,this.getMiniAppToken(e,!0)):Promise.reject({code:o.UNKNOWN,reason:t.error_type||""});default:return Promise.reject({code:o.UNKNOWN,reason:t.error_type||""})}}))},this.fetchMiniAppToken=e=>{const t=this.controller.getMiniAppToken(e);if(t)return t;const n=R.stringify(e),{authUrl:o}=this.controller.getMiniAppInfo();return fetch(`${o}?${n}`,{mode:"cors",credentials:"include"}).then((e=>e.json()))},this.requestConfirmUserPermission=e=>{const{app:t}=this.controller.getMiniAppInfo();return this.controller.requestData({type:p.GetAuthToken,params:{app:t.title,scope:e.scope}}).then((e=>e?Promise.resolve(!1):Promise.reject({code:o.USER_DENIED,reason:"User denied"})))}}get successDescriptor(){return"VKWebAppAccessTokenReceived"}get errorDescriptor(){return"VKWebAppAccessTokenFailed"}},VKWebAppCallAPIMethod:class extends ue{constructor(){super(...arguments),this.handlerName=p.CallApiMethod,this.handle=e=>this.parseHandlerParams(e).then((e=>this.controller.requestApiMethodAsMiniApp(e.method,e.params).then(this.handleSuccess))).catch(this.handleFailed),this.parseHandlerParams=e=>e.params?e.params.access_token?e.params.v||e.params.version?isNaN(parseInt(e.params.v,10))&&isNaN(parseInt(e.params.version,10))?Promise.reject({error_code:o.INVALID_PARAMS,error_reason:s("v","number")}):Promise.resolve({params:e.params,method:e.method}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("v")}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("access_token")}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("params")})}},VKWebAppGetGeodata:class extends ue{constructor(){super(...arguments),this.handlerName=p.GetGeodata,this.timeoutFails=0,this.handle=()=>this.getGeoData(),this.getGeoData=()=>this.promisifyGetGeodata().then((e=>this.handleSuccess({available:!0,lat:e.coords.latitude,long:e.coords.longitude}))).catch(this.handleFailed),this.handleGeodataError=e=>{switch(e.code){case 3:return this.timeoutFails++,this.timeoutFails<2?this.getGeoData():Promise.reject({error_code:o.CUSTOM,error_reason:"Geolocation timeout error"});case 2:return Promise.reject({errr_code:o.CUSTOM,error_reason:"Device can't get geodata"});case 1:return Promise.reject({error_code:o.USER_DENIED,error_reason:"User didn't allowed"});default:return Promise.reject({error_code:o.CUSTOM,error_reason:"Unknown error"})}},this.promisifyGetGeodata=()=>new Promise(((e,t)=>navigator.geolocation.getCurrentPosition(e,t))).catch(this.handleGeodataError)}},VKWebAppStorageGet:class extends ue{constructor(){super(...arguments),this.handlerName=p.StorageGet,this.handle=e=>this.parseHandlerParams(e).then((e=>this.controller.requestApiMethod("storage.get",{global:e.global,keys:e.keys.join(",")}).then((({response:e})=>this.handleSuccess({keys:e}))))).catch(this.handleFailed),this.parseHandlerParams=e=>e.keys?Array.isArray(e.keys)?e.hasOwnProperty("global")&&"boolean"!=typeof e.global?Promise.reject({error_code:o.INVALID_PARAMS,error_reason:s("global","boolean")}):Promise.resolve({global:e.global?1:0,keys:e.keys}):Promise.reject({error_code:o.INVALID_PARAMS,error_reason:s("keys","array")}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("keys")})}},VKWebAppStorageSet:class extends ue{constructor(){super(...arguments),this.handlerName=p.StorageSet,this.handle=e=>this.parseHandlerParams(e).then((e=>this.controller.requestApiMethod("storage.set",e).then((e=>this.handleSuccess(e))))).catch(this.handleFailed),this.parseHandlerParams=e=>e.key?e.hasOwnProperty("value")||"string"==typeof e.value?e.hasOwnProperty("global")&&"boolean"!=typeof e.global?Promise.reject({error_code:o.INVALID_PARAMS,error_reason:s("global","boolean")}):Promise.resolve({global:e.global?1:0,key:e.key,value:e.value}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:a("value","string")}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("key")})}},VKWebAppGetUserInfo:class extends ue{constructor(){super(...arguments),this.handlerName=p.GetUserInfo,this.handle=e=>{const t=["id","first_name","last_name","sex","city","country","photo_100","photo_200","timezone"];return this.parseHandlerParams(e).then((e=>this.controller.requestApiMethod("users.get",Object.assign(Object.assign({},e),{fields:t.join(",")})).then((({response:e})=>this.handleSuccess(Object.assign({},e[0])))))).catch(this.handleFailed)},this.parseHandlerParams=e=>{if(e.user_ids&&"string"!=typeof e.user_ids)return Promise.reject({error_code:o.MISSING_PARAM,error_reason:s("user_ids","string")});const t={};return e.user_ids&&(t.user_ids=e.user_ids),e.user_id&&(t.user_ids=String(e.user_id)),Promise.resolve(t)}}},VKWebAppAllowNotifications:class extends ue{constructor(){super(...arguments),this.handlerName=p.AllowNotifications,this.handle=e=>this.parseHandlerParams(e).then((e=>this.checkUserNotificationsEnabled(e).then((e=>e?Promise.resolve(!0):this.controller.requestData({type:p.AllowNotifications,params:void 0}))).then((t=>t?this.allowUserNotifications(e):Promise.reject({error_code:o.ACCESS_DENIED,error_reason:l()}))))).catch(this.handleFailed),this.checkUserNotificationsEnabled=e=>this.controller.requestApiMethod("apps.isNotificationsAllowed",e).then((({response:e})=>e.is_allowed)).catch((()=>Promise.resolve(!1))),this.allowUserNotifications=e=>this.controller.requestApiMethod("apps.allowNotifications",e).then((e=>this.handleSuccess(e)))}},VKWebAppDenyNotifications:class extends ue{constructor(){super(...arguments),this.handlerName=p.DenyNotifications,this.handle=e=>this.parseHandlerParams(e).then((e=>this.controller.requestApiMethod("apps.denyNotifications",e).then(this.handleSuccess))).catch(this.handleFailed)}},VKWebAppGetPhoneNumber:class extends ue{constructor(){super(...arguments),this.handlerName=p.GetPhoneNumber,this.handle=e=>this.parseHandlerParams(e).then((e=>{var t;const{hostSettings:n}=this.controller.getMiniAppInfo();return((null===(t=n.permissions)||void 0===t?void 0:t.includes("phone_number"))?Promise.resolve(!0):this.controller.requestData({type:p.GetPhoneNumber,params:void 0})).then((t=>t?(this.controller.setHostPermissions("phone_number",1).catch(y),this.getPhoneNumber(e)):Promise.reject({error_code:o.ACCESS_DENIED,error_reason:l()})))})).catch(this.handleFailed),this.getPhoneNumber=e=>this.controller.requestApiMethod("account.getPhone",e).then((({response:e})=>this.handleSuccess(Object.assign(Object.assign({},e),{isValid:!0}))))}},VKWebAppGetEmail:class extends ue{constructor(){super(...arguments),this.handlerName=p.GetEmail,this.handle=e=>this.parseHandlerParams(e).then((e=>{var t;const{hostSettings:n}=this.controller.getMiniAppInfo();return((null===(t=n.permissions)||void 0===t?void 0:t.includes("email"))?Promise.resolve(!0):this.controller.requestData({type:p.GetEmail,params:void 0})).then((t=>t?(this.controller.setHostPermissions("email",1).catch(y),this.getPhoneNumber(e)):Promise.reject({error_code:o.ACCESS_DENIED,error_reason:l()})))})).catch(this.handleFailed),this.getPhoneNumber=e=>this.controller.requestApiMethod("account.getEmail",e).then((({response:e})=>this.handleSuccess(e)))}},VKWebAppStorageGetKeys:class extends ue{constructor(){super(...arguments),this.handlerName=p.StorageGetKeys,this.handle=e=>this.parseHandlerParams(e).then((e=>this.controller.requestApiMethod("storage.getKeys",e).then((({response:e})=>this.handleSuccess({keys:e}))))).catch(this.handleFailed),this.parseHandlerParams=e=>"number"!=typeof e.count?Promise.reject({error_code:o.INVALID_PARAMS,error_reason:s("count","number")}):"number"!=typeof e.offset?Promise.reject({error_code:o.INVALID_PARAMS,error_reason:s("offset","number")}):Promise.resolve({count:e.count,offset:e.offset})}},VKWebAppActionDone:class extends ue{constructor(){super(...arguments),this.handlerName=p.ActionDone,this.handle=(e,t)=>{if("vk-sak-sdk"===(null==t?void 0:t.type))return this.parseHandlerParams(e).then((e=>(this.params=e,e.type===pe.TRANSACTION?this.handleSuccess(e):Promise.reject({error_code:o.UNKNOWN,error_reason:i()})))).catch(this.handleFailed);this.controller.sendMessageToHost({message:{params:e,handler:p.ActionDone}})},this.parseHandlerParams=e=>Promise.resolve(e)}get successDescriptor(){var e;switch(null===(e=this.params)||void 0===e?void 0:e.type){case pe.TRANSACTION:return de.TRANSACTION;default:return super.successDescriptor}}},VKWebAppAddToFavorites:class extends ue{constructor(){super(...arguments),this.handlerName=p.AddToFavorites,this.handle=e=>this.parseHandlerParams(e).then((e=>this.controller.requestData({type:p.AddToFavorites,params:void 0}).then((t=>t?this.addToFavorites(e):Promise.reject({error_code:o.ACCESS_DENIED,error_reason:l()}))))).catch(this.handleFailed),this.addToFavorites=e=>this.controller.requestApiMethod("apps.addToMenu",e).then((()=>this.handleSuccess({result:!0})))}},VKWebAppAllowMessagesFromGroup:class extends ue{constructor(){super(...arguments),this.handlerName=p.AllowMessagesFromGroup,this.handle=e=>this.parseHandlerParams(e).then((e=>this.getGroupInfo(e).then((t=>t.is_messages_blocked?this.controller.requestData({type:p.AllowMessagesFromGroup,params:{avatar:t.photo_100||"",group:t.name||""}}).then((t=>t?this.allowMessageFromGroup(e):Promise.reject({error_code:o.ACCESS_DENIED,error_reason:l()}))):this.handleSuccess({result:!0}))))).catch(this.handleFailed),this.getGroupInfo=e=>this.controller.requestApiMethod("groups.getById",Object.assign(Object.assign({},e),{fields:"is_messages_blocked"})).then((e=>e.response[0])),this.allowMessageFromGroup=e=>this.controller.requestApiMethod("messages.allowMessagesFromGroup",e).then((()=>this.handleSuccess({result:!0}))),this.parseHandlerParams=e=>e.key?e.group_id?"number"!=typeof e.group_id?Promise.reject({error_code:o.INVALID_PARAMS,error_reason:s("group_id","number")}):Promise.resolve({key:e.key,group_id:e.group_id}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("group_id")}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("key")})}},VKWebAppJoinGroup:class extends ue{constructor(){super(...arguments),this.handlerName=p.JoinGroup,this.handle=e=>this.parseHandlerParams(e).then((e=>this.getGroupInfo(e).then((t=>t.is_member?this.handleSuccess({result:!0}):this.controller.requestData({type:p.JoinGroup,params:{avatar:t.photo_100||"",group:t.name||""}}).then((t=>t?this.allowMessageFromGroup(e):Promise.reject({error_code:o.ACCESS_DENIED,error_reason:l()}))))))).catch(this.handleFailed),this.getGroupInfo=e=>this.controller.requestApiMethod("groups.getById",Object.assign(Object.assign({},e),{fields:"is_member"})).then((e=>e.response[0])),this.allowMessageFromGroup=e=>this.controller.requestApiMethod("groups.join",e).then((()=>this.handleSuccess({result:!0}))),this.parseHandlerParams=e=>e.group_id?"number"!=typeof e.group_id?Promise.reject({error_code:o.INVALID_PARAMS,error_reason:s("group_id","number")}):Promise.resolve({group_id:e.group_id}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("group_id")})}},VKWebAppLeaveGroup:class extends ue{constructor(){super(...arguments),this.handlerName=p.LeaveGroup,this.handle=e=>this.parseHandlerParams(e).then((e=>this.controller.requestApiMethod("groups.leave",e).then((()=>this.handleSuccess({result:!0}))))).catch(this.handleFailed),this.parseHandlerParams=e=>e.group_id?"number"!=typeof e.group_id?Promise.reject({error_code:o.INVALID_PARAMS,error_reason:s("group_id","number")}):Promise.resolve({group_id:e.group_id}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("group_id")})}},VKWebAppClose:class extends ue{constructor(){super(...arguments),this.handlerName=p.Close,this.handle=e=>{this.controller.sendMessageToHost({message:{params:e,handler:p.Close}})}}},VKWebAppOpenApp:class extends ue{constructor(){super(...arguments),this.handlerName=p.OpenApp,this.handle=e=>(this.controller.sendMessageToHost({message:{params:e,handler:p.OpenApp}}),this.handleSuccess({result:!0}))}},VKWebAppOpenPayForm:class extends ue{constructor(){super(...arguments),this.handlerName=p.OpenPayForm,this.handle=e=>{this.controller.sendMessageToHost({message:{params:e,handler:p.OpenPayForm}})}}},VKWebAppGetGroupInfo:class extends ue{constructor(){super(...arguments),this.handlerName=p.GetGroupInfo,this.handle=e=>this.parseHandlerParams(e).then((e=>this.getGroupInfo(e).then((e=>e.is_closed?this.controller.requestData({type:p.GetGroupInfo,params:{avatar:e.photo_50||""}}).then((t=>t?e:Promise.reject({code:o.ACCESS_DENIED,reason:l()}))):e)).then(this.handleSuccess))).catch(this.handleFailed),this.getGroupInfo=e=>this.controller.requestApiMethod("groups.getById",Object.assign(Object.assign({},e),{fields:["id","name","screen_name","is_closed","type","description","photo_50","photo_100","photo_200"].join(",")})).then((e=>e.response[0])),this.parseHandlerParams=e=>e.group_id?"number"!=typeof e.group_id?Promise.reject({error_code:o.INVALID_PARAMS,error_reason:s("group_id","number")}):Promise.resolve({group_id:e.group_id}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("group_id")})}},VKWebAppAlert:class extends ue{constructor(){super(...arguments),this.handlerName=p.Alert,this.handle=e=>this.parseHandlerParams(e).then((e=>this.controller.requestData({type:p.Alert,params:{title:e.title,message:e.message,style:e.style,actions:e.actions}}).then(this.handleSuccess))).catch(this.handleFailed),this.parseHandlerParams=e=>e.title?e.style?e.message?e.actions?Promise.resolve({title:e.title,style:e.style,message:e.message,actions:e.actions}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("actions")}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("message")}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("style")}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("title")})}},VKWebAppGetConfig:class extends ue{constructor(){super(...arguments),this.handlerName=p.GetConfig,this.handle=()=>this.handleSuccess(this.controller.getMiniAppConfig())}},VKWebAppRetargetingPixel:class extends ue{constructor(){super(...arguments),this.handlerName=p.RetargetingPixel,this.handle=e=>this.parseHandlerParams(e).then((e=>this.controller.requestApiMethod("ads.retargetingHit",Object.assign({},e)).then((()=>this.handleSuccess({result:!0}))))).catch(this.handleFailed),this.parseHandlerParams=e=>e.pixel_code?e.event?e.products_event?e.products_params?e.target_group_id?e.price_list_id?"number"!=typeof e.price_list_id?Promise.reject({error_code:o.MISSING_PARAM,error_reason:a("price_list_id","number")}):"number"!=typeof e.target_group_id?Promise.reject({error_code:o.MISSING_PARAM,error_reason:a("target_group_id","number")}):Promise.resolve({pixel_code:e.pixel_code,event:e.event,target_group_id:e.target_group_id,price_list_id:e.price_list_id,products_event:e.products_event,products_params:e.products_params}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("price_list_id")}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("target_group_id")}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("products_params")}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("products_event")}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("event")}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("pixel_code")})}},SetSupportedHandlers:class extends ue{constructor(){super(...arguments),this.handlerName=h.SetSupportedHandlers,this.handle=()=>{const e=new Set(d),t=this.controller.getOverrideHandlers(),n=Object.keys(t).filter((e=>!1!==t[e].supported));return Object.values(p).forEach((o=>{n.includes(o)||e.has(o)||t.hasOwnProperty(o)&&!1===t[o].supported||n.push(o)})),this.handleSuccess({supportedHandlers:n})}}get successDescriptor(){return this.handlerName}},VKWebAppCopyText:class extends ue{constructor(){super(...arguments),this.handlerName=p.CopyText,this.handle=e=>this.parseHandlerParams(e).then((e=>N(e.text).then((e=>e?{result:!0}:Promise.reject({error_code:o.CUSTOM,error_reason:"Can’t copy text on this device"}))).then(this.handleSuccess))).catch(this.handleFailed),this.parseHandlerParams=e=>e.text?"string"!=typeof e.text?Promise.reject({error_code:o.INVALID_PARAMS,error_reason:s("text","string")}):Promise.resolve({text:e.text}):Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("text")})}},VKWebAppScroll:class extends ue{constructor(){super(...arguments),this.handlerName=p.Scroll,this.handle=e=>this.parseHandlerParams(e).then((e=>{const{top:t,speed:n}=e,o=n||400,r=window.scrollY,a=t-window.scrollY,s=performance.now();return new Promise((e=>{const t=n=>{const i=(n-s)/o;window.scrollTo(window.scrollX,r+a*(i>1?1:i)),i>=1?e():window.requestAnimationFrame(t)};window.requestAnimationFrame(t)})).then((()=>this.handleSuccess({top:window.scrollY,height:document.documentElement.clientHeight})))})).catch(this.handleFailed),this.parseHandlerParams=e=>{const{top:t,speed:n}=e,a={top:t};if(void 0===t)return Promise.reject({error_code:o.MISSING_PARAM,error_reason:r("top")});if("number"!=typeof t)return Promise.reject({error_code:o.INVALID_PARAMS,error_reason:s("top","number")});if(void 0!==n){if("number"!=typeof n)return Promise.reject({error_code:o.INVALID_PARAMS,error_reason:s("speed","number")});a.speed=n}return Promise.resolve(a)}}}};class ge extends ue{constructor(e,t,n){super(e),this.handle=e=>{if(!1===this.overrideHandler.supported||!this.overrideHandler.handle)return this.handleFailed({error_code:o.UNKNOWN,error_reason:i()});let t;if(this.defaultHandler){const e=this.defaultHandler;t=t=>e.handle(t)}return this.overrideHandler.handle(e,t)},this.overrideHandler=t,this.defaultHandler=n}}const be=_.a.createContext({invoke:()=>{},init:()=>{}});class _e extends _.a.Component{constructor(e){super(e),this.handlers=fe,this.handlersMap={},this.invoke=e=>this.initPromise.then((()=>{const{app:t}=this.miniAppController.getMiniAppInfo();if(!t.internal&&d.includes(e.handler))return void this.sendUnsupportedError(e);let n;if(this.handlersMap[e.handler]?n=this.handlersMap[e.handler]:(n=this.getMessageHandler(e),n&&(this.handlersMap[e.handler]=n)),n){const t=n.handle(e.params,e);if(t)return t.then((t=>this.miniAppController.sendMessageToMiniApp({message:t,originMessage:e}))).catch((t=>{if(!t.data)return y("[Client Error]",t);this.miniAppController.sendMessageToMiniApp({message:t,originMessage:e})}))}else this.sendUnsupportedError(e)})),this.init=e=>{this.miniAppController=e,this.initPromiseResolve(this)},this.getOverrideHandlers=()=>this.overrideHandlers,this.sendUnsupportedError=e=>{"vk-sak-sdk"===e.type||this.miniAppController.sendMessageToMiniApp({message:{type:e.handler+"Failed",data:{error_type:"client_error",error_data:{error_code:o.UNKNOWN,error_reason:i(e.handler)}}},originMessage:e})},this.getMessageHandler=e=>{let t,n;const o=this.getHandlersController();return this.handlers.hasOwnProperty(e.handler)&&(t=new this.handlers[e.handler](o)),this.overrideHandlers.hasOwnProperty(e.handler)&&(n=new ge(o,this.overrideHandlers[e.handler],t)),n||t},this.getHandlersController=()=>({invoke:this.invoke,getOverrideHandlers:this.getOverrideHandlers,requestApiMethod:this.requestApiMethod.bind(this),requestApiMethodAsMiniApp:this.requestApiMethodAsMiniApp.bind(this),requestData:this.miniAppController.requestData,getMiniAppToken:this.miniAppController.getMiniAppToken,getMiniAppInfo:this.miniAppController.getMiniAppInfo,getMiniAppConfig:this.miniAppController.getMiniAppConfig,sendMessageToHost:this.miniAppController.sendMessageToHost,setHostPermissions:this.miniAppController.setHostPermissions,sendMessageToMiniApp:this.miniAppController.sendMessageToMiniApp,getHostToken:this.miniAppController.getHostToken,clearHostToken:this.miniAppController.clearHostToken}),this.initPromise=new Promise((e=>{this.initPromiseResolve=e})).catch(y),this.overrideHandlers=e.overrideHandlers||{}}render(){const e={invoke:this.invoke,init:this.init};return _.a.createElement(be.Provider,{value:e},this.props.children)}requestApiMethod(e,t){const{apiVersion:n,app:o}=this.miniAppController.getMiniAppInfo();return this.miniAppController.getHostToken().then((r=>this.miniAppController.requestApiMethod(e,Object.assign(Object.assign({},t),{v:n,app_id:o.id,access_token:r}))))}requestApiMethodAsMiniApp(e,t){const{app:n}=this.miniAppController.getMiniAppInfo();return this.miniAppController.requestApiMethod(e,Object.assign(Object.assign({},t),{app_id:n.id}))}}const ve=e=>t=>{const n=Object(b.useContext)(be);return _.a.createElement(e,Object.assign({},t,{handlersContext:n}))};var ye=n(11),xe=n.n(ye);function ke(e){return _.a.createElement("div",{className:xe.a.container},_.a.createElement(m.Div,null,_.a.createElement("div",{className:xe.a.headerIcon},_.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"20",viewBox:"0 0 100 20"},_.a.createElement("path",{fill:"currentColor",d:"M13.078 0c5.605 0 6.94 1.333 6.94 6.933v6.134c0 5.6-1.335 6.933-6.94 6.933H6.94C1.335 20 0 18.667 0 13.067V6.933C0 1.333 1.335 0 6.94 0h6.138zm18.953 4.969c2.428 0 4.308 1.88 4.759 3.858h-2.546s-.548-1.43-2.213-1.43c-1.449 0-2.546 1.097-2.546 2.761 0 1.665 1.097 2.762 2.546 2.762 1.665 0 2.213-1.43 2.213-1.43h2.546c-.45 1.998-2.33 3.877-4.759 3.877-2.761 0-5.092-2.33-5.092-5.209 0-2.878 2.33-5.19 5.092-5.19zm10.856 0c2.762 0 5.092 2.31 5.092 5.19 0 2.878-2.33 5.208-5.092 5.208-2.76 0-5.091-2.33-5.091-5.209 0-2.878 2.33-5.19 5.091-5.19zm34.116 0c2.644 0 4.857 2.095 4.857 5.19 0 .45-.098.998-.098.998h-7.09c.216.999 1 1.763 2.331 1.763 1.332 0 1.88-.764 1.88-.764h2.644c-.548 1.547-2.213 3.211-4.524 3.211-2.761 0-5.091-2.33-5.091-5.209 0-2.878 2.33-5.19 5.091-5.19zm11.072 0c2.428 0 4.308 1.88 4.759 3.858h-2.546s-.549-1.43-2.213-1.43c-1.45 0-2.546 1.097-2.546 2.761 0 1.665 1.097 2.762 2.546 2.762 1.664 0 2.213-1.43 2.213-1.43h2.546c-.45 1.998-2.33 3.877-4.76 3.877-2.76 0-5.09-2.33-5.09-5.209 0-2.878 2.33-5.19 5.09-5.19zm9.642-2.33v2.428h2.213v2.33h-2.213v4.21c0 .882.548 1.43 1.43 1.43.45 0 .665-.117.665-.117v2.213s-.548.235-1.214.235c-1.997 0-3.427-1.45-3.427-3.663V7.397h-1.547V5.302h.646c.784 0 1.234-.45 1.234-1.234v-1.43h2.213zM54.86 4.968c2.428 0 4.093 1.645 4.093 4.308v5.973h-2.546V9.61c0-1.332-.881-2.213-2.115-2.213-1.214 0-2.095.881-2.095 2.213v5.64H49.65V5.067h1.88l.45.998S53.195 4.97 54.86 4.97zm11.404 0c2.429 0 4.093 1.645 4.093 4.308v5.973h-2.545V9.61c0-1.332-.882-2.213-2.115-2.213-1.215 0-2.096.881-2.096 2.213v5.64h-2.546V5.067h1.88l.45.998S64.6 4.97 66.266 4.97zM5.422 6.25h-1.46c-.417 0-.5.196-.5.412 0 .387.494 2.303 2.304 4.836 1.206 1.73 2.905 2.669 4.452 2.669.927 0 1.042-.209 1.042-.568v-1.307c0-.417.088-.5.382-.5.216 0 .587.108 1.453.942.99.99 1.153 1.433 1.71 1.433h1.46c.417 0 .625-.209.505-.62-.132-.41-.604-1.004-1.231-1.709-.34-.402-.85-.834-1.005-1.05-.217-.278-.155-.402 0-.65 0 0 1.778-2.502 1.964-3.352.092-.309 0-.536-.442-.536h-1.46c-.37 0-.542.196-.635.412 0 0-.742 1.808-1.793 2.982-.34.34-.495.448-.68.448-.094 0-.228-.108-.228-.417V6.786c0-.37-.108-.536-.417-.536H8.55c-.232 0-.371.172-.371.335 0 .352.526.433.58 1.422v2.147c0 .471-.085.556-.27.556-.496 0-1.7-1.815-2.413-3.893-.14-.404-.28-.567-.653-.567zm37.465 1.147c-1.449 0-2.545 1.097-2.545 2.761 0 1.665 1.096 2.762 2.545 2.762 1.43 0 2.546-1.097 2.546-2.762 0-1.664-1.116-2.76-2.546-2.76zm34.116 0c-1.331 0-2.213.881-2.448 1.998h4.877c-.216-1.117-1.097-1.998-2.429-1.998z"}))),_.a.createElement("div",{className:xe.a.text},_.a.createElement(B,{lang:"vkconnect_unauth_popup_text"})),_.a.createElement(m.Button,{className:xe.a.button,size:"s",onClick:e.onAuth},_.a.createElement(B,{lang:"vkconnect_auth_button_enter"}))))}var Ce,Ae,we,Me=n(18),Ee=n.n(Me);!function(e){e.AUTO="auto",e.ADAPTIVE="adaptive",e.FORCE_MOBILE="force_mobile"}(Ce||(Ce={})),function(e){e.FULLSCREEN="fullscreen",e.CONTENT="content",e.POPUP="popup",e.POPUP_FULLSCREEN="popup_fullscreen"}(Ae||(Ae={})),function(e){e.BACK="back",e.CLOSE="close",e.NONE="none"}(we||(we={}));class Pe extends _.a.Component{constructor(e){super(e),this.hostToken=null,this.iframeRef=Object(b.createRef)(),this.getHostToken=e=>this.hostToken&&!e?Promise.resolve(this.hostToken):this.props.onGetHostToken(e).then((e=>(this.hostToken=e,e))),this.clearHostToken=()=>{this.hostToken=null},this.requestData=e=>this.props.onDataRequest(e),this.sendMessageToMiniApp=e=>{this.bridge.sendMessage(e)},this.sendMessageToHost=e=>{v("send to host",e.message),this.props.onMessage&&this.props.onMessage(e)},this.setHostPermissions=(e,t)=>this.getHostToken().then((n=>this.requestApiMethod("apps.setDevicePermissions",{name:e,value:t,access_token:n,device_id:this.props.host.id,app_id:this.props.app.id,v:5.128}))).then(this.getHostPermissions).catch((()=>{y("Can't set host permissions")})),this.buildUrl=()=>{const{__vkPayLegacyForceMobile:e,app:t}=this.props,n=6217559===Number(t.id),o=Object.assign({},t.query);n&&(o.is_mobile=e?"":"1");let r=t.url;n&&o.action&&(r="https://web-view.vkpay.io/"+o.action);const a=new URL(r);return Object.keys(o).length>0&&(a.search=a.search?`${a.search}&${R.stringify(o)}`:"?"+R.stringify(o)),t.hash&&(a.hash=a.hash?`${a.hash}${t.hash}`:"#"+t.hash),a.toString()},this.handleInternalResize=()=>{var e;null===(e=this.props.handlersContext.invoke({params:{},handler:p.UpdateConfig,type:"vk-connect"}))||void 0===e||e.catch(y)},this.handleHostMessage=e=>{var t,n;"vk-sak-sdk"===(null===(t=e.data)||void 0===t?void 0:t.type)&&(v("received from host",e.data),null===(n=this.props.handlersContext.invoke(e.data))||void 0===n||n.catch(y))},this.getHostPermissions=()=>this.getHostToken().then((e=>this.requestApiMethod("apps.getDevicePermissions",{access_token:e,device_id:this.props.host.id,app_id:this.props.app.id,v:5.128}))).then((({response:e})=>{this.setState({hostSettings:Object.assign({},e)})})).catch((()=>{y("Can't get host permissions")})),this.getMiniAppToken=e=>this.props.onGetMiniAppToken?this.props.onGetMiniAppToken(e):null,this.getMiniAppInfo=()=>Object.assign(Object.assign(Object.assign({},this.props),this.state),{iframe:this.iframe}),this.getMiniAppConfig=()=>{const{config:e,host:t}=this.getMiniAppInfo();return{app:t.title,app_id:t.id,vk_platform:"universal_web",scheme:null==e?void 0:e.scheme,appearance:null==e?void 0:e.appearance,adaptivity:null==e?void 0:e.adaptivity,integration:null==e?void 0:e.integration,back_button:null==e?void 0:e.backButton,viewport_width:window.innerWidth,viewport_height:window.innerHeight,avail_width:window.innerWidth,avail_height:window.innerHeight,insets:null==e?void 0:e.insets}},this.getMiniAppController=()=>({requestData:this.props.onDataRequest,sendMessageToHost:this.sendMessageToHost,getHostToken:this.getHostToken,clearHostToken:this.clearHostToken,setHostPermissions:this.setHostPermissions,getMiniAppToken:this.getMiniAppToken,getMiniAppInfo:this.getMiniAppInfo,getMiniAppConfig:this.getMiniAppConfig,requestApiMethod:this.requestApiMethod.bind(this),sendMessageToMiniApp:this.sendMessageToMiniApp}),this.state={hostSettings:{}}}componentDidMount(){if(this.iframeRef.current){this.iframe=this.iframeRef.current;const{handlersContext:e}=this.props;e.init(this.getMiniAppController()),this.bridge=new me({iframe:this.iframe,handler:e.invoke})}this.getHostPermissions().catch(y),this.props.onReady&&this.props.onReady({sendMessageToMiniApp:this.sendMessageToMiniApp}),window.addEventListener("resize",this.handleInternalResize),window.addEventListener("message",this.handleHostMessage)}componentWillUnmount(){this.bridge&&this.bridge.destroy(),window.addEventListener("resize",this.handleInternalResize),window.removeEventListener("message",this.handleHostMessage)}render(){const{app:e}=this.props;if(!e.url)return null;const t=this.buildUrl(),n=Object.assign(Object.assign({},this.props.iframeProps),{src:t,ref:this.iframeRef,scrolling:"yes",width:"100%",frameBorder:"0"});return _.a.createElement("iframe",Object.assign({},n,{className:Ee.a.iframe}))}requestApiMethod(e,t){return this.props.requestApiMethod?this.props.requestApiMethod(e,t):z(this.props.apiUrl,e,t).then((e=>(e=>e.error)(e)?Promise.reject(e.error):e))}}Pe.defaultProps={iframeProps:{},apiVersion:"5.103",config:{adaptivity:Ce.AUTO,backButton:we.CLOSE,integration:Ae.FULLSCREEN,scheme:m.Scheme.BRIGHT_LIGHT,appearance:m.Appearance.LIGHT,insets:{bottom:0,top:0,left:0,right:0}}};const Se=ve(Pe);var Ne=e=>_.a.createElement(W,{getLang:e.getLang},_.a.createElement(_e,{overrideHandlers:e.handlers},_.a.createElement(Se,Object.assign({},e)))),Oe=n(14),Ie=n.n(Oe);function je(e){const{title:t,description:n,confirmText:o,cancelText:r,icon:a=_.a.createElement(u.Icon56NotificationOutline,null)}=e,s=[];return r&&s.push(_.a.createElement(m.Button,{size:"l",mode:"secondary",onClick:e.onDeny},r)),o&&s.push(_.a.createElement(m.Button,{size:"l",mode:"primary",onClick:e.onConfirm},o)),_.a.createElement(m.ModalCard,{id:e.id,icon:a,actions:s,header:t,subheader:n},e.children)}const Te=(e={})=>{const t=U(),{getLang:n}=t,{params:o}=e||{};let r;return r=(null==o?void 0:o.scope)?o.scope.replace(/ /g,"").split(","):[],_.a.createElement(je,{id:p.GetAuthToken,icon:_.a.createElement(u.Icon56InfoOutline,null),confirmText:n("vkconnect_sak_allow_button"),cancelText:n("vkconnect_sak_forbid_button"),title:n("vkconnect_sak_allow_permissions_modal_title",{name:null==o?void 0:o.app}),description:n("vkconnect_sak_allow_permissions_modal_caption"),onClose:null==e?void 0:e.onClose,onConfirm:null==e?void 0:e.onConfirm,onDeny:null==e?void 0:e.onDeny},r.map((e=>e)).join(","))},Ge=(e={})=>{const{params:t}=e,n=U(),{getLang:o}=n;return _.a.createElement(je,{id:p.JoinGroup,title:null==t?void 0:t.group,icon:_.a.createElement(m.Avatar,{src:null==t?void 0:t.avatar}),confirmText:o("vkconnect_sak_subscribe_button"),description:o("vkconnect_sak_join_group_modal_caption"),onClose:null==e?void 0:e.onClose,onConfirm:null==e?void 0:e.onConfirm,onDeny:null==e?void 0:e.onDeny})},Ve=(e={})=>{const t=U(),{getLang:n}=t;return _.a.createElement(je,{icon:_.a.createElement(u.Icon56FavoriteOutline,null),id:p.AddToFavorites,confirmText:n("vkconnect_sak_add_button"),cancelText:n("vkconnect_sak_forbid_button"),title:n("vkconnect_sak_request_add_to_favorites_modal_title"),description:n("vkconnect_sak_request_add_to_favorites_modal_caption"),onClose:null==e?void 0:e.onClose,onConfirm:null==e?void 0:e.onConfirm,onDeny:null==e?void 0:e.onDeny})},Re=(e={})=>{const t=U(),{getLang:n}=t;return _.a.createElement(je,{id:p.AllowNotifications,icon:_.a.createElement(u.Icon56NotificationOutline,null),confirmText:n("vkconnect_sak_allow_button"),cancelText:n("vkconnect_sak_forbid_button"),title:n("vkconnect_sak_allow_notifications_modal_title"),description:n("vkconnect_sak_allow_notifications_modal_caption"),onClose:null==e?void 0:e.onClose,onConfirm:null==e?void 0:e.onConfirm,onDeny:null==e?void 0:e.onDeny})},ze=(e={})=>{const{params:t}=e,n=U(),{getLang:o}=n;return _.a.createElement(je,{id:p.AllowMessagesFromGroup,title:o("vkconnect_sak_allow_messages_modal_title"),icon:_.a.createElement(m.Avatar,{src:null==t?void 0:t.avatar}),confirmText:o("vkconnect_sak_allow_button"),cancelText:o("vkconnect_sak_forbid_button"),description:o("vkconnect_sak_allow_messages_modal_caption").replace("{group_name}",null==t?void 0:t.group),onClose:null==e?void 0:e.onClose,onConfirm:null==e?void 0:e.onConfirm,onDeny:null==e?void 0:e.onDeny})},Le=(e={})=>{const t=U(),{getLang:n}=t;return _.a.createElement(je,{id:p.GetEmail,icon:_.a.createElement(u.Icon56MailOutline,null),confirmText:n("vkconnect_sak_allow_button"),cancelText:n("vkconnect_sak_forbid_button"),title:n("vkconnect_sak_request_email_modal_title"),description:n("vkconnect_sak_request_email_modal_caption"),onClose:null==e?void 0:e.onClose,onConfirm:null==e?void 0:e.onConfirm,onDeny:null==e?void 0:e.onDeny})},De=(e={})=>{const{params:t}=e,n=U(),{getLang:o}=n;return _.a.createElement(je,{id:p.GetGroupInfo,icon:_.a.createElement(m.Avatar,{src:null==t?void 0:t.avatar}),confirmText:o("vkconnect_sak_allow_button"),cancelText:o("vkconnect_sak_forbid_button"),title:o("vkconnect_sak_request_group_info_modal_title"),description:o("vkconnect_sak_request_group_info_modal_caption"),onClose:null==e?void 0:e.onClose,onConfirm:null==e?void 0:e.onConfirm,onDeny:null==e?void 0:e.onDeny})},Ke=(e={})=>{const t=U(),{getLang:n}=t;return _.a.createElement(je,{id:p.GetPhoneNumber,icon:_.a.createElement(u.Icon56PhoneOutline,null),title:n("vkconnect_sak_request_phone_modal_title"),confirmText:n("vkconnect_sak_allow_button"),cancelText:n("vkconnect_sak_forbid_button"),description:n("vkconnect_sak_request_phone_modal_caption"),onClose:null==e?void 0:e.onClose,onConfirm:null==e?void 0:e.onConfirm,onDeny:null==e?void 0:e.onDeny})},He=e=>Boolean(e&&e>=m.ViewWidth.SMALL_TABLET);class Fe extends _.a.Component{constructor(e){super(e),this.contentRef=Object(b.createRef)(),this.showModal=e=>{this.setState({activeModal:e.type,modals:Object.assign(Object.assign({},this.state.modals),{[e.type]:e})})},this.hideModal=()=>{this.setState({modals:{},activeModal:null})},this.showPopout=e=>{this.setState({popout:e})},this.hidePopout=()=>{this.setState({popout:null})},this.showUserActionConfirmModal=e=>new Promise((t=>{const n=Object.assign({onDeny:()=>{this.hideModal(),t(!1)},onConfirm:()=>{this.hideModal(),t(!0)},onClose:()=>{this.hideModal(),t(!1)}},e);this.showModal(n)})),this.renderModals=()=>{const{activeModal:e}=this.state,t=()=>{const{activeModal:e}=this.state,t=this.state.modals[e];(null==t?void 0:t.onClose)&&t.onClose()},n=this.state.modals[p.GetAuthToken],o=this.state.modals[p.JoinGroup],r=this.state.modals[p.AddToFavorites],a=this.state.modals[p.AllowNotifications],s=this.state.modals[p.AllowMessagesFromGroup],i=this.state.modals[p.GetEmail],l=this.state.modals[p.GetGroupInfo],c=this.state.modals[p.GetPhoneNumber];return _.a.createElement(m.ModalRoot,{activeModal:e,onClose:t},_.a.createElement(Te,Object.assign({},n,{onClose:t,id:p.GetAuthToken})),_.a.createElement(Ge,Object.assign({},o,{onClose:t,id:p.JoinGroup})),_.a.createElement(Ve,Object.assign({},r,{onClose:t,id:p.AddToFavorites})),_.a.createElement(Re,Object.assign({},a,{onClose:t,id:p.AllowNotifications})),_.a.createElement(ze,Object.assign({},s,{onClose:t,id:p.AllowMessagesFromGroup})),_.a.createElement(Le,Object.assign({},i,{onClose:t,id:p.GetEmail})),_.a.createElement(Ke,Object.assign({},c,{onClose:t,id:p.GetPhoneNumber})),_.a.createElement(De,Object.assign({},l,{onClose:t,id:p.GetGroupInfo})))},this.showUserAlert=e=>new Promise((t=>{const n=e.params.actions.map((e=>({autoclose:!0,title:e.title,mode:e,action:()=>{this.hidePopout(),t(e.handler)}})));this.showPopout(_.a.createElement(m.Alert,{actions:n,actionsLayout:"vertical",onClose:()=>{this.hidePopout()},header:e.params.title,text:e.params.message}))})),this.handleDataRequest=e=>{const{type:t}=e;switch(t){case p.GetAuthToken:case p.AllowMessagesFromGroup:case p.AllowNotifications:case p.GetEmail:case p.GetPhoneNumber:case p.JoinGroup:case p.AddToFavorites:case p.GetGroupInfo:return this.showUserActionConfirmModal(e);case p.Alert:return this.showUserAlert(e);default:return Promise.resolve(!0)}},this.state={modals:{},activeModal:null,popout:null}}render(){const{app:e}=this.props;if(!e.url)return null;const{authorized:t,viewWidth:n}=this.props;return _.a.createElement("div",{className:Ie.a.miniApp,ref:this.contentRef},_.a.createElement(m.Root,{activeView:"default",modal:this.renderModals(),popout:this.state.popout},_.a.createElement(m.Panel,{id:"default"},_.a.createElement("div",{className:Ie.a.miniAppWrap},!t&&_.a.createElement("div",{className:Ie.a.auth},_.a.createElement(ke,{onAuth:this.props.onAuth})),_.a.createElement(Pe,Object.assign({},this.props,{__vkPayLegacyForceMobile:He(n),onDataRequest:this.handleDataRequest}))))))}}const We=ve(Object(m.withAdaptivity)(Fe,{viewWidth:!0}));var Ue,qe=e=>_.a.createElement(m.AdaptivityProvider,null,_.a.createElement(_e,{overrideHandlers:e.handlers},_.a.createElement(W,{getLang:e.getLang},_.a.createElement(We,Object.assign({},e))))),Xe=n(8),Be=n.n(Xe),Ze=Object(m.withAdaptivity)((function(e){const{viewWidth:t}=e,n=t&&t<m.ViewWidth.SMALL_TABLET,o=g()(Be.a.header,{[Be.a.mobileHeader]:n}),r=n?e.onMenu:void 0,a=n?void 0:e.onMenu;return _.a.createElement("div",{className:o},_.a.createElement("button",{className:g()(Be.a.controls,Be.a.menu),onClick:r,onMouseEnter:a},n?_.a.createElement(u.Icon24MoreHorizontal,null):_.a.createElement(u.Icon20More,null)),_.a.createElement("div",{className:Be.a.delimiter}),_.a.createElement("button",{className:g()(Be.a.controls,Be.a.closeButton),onClick:e.onClose},n?_.a.createElement(u.Icon24Cancel,null):_.a.createElement(u.Icon20Cancel,null)),e.children)}),{viewWidth:!0});!function(e){e.Share="share",e.QrCode="qr_code",e.Complain="complain",e.Favorite="favorite",e.SendToPhone="send_to_phone",e.Notifications="notifications"}(Ue||(Ue={}));class Je{constructor(e,t={}){this.invoke=(e,t)=>{const n=this.overrideHandlers[e],o=this.handlers[e];return n?0!=n.supported&&n.action?n.action(t,o):Promise.reject():o?o(t):Promise.reject()},this.handlers=e,this.overrideHandlers=t}}const Qe=(e="")=>{const t=document.createElement("div");return t.innerText=e,t.innerHTML};var Ye=n(12),$e=n.n(Ye);const et=q((function(e){const{menuItemsList:t,author:n,langContext:o}=e,r=o.getLang("vkconnect_sak_app_author").replace("{name}",`<a href="${Qe(null==n?void 0:n.url)}" class="${$e.a.authorLink}" target="_blank">${Qe(null==n?void 0:n.name)}</a>`);return _.a.createElement("div",{className:$e.a.desktopMenu,onMouseLeave:e.onClose},_.a.createElement("div",{className:$e.a.hoverMask}),t[Ue.Share]&&_.a.createElement(m.SimpleCell,{onClick:()=>e.onMenuItemClick(Ue.Share)},_.a.createElement(B,{lang:"vkconnect_sak_menu_share_button"})),t[Ue.QrCode]&&_.a.createElement(m.SimpleCell,{onClick:()=>e.onMenuItemClick(Ue.QrCode)},_.a.createElement(B,{lang:"vkconnect_sak_menu_qr_code_button"})),t[Ue.Favorite]&&_.a.createElement(m.SimpleCell,{onClick:()=>e.onMenuItemClick(Ue.Favorite)},_.a.createElement(B,{lang:"vkconnect_sak_add_to_favorite_button"})),t[Ue.SendToPhone]&&_.a.createElement(m.SimpleCell,{onClick:()=>e.onMenuItemClick(Ue.SendToPhone)},_.a.createElement(B,{lang:"vkconnect_sak_send_to_phone_button"})),t[Ue.Notifications]&&_.a.createElement(m.SimpleCell,{onClick:()=>e.onMenuItemClick(Ue.Notifications)},_.a.createElement(B,{lang:"vkconnect_sak_allow_notifications_button"})),t[Ue.Complain]&&_.a.createElement(m.SimpleCell,{onClick:()=>e.onMenuItemClick(Ue.Complain)},_.a.createElement(B,{lang:"vkconnect_sak_report_button"})),n&&_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:$e.a.delimeter}),_.a.createElement(m.SimpleCell,null,_.a.createElement("div",{dangerouslySetInnerHTML:{__html:r}}))))}));function tt(e){const{menuItemsList:t}=e;return _.a.createElement(m.ActionSheet,{toggleRef:document.body,onClose:e.onClose,iosCloseItem:_.a.createElement(m.ActionSheetItem,{autoclose:!0,mode:"cancel"},_.a.createElement(B,{lang:"vkconnect_sak_cancel_button"}))},t[Ue.Share]&&_.a.createElement(m.ActionSheetItem,{autoclose:!0,onClick:()=>e.onMenuItemClick(Ue.Share)},_.a.createElement(B,{lang:"vkconnect_sak_menu_share_button"})),t[Ue.QrCode]&&_.a.createElement(m.ActionSheetItem,{autoclose:!0,onClick:()=>e.onMenuItemClick(Ue.QrCode)},_.a.createElement(B,{lang:"vkconnect_sak_menu_qr_code_button"})),t[Ue.Favorite]&&_.a.createElement(m.ActionSheetItem,{autoclose:!0,onClick:()=>e.onMenuItemClick(Ue.Favorite)},_.a.createElement(B,{lang:"vkconnect_sak_add_to_favorite_button"})),t[Ue.SendToPhone]&&_.a.createElement(m.ActionSheetItem,{autoclose:!0,onClick:()=>e.onMenuItemClick(Ue.SendToPhone)},_.a.createElement(B,{lang:"vkconnect_sak_send_to_phone_button"})),t[Ue.Notifications]&&_.a.createElement(m.ActionSheetItem,{autoclose:!0,onClick:()=>e.onMenuItemClick(Ue.Notifications)},_.a.createElement(B,{lang:"vkconnect_sak_allow_notifications_button"})),t[Ue.Complain]&&_.a.createElement(m.ActionSheetItem,{autoclose:!0,onClick:()=>e.onMenuItemClick(Ue.Complain)},_.a.createElement(B,{lang:"vkconnect_sak_report_button"})))}var nt=n(19),ot=n.n(nt),rt=n(20),at=n.n(rt);const st=Object(b.createRef)();class it extends _.a.Component{componentDidMount(){const{appShareUrl:e}=this.props;if(st.current){const t=ot.a.createQR(e,120,"",{isShowLogo:!0});st.current.innerHTML=""+t}}render(){const{getLang:e}=this.props.langContext;return _.a.createElement(m.ModalCard,{id:this.props.id,header:this.props.appName,subheader:e("vkconnect_sak_qr_caption"),actions:[{title:e("vkconnect_sak_done_button"),mode:"primary",action:this.props.onClose}],onClose:this.props.onClose},_.a.createElement(m.Div,null,_.a.createElement("div",{className:at.a.qrContainer,ref:st})))}}var lt=q(it),ct=n(10),pt=n.n(ct);class dt extends _.a.Component{constructor(e){super(e),this.renderModals=()=>{const{activeModal:e}=this.state,{app:t}=this.props,n={appTitle:t.title,appShareUrl:t.shareUrl||"https://vk.com/app"+t.id,hideModal:this.hideModal};return _.a.createElement(m.ModalRoot,{activeModal:e,onClose:()=>{const t=this.state.modals[e];(null==t?void 0:t.onClose)&&t.onClose()}},((e={})=>_.a.createElement(lt,{id:"qr",appName:e.appTitle,appShareUrl:e.appShareUrl,onClose:e.hideModal}))(n))},this.showModal=e=>{this.setState({activeModal:e.type,modals:Object.assign(Object.assign({},this.state.modals),{[e.type]:e})})},this.hideModal=()=>{this.setState({modals:{},activeModal:null})},this.showPopout=e=>{this.setState({popout:e})},this.hidePopout=()=>{this.setState({popout:null,desktopMenuVisible:!1})},this.handleShowMenu=()=>{const{viewWidth:e}=this.props;e&&e<m.ViewWidth.SMALL_TABLET?this.showPopout(_.a.createElement(tt,{onMenuItemClick:this.handleMenuClick,onClose:this.hidePopout,menuItemsList:this.getMenuItemsList()})):this.setState({desktopMenuVisible:!0})},this.handleCloseApp=()=>{var e;null===(e=this.props.handlersContext.invoke({handler:p.Close,params:{},type:"vk-sak-sdk"}))||void 0===e||e.catch(y)},this.handleMenuClick=(e,t)=>{this.hidePopout(),this.uiHandlerController.invoke(e,t).catch(y)},this.handleShowQRCodeModal=()=>(this.showModal({type:"qr",params:void 0}),Promise.resolve()),this.handleShare=()=>(v("UI",Ue.Share),Promise.resolve()),this.handleFavorite=()=>(v("UI",Ue.Favorite),Promise.resolve()),this.handleSendToPhone=()=>(v("UI",Ue.SendToPhone),Promise.resolve()),this.handleNotifications=()=>(v("UI",Ue.Notifications),Promise.resolve()),this.handleComplain=()=>(v("UI",Ue.Complain),Promise.resolve()),this.getMenuItemsList=()=>{const{popupUI:e={}}=this.props;return Object.values(Ue).reduce(((t,n)=>{var o;if(e[n]){const r=null===(o=e[n])||void 0===o?void 0:o.supported;t[n]=void 0===r||r}else t[n]=!0;return t}),{})};const t={[Ue.QrCode]:this.handleShowQRCodeModal,[Ue.Share]:this.handleShare,[Ue.Favorite]:this.handleFavorite,[Ue.SendToPhone]:this.handleSendToPhone,[Ue.Notifications]:this.handleNotifications,[Ue.Complain]:this.handleComplain};this.state={modals:{},activeModal:null,popout:null,desktopMenuVisible:!1},this.uiHandlerController=new Je(t,this.props.popupUI)}render(){const{app:e,fullMode:t,hideMenu:n}=this.props;if(!e.url)return null;const o=g()(pt.a.container,{[pt.a.containerFullMode]:t});return _.a.createElement("div",{className:pt.a.miniAppPopup},_.a.createElement(m.Root,{activeView:"default",modal:this.renderModals(),popout:this.state.popout},_.a.createElement(m.Panel,{id:"default"},!t&&_.a.createElement("div",{className:pt.a.overlay,onClick:this.handleCloseApp}),_.a.createElement("div",{className:o},_.a.createElement("div",{className:pt.a.content},!n&&!e.internal&&_.a.createElement(Ze,{onMenu:this.handleShowMenu,onClose:this.handleCloseApp},this.state.desktopMenuVisible&&_.a.createElement(et,{author:this.props.author,menuItemsList:this.getMenuItemsList(),onMenuItemClick:this.handleMenuClick,onClose:this.hidePopout})),_.a.createElement(We,Object.assign({},this.props)))))))}}const ht=ve(Object(m.withAdaptivity)(dt,{viewWidth:!0}));var ut=e=>_.a.createElement(m.AdaptivityProvider,null,_.a.createElement(W,{getLang:e.getLang},_.a.createElement(_e,{overrideHandlers:e.handlers},_.a.createElement(ht,Object.assign({},e)))))}]))}}]);try{stManager.done("dist/e120e5026c619ca56aa6508268a3d433.40156e25e853e07654e0.js")}catch(e){}