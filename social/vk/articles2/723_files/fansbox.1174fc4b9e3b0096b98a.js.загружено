(()=>{"use strict";var n,o,e,r={249970:(n,o,e)=>{var r=e(606767);window.FansBox=r.default;try{stManager.done(jsc("web/fansbox.js"))}catch(n){}},606767:(n,o,e)=>{e.d(o,{default:()=>t});e(21466),e(820075),e(976142),e(283946),e(59357);var r=e(705456),s=e(719016),a=e(116886),c={init:function(n,o){extend(cur,{fnbxOffsets:cur.fnbxOffsets||{},fnbxPhCache:cur.fnbxPhCache||{},fnbxPhShown:cur.fnbxPhShown||{},fnbxIdolsList:cur.fnbxIdolsList||{},fnbxIdolsCache:cur.fnbxIdolsCache||{},fnbxIdolsIndex:cur.fnbxIdolsIndex||{},fnbxIdolsProcessed:cur.fnbxIdolsProcessed||{},fnbxIdolsQuery:cur.fnbxIdolsQuery||"",fnbxAutoload:!0,fnbxWasScroll:!1,fnbxHash:o.hash,fnbxOwnerId:o.ownerId,fnbxObjectId:o.objectId||"",fnbxId:n.tbId,fnbxSearchLink:o.searchLink||"",fnbxPage:o.address||"al_fans.php",fnbxVars:o.getVars||c.fnbxVars}),cur.fnbxOffsets[o.tab]=o.offset,ajax.preload(cur.fnbxPage,extend(cur.fnbxVars(o.tab),{offset:o.offset}),o.preload);var e="padding: 0;";isVisible(n.titleWrap)||(e+="margin-top: 50px;"),n.setOptions({width:o.intro?630:642,bodyStyle:e,noRefreshCoords:!0});var r=boxLayerWrap.scrollTop;elfocus(geByClass1("_scroll_node",n.bodyNode)),boxLayerWrap.scrollTop=r,window.uiScrollBox&&uiScrollBox.init(n,{onShow:function(){cur.fnbxWasScroll&&(boxLayerWrap.scrollTop=cur.fnbxWasScroll,cur.fnbxWasScroll=!1),setTimeout(c.onScroll,0)},onHide:function(){o.onHide&&o.onHide()}}),n.tbDeinit||(extend(n,{tbDeinit:function(){cur.fnbxOwnerId=cur.fnbxOffsets=cur.fnbxPhShown=!1,re(cur.lSTL),removeEvent(boxLayerWrap,"scroll",c.onScroll)},tbcShowProgress:function(){hide("fans_idol_search"),cur.fnbxSearchLink&&hide(cur.fnbxSearchLink)},tbcOnLoad:function(){if("idols"==curBox().tbVis){if(ge("fans_rowsidols")){show("fans_idol_search");var n=cur.fnbxOwnerId;cur.fnbxIdolsList[n]?cur.fnbxIdolsQuery&&c.moreIdols(!0):(cur.fnbxIdolsList[n]="loading",ajax.post("/al_fans.php",{act:"load_idols",oid:n},{onDone:function(o){if(cur.fnbxIdolsList){var e="update"==cur.fnbxIdolsList[n],r=e||"more"==cur.fnbxIdolsList[n];cur.fnbxIdolsCache[n]={all:[]};for(var s=cur.fnbxIdolsProcessed,a=0,t=o.length;a<t;++a)void 0!==s[o[a][0]]&&(o[a][1]=s[o[a][0]]),cur.fnbxIdolsCache[n].all.push(a);cur.fnbxIdolsList[n]=o,cur.fnbxIdolsIndex[n]=new vkIndexer(cur.fnbxIdolsCache[n].all,(function(o){return cur.fnbxIdolsList[n][o][2]}),r?function(){cur.fnbxOwnerId==n&&curBox().tbId==cur.fnbxId&&"idols"==curBox().tbVis&&c.moreIdols(e)}:function(){})}}}))}}else hide("fans_idol_search"),cur.fnbxSearchLink&&show(cur.fnbxSearchLink)}}),addEvent(boxLayerWrap,"scroll",c.onScroll)),n.tbcOnLoad(),cur.fnbxLoaded&&cur.fnbxLoaded(),onBodyResize(),setTimeout(c.onScroll,0)},fnbxVars:function(n){return{act:cur.fnbxAct||"box",oid:cur.fnbxOwnerId,tab:n}},getHighlight:function(n){var o=cur.fnbxIdolsIndex[cur.fnbxOwnerId],e=o.delimiter,r=o.trimmer;return n+=" "+((0,a.parseLatin)(n)||""),n=(n=escapeRE(n).replace(/&/g,"&amp;")).replace(r,"").replace(e,"|"),{re:new RegExp("("+n+")","gi"),val:'<span class="highlight">$1</span>'}},moreIdols:function(n){var o=cur.fnbxOwnerId,e=cur.fnbxIdolsList[o];if(o&&curBox().tbId==cur.fnbxId)if(e&&"loading"!=e&&"update"!=e&&"more"!=e){e=cur.fnbxIdolsCache[o].all;var r=ge("sb_search_"+cur.fnbxId),s=trim(val(r));isVisible(curBox().tbSearch)||(s="");var a=n||s!=cur.fnbxIdolsQuery,t=!1;if(cur.fnbxIdolsQuery=s,s){if(void 0===(e=cur.fnbxIdolsCache[o]["_"+s])){var i=cur.fnbxIdolsIndex[o].search(s),f={};e=[];for(var l=0,u=i.length;l<u;++l)f[i[l]]||(f[i[l]]=!0,e.push(i[l]));e.sort((function(n,o){return n-o})),cur.fnbxIdolsCache[o]["_"+s]=e}t=c.getHighlight(s)}var d=e.length,b=ge("fans_rowsidols"),x=ge("fans_more_linkidols");if(!d)return hide(x),void val(b,c.genIdolEmpty(val(r)));for(var h=a?0:b.childNodes.length,p=Math.min(d,h+32),_=[],v=h;v<p;++v){var g=cur.fnbxIdolsList[o][e[v]],I=g[2];g&&(g=c.genIdolRow(g,t?I.replace(t.re,t.val):I),a?_.push(g):b.appendChild(se(g)))}a&&(val(b,_.join("")),curBox().tbToTop()),toggle(x,p<d)}else"loading"==e&&(cur.fnbxIdolsList[o]="more")},genIdolEmpty:function(n){var o='<a href="/search?c[section]=communities&c[q]='+encodeURIComponent(n)+'">';return'<div class="no_rows">'+(trim(n)?getLang("fans_idols_not_found")+"<br>"+getLang("groups_you_can_find").replace("{term}",o+clean(n)+"</a>").replace("{link}",o).replace("{/link}","</a>"):getLang("fans_no_idols"))+"</div>"},genIdolRow:function(n,o){var e=n[0],r=n[6]?' onmouseover="uiPhotoZoom.over(this, '+e+', {onBeforeShow: FansBox.beforePhotoShow, showOpts: {onHide: FansBox.backToBox}});"':"",s="/"+(n[4]?n[4]:e>0?"id"+e:"public"+-e),a=n[3],c=getLang("public_N_followers",n[5],!0),t=' style="display: none"',i=n[7].length?n[7]:getLang(e>0?"profile_own_profile":"groups_type_public"),f=vk.id&&vk.id!=e;return`\n<div class="fans_idol_row inl_bl">\n  <div class="fans_idolph_wrap fl_l" ${r}>\n    <a class="fans_idol_ph" href="${s}">\n      <img class="fans_idol_img" src="${a}" />\n    </a>\n  </div>\n  <div class="fans_idol_info">\n    <div class="fans_idol_name"><a class="fans_idol_lnk" href="${s}">${o}</a></div>\n    <div class="fans_idol_status">${i}</div><div class="fans_idol_size">${c}</div>\n    <div id="fans_idol_sub${e}" class="button_blue fans_idol_sub" ${n[1]||!f?t:""}>\n      <button class="flat_button button_small" onclick="FansBox.subscribe(this, ${e})">${getLang("public_subscribe")}</button>\n    </div>\n    <div id="fans_idol_unsub${e}" class="fans_idol_unsub" ${n[1]&&f?"":t}>\n      <button class="flat_button button_small secondary" onclick="FansBox.unsubscribe(this, ${e})">${getLang("public_unsubscribe")}</button>\n    </div>\n  </div>\n</div>`},resetSearch:function(){val("fans_idol_search_inp",""),c.moreIdols(!0),setTimeout(elfocus.pbind("fans_idol_search_inp"),0)},more:function(){var n=curBox().tbCur;if("idols"===n)return c.moreIdols();var o=ge("fans_more_link"+n);(0,r.isButtonLocked)(o)||(ajax.post(cur.fnbxPage,extend(cur.fnbxVars(n),{offset:cur.fnbxOffsets[n]}),{onDone:function(e,r,s){var a=ce("div",{innerHTML:e}),t=ge("fans_rows"+n);if(t){var i=geByClass1("no_rows",t);e&&i&&re(i);for(var f=domFC(a);f;f=domFC(a))t.appendChild(f);cur.fnbxOffsets[n]=r,s?c.preload():hide(o)}},showProgress:r.lockButton.pbind(o),hideProgress:r.unlockButton.pbind(o),cache:1}),cur.fnbxAutoload=!0)},preload:function(){var n=curBox().tbCur;ajax.post(cur.fnbxPage,extend(cur.fnbxVars(n),{offset:cur.fnbxOffsets[n]}),{cache:1})},markSubsc:function(n,o){cur.fnbxIdolsProcessed[n]=o;var e=cur.fnbxIdolsList[cur.fnbxOwnerId];if(e&&e.length)for(var r=0,s=e.length;r<s;++r)if(e[r][0]==n){cur.fnbxIdolsList[cur.fnbxOwnerId][r][1]=o;break}},subscribe:function(n,o){ajax.post("al_feed.php",{act:"subscr",oid:o,hash:cur.fnbxHash,from:"feed"},{onDone:function(){hide("fans_idol_sub"+o),show("fans_idol_unsub"+o),show("fans_idol_feedact"+o),cur.fnbxOwnerId==vk.id&&c.recache(1),c.markSubsc(o,1)},showProgress:r.lockButton.pbind(n),hideProgress:r.unlockButton.pbind(n)})},blacklistTip:function(n){(0,s.showTooltip)(n,{text:getLang("fans_block_fan"),shift:[8,5,5],black:1})},blacklist:function(n,o,e){return n.tt&&n.tt.destroy&&n.tt.destroy(),cur.fnbxWasScroll=boxLayerWrap.scrollTop,showBox("/al_fans.php",{act:"block",oid:o},{params:{width:440}}),cancelEvent(e)},unsubscribe:function(n,o){ajax.post("/al_fans.php",{act:"unsub",oid:o,hash:cur.fnbxHash,from:"box"},{onDone:function(){show("fans_idol_sub"+o),hide("fans_idol_unsub"+o),hide("fans_idol_feedact"+o),cur.fnbxOwnerId==vk.id&&c.recache(-1),c.markSubsc(o,0)},showProgress:r.lockButton.pbind(n),hideProgress:r.unlockButton.pbind(n)})},feedToggle:function(n,o){ajax.post("/al_fans.php",{act:"feedtgl",oid:o,hash:cur.fnbxHash,from:"box"},{onDone:function(e,r){n.innerHTML=r,cur.fnbxOwnerId==vk.id&&c.recache(-1);var s=cur.fnbxIdolsList[cur.fnbxOwnerId];if(s&&s.length)for(var a=0,t=s.length;a<t;++a)if(s[a][0]==o){cur.fnbxIdolsList[cur.fnbxOwnerId][a][0]=e;break}},showProgress:function(){n.innerHTML='<span class="progress_inline"></span>'}})},onScroll:function(){var n=curBox();if(cur.fnbxAutoload&&n){var o=lastWindowHeight,e=ge("fans_more_link"+n.tbCur);isVisible(e)&&o>getXY(e,!0)[1]&&e.click()}},recache:function(n){for(var o in cur.fnbxOffsets[curBox().tbCur]+=n,ajaxCache)o.match(new RegExp("^\\/"+cur.fnbxPage+"\\#act="+(cur.fnbxAct||"box"),""))&&delete ajaxCache[o]},remove:function(n){re("fans_fan_row"+n),c.recache(-1),c.onScroll();var o=curBox().tbCur;domFC(ge("fans_rows"+o))||(curBox().hide(),nav.reload())},backToBox:function(){if(cur.fnbxLoaded=function(){var n=curBox().tbVis,o=ge("fans_rows"+n),e=cur.fnbxBack.scroll;n==cur.fnbxBack.tab?(extend(cur,{fnbxOffsets:cur.fnbxBack.offsets,fnbxIdolsQuery:cur.fnbxBack.query}),domPN(o).replaceChild(cur.fnbxBack.cont,o),toggle("fans_more_link"+n,!!cur.fnbxBack.vis),(0,r.unlockButton)("fans_more_link"+n),cur.fnbxLoaded=cur.fnbxBack=!1,boxLayerWrap.scrollTop=e,val("fans_idol_search_inp",cur.fnbxIdolsQuery),"idols"==n&&cur.fnbxIdolsQuery&&(elfocus("fans_idol_search_inp"),show("fans_reset_search")),setTimeout((function(){boxLayerWrap.scrollTop=e,onBodyResize(),c.onScroll()}),0)):curBox().tbTab(cur.fnbxBack.tab)},cur.fnbxBack){cur.fnbxOwnerId=cur.fnbxBack.oid,cur.fnbxObjectId=cur.fnbxBack.objectId;var n=cur.fnbxVars(cur.fnbxBack.initial);if(n.w)nav.change({w:n.w});else{var o=cur.audioListenersOnDone?cur.audioListenersOnDone:{};showBox(cur.fnbxPage,n,extend({cache:1},o))}}},beforePhotoShow:function(){var n=curBox();if(n){var o=n.tbCur;cur.fnbxPhShown=!1,extend(cur,{fnbxBack:{tab:o,initial:n.tbInitial,oid:cur.fnbxOwnerId,objectId:cur.fnbxObjectId,offsets:cur.fnbxOffsets,scroll:boxLayerWrap.scrollTop,query:cur.fnbxIdolsQuery,vis:isVisible("fans_more_link"+o),cont:ge("fans_rows"+o),instance:n.tbInstance}})}}};const t=c}},s={};function a(n){var o=s[n];if(void 0!==o)return o.exports;var e=s[n]={id:n,loaded:!1,exports:{}};return r[n].call(e.exports,e,e.exports,a),e.loaded=!0,e.exports}a.m=r,n=[],a.O=(o,e,r,s)=>{if(!e){var c=1/0;for(l=0;l<n.length;l++){for(var[e,r,s]=n[l],t=!0,i=0;i<e.length;i++)(!1&s||c>=s)&&Object.keys(a.O).every((n=>a.O[n](e[i])))?e.splice(i--,1):(t=!1,s<c&&(c=s));if(t){n.splice(l--,1);var f=r();void 0!==f&&(o=f)}}return o}s=s||0;for(var l=n.length;l>0&&n[l-1][2]>s;l--)n[l]=n[l-1];n[l]=[e,r,s]},a.n=n=>{var o=n&&n.__esModule?()=>n.default:()=>n;return a.d(o,{a:o}),o},e=Object.getPrototypeOf?n=>Object.getPrototypeOf(n):n=>n.__proto__,a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var s=Object.create(null);a.r(s);var c={};o=o||[null,e({}),e([]),e(e)];for(var t=2&r&&n;"object"==typeof t&&!~o.indexOf(t);t=e(t))Object.getOwnPropertyNames(t).forEach((o=>c[o]=()=>n[o]));return c.default=()=>n,a.d(s,c),s},a.d=(n,o)=>{for(var e in o)a.o(o,e)&&!a.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:o[e]})},a.e=()=>Promise.resolve(),a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),a.hmd=n=>((n=Object.create(n)).children||(n.children=[]),Object.defineProperty(n,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+n.id)}}),n),a.o=(n,o)=>Object.prototype.hasOwnProperty.call(n,o),a.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},(()=>{var n={6581:0};a.O.j=o=>0===n[o];var o=(o,e)=>{var r,s,[c,t,i]=e,f=0;for(r in t)a.o(t,r)&&(a.m[r]=t[r]);if(i)var l=i(a);for(o&&o(e);f<c.length;f++)s=c[f],a.o(n,s)&&n[s]&&n[s][0](),n[c[f]]=0;return a.O(l)},e=self.webpackChunkvk=self.webpackChunkvk||[];e.forEach(o.bind(null,0)),e.push=o.bind(null,e.push.bind(e))})();var c=a.O(void 0,[8592],(()=>a(249970)));c=a.O(c)})();