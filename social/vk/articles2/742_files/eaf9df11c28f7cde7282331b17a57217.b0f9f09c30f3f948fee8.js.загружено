/*! For license information please see eaf9df11c28f7cde7282331b17a57217.b0f9f09c30f3f948fee8.js.LICENSE.txt */
(self.webpackChunkvk=self.webpackChunkvk||[]).push([[6183],{625894:(e,t,a)=>{"use strict";a.d(t,{DATE_PICKER_MODE_DAY:()=>c,DATE_PICKER_MODE_MONTH:()=>D,DATEPICKER_MODE_ALL:()=>u,default:()=>f});a(530522),a(66108),a(579665),a(95767),a(796409),a(175115),a(991181),a(296253),a(83276);var n=a(667294),r=a(630286),s=(a(45697),a(73499)),o=a(128418),i=a(495216),l=a(440609),d=a(354649);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,s=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw s}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var c="DATE_PICKER_MODE_DAY",D="DATE_PICKER_MODE_MONTH",u="DATEPICKER_MODE_ALL",m=r.DateRange;class E extends n.Component{constructor(e){super(e),this.handleChangeRange=e=>{var t={};Object.entries(e).forEach((e=>{var a=g(e,2),n=a[0],r=a[1],s=Object.assign({},this.state.ranges[n],r);t=Object.assign(t,{[n]:s})}),this),this.setState({ranges:Object.assign({},this.state.ranges,t)}),this.props.onChange&&this.props.onChange(e)},this.handleChangeMode=e=>{this.setState({mode:e})},this.getStaticRanges=()=>(this.props.staticRanges||[]).filter((e=>e.modes.includes(this.state.mode))),this.renderDayRange=()=>{var e=this.props.minDate;return n.createElement(m,_({minDate:e},this.props,{showDateDisplay:!1,shownDate:Object.values(this.state.ranges)[0].endDate,navigatorRenderer:((e,t,a,r,o)=>n.createElement(s.default,{showModeChanger:this.props.showModeChanger,mode:this.state.mode,data:o,changeShownDate:r,handleChangeRange:e,handleChangeMode:this.handleChangeMode,maxDate:t.maxDate,minDate:t.minDate})).bind(null,this.handleChangeRange,{maxDate:new Date}),onChange:this.handleChangeRange,ranges:Object.values(this.state.ranges),locale:(0,l.default)(),dragSelectionEnabled:!1,weekdayDisplayFormat:"dd",dayDisplayFormat:"D",monthDisplayFormat:"MMMM YYYY"}))},this.renderMonthRange=()=>{var e=this.props,t=e.maxDate,a=e.minDate;return n.createElement("div",{className:"DatePicker__MonthRangeContainer"},n.createElement(s.default,{showModeChanger:this.props.showModeChanger,mode:this.state.mode,data:{ranges:Object.values(this.state.ranges)},handleChangeMode:this.handleChangeMode}),n.createElement(d.default,{ranges:Object.values(this.state.ranges),locale:(0,l.default)(),minDate:a,maxDate:t||new Date,onChange:this.handleChangeRange}))},this.state={ranges:{},mode:this.props.mode};var t=e.ranges;Object.entries(t).forEach((e=>{var t=e[0],a=e[1],n=a.startDate,r=a.endDate;this.state.ranges[t]={startDate:n,endDate:r,key:t}}),this),this.handleChangeRange=this.handleChangeRange.bind(this)}render(){var e=this.props,t=e.maxDate,a=e.minDate,r=e.onClose,s=e.onDone,l=e.closeText,d=e.validate,_=this.getStaticRanges(),g=!!d&&d(this.state.ranges);return n.createElement("div",{className:"DatePicker "+(this.props.className||"")},_.length?n.createElement(i.default,{staticRanges:_,handleChangeRange:this.handleChangeRange,rangeKey:Object.keys(this.state.ranges)[0],ranges:Object.values(this.state.ranges),maxDate:t,minDate:a,onDone:s}):null,this.state.mode===c?this.renderDayRange():this.renderMonthRange(),r||s?n.createElement(o.default,{onClose:r,onDone:s,closeText:l,ranges:this.state.ranges,onDoneDisabled:g}):null)}}const f=E;E.defaultProps={mode:c,showModeChanger:!1,ranges:{range1:{startDate:new Date,endDate:new Date}},navigatorRenderer:(e,t,a)=>n.createElement(s.default,{mode:c,handleChangeMode:()=>{},changeShownDate:t,data:a,focusedRanges:e}),direction:"horizontal"}},537175:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});a(991181),a(296253);var n=a(667294),r=(a(45697),a(881150)),s=a(41437),o=function(e){var t=e.onClose,a=e.onDone,o=e.ranges,i=e.onDoneDisabled,l=t?n.createElement(r.default,{appearance:"secondary",onClick:t},e.closeText||(0,s.getLang)("global_cancel")):null,d=a?n.createElement(r.default,{appearance:"primary",onClick:()=>a(o[Object.keys(o)[0]]),disabled:i},(0,s.getLang)("Save")):null;return n.createElement("div",{className:"DatePicker__footer"},l,d)};o.defaultProps={onDoneDisabled:!1};const i=o},128418:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});const n=a(537175).default},965185:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var n=a(667294),r=(a(45697),a(121265));class s extends n.Component{render(){var e=this.props,t=e.label,a=e.isSelected,s=e.isDisabled,o=e.isCurrent,i=e.isActive,l=(0,r.classNames)(this.props.className,{MonthCell:!0,"MonthCell--disabled":s,"MonthCell--selected":a,"MonthCell--active":i,"MonthCell--current":o});return n.createElement("div",{onClick:()=>this.props.onMonthClick(this.props.value),onMouseEnter:()=>this.props.onMonthHover(this.props.value),onTouchMove:()=>this.props.onMonthHover(this.props.value),className:l},t)}}const o=s;s.defaultProps={isSelected:!1,isDisabled:!1,isActive:!1,isCurrent:!1}},456350:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});a(175115);var n=a(667294),r=(a(45697),a(645321)),s=a(965185);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class i extends n.Component{constructor(e){super(e),this.onMonthClick=e=>{var t=this.props,a=t.selection,n=t.onSelectionChange,s=t.minDate,o=t.maxDate,i=t.year;if(!this.isMonthDisabled(e)&&((!a||!a.start||a&&a.start&&a.end)&&n({start:(0,r.max)([s,(0,r.startOfMonth)(new Date(i,e))]),end:null}),a&&a.start&&!a.end)){var l=a.start,d=(0,r.endOfMonth)(new Date(i,e)),_=(0,r.isBefore)(d,l);n({start:_?(0,r.max)([s,(0,r.startOfMonth)(d)]):l,end:_?(0,r.min)([o,(0,r.endOfMonth)(l)]):(0,r.min)([o,d])})}},this.onMonthHover=e=>{this.isMonthDisabled(e)||this.setState({hoveredMonth:e})},this.clearHoveredMonth=()=>{this.setState({hoveredMonth:null})},this.state={hoveredMonth:null}}getMonthProps(e){var t=(0,r.startOfMonth)(new Date(this.props.year,e)),a=(0,r.endOfMonth)(t),n=this.props,s=n.minDate,o=n.maxDate,i=n.selection,l=n.locale,d=n.year,_=i.start&&i.end,g={label:(0,r.format)(t,"MMM",{locale:l}),value:e,isDisabled:(0,r.isBefore)(a,s)||(0,r.isAfter)(t,o),isCurrent:(0,r.isSameMonth)(new Date,t),isSelected:!1,isActive:i&&((0,r.isSameMonth)(i.start,t)||(0,r.isSameMonth)(i.end,t)||_&&(0,r.isWithinInterval)(t,i)||_&&(0,r.isWithinInterval)(a,i))};if(null!==this.state.hoveredMonth&&i.start&&!i.end){var h=(0,r.startOfMonth)(new Date(d,this.state.hoveredMonth)),c=(0,r.endOfMonth)(h),D={start:(0,r.min)([h,i.start]),end:(0,r.max)([c,i.start])};g.isSelected=(0,r.isWithinInterval)(t,D)||(0,r.isWithinInterval)(a,D)}return g}isMonthDisabled(e){var t=(0,r.startOfMonth)(new Date(this.props.year,e)),a=(0,r.endOfMonth)(t),n=this.props,s=n.minDate,o=n.maxDate;return(0,r.isBefore)(a,s)||(0,r.isAfter)(t,o)}render(){return n.createElement("div",{className:"MonthGrid",onMouseLeave:this.clearHoveredMonth},new Array(12).fill(0).map(((e,t)=>n.createElement(s.default,o({onMonthClick:this.onMonthClick,onMonthHover:this.onMonthHover,key:t},this.getMonthProps(t))))))}}const l=i;i.defaultprops={minDate:new Date,maxDate:new Date,selection:{start:null,end:null},onSelectionChange:()=>{}}},354649:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var n=a(667294),r=(a(45697),a(645321)),s=a(456350),o=a(825322);class i extends n.Component{constructor(){super(...arguments),this.state={year:this.props.ranges&&this.props.ranges[0].endDate.getFullYear()||(new Date).getFullYear(),selection:{start:this.props.ranges&&this.props.ranges[0].startDate||null,end:this.props.ranges&&this.props.ranges[0].endDate||null}},this.handleChangeSelection=e=>{this.setState({selection:e},(()=>{this.state.selection.start&&this.state.selection.end&&this.props.onChange({range1:{startDate:this.state.selection.start,endDate:this.state.selection.end,key:"range1"}}),this.state.selection.start&&!this.state.selection.end&&this.props.onChange({range1:{startDate:this.state.selection.start,endDate:(0,r.min)([this.props.maxDate,(0,r.endOfMonth)(this.state.selection.start)]),key:"range1"}})}))},this.handleYearChange=e=>{this.setState({year:e})}}render(){var e=this.props,t=e.locale,a=e.minDate,r=e.maxDate;return n.createElement("div",{className:"MonthRange"},n.createElement(o.default,{year:this.state.year,label:this.state.year+"",minDate:a,maxDate:r,onYearChange:this.handleYearChange}),n.createElement(s.default,{year:this.state.year,locale:t,selection:this.state.selection,minDate:a,maxDate:r,onSelectionChange:this.handleChangeSelection}))}}const l=i},825322:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var n=a(667294),r=(a(45697),a(121265));class s extends n.Component{render(){var e=this.props,t=e.label,a=e.year,s=e.onYearChange,o=e.minDate,i=e.maxDate,l=(0,r.classNames)(this.props.className,{MonthYear:!0}),d=a-1,_=a+1,g=d<o.getFullYear(),h=(0,r.classNames)({MonthYear__button:!0,"MonthYear__button--prev":!0,"MonthYear__button--disabled":g}),c=_>i.getFullYear(),D=(0,r.classNames)({MonthYear__button:!0,"MonthYear__button--next":!0,"MonthYear__button--disabled":c});return n.createElement("div",{className:l},n.createElement("button",{className:h,disabled:g,onClick:()=>s(d)}),n.createElement("div",{className:"MonthYear__label"},t),n.createElement("button",{disabled:c,className:D,onClick:()=>s(_)}))}}const o=s;s.defaultProps={onYearChange:()=>{},minDate:new Date,maxDate:new Date}},265348:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});a(751876);var n=a(667294),r=a(645321),s=a(41437);class o extends n.Component{constructor(e){super(e),this.state={focus:{end:!1,start:!1}};var t=this.props.range;this.state.start=(0,r.format)(t.startDate,"DD.MM.YYYY"),this.state.end=(0,r.format)(t.endDate,"DD.MM.YYYY"),this.pattern=/^(?:\d{2}|[1-9])\.(?:\d{2}|[1-9])\.(?:[12]\d{3})$/,this.changeInputs=this.changeInputs.bind(this),this.changeRange=this.changeRange.bind(this),this.handleChangeRangeUsed=this.handleChangeRangeUsed.bind(this),this.enter=this.enter.bind(this),this.blur=this.blur.bind(this),this.focus=this.focus.bind(this)}componentDidUpdate(e,t){if(e.range.startDate===this.props.range.startDate&&e.range.endDate===this.props.range.endDate)return!1;var a=this.props.range;this.setState({start:(0,r.format)(a.startDate,"DD.MM.YYYY")}),this.setState({end:(0,r.format)(a.endDate,"DD.MM.YYYY")})}changeInputs(e,t){this.setState({[t]:e.target.value})}handleChangeRangeUsed(e){var t=this.props,a=t.rangeKey;(0,t.handleChangeRange)({[a]:e})}changeRange(e,t){if(!this.pattern.test(t))return!1;var a=t.split("."),n=new Date(a[2],a[1]-1,a[0]),r=this.props,s=r.minDate,o=r.maxDate,i=r.range,l=i.startDate,d=i.endDate;return"start"===e?s&&n<s?d&&n>d?(this.handleChangeRangeUsed({startDate:s,endDate:s}),!1):(this.handleChangeRangeUsed({startDate:s}),!1):n>d?(this.handleChangeRangeUsed({startDate:n,endDate:n}),!1):(this.handleChangeRangeUsed({startDate:n}),!1):o&&n>o?n<l?(this.handleChangeRangeUsed({endDate:o,startDate:o}),!1):(this.handleChangeRangeUsed({endDate:o}),!1):n<l?(this.handleChangeRangeUsed({endDate:n,startDate:n}),!1):(this.handleChangeRangeUsed({endDate:n}),!1)}focus(e){this.setState({focus:{[e]:!0}})}blur(e,t){this.setState({focus:{[t]:!1}}),this.changeRange(t,e.target.value)}enter(e,t){if(13!==e.charCode)return!1;this.changeRange(t,e.target.value)}render(){var e=this.state,t=e.start,a=e.end,r=e.focus,o=[!(r.start||r.end)&&this.props.focusedRange[1],!(r.start||r.end||this.props.focusedRange[1])];return n.createElement("div",{className:"Inputs"},n.createElement("span",{className:"Inputs__label"},(0,s.getLang)("ads_react_date_picker_range")),n.createElement("input",{value:t,onChange:e=>this.changeInputs(e,"start"),onKeyPress:e=>this.enter(e,"start"),onFocus:e=>this.focus("start",e),onBlur:e=>this.blur(e,"start"),className:"Inputs__input"+(o[0]?" Inputs__input--focused":"")}),n.createElement("span",{className:"Inputs__delimiter"}),n.createElement("input",{value:a,onChange:e=>this.changeInputs(e,"end"),onKeyPress:e=>this.enter(e,"end"),onFocus:e=>this.focus("end",e),onBlur:e=>this.blur(e,"end"),className:"Inputs__input"+(o[1]?" Inputs__input--focused":"")}))}}const i=o},689080:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});const n=a(265348).default},977959:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var n=a(667294),r=(a(45697),a(710395)),s=a(856612),o=a(41437),i=a(625894);const l=e=>n.createElement(r.default,{className:"DatePicker ModeChanger",position:"b",align:"right",marginLeft:25,data:[{text:(0,o.getLang)("ads_react_date_picker_mode_by_day"),onClick:t=>{t.preventDefault(),e.onChange(i.DATE_PICKER_MODE_DAY)}},{text:(0,o.getLang)("ads_react_date_picker_mode_by_month"),onClick:t=>{t.preventDefault(),e.onChange(i.DATE_PICKER_MODE_MONTH)}}]},n.createElement(s.default,{className:"ModeChanger__opener",href:"#",onClick:e=>e.preventDefault()},e.mode===i.DATE_PICKER_MODE_DAY?(0,o.getLang)("ads_react_date_picker_mode_by_day"):(0,o.getLang)("ads_react_date_picker_mode_by_month")))},43137:(e,t,a)=>{"use strict";a.d(t,{default:()=>_});var n=a(667294),r=(a(45697),a(689080)),s=a(332952),o=a(977959),i=a(625894),l=a(41437),d=a(59016);const _=e=>{var t=e.data,a=void 0===t?{}:t,_=e.changeShownDate,g=e.mode,h=e.handleChangeMode,c=e.showModeChanger,D=a.ranges,u=void 0===D?[]:D,m=a.focusedRange,E=void 0===m?[0,0]:m;return g===i.DATE_PICKER_MODE_MONTH?n.createElement("div",{className:"DatePicker__panel"},n.createElement("div",null,u.map((e=>n.createElement("div",{className:"DatePicker__panel-range",key:e.key},n.createElement("span",{className:"Inputs__label"},(0,l.getLang)("ads_react_date_picker_range")),n.createElement("span",null,(0,d.getMonthStrRange)(e)))))),c&&n.createElement(o.default,{mode:g,onChange:h})):n.createElement("div",{className:"DatePicker__panel"},n.createElement("button",{type:"button",onClick:()=>_(-1,"monthOffset"),className:"Panel__arrow--minus"}),u.map((t=>n.createElement(r.default,{range:t,handleChangeRange:e.handleChangeRange,rangeKey:t.key,key:t.key,focusedRange:E,maxDate:e.maxDate,minDate:e.minDate}))),n.createElement("button",{type:"button",onClick:()=>_(1,"monthOffset"),className:"Panel__arrow--plus"}),Boolean(e.lastYear)&&n.createElement(s.default,{goto:_,lastYear:e.lastYear}),c&&n.createElement(o.default,{mode:g,onChange:h}))}},87395:(e,t,a)=>{"use strict";a.d(t,{default:()=>r});a(530522);var n=a(667294);function r(e){var t=(new Date).getFullYear(),a=t-e.lastYear,r=a<6?7:a+2,s=Array.from({length:r},((e,t)=>t)).map((r=>n.createElement("button",{key:r,onClick:e.goto.bind(null,t-r,"setYear"),disabled:r>a},t-r)));return n.createElement("div",null,s.reverse())}},332952:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});const n=a(87395).default},73499:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});const n=a(43137).default},276947:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});a(991181),a(296253);var n=a(667294),r=a(645321),s=(e,t)=>(0,r.format)(e,"DD.MM.YYYY")===(0,r.format)(t,"DD.MM.YYYY"),o=(e,t)=>{var a=t.minDate,n=t.maxDate,r=e.startDate,s=e.endDate;return{startDate:a?new Date(Math.max(a,r)):r,endDate:n?new Date(Math.min(n,s)):s}};class i extends n.Component{constructor(e){super(e),this.checkPeriod=e=>{var t=this.props,a=t.maxDate,n=t.minDate;if(!this.props.staticRanges[e])return!1;var r=this.getRangeByKey(e);if(!r)return!1;var i,l,d,_,g=r.range(),h=this.props.ranges[0];return i=h,d=o(g,l={maxDate:a,minDate:n}),_=o(i,l),!(!s(d.startDate,_.startDate)||!s(d.endDate,_.endDate))&&(this.setState({selectedStaticRange:e},(()=>{cur.DatePicker.StaticRanges.selectedStaticRange=e})),!0)},this.getRangeByKey=e=>this.props.staticRanges.find((t=>t.key===e)),cur.DatePicker=cur.DatePicker||{},cur.DatePicker.StaticRanges=cur.DatePicker.StaticRanges||{},this.state={selectedStaticRange:cur.DatePicker.StaticRanges.selectedStaticRange||void 0}}componentDidMount(){if(cur.DatePicker.StaticRanges.selectedStaticRange){var e=cur.DatePicker.StaticRanges.selectedStaticRange;if(this.checkPeriod(e))return!1}this.props.staticRanges.forEach((e=>{if(this.checkPeriod(e.key))return!1}))}componentDidUpdate(e,t){if(e.ranges[0].startDate===this.props.ranges[0].startDate&&e.ranges[0].endDate===this.props.ranges[0].endDate)return!1;if(t.selectedStaticRange){var a=t.selectedStaticRange;if(this.checkPeriod(a))return!1}var n;Object.keys(this.props.staticRanges).forEach((e=>{n=n||this.checkPeriod(e)})),n||this.setState({selectedStaticRange:void 0},(()=>{cur.DatePicker.StaticRanges.selectedStaticRange=void 0}))}handleChangeRange(e){var t=this.props,a=t.handleChangeRange,n=t.rangeKey,r=t.maxDate,s=t.minDate,o=t.onDone,i=this.getRangeByKey(e).range(),l=i.startDate,d=i.endDate,_={startDate:s?new Date(Math.max(s,l)):l,endDate:r?new Date(Math.min(r,d)):d};this.setState({selectedStaticRange:e},(()=>{a({[n]:_}),o(_),cur.DatePicker.StaticRanges.selectedStaticRange=e}))}render(){var e=this.props.staticRanges.map((e=>{var t=e.key,a=this.getRangeByKey(t).label;return n.createElement("li",{key:t,className:"StaticRanges__item"},n.createElement("input",{type:"radio",onChange:()=>this.handleChangeRange(t),id:t,name:"StaticRanges",className:"StaticRanges__radio",value:t,checked:this.state.selectedStaticRange===t}),n.createElement("label",{htmlFor:t,className:"StaticRanges__label"},a))}));return n.createElement("ul",{className:"StaticRanges"},e)}}const l=i},495216:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});const n=a(276947).default},440609:(e,t,a)=>{"use strict";a.d(t,{default:()=>s});var n=a(166754),r=a(41437);function s(){var e=n,t=[(0,r.getLang)("Month1"),(0,r.getLang)("Month2"),(0,r.getLang)("Month3"),(0,r.getLang)("Month4"),(0,r.getLang)("Month5"),(0,r.getLang)("Month6"),(0,r.getLang)("Month7"),(0,r.getLang)("Month8"),(0,r.getLang)("Month9"),(0,r.getLang)("Month10"),(0,r.getLang)("Month11"),(0,r.getLang)("Month12")];e.localize.months=()=>t,e.localize.month=e=>t[e],e.options.weekStartsOn=1;var a=[(0,r.getLang)("global_sunday_short"),(0,r.getLang)("global_monday_short"),(0,r.getLang)("global_tuesday_short"),(0,r.getLang)("global_wednesday_short"),(0,r.getLang)("global_thursday_short"),(0,r.getLang)("global_friday_short"),(0,r.getLang)("global_saturday_short")];return e.localize.weekdays=()=>a,e.localize.weekday=e=>a[e],e}},59016:(e,t,a)=>{"use strict";a.d(t,{getDayStrRang:()=>s,getMonthStrRange:()=>o,default:()=>i});var n=a(799479),r=a(645321),s=e=>{var t=[];t=e.startDate.getTime()===e.endDate.getTime()?n.ADS_MONTH_OF_LIST:n.ADS_SHORT_MONTH_OF_LIST;var a="{day} {month} {year}",r="{day} {month}",s=e.startDate,o=e.endDate,i=langDate(s,["",a],0,t,!1),l=langDate(o,["",a],0,t,!1),d=langDate(s,["",r],0,t,!1),_=langDate(o,["",r],0,t,!1);return s.getYear()!==o.getYear()?i===l?i:i+` ${n.NDASH_SIGN} `+l:d===_?d:d+` ${n.NDASH_SIGN} `+_},o=e=>{var t=e.startDate,a=e.endDate;return(0,r.isSameYear)(t,a)&&(0,r.isSameMonth)(t,a)?langDate(t,["","{month} {year}"],0,n.ADS_MONTH_LIST,!1):(0,r.isSameYear)(t,a)?[t&&langDate(t,["","{month}"],0,n.ADS_SHORT_MONTH_LIST,!1),n.NDASH_SIGN,a&&langDate(a,["","{month} {year}"],0,n.ADS_SHORT_MONTH_LIST,!1)].join(" "):[t&&langDate(t,["","{month} {year}"],0,n.ADS_SHORT_MONTH_LIST,!1),n.NDASH_SIGN,a&&langDate(a,["","{month} {year}"],0,n.ADS_SHORT_MONTH_LIST,!1)].join(" ")};function i(e,t){return t?o(e):s(e)}},911956:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});const n=a(625894).default},769610:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var n=a(667294),r=(a(45697),a(309739)),s=a(121265),o=e=>{var t=e.data,a=e.align,o=e.trigger,i=e.position,l=e.marginLeft,d=e.marginTop,_=e.className,g=e.children;return n.createElement(r.default,{className:(0,s.classNames)("OfficeDropdown",_),data:t,align:a,trigger:o,position:i,marginLeft:l,marginTop:d},g)};o.defaultProps={position:"b",align:"center",marginTop:0,marginLeft:0,trigger:"click",data:[],children:null,className:""};const i=o},710395:(e,t,a)=>{"use strict";a.d(t,{default:()=>n.default});var n=a(769610)},799479:(e,t,a)=>{"use strict";a.d(t,{ROUBLE_SIGN:()=>r,NBSP_SIGN:()=>s,MDASH_SIGN:()=>o,NDASH_SIGN:()=>i,ADS_SHORT_MONTH_OF_LIST:()=>l,ADS_SHORT_MONTH_LIST:()=>d,ADS_MONTH_OF_LIST:()=>_,ADS_MONTH_LIST:()=>g,ADS_UNION_TYPE_TARG_AD:()=>h,ADS_UNION_TYPE_TARG_CAMPAIGN:()=>c,ADS_UNION_TYPE_TARG_CLIENT:()=>D,ADS_UNION_TYPE_TARG_AGENCY:()=>u,ADS_OFFICE_STUB_FADE_TIME:()=>m,ADS_OFFICE_TITLE_LENGTH_MAX:()=>E,FLOAT_FORMAT_PRECISION:()=>f,PERCENT_FORMAT_PRECISION:()=>p,ADS_FORMATTING_PERCENT_FLOAT:()=>A,ADS_FORMATTING_CURRENCY_INT_SIGN:()=>O,ADS_FORMATTING_CURRENCY_SIGN:()=>L,ADS_FORMATTING_DELIM_FLOAT:()=>v,ADS_FORMATTING_DELIM_INT:()=>T,ADS_FORMATTING_PLAIN:()=>C,ADS_FORMATTING_DATE:()=>N,ADS_FORMATTING_COUNT:()=>S,COST_TYPE_CPM:()=>R,COST_TYPE_CPC:()=>P,COST_TYPE_OCPM:()=>M,AD_GOAL_TYPE_UNKNOWN:()=>I,AD_GOAL_TYPE_VIEW:()=>y,AD_GOAL_TYPE_CLICK:()=>b,AD_GOAL_TYPE_LEAD_FORM_SEND:()=>Y,AD_GOAL_TYPE_GROUP_JOIN:()=>w,AD_GOAL_TYPE_MESSAGE_SEND:()=>k,AD_GOAL_TYPE_APP_INSTALL:()=>x,AD_GOAL_TYPE_CONVERSION_EXTERNAL_ADD_TO_CART:()=>G,AD_GOAL_TYPE_CONVERSION_EXTERNAL_ADD_TO_WISHLIST:()=>B,AD_GOAL_TYPE_CONVERSION_EXTERNAL_CUSTOMIZE_PRODUCT:()=>H,AD_GOAL_TYPE_CONVERSION_EXTERNAL_INITIATE_CHECKOUT:()=>F,AD_GOAL_TYPE_CONVERSION_EXTERNAL_ADD_PAYMENT_INFO:()=>V,AD_GOAL_TYPE_CONVERSION_EXTERNAL_PURCHASE:()=>j,AD_GOAL_TYPE_CONVERSION_EXTERNAL_CONTACT:()=>U,AD_GOAL_TYPE_CONVERSION_EXTERNAL_LEAD:()=>$,AD_GOAL_TYPE_CONVERSION_EXTERNAL_SCHEDULE:()=>K,AD_GOAL_TYPE_CONVERSION_EXTERNAL_COMPLETE_REGISTRATION:()=>X,AD_GOAL_TYPE_CONVERSION_EXTERNAL_SUBMIT_APPLICATION:()=>W,AD_GOAL_TYPE_CONVERSION_EXTERNAL_START_TRIAL:()=>z,AD_GOAL_TYPE_CONVERSION_EXTERNAL_SUBSCRIBE:()=>J,AD_GOAL_TYPE_CONVERSION_EXTERNAL_PAGE_VIEW:()=>Z,AD_GOAL_TYPE_CONVERSION_EXTERNAL_VIEW_CONTENT:()=>q,AD_GOAL_TYPE_CONVERSION_EXTERNAL_SEARCH:()=>Q,AD_GOAL_TYPE_CONVERSION_EXTERNAL_FIND_LOCATION:()=>ee,AD_GOAL_TYPE_CONVERSION_EXTERNAL_DONATE:()=>te,AD_GOAL_TYPE_CONVERSION_EXTERNAL_CONVERSION:()=>ae,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_CONVERSION:()=>ne,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_PURCHASE:()=>re,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_ADD_TO_CART:()=>se,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_INITIATE_CHECKOUT:()=>oe,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_ADD_PAYMENT_INFO:()=>ie,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_SUBSCRIBE:()=>le,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_COMPLETE_REGISTRATION:()=>de,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_CONTACT:()=>_e,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_LEAD:()=>ge,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_VIEW_CONTENT:()=>he,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_SEARCH:()=>ce,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_ADD_TO_WISHLIST:()=>De,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_CUSTOMIZE_PRODUCT:()=>ue,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_DONATE:()=>me,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_FIND_LOCATION:()=>Ee,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_PAGE_VIEW:()=>fe,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_SCHEDULE:()=>pe,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_START_TRIAL:()=>Ae,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_SUBMIT_APPLICATION:()=>Oe,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_ACHIEVED_LEVEL:()=>Le,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_COMPLETED_TUTORIAL:()=>ve,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_RATED:()=>Te,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_UNLOCKED_ACHIEVEMENT:()=>Ce,AD_GOAL_TYPE_CONVERSION_MOBILE_APP_SPENT_CREDITS:()=>Ne,ADS_AD_FORMAT_TYPE_TEXT_IMAGE:()=>Se,ADS_AD_FORMAT_TYPE_PROMOTED_POST:()=>Re,ADS_AD_FORMAT_TYPE_ADAPTIVE_AD:()=>Pe,ADS_AD_LINK_TYPE_POST_WITH_SHADOW:()=>Me,ADS_AD_LINK_TYPE_POST_STEALTH:()=>Ie,ADS_AD_LINK_TYPE_STORY:()=>ye,ADS_AD_LINK_TYPE_USER_PROFILE:()=>be,ADS_PUBLISH_PLATFORM_ALL:()=>Ye,ADS_PUBLISH_PLATFORM_ALL_SOCIALS:()=>we,ADS_PUBLISH_PLATFORM_ONLY_VK:()=>ke,DATE_API_FORMAT:()=>xe,DATE_RUSSIA_FORMAT:()=>Ge});var n=a(422593),r="₽",s=" ",o="—",i="–",l=["",(0,n.getLangDeferred)("month1sm_of"),(0,n.getLangDeferred)("month2sm_of"),(0,n.getLangDeferred)("month3sm_of"),(0,n.getLangDeferred)("month4sm_of"),(0,n.getLangDeferred)("month5_of"),(0,n.getLangDeferred)("month6_of"),(0,n.getLangDeferred)("month7_of"),(0,n.getLangDeferred)("month8sm_of"),(0,n.getLangDeferred)("month9sm_of"),(0,n.getLangDeferred)("month10sm_of"),(0,n.getLangDeferred)("month11sm_of"),(0,n.getLangDeferred)("month12sm_of")],d=["",(0,n.getLangDeferred)("global_month1sm_ab"),(0,n.getLangDeferred)("global_month2sm_ab"),(0,n.getLangDeferred)("Month3"),(0,n.getLangDeferred)("global_month4sm_ab"),(0,n.getLangDeferred)("Month5"),(0,n.getLangDeferred)("Month6"),(0,n.getLangDeferred)("Month7"),(0,n.getLangDeferred)("global_month8sm_ab"),(0,n.getLangDeferred)("global_month9sm_ab"),(0,n.getLangDeferred)("global_month10sm_ab"),(0,n.getLangDeferred)("global_month11sm_ab"),(0,n.getLangDeferred)("global_month12sm_ab")],_=["",(0,n.getLangDeferred)("month1_of"),(0,n.getLangDeferred)("month2_of"),(0,n.getLangDeferred)("month3_of"),(0,n.getLangDeferred)("month4_of"),(0,n.getLangDeferred)("month5_of"),(0,n.getLangDeferred)("month6_of"),(0,n.getLangDeferred)("month7_of"),(0,n.getLangDeferred)("month8_of"),(0,n.getLangDeferred)("month9_of"),(0,n.getLangDeferred)("month10_of"),(0,n.getLangDeferred)("month11_of"),(0,n.getLangDeferred)("month12_of")],g=["",(0,n.getLangDeferred)("Month1"),(0,n.getLangDeferred)("Month2"),(0,n.getLangDeferred)("Month3"),(0,n.getLangDeferred)("Month4"),(0,n.getLangDeferred)("Month5"),(0,n.getLangDeferred)("Month6"),(0,n.getLangDeferred)("Month7"),(0,n.getLangDeferred)("Month8"),(0,n.getLangDeferred)("Month9"),(0,n.getLangDeferred)("Month10"),(0,n.getLangDeferred)("Month11"),(0,n.getLangDeferred)("Month12")],h=0,c=1,D=2,u=3,m=300,E=60,f=2,p=3,A="percent_float",O="currency_int_sign",L="currency_sign",v="delim_float",T="delim_int",C="plain",N="date_view",S="count_view",R=1,P=2,M=4,I=0,y=1,b=2,Y=3,w=5,k=6,x=7,G=8,B=9,H=10,F=11,V=12,j=13,U=14,$=15,K=16,X=17,W=18,z=19,J=20,Z=21,q=22,Q=23,ee=24,te=25,ae=26,ne=27,re=28,se=29,oe=30,ie=31,le=32,de=33,_e=34,ge=35,he=36,ce=37,De=38,ue=39,me=40,Ee=41,fe=42,pe=43,Ae=44,Oe=45,Le=46,ve=47,Te=48,Ce=49,Ne=50,Se=1,Re=9,Pe=11,Me=11,Ie=12,ye=13,be=15,Ye="all",we="social",ke="vk",xe="YYYY-MM-DD",Ge="DD.MM.YYYY"},422593:(e,t,a)=>{"use strict";a.d(t,{getLangDeferred:()=>s,getLangWithLinks:()=>o});a(59357);var n=a(41437),r=void 0,s=e=>n.getLang.bind(void 0,e),o=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var s=n.getLang.apply(r,t);return s.replace(/\[([^|]*)\|([^\]]*)]/g,'<a target="_blank" href="$1">$2</a>')}},501458:(e,t,a)=>{"use strict";a.d(t,{default:()=>B,SimilarGroupsEventLog:()=>H});a(530522),a(66108),a(296253),a(991181),a(579665),a(95767),a(175115),a(751876);var n=a(917685),r=a(414914),s=a(927663),o=a(206566),i=a(442699),l=a(705456),d=a(667294),_=a(973935),g=a(911956),h=a(116886),c=a(719016),D=a(41437),u=a(791563),m=a(651988);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,s=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw s}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var A="groups_edit_event_log",O="groups_edit_event_log",L=/act=a_event_log_extended/i,v=()=>{(0,i.each)(window.ajaxCache,(e=>{L.test(e)&&delete window.ajaxCache[e]}))},T=()=>nav.objLoc[0],C=()=>{show(`${A}_loader`),hide(`${A}_extended_button`)},N=()=>{hide(`${A}_loader`),show(`${A}_extended_button`)},S=`${A}_more`,R=e=>(0,r.toggle)(S,e),P=()=>{var e=ge(A);if(e){var t=(0,s.scrollGetY)()+42,a=ge(`${A}_controls`),n=window.innerHeight;if(e.scrollHeight<=n)(0,r.toggleClass)(a,`${A}_controls_fixed`,!1);else{var o=geByClass("_groups_edit_event_log_title",e),l=(0,r.getXY)((0,r.domPN)(a))[1];if((0,r.toggleClass)(a,`${A}_controls_fixed`,l<=t),o&&o.length){var d=!1,_=!1;for(var g in t+=47,o){if((0,r.getXY)(o[g])[1]>=t)break;d=o[g];var h=(0,i.intval)(g)+1;_=!!o[h]&&(0,r.getXY)(o[h])[1]-t}var c=(e,t)=>{(0,r.toggleClass)(e,`${A}_title_fixed`,t),setStyle(e,{left:t?(0,r.getXY)((0,r.domPN)(e))[0]:null}),!1===t&&(0,r.removeClass)(e,`${A}_title_animating`)};if(d){var D=(0,r.domFC)(d);d===e.fixedTitleWrap?setTimeout((()=>c(e.fixedTitle,!0))):(e.fixedTitle&&c(e.fixedTitle,!1),e.fixedTitle=D,c(D,!0),e.fixedTitleWrap=d);var u=!1!==_?_-48:0;u>=0&&(u=0),(0,i.intval)((0,r.getStyle)(e.fixedTitle,"top"))!==u?(setStyle(e.fixedTitle,{top:u}),(0,r.addClass)(e.fixedTitle,`${A}_title_animating`)):(0,r.removeClass)(e.fixedTitle,`${A}_title_animating`)}else e.fixedTitle&&(c(e.fixedTitle,!1),e.fixedTitle=!1,e.fixedTitleWrap=!1)}}}},M=()=>{if(P(),!o.browser.mobile&&!cur.disableAutoMore){var e=document.documentElement,t=window.innerHeight||e.clientHeight||bodyNode.clientHeight,a=(0,s.scrollGetY)(),n=ge(S);(0,r.isVisible)(n)&&!(0,l.isButtonLocked)(n)&&a+3*t>n.offsetTop&&n.onclick()}},I=()=>{(0,n.removeEvent)(window,"scroll",M),(0,n.removeEvent)(window,"resize",M)},y=()=>{var e,t;e=(0,r.domLC)(ge(O)),t=(0,r.domData)(e,"date"),R(!!t),M(),P()},b=()=>{var e="toggled",t=ge(O),a=JSON.parse((0,r.domData)(t,e)||"{}")||{};a&&((0,i.each)(a,(e=>{ge(`${A}_item_wrap${e}`)?window.GroupsEditEventLog.toggleItems(e):delete a[e]})),(0,r.domData)(t,e,JSON.stringify(a)))},Y=()=>{for(var e=ge("groups_edit_action_log_datepicker"),t=(0,r.domPN)(e),a=[],o=0;o<13;o++)a.push((0,h.getLang)("month"+o+"_of"));function l(e){var t=e.startDate,n=e.endDate,r=(0,h.langDate)(t,(0,h.getLang)("global_short_date","raw"),0,a,!1),s=(0,h.langDate)(n,(0,h.getLang)("global_short_date","raw"),0,a,!1),o=(0,h.langDate)(t,["","{day} {month} {year}"],0,a,!1),i=(0,h.langDate)(n,["","{day} {month} {year}"],0,a,!1),l=(0,h.langDate)(t,["","{day} {month}"],0,a,!1),d=(0,h.langDate)(n,["","{day} {month}"],0,a,!1);return/\d/.test(r[0])||/\d/.test(s[0])?t.getYear()!==n.getYear()?o===i?o:o+" - "+i:l===d?l:l+" - "+d:r===s?r:r+" - "+s}var c=(0,i.intval)((0,r.domData)(e,"start_date")),u=(0,i.intval)((0,r.domData)(e,"end_date")),m={startDate:new Date,endDate:new Date};c&&u&&(m.startDate=new Date(1e3*c),m.endDate=new Date(1e3*u));var E=(0,h.getLang)("groups_edit_filter_all_time");nav.objLoc.start_date&&nav.objLoc.end_date&&(E=l(m)),val(e,E);var f=ce("div",{id:"groups_edit_action_log_datepicker_container"});(0,n.addEvent)(f,"click",(e=>{(0,i.isFunction)(e.target.onclick)||window.cancelEvent(e)})),document.body.appendChild(f);var A=()=>{var t=e.getBoundingClientRect().height,a=e.getBoundingClientRect().left,n=e.getBoundingClientRect().top+(0,s.scrollGetY)();setStyle(f,{top:n+t+16+"px",left:a-110+"px",position:"absolute"})},O=!1;function L(t){var a=t.startDate,n=t.endDate;m={startDate:a,endDate:n},val(e,l(t)),window.GroupsEditEventLog.filterDate(m),_.unmountComponentAtNode(f),O=!1}var T=()=>{_.unmountComponentAtNode(f),O=!1},C=()=>{m={startDate:null,endDate:null},val(e,(0,h.getLang)("groups_edit_filter_all_time")),window.GroupsEditEventLog.filterDate(m),_.unmountComponentAtNode(f),O=!1};(0,n.addEvent)(t,"click",(()=>{var e,t;O?T():(A(),e=f,t={onClose:C,onDone:L,ranges:{range1:m},minDate:new Date(2007,1)},_.render(d.createElement(g.default,p({closeText:(0,D.getLang)("groups_edit_filter_clear_date"),className:"groups_edit_datepicker",maxDate:new Date},t)),e),O=!0)}));var N=a=>{a.target===f||a.target===e||a.target===t||hasClass(a.target,"Panel__arrow--plus")||hasClass(a.target,"Panel__arrow--minus")||T()};(0,n.addEvent)(window,"click",N),(0,n.addEvent)(window,"resize",A),(0,n.addEvent)(window,"scroll",N),cur.destroy.push((()=>(0,n.removeEvent)(window,"click",N))),cur.destroy.push((()=>(0,n.removeEvent)(window,"resize",A))),cur.destroy.push((()=>(0,n.removeEvent)(window,"scroll",N))),cur.destroy.push((()=>v()))};var w=(e,t,a)=>((0,n.cancelEvent)(a),function(e){var t="groups"+e+"Filter";return window.cur[t]||{}}(e).goToLink(t,a,!0),!1),k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=ge(O),n=clone(nav.objLoc);(0,i.each)(e,((e,t)=>{n[e]=t}));var s=clone(n);delete s[0],delete s.act,cur.disableAutoMore=!0,a.xhr&&(a.xhr.abort(),delete a.xhr),a.xhr=ajax.post(`${T()}?act=event_log`,extend(s,{filter:1}),{showProgress(){(0,i.isFunction)(t.showProgress)?t.showProgress():C()},hideProgress(){(0,i.isFunction)(t.hideProgress)?t.hideProgress():N()},onDone(e){if(t.isMore){if(!e)return void R(!1);(0,r.sech)(e).forEach((e=>a.appendChild(e))),(0,i.isFunction)(t.onDone)&&t.onDone()}else nav.setLoc(n),scrollToTop(0),val(a,e);cur.disableAutoMore=!1,y(),window.tooltips&&tooltips.destroyAll(),t.clearAjaxCache&&v(),t.noHideItems&&b()}})},x=e=>`${e.getDate()}-${e.getMonth()+1}-${e.getFullYear()}`,G=e=>{var t="";return e.forEach((e=>{t+=(e=>{var t="";e.fields.forEach((e=>{e.text?t+=(0,i.getTemplate)("eventLogItemFieldText",e):e.title?t+=(0,i.getTemplate)("eventLogItemFieldTitle",e):t+=(0,i.getTemplate)("eventLogItemField",e)}));var a="";e.counter>1&&(a=(0,i.getTemplate)("eventLogItemRowCounter",{counter:e.counter}));var n="";e.photo&&(n=(0,i.getTemplate)("eventLogItemRowPhoto",{link:e.link,photo:e.photo,counter:a}));var r=e.id+(e.additional?"_main":""),s=(0,i.getTemplate)("eventLogItemRow",{date:e.date,row_id:r,actions:e.actions,fields:t,photo:n});return e.additional&&(s=(0,i.getTemplate)("eventLogItem",{id:e.id,item:s,additional:e.additional})),s})(e)})),t};class B{showMore(){if(nav.objLoc.start_date&&nav.objLoc.end_date)R(!1);else{var e=(0,r.domLC)(ge(O)),t=(0,r.domData)(e,"date");if(!t)return R(!1);k({more_from:t},{showProgress:()=>(0,l.lockButton)(S),hideProgress:()=>(0,l.unlockButton)(S),isMore:!0,onDone(){var e=(0,r.domLC)(ge(O));(0,r.domData)(e,"date")===t&&R(!1)}})}}showToggleItemsTitle(e,t){var a=(0,r.domPN)((0,r.domPN)(e)),n="";if(hasClass(a,`${A}_item_wrap_active`)){n=(0,h.getLang)("groups_edit_filter_hide");var s=geByClass1(`${t}_additional`,a);JSON.parse((0,r.domData)(s,"additional")).length>1&&(n=(0,h.getLang)("groups_edit_filter_hide_all"))}else n=(0,h.getLang)("groups_edit_filter_more");(0,c.showTitle)(e,n,[-8,1,1],{needLeft:!0,className:`${A}_tooltip_item`})}showExtendedButtonTitle(e){var t=(0,i.intval)((0,r.domData)(e,"mode")),a="";1===t?a=(0,h.getLang)("groups_edit_action_log_simple_tooltip"):0===t&&(a=(0,h.getLang)("groups_edit_action_log_extended_tooltip")),(0,c.showTitle)(e,a,[-16,7,1],{needLeft:!0,className:`${A}_tooltip`})}toggleItems(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=ge(`${A}_item_wrap${e}`);if(t&&t.target&&!a){var o=t.target;if(geByClass1(`${e}_toggle`,s)!==o&&("a"===o.nodeName.toLowerCase()||o.onclick||o.mousedown||o.mouseup||hasClass(o,"_no_toggle")))return;(0,n.cancelEvent)(t)}window.tooltips&&tooltips.destroyAll();var d=`${A}_item_wrap_active`,_=`${A}_item_wrap_loading`,g=`${A}_item_wrap_focused`,h=geByClass1(`${e}_more`,s),c=geByClass1(`${e}_additional`,s),D=geByClass1(`${e}_content`,s),u=JSON.parse((0,r.domData)(c,"additional")),m=u.length,E=geByClass1(`${e}_more_loader`,s);if(!E.loading)if(h.inited||(h.inited=!0,(0,n.addEvent)(h,"click",(()=>this.toggleItems(e,!1,!0)))),!a&&hasClass((0,r.domPN)(s),`${A}_list`)&&((e,t)=>{var a="toggled",n=ge(O),s=JSON.parse((0,r.domData)(n,a)||"{}")||{};t?s[e]||(s[e]=1):s[e]&&delete s[e],(0,r.domData)(n,a,JSON.stringify(s))})(e,!hasClass(s,d)),!hasClass(s,d)||a){if(hasClass(s,_))return;c.page||(c.page=0);var f=u[c.page],p=()=>{var e=c.page<m;(0,r.toggle)(h,e),(0,r.toggle)(E,e)};p(),ajax.post(`${T()}?act=a_event_log_extended`,{hash:f[0],rows:JSON.stringify(f[1]),mode:(0,i.intval)(nav.objLoc.mode)},{cache:1,showProgress:()=>{a?((0,l.showProgress)(E),E.loading=!0):(0,r.addClass)(s,_)},hideProgress:()=>{a?((0,l.hideProgress)(E),E.loading=!1):(0,r.removeClass)(s,_)},onDone:e=>{(0,r.addClass)(s,d),c.page++,p(),isArray(e)&&(e=G(e)),a?(0,r.sech)(e).forEach((e=>D.appendChild(e))):(val(D,e),(0,r.addClass)(s,g),s.timeout&&(clearTimeout(s.timeout),delete s.timeout),s.timeout=setTimeout((()=>(0,r.removeClass)(s,g)),1500))}})}else c.page=0,(0,r.removeClass)(s,d),(0,r.removeClass)(s,_)}toggleExtended(e){var t=1===(0,i.intval)((0,r.domData)(e,"mode"))?0:1,a=`${A}_extended_button_simple`;1===t?(0,r.addClass)(e,a):(0,r.removeClass)(e,a),(0,r.domData)(e,"mode",t),k({mode:t},{clearAjaxCache:!0,noHideItems:!0})}filterDate(e){var t=e.startDate?x(e.startDate):null,a=e.endDate?x(e.endDate):null;k({start_date:t,end_date:a})}filterRole(e,t,a){return k({role:a}),w("Role",e,t)}filterActionType(e,t,a){return k({action_type:a}),w("ActionType",e,t)}viewPhoto(e){var t=`<img src="${E(e,1)[0]}" width="100%" height="auto" />`;(0,u.showFastBox)({title:(0,h.getLang)(`${A}_photo_view_title`),width:700},t)}init(){Y(),(0,n.addEvent)(window,"scroll",M),(0,n.addEvent)(window,"resize",M),cur.destroy.push(I),y()}restoreItem(e,t){if(e.loading)return!1;var a=(0,r.domPN)(e),n=geByClass1("_action_loader",a),s=(0,r.domData)(e,"action"),o=(0,r.domData)(e,"hash"),d=(0,i.intval)(nav.objLoc.mode),_=ge(`${A}_item_row${t}`);ajax.post(`${T()}?act=a_restore_event_log_item`,{action:s,hash:o,mode:d},{showProgress:()=>{e.loading=!0,(0,l.showProgress)(n)},hideProgress:()=>{e.loading=!1,(0,l.hideProgress)(n)},onDone(e){v();var t=se(G(e));domReplaceEl(_,t)}})}}class H{constructor(e){this.groupId=e,this.sendLogsTimeout=null,this.sendLogsProcess=!1,this.localStorageKey="groups_recommends",this.logsDataDelimiter="|"}sendLogs(){clearTimeout(this.sendLogsTimeout),this.sendLogsTimeout=setTimeout(this.sendLogsAccept.bind(this),3e3)}sendLogsAccept(){if(!this.sendLogsProcess){var e=this.getLogs(!0);e.length&&(this.sendLogsProcess=!0,this.clearLogs(),ajax.post("al_groups.php",{act:"a_recommends_logs",logs:e},{onDone:()=>{this.sendLogsProcess=!1},onFail:()=>(this.restoreLogs(e),this.sendLogsProcess=!1,!0)}))}}restoreLogs(e){var t=this.getLogs(),a=[...e.map((e=>e.split(this.logsDataDelimiter))),...t];m.default.set(this.localStorageKey,a)}getLogs(e){var t=m.default.get(this.localStorageKey)||[];return e&&(t=t.map((e=>e.join(this.logsDataDelimiter)))),t}addLog(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=this.getLogs();o.push([this.groupId,e,t,a,n,r,s]),m.default.set(this.localStorageKey,o),this.sendLogs()}clearLogs(){m.default.remove(this.localStorageKey)}}},294184:(e,t)=>{var a;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var s=typeof a;if("string"===s||"number"===s)e.push(a);else if(Array.isArray(a)&&a.length){var o=r.apply(null,a);o&&e.push(o)}else if("object"===s)for(var i in a)n.call(a,i)&&a[i]&&e.push(i)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()}}]);try{stManager.done("dist/eaf9df11c28f7cde7282331b17a57217.b0f9f09c30f3f948fee8.js")}catch(e){}